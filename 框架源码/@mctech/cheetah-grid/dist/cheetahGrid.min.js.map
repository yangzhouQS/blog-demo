{"version":3,"sources":["cheetahGrid.min/webpack/universalModuleDefinition","cheetahGrid.min/webpack/bootstrap","cheetahGrid.min/./internal/utils.js","cheetahGrid.min/./internal/symbolManager.js","cheetahGrid.min/node_modules/css-loader/dist/runtime/api.js","cheetahGrid.min/./internal/EventHandler.js","cheetahGrid.min/./core/DG_EVENT_TYPE.js","cheetahGrid.min/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","cheetahGrid.min/./columns/style/Style.js","cheetahGrid.min/./columns/type/BaseColumn.js","cheetahGrid.min/./internal/canvases.js","cheetahGrid.min/./columns/action/action-utils.js","cheetahGrid.min/./columns/action/Editor.js","cheetahGrid.min/./internal/dom.js","cheetahGrid.min/./columns/type/Column.js","cheetahGrid.min/./header/style/Style.js","cheetahGrid.min/./header/type/BaseHeader.js","cheetahGrid.min/./element/Inline.js","cheetahGrid.min/./columns.js","cheetahGrid.min/./internal/animate.js","cheetahGrid.min/./columns/style/BaseStyle.js","cheetahGrid.min/./core/EventTarget.js","cheetahGrid.min/./columns/style/StdBaseStyle.js","cheetahGrid.min/./columns/type/columnUtils.js","cheetahGrid.min/./internal/Rect.js","cheetahGrid.min/./header/type.js","cheetahGrid.min/./columns/action/actionBind.js","cheetahGrid.min/./columns/action/BaseAction.js","cheetahGrid.min/./columns/style.js","cheetahGrid.min/./internal/icons.js","cheetahGrid.min/./columns/utils/index.js","cheetahGrid.min/./internal/calc.js","cheetahGrid.min/./data/DataSource.js","cheetahGrid.min/./header/action.js","cheetahGrid.min/./header/action/BaseAction.js","cheetahGrid.min/./header/style.js","cheetahGrid.min/./header/style/BaseStyle.js","cheetahGrid.min/./themes.js","cheetahGrid.min/./columns/message/messageUtils.js","cheetahGrid.min/./columns/message/BaseMessage.js","cheetahGrid.min/./columns/message/internal/MessageElement.js","cheetahGrid.min/./list-grid/LG_EVENT_TYPE.js","cheetahGrid.min/./internal/path2DManager.js","cheetahGrid.min/./columns/action/Action.js","cheetahGrid.min/./columns/action/BaseInputEditor.js","cheetahGrid.min/./columns/action/internal/input-value-handler.js","cheetahGrid.min/./columns/type.js","cheetahGrid.min/./columns/style/ButtonStyle.js","cheetahGrid.min/./columns/style/CheckStyle.js","cheetahGrid.min/./columns/style/IconStyle.js","cheetahGrid.min/./columns/style/ImageStyle.js","cheetahGrid.min/./columns/style/MenuStyle.js","cheetahGrid.min/./columns/style/MultilineTextStyle.js","cheetahGrid.min/./columns/style/NumberStyle.js","cheetahGrid.min/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.min/./columns/style/RadioStyle.js","cheetahGrid.min/./internal/imgs.js","cheetahGrid.min/./internal/menu-items.js","cheetahGrid.min/./core/DrawGrid.js","cheetahGrid.min/./internal/style.js","cheetahGrid.min/./internal/paste-utils.js","cheetahGrid.min/./data.js","cheetahGrid.min/./internal/sort.js","cheetahGrid.min/./header/action/actionBind.js","cheetahGrid.min/./header/style/CheckHeaderStyle.js","cheetahGrid.min/./header/style/MultilineTextHeaderStyle.js","cheetahGrid.min/./header/style/SortHeaderStyle.js","cheetahGrid.min/./icons.js","cheetahGrid.min/./plugins/icons.js","cheetahGrid.min/./plugins/themes.js","cheetahGrid.min/./tools/canvashelper.js","cheetahGrid.min/./list-grid/layout-map/internal/utils.js","cheetahGrid.min/./GridCanvasHelper.js","cheetahGrid.min/./internal/fonts.js","cheetahGrid.min/./element/InlineDrawer.js","cheetahGrid.min/./element/InlineImage.js","cheetahGrid.min/./internal/color.js","cheetahGrid.min/./main.js","cheetahGrid.min/./columns/action.js","cheetahGrid.min/./columns/action/ButtonAction.js","cheetahGrid.min/node_modules/webpack/buildin/global.js","cheetahGrid.min/./columns/action/CheckEditor.js","cheetahGrid.min/./columns/action/InlineInputEditor.js","cheetahGrid.min/./columns/action/internal/InlineInputElement.js","cheetahGrid.min/../src/js/columns/action/internal/InlineInputElement.css*","cheetahGrid.min/../src/js/columns/action/internal/InlineInputElement.css","cheetahGrid.min/./columns/action/InlineMenuEditor.js","cheetahGrid.min/./columns/action/internal/InlineMenuElement.js","cheetahGrid.min/../src/js/columns/action/internal/InlineMenuElement.css*","cheetahGrid.min/../src/js/columns/action/internal/InlineMenuElement.css","cheetahGrid.min/./columns/type/BranchGraphColumn.js","cheetahGrid.min/./columns/style/BranchGraphStyle.js","cheetahGrid.min/./columns/type/ButtonColumn.js","cheetahGrid.min/./columns/type/CheckColumn.js","cheetahGrid.min/./columns/type/IconColumn.js","cheetahGrid.min/./columns/type/ImageColumn.js","cheetahGrid.min/./internal/LRUCache.js","cheetahGrid.min/./columns/type/MenuColumn.js","cheetahGrid.min/./columns/type/MultilineTextColumn.js","cheetahGrid.min/./columns/type/NumberColumn.js","cheetahGrid.min/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.min/./columns/type/RadioColumn.js","cheetahGrid.min/./columns/action/RadioEditor.js","cheetahGrid.min/./columns/action/SmallDialogInputEditor.js","cheetahGrid.min/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.min/../src/js/columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.min/../src/js/columns/action/internal/SmallDialogInputElement.css","cheetahGrid.min/./core.js","cheetahGrid.min/./internal/hiDPI.js","cheetahGrid.min/../src/js/internal/style.css*","cheetahGrid.min/../src/js/internal/style.css","cheetahGrid.min/./internal/NumberMap.js","cheetahGrid.min/./internal/Scrollable.js","cheetahGrid.min/./data/CachedDataSource.js","cheetahGrid.min/./data/FilterDataSource.js","cheetahGrid.min/./headers.js","cheetahGrid.min/./header/action/CheckHeaderAction.js","cheetahGrid.min/./header/action/SortHeaderAction.js","cheetahGrid.min/./header/style/StdBaseStyle.js","cheetahGrid.min/./header/type/CheckHeader.js","cheetahGrid.min/./header/type/Header.js","cheetahGrid.min/./header/type/MultilineTextHeader.js","cheetahGrid.min/./header/type/SortHeader.js","cheetahGrid.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid.min/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid.min/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid.min/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid.min/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid.min/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid.min/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid.min/./register.js","cheetahGrid.min/./themes/theme.js","cheetahGrid.min/./themes/BASIC.js","cheetahGrid.min/./themes/MATERIAL_DESIGN.js","cheetahGrid.min/./tools.js","cheetahGrid.min/./ListGrid.js","cheetahGrid.min/./list-grid/layout-map/index.js","cheetahGrid.min/./list-grid/layout-map/internal/simple-header-layout.js","cheetahGrid.min/./list-grid/layout-map/internal/multi-layout.js","cheetahGrid.min/./columns/message/MessageHandler.js","cheetahGrid.min/./columns/message/ErrorMessage.js","cheetahGrid.min/./columns/message/internal/ErrorMessageElement.js","cheetahGrid.min/../src/js/columns/message/internal/MessageElement.css*","cheetahGrid.min/../src/js/columns/message/internal/MessageElement.css","cheetahGrid.min/../src/js/columns/message/internal/ErrorMessageElement.css*","cheetahGrid.min/../src/js/columns/message/internal/ErrorMessageElement.css","cheetahGrid.min/./columns/message/InfoMessage.js","cheetahGrid.min/./columns/message/WarningMessage.js","cheetahGrid.min/./columns/message/internal/WarningMessageElement.js","cheetahGrid.min/../src/js/columns/message/internal/WarningMessageElement.css*","cheetahGrid.min/../src/js/columns/message/internal/WarningMessageElement.css","cheetahGrid.min/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.min/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.min/./element/inlines.js","cheetahGrid.min/./internal/legacy/canvas/Path2DShim.js","cheetahGrid.min/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.min/./internal/legacy/canvas/PathCommands.js","cheetahGrid.min/./element/InlineIcon.js","cheetahGrid.min/./element/InlinePath2D.js","cheetahGrid.min/./element/InlineSvg.js","cheetahGrid.min/./tooltip/TooltipHandler.js","cheetahGrid.min/./tooltip/Tooltip.js","cheetahGrid.min/./tooltip/BaseTooltip.js","cheetahGrid.min/./tooltip/internal/TooltipElement.js","cheetahGrid.min/../src/js/tooltip/internal/TooltipElement.css*","cheetahGrid.min/../src/js/tooltip/internal/TooltipElement.css","cheetahGrid.min/./get-internal.js"],"names":["root","factory","window","installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","emptyFn","style","event","str","obj","browser","cellInRange","cellEquals","array","then","getIgnoreCase","getOrApply","applyChainSafe","getChainSafe","isDescendantElement","isNode","isPromise","extend","defaults","omit","each","arrayFind","arrayFindIndex","Array","find","arr","predicate","index","findIndex","undefined","length","IE","Chrome","Firefox","Edge","Safari","ua","navigator","userAgent","toLowerCase","exec","indexOf","analyzeUserAgent","fn","names","data","Boolean","source","omits","result","set","val","configurable","defs","keys","push","args","forEach","target","parentElement","callback","u","k","a","b","col","row","range","start","end","heightLimit","setReadonly","isObject","endsWith","searchString","position","subjectString","toString","isFinite","Math","floor","lastIndex","lastIndexOf","genChars","re","next","res","genWords","getMouseButtons","e","buttons","which","button","getKeyCode","keyCode","isTouchEvent","changedTouches","cancel","preventDefault","stopPropagation","toBoxArray","isArray","Function","getCheckHeaderStateId","getInlineMenuEditorStateId","getInlineInputEditorStateId","getSmallDialogInputEditorStateId","getBranchGraphColumnStateId","getColumnFadeinStateId","getButtonColumnStateId","getRadioColumnStateId","getCheckColumnStateId","getProtectedSymbol","require","global","random","cl","mem","useSourceMap","list","this","map","item","content","sourceMap","base64","cssMapping","btoa","sourceMapping","unescape","encodeURIComponent","JSON","stringify","concat","sourceURLs","sources","sourceRoot","join","cssWithMappingToString","mediaQuery","dedupe","alreadyImportedModules","id","_i","EventHandler","utils_1","nextId","constructor","_listeners","on","type","listener","options","addEventListener","once","off","tryWithOffEvents","removeEventListener","fire","hasListener","clear","dispose","DG_EVENT_TYPE","CLICK_CELL","DBLCLICK_CELL","DBLTAP_CELL","MOUSEDOWN_CELL","MOUSEUP_CELL","SELECTED_CELL","KEYDOWN","MOUSEMOVE_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","MOUSEOVER_CELL","MOUSEOUT_CELL","CONTEXTMENU_CELL","INPUT_CELL","PASTE_CELL","DELETE_CELL","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","RESIZE_COLUMN","SCROLL","FOCUS_GRID","BLUR_GRID","memo","isOldIE","document","all","atob","getTarget","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","stylesInDom","getIndexByIdentifier","identifier","modulesToDom","idCountMap","identifiers","base","count","css","media","references","updater","addStyle","insertStyleElement","createElement","attributes","nonce","setAttribute","insert","Error","appendChild","textStore","replaceText","replacement","filter","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","removeChild","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","parentNode","removeStyleElement","newObj","lastIdentifiers","newList","newLastIdentifiers","_index","splice","Style","StdBaseStyle_1","defaultStyle","StdBaseStyle","super","_color","color","_font","font","_padding","padding","_textOverflow","textOverflow","doChangeStyle","clone","__createBinding","k2","__setModuleDefault","v","__importStar","mod","BaseColumn","styleContents","BaseStyle_1","animate_1","symbolManager_1","COLUMN_FADEIN_STATE_ID","getFadeinState","grid","state","cells","_generateFadeinPointAction","context","drawInternal","drawCellBase","point","stateKey","opacity","cellState","ctx","getContext","globalAlpha","fadeinMgr","animate","activeFadeins","f","margeAnimate","option","onDrawCell","_fadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","BaseStyle","cellValue","info","_a","getRecord","helper","getGridCanvasHelper","record","promise","msg","getMessage","Date","now","Promise","0","1","2","message","toCurrentContext","getDrawRect","time","currentContext","actStyle","of","StyleClass","convertInternal","drawMessageInternal","column","configure","isFadeinWhenCallbackInPromise","messageHandler","drawCellMessage","bindGridEvent","_grid","_cellId","getCopyCellValue","_cell","calcStartPosition","calcBasePosition","getFontSize","fontSizeCache","rect","width","height","offset","left","paddingLeft","right","paddingRight","top","paddingTop","bottom","paddingBottom","textAlign","textBaseline","x","y","fontName","bk","em","measureText","toggleValue","isReadOnlyRecord","isDisabledRecord","getBooleanOptionOfRecord","getRowRecord","disabled","readOnly","replace","Editor","BaseAction_1","BaseAction","_readOnly","onChangeReadOnlyInternal","tagName","classList","text","html","element","add","textContent","innerHTML","toNodeList","arg","node","nodeType","nodeName","dom","slice","toNode","isFocusable","el","tabIndex","findNextSiblingFocusable","findPrevSiblingFocusable","enableFocus","disableFocus","appendHtml","empty","inner","dataset","disableBeforeTabIndex","children","Number","previousSibling","nextSibling","Column","utils","BaseColumn_1","Style_1","getIcon","bgColor","testFontLoad","loadIcons","icons","BaseHeader","_options","Inline","getWidth","breakWidth","itr","candidateIndex","chars","ret","beforeWidth","pop","charWidth","beforeContent","afterContent","before","after","_content","canDraw","onReady","_callback","draw","canvashelper","offsetLeft","offsetRight","offsetTop","offsetBottom","fillTextRect","canBreak","splitIndex","breakWord","allWidth","candidate","breakAll","action","cubicBezier","x2","y2","x3","y3","step","abs","EASINGS","linear","easeIn","easeOut","easeInOut","raf","requestAnimationFrame","setTimeout","duration","easing","startedAt","easingFn","canceledFlg","createAnim","resolve","reject","anim","EventTarget_1","STYLE_EVENT_TYPE","CHANGE_STYLE","EventTarget","_bgColor","fireListeners","_","listeners","listenerData","listen","unlisten","hasListeners","_textAlign","_textBaseline","icon","argIcon","iconList","toNormarizeArray","Rect","_left","_top","_width","_height","rect1","rect2","bounds","min","max","_right","_bottom","copy","intersection","x0","x1","y0","y1","contains","another","inPoint","ofCell","MultilineTextHeader","CheckHeader","SortHeader","Header","BaseHeader_1","CheckHeader_1","Header_1","MultilineTextHeader_1","SortHeader_1","TYPES","DEFAULT","SORT","CHECK","MULTILINETEXT","headerType","toUpperCase","headerCell","sort","bindCellKeyAction","bindCellClickAction","DG_EVENT_TYPE_1","cellId","mouseOver","mouseOut","isTarget","getLayoutCellId","getElement","cursor","acceptKeys","keyboardOptions","moveCellOnEnter","sel","selection","select","_disabled","onChangeDisabledInternal","MenuStyle","MultilineTextStyle","PercentCompleteBarStyle","IconStyle","ImageStyle","ButtonStyle","RadioStyle","CheckStyle","NumberStyle","EVENT_TYPE","ButtonStyle_1","CheckStyle_1","IconStyle_1","ImageStyle_1","MenuStyle_1","MultilineTextStyle_1","NumberStyle_1","PercentCompleteBarStyle_1","RadioStyle_1","columnStyle","StyleClassDef","iconPropKeys","getIconProps","ICON_PROP_KEYS","doms","props","className","tagProps","body","beforeStyle","defaultView","getComputedStyle","getPropertyValue","substr","quoted","split","part","test","quote","clientWidth","isLiga","toSimpleArray","iconProps","workData","prop","toPropArray","isIconKey","normarize","toBoolean","toPx","isWhitespace","cp","isDigit","isDot","isUnit","isLowerLetter","isUpperLetter","isLetter","createError","calc","PRECEDENCE","parse","calcStr","lex","tokens","buildBinaryExpNode","stack","op","token","shift","deep","closeIndex","beforeOp","num","unit","exp","trim","len","charCodeAt","parseSign","parseNum","sign","parseUnit","parseFloat","tokenize","toPxInternal","calcNode","full","DataSource","isFieldAssessor","field","UPDATE_LENGTH","UPDATED_LENGTH","UPDATED_ORDER","getValue","setPromiseBack","maybePromiseValue","promiseValue","setField","fieldSet","ss","_getIndex","sortedIndexMap","mapIndex","_sortedIndexMap","_get","_length","_source","getOriginal","getField","getOriginalField","hasField","hasOriginalField","setOriginalField","order","orderFn","v1","v2","sortPromise","rel","results","recordPromiseCallBackInternal","fieldGet","fieldPromiseCallBackInternal","_field","_value","_record","EMPTY","CheckHeaderAction","SortHeaderAction","ACTIONS","CheckHeaderAction_1","SortHeaderAction_1","ImmutableSortHeaderAction","ImmutableCheckHeaderAction","headerAction","sortMethod","MultilineTextHeaderStyle","CheckHeaderStyle","SortHeaderStyle","CheckHeaderStyle_1","MultilineTextHeaderStyle_1","SortHeaderStyle_1","headerStyle","__importDefault","getChoices","setDefault","getDefault","theme","MATERIAL_DESIGN","BASIC","theme_1","BASIC_1","MATERIAL_DESIGN_1","themes_1","Theme","default","builtin","defTheme","themes","defaultTheme","drawInfomationMarkBox","drawExclamationMarkBox","Rect_1","getRect","fillStyle","boxRect","fillRect","fillColor","fillRectWithState","BaseMessage","_messageElement","detachMessageElement","_getMessageElement","createMessageElementInternal","attachMessageElement","attach","moveMessageElement","move","_detach","drawCellMessageInternal","MessageElement","EventHandler_1","dom_1","CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","_handler","rootElement","_rootElement","messageElement","createMessageDomElement","detach","_attachCell","getAttachCellsArea","getCellRange","frozenRowCount","frozenColCount","frozenRect","offsetHeight","offsetWidth","toFixed","LG_EVENT_TYPE","CHANGED_VALUE","CHANGED_HEADER_VALUE","fill","getPath2D","Path2D","Path2DShim","pathModule","w","h","save","ud","upsideDown","offsetX","offsetY","xrate","yrate","translate","scale","path2d","restore","Action","actionBind_1","action_utils_1","_action","getState","cell","mouseActiveCell","invalidateCellRange","onPasteCellRangeBox","onDeleteCellRangeBox","BaseInputEditor","Editor_1","open","onOpenCellInternal","input","onInputCellInternal","multi","selectionRange","normalizeValue","stopCellMoving","onChangeSelectCellInternal","selected","onGridScrollInternal","baseRect","getCellRect","rangeRect","getCellRangeRect","onSetInputAttrsInternal","doChangeValue","setInputValue","handler","_e","MultilineTextColumn","MenuColumn","BranchGraphColumn","IconColumn","PercentCompleteBarColumn","ImageColumn","ButtonColumn","RadioColumn","CheckColumn","NumberColumn","BranchGraphColumn_1","ButtonColumn_1","CheckColumn_1","Column_1","IconColumn_1","ImageColumn_1","MenuColumn_1","MultilineTextColumn_1","NumberColumn_1","PercentCompleteBarColumn_1","RadioColumn_1","NUMBER","RADIO","BUTTON","IMAGE","columnType","buttonBgColor","_buttonBgColor","uncheckBgColor","checkBgColor","borderColor","_uncheckBgColor","_checkBgColor","_borderColor","_imageSizing","imageSizing","_margin","margin","appearance","_appearance","_lineHeight","lineHeight","_autoWrapText","autoWrapText","_lineClamp","lineClamp","DEFAULT_BAR_COLOR","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","checkColor","uncheckBorderColor","checkBorderColor","_checkColor","_uncheckBorderColor","_checkBorderColor","getCacheOrLoad","loadImage","LRUCache_1","allCache","src","console","error","img","Image","onload","onerror","url","warn","cacheName","cacheSize","cache","put","getCacheOrLoad0","LRUCache","normalize","label","caption","normalizeToFn","DrawGrid","hiDPI","NumberMap_1","Scrollable_1","canvases_1","paste_utils_1","cancelEvent","_vibrate","vibrate","_getTargetRowAt","absoluteY","internal","getTargetRowAtInternal","findBefore","startRow","startBottom","_getRowHeight","findAfter","rowCount","candRow","ceil","defaultRowHeight","_getRowsHeight","_getTargetColAt","absoluteX","colCount","_getColWidth","_getTargetFrozenRowAt","scroll","_getTargetFrozenColAt","_getFrozenRowsRect","canvas","_getFrozenColsRect","_drawCell","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","drawRect","cellDrawing","drawCells","_getCellDrawing","dcContext","DrawCellContext","_putCellDrawing","pCol","_delayMode","_removeCellDrawing","terminate","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","beginPath","underlayBackgroundColor","_getInitContext","_invalidateRect","_getVisibleRect","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","_toPxWidth","round","calcWidthContext","_adjustColWidth","orgWidth","limits","_getColWidthLimits","_applyColWidthLimits","_getColWidthDefine","colWidthsMap","defaultColWidth","limit","colWidthsLimit","minDef","maxDef","isAutoDefine","_calcAutoColWidthExpr","shortCircuit","fullWidth","sumMin","others","autoCount","hasLimitsOnAuto","def","expr","newWidth","autoPx","strDefs","_colWidthDefineToPxWidth","_setColWidth","startCol","endCol","defaultColPxWidth","has","adj","getRowHeightInternal","rowHeightsMap","endRow","getRowsHeightInternal","_getScrollHeight","getScrollHeightInternal","_onKeyDownMove","_b","_c","shiftKey","focusCell","focus","ctrlKey","metaKey","hmove","vmove","moveCellOnTab","getMoveUpRowByKeyDownInternal","_moveFocusCell","getMoveDownRowByKeyDownInternal","getMoveLeftColByKeyDownInternal","getMoveRightColByKeyDownInternal","selectAllOnCtrlA","invalidate","vDir","hDir","shiftKeyFlg","getOffsetInvalidateCells","extendRange","beforeRange","beforeRect","_setFocusCell","makeVisibleCell","afterRange","afterRect","_updatedSelection","focusControl","selCol","selRow","editMode","storeInputStatus","setDefaultInputStatus","_getMouseAbstractPoint","evt","clientX","pageX","scrollX","clientY","pageY","scrollY","getBoundingClientRect","_bindEvents","scrollable","getCellEventArgsSet","abstractPos","getCellAt","eventArgs","canResizeColumn","disableColumnResize","eventArgsSet","resizeCol","_getResizeColAt","columnResizer","cellSelector","doubleTapBefore","longTouchId","clearTimeout","defaultPrevented","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","related","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","enterCell","outCell","moving","lastMoving","onKeyDown","onScroll","lastLeft","lastTop","moveX","scrollLeft","moveY","scrollTop","drawImage","redrawRect","_onScroll","onKeyDownMove","copyRange","getCopyRangeInternal","copyValue","copyCellValue","strCellValue","onCopy","onPaste","rangeBoxValues","pasteCellEvent","parsePasteRangeBoxValues","onInput","onDelete","onFocus","focusedGrid","invalidateCell","onBlur","abstractX","abstractY","cellRect","_toRelativeRect","absoluteRect","BaseMouseDownMover","_events","_started","_moved","last","_mouseEndPoint","pt","_bindMoveAndUp","events","touchmove","_mouseMove","passive","touchend","_mouseUp","touchcancel","mousemove","mouseup","_moveInternal","_upInternal","CellSelector","_getTargetCell","oldCol","oldRow","newCol","newRow","makeVisibleCol","makeVisibleRow","ColumnResizer","_x","_preX","_invalidateAbsoluteLeft","_targetCol","pre","getColWidth","afterSize","_storeAutoColWidthExprs","updateScroll","setSafeInputValue","FocusControl","_scrollable","_input","lastInputValue","_isComposition","_compositionEnd","inputClear","handleCompositionEnd","stopCellMove","fireKeyDownMove","deleteCellValueOnDel","dummyInput","pasteText","clipboardData","getData","items","types","setData","_keyDownMoveCallback","setFocusRect","calcTop","getScrollBarSize","resetInputStatus","composition","atts","removeNames","att","_inputStatus","removeName","inputStatus","Selection","_sel","_focus","_start","_end","_wrapFireSelectedEvent","_setSelectCell","keepSelect","_isWraped","_updateGridRange","points","needChange","_layers","addDraw","level","DrawLayer","_level","_list","drawing","_rectFilter","_col","_row","_mode","_ctx","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","getSelection","rectFilter","_getRectInternal","setRectFilter","_isOutOfRange","_toRelativeDrawRect","addLayerDraw","isFrozenCell","fRect","onTerminate","_onTerminate","getCellRelativeRect","protectedSpace","initDocument","createRootElement","Scrollable","transform","alpha","NumberMap","cellTextOverflows","updateSize","bindEventsInternal","hasFocusGrid","setFocusCursor","cfg","config","newHeight","scrollHeight","scrollWidth","setScrollSize","getRowHeight","setRowHeight","_setRowHeight","setColWidth","getMaxColWidth","setMaxColWidth","maxwidth","getMinColWidth","setMinColWidth","minwidth","getCellsRect","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","getRowAt","frozen","getColAt","frozenColsWidth","frozenRowsHeight","_getScrollableVisibleRect","oldEditMode","invalidateGridRect","cellsRect","invalidateTarget","visibleTop","visibleLeft","_range","getCellOverflowText","setCellOverflowText","overflowText","addDisposable","disposable","disposables","_absoluteY","_startRow","_endRow","strokeStyle","lineWidth","SCROLLBAR_SIZE","initDocumentVar","dummy","parseInt","getScrollBarWidth","values","line","reduce","getCellValue","offsetCol","offsetRow","FilterDataSource","CachedDataSource","DataSource_1","CachedDataSource_1","FilterDataSource_1","sortArray","createArrayPromise","plist","setArrayField","compare","old","createArray","r1","r2","dummyPromise","catch","inMouse","_sortArrowColor","sortArrowColor","icons_1","builtins","drawButton","drawRadioButton","drawCheckbox","measureRadioButton","measureCheckbox","drawInlineImageRect","strokeCircle","fillCircle","strokeRoundRect","fillRoundRect","roundRect","strokeColorsRect","PI","radius","arc","closePath","stroke","borderColors","strokeRect","positions","preColor","pos1","moveTo","pos2","lineTo","strokeRectLines","clip","pos","fillText","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","check","boxSize","checkPoint","leftX","topY","size","leftWidth","rightWidth","leftLeftPos","leftTopPos","ratio","checkSize","backgroundColor","shadow","blur","ox","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","EmptyDataCache","newEmptyColumnData","newEmptyHeaderData","columns","seqId","define","headers","getHeader","rows","getBody","GridCanvasHelper","fonts","inlineUtils","InlineDrawer_1","color_1","INLINE_ELLIPSIS","getColor","getFont","getThemeColor","gridThemeColor","defaultThemeColor","drawInlines","inlines","drawInline","inline","inlineWidths","inlineWidth","buildInlines","inlineToString","string","getOverflowInline","isAllowOverflow","getOverflowInlinesIndex","maxWidth","remWidth","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","truncateInlines","overflowInline","_inlineRect","isOverflowInlines","truncInlines","calcElapsedColor","startColor","endColor","elapsedTime","startColorRGB","colorToRGB","endColorRGB","getRGB","colorName","diff","animElapsedTime","checkbox","positionOpt","boxWidth","ThemeResolver","_checkbox","_radioButton","_button","_header","_theme","createCalculator","calcWidth","calcHeight","toBoxPixelArray","calculator","box","drawWithClip","drawBorderWithClip","clipLeft","clipWidth","clipTop","clipHeight","frozenRowsColor","paddingNums","multilineText","multilines","multiInlines","rectHeight","buildedMultiInlines","procLineClamp","hasNext","procLine","lineRow","pad","buildedInline","_multiInlineRect","fillCell","defaultBgColor","fillCellWithState","getFillColorState","selectionBgColor","highlightBgColor","frozenRowsBgColor","border","startOffset","borderWithState","highlightBorderColor","frozenRowsBorderColor","buildCheckBoxInline","self","InlineDrawer","radioButton","load","loads","_testStr","fontFaceSet","legacy","testStr","ready","Inline_1","_draw","_arg","InlineImage","imgs_1","imageLeft","imageTop","imageWidth","imageHeight","_inlineImgPromise","_inlineImg","_src","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","_loadImage","rgbMap","hexToNum","hex","createRGB","g","testRGB","rateToByte","colorToRGB0","3","tripleHexToRGB","g1","4","g2","5","b1","6","b2","sextupleHexToRGB","rgb","styleColor","styleColorToRGB","register","getIcons","ListGrid","tools","core","ListGrid_1","GridCanvasHelper_1","get_internal_1","getInternal","InlineMenuEditor","InlineInputEditor","SmallDialogInputEditor","ButtonAction","RadioEditor","CheckEditor","Action_1","ButtonAction_1","CheckEditor_1","InlineInputEditor_1","InlineMenuEditor_1","RadioEditor_1","SmallDialogInputEditor_1","ImmutableCheckEditor","ImmutableRadioEditor","ImmutableInputEditor","INPUT","columnAction","BUTTON_COLUMN_STATE_ID","CHECK_COLUMN_STATE_ID","_state","block","elapsed","cellKey","onChange","selrange","pasteValue","doGetCellValue","BaseInputEditor_1","InlineInputElement_1","globalElement","bindGridCount","attachInput","editor","InlineInputElement","detachInput","gridFocus","_classList","_type","inputValue","_selected","setInputAttrs","input_value_handler_1","_bindInputEvents","_beforePropEditor","_activeData","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","_attaching","_isActive","stopPropagationOnly","_onKeydownEnter","_onKeydownTab","api","locals","___CSS_LOADER_EXPORT___","InlineMenuElement_1","type_1","menu_items_1","attachMenu","InlineMenuElement","detachMenu","pasteOpt","_pasteDataToOptionValue","_textToOptionValue","getColumnType","hasOptions","normalizePasteValueStr","captionOpt","opt","ITEM_CLASSNAME","findItemParents","attachElement","menu","openMenu","emptyItemEl","valueItemEl","valueindex","span","optionToLi","focusEl","focusIndex","allHeight","transformOrigin","menuClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","_menu","_bindMenuEvents","closeMenu","_doChangeValue","querySelectorAll","BranchGraphStyle_1","BranchLine","fromIndex","toIndex","colorIndex","BranchPoint","commit","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","j","calcCommand","command","timelineData","cmd","from","branch","to","branches","fromTargetIndex","findBranchRootIndex","branchTargetFromIndex","branchPoint","targetLine","merge","fromTargetLine","commitMerge","commitTag","calcBranchesInfo","dataSource","allData","dataIndex","getAllColumnData","_cache","BranchGraphStyle","clearCache","Map","upLineIndexKey","downLineIndexKey","branchColors","branchLineWidth","circleSize","mergeStyle","branchXPoints","tl","textWidth","calcBranchXPoints","upLineIndex","downLineIndex","pointIndex","lineCap","upX","upRect","upY","bezierCurveTo","downX","downRect","downY","renderMerge","DEFAULT_BRANCH_COLORS","_name","_branchColors","_circleSize","_branchLineWidth","_mergeStyle","_caption","withCaption","active","_tagName","_className","_iconWidth","iconWidth","isNaN","Infinity","repeatArray","maxHeight","calcKeepAspectRatioSize","_map","_cacheSize","idx","withOptions","_convertInternal","basePadding","textPadding","iconPadding","path","defaultFotmat","_format","format","Intl","NumberFormat","fmt","withFormat","_min","_max","_formatter","formatter","svalue","rate","barMaxWidth","MARGIN","barTop","barLeft","barSize","RADIO_COLUMN_STATE_ID","utils_2","defaultGroupResolver","getRecordStartRowByRecordIndex","getRecordIndexByRow","recordRowCount","targetRow","_group","group","flag","actionCell","SmallDialogInputElement_1","SmallDialogInputElement","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","_dialog","createDialogElement","_bindDialogEvents","dialog","unbindProps","errorMessage","activeData","_onInputValue","bindProps","_beforeValue","_validate","onKeyupAndPress","_onInputValueChange","inputOnly","DrawGrid_1","setRatio","devicePixelRatio","getAttribute","wh","_keys","_vals","_sorted","keyFrom","keyTo","elm","low","high","indexFirst","MAX_SCROLL","_p","_endPointElement","_update","relativeTop","domHeight","sbSize","vScrollRange","rScrollRange","_rCache","_fCache","rowCache","fCache","_setFieldCache","DataSourceIterator","_dataSource","_curIndex","_data","_getIndexData","movePrev","nest","FilterData","dc","original","_owner","_dataSourceItr","_filter","_filterdList","_queues","filterdList","queues","indexQueue","_findIndex","timeout","_findIndexWithTimeout","testTimeout","dataSourceItr","queue","_filterData","CHECK_HEADER_STATE_ID","checked","getHeaderValue","setHeaderValue","_sort","_executeSort","newState","fieldRow","sortState","inlineCheck","arrowSize","header","registers","getProp","superObj","defNames","superTheme","hasProperty","hasThemeProperty","extends","cacheLinearGradient","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","getLinearGradient","data_1","layout_map_1","MessageHandler_1","style_1","style_2","LG_EVENT_TYPE_1","TooltipHandler_1","_getCellRange","layoutMap","_updateRect","_getCellValue","headerRowCount","_getField","_getCellMessage","promises","hasMessage","_getCellIcon0","retIcon","iconOpt","_getRecordIndexByRow","_hasField","_onDrawValue","gridCanvasHelper","drawCellBg","fillOpt","drawCellBorder","selRecordIndex","selId","getCellId","isSelectCell","_borderWithState","_getCellIcon","_refreshHeader","headerEvents","layout","MultiLayoutMap","SimpleHeaderLayoutMap","headerObjects","ids","columnObjects","columnWidths","minWidth","headerRowHeight","_refreshRowCount","bodyRowCount","_tryWithUpdateDataSource","dataSourceEventIds","_setRecords","records","newDataSource","ofArray","_setDataSource","_onRangePaste","pasteRowCount","pasteColCount","hasEditable","actionColumnsBox","bodyRow","actionColumnsRow","editable","duplicate","actionRow","valuesRow","valuesCol","oldValue","newEnd","_onRangeDelete","deleteRowCount","deleteColCount","_oldValue","allowRangePaste","MessageHandler","tooltipHandler","TooltipHandler","oldState","oldField","getHeaderField","newField","headerValues","getColumnDefine","getHeaderDefine","getColumnIndexByField","getCellRangeByField","colObj","layoutRange","getBodyLayoutRangeById","focusGridCell","newFocus","makeVisibleGridCell","getHeaderCellRange","cellRange","hd","valueCallback","changeValueCallback","_setCellValue","doSetPasteValue","newValue","simple_header_layout_1","multi_layout_1","_emptyDataCache","_columns","_headerCellIds","_headerObjects","_addHeaders","_headerObjectMap","roots","rowCells","_newRow","headerField","colDef","prev","LayoutObjectGrid","objects","objectGrid","objectMap","columnCount","rowLayout","_findStartCell","rowSpan","colSpan","rowIndex","objectGridRow","_getObjectGridRow","colIndex","_setWidthDataIfAbsent","_useColumnIndex","_columnWidths","hbLayouut","normalizeLayout","_body","_columnCount","widthDef","_d","bodyLayoutRow","recordIndex","layoutRow","_f","_g","_h","_j","_k","ErrorMessage_1","InfoMessage_1","WarningMessage_1","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","ErrorMessage","InfoMessage","warning","WarningMessage","normalizeMessage","_attachInfo","_messageInstances","_bindGridEvent","messageInstances","_getMessageInstanceOfMessage","_attach","instance","_move","onSelectMessage","setMessageData","newSel","messageUtils","BaseMessage_1","ErrorMessageElement_1","ErrorMessageElement","_message","_info","MessageElement_1","WarningMessageElement_1","WarningMessageElement","FontRuler_1","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","FontRuler","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","activeCallback","inactiveCallback","runner","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","widthsMatchLastResortWidths_","lastResortFont","HAS_WEBKIT_FALLBACK_BUG","match","hasWebKitFallbackBug","callbacks","cb","display","computeStyle","el_","iconOf","path2DManager","InlineIcon_1","InlineImage_1","InlinePath2D_1","InlineSvg_1","isIconConstructorOption","InlineIcon","isInlineImageConstructorOption","svg","InlineSvg","isInlineSvgConstructorOption","InlinePath2D","regedIcons","regedIcon","drawWidth","drawHeight","drawRegisteredIcon","il","parser","PathCommandsParser","_ops","arcTo","ellipse","quadraticCurveTo","CanvasRenderingContext2D","originalFill","apply","PathCommands_1","builder","argsProvider","_commands","PathCommands","buildPush","rotate","numArgs","ops","pathTokens","subsequentCommand","fst","log","mag","sqrt","pow","angle","acos","dot","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","cost","cos","sint","sin","rotClockwise","xPrime2","pointMul","rx2","ry2","lambda","factor","cPrime","sum","rotCounterClockwise","meanVec","x1UnitVector","x2UnitVector","theta","lMx","lMy","reflected","lx","ly","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","Q","q","T","A","xAxisRotation","largeArcFlag","sweepFlag","_icon","letterSpacing","_path","buildSvgDataUrl","XMLSerializer","serializeToString","getSvgElement","DOMParser","parseFromString","svgElem","elmWidth","elmHeight","numElmWidth","numElmHeight","Tooltip_1","TOOLTIP_INSTANCE_FACTORY","Tooltip","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","detachTooltipElement","attachTooltipElement","moveTooltipElement","_isAttachCell","getTooltipInstanceInfo","BaseTooltip_1","TooltipElement_1","BaseTooltip","createTooltipElementInternal","TooltipElement","_tooltipElement","_getTooltipElement","createTooltipDomElement","symbolManager","amd"],"mappings":"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","file":"cheetahGrid.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 75);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\nexports.isNode = isNode;\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n    get find() {\n        if (arrayFind) {\n            return arrayFind;\n        }\n        if (Array.prototype.find) {\n            arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n        }\n        else {\n            arrayFind = (arr, predicate) => {\n                const index = array.findIndex(arr, predicate);\n                return index >= 0 ? arr[index] : undefined;\n            };\n        }\n        return arrayFind;\n    },\n    get findIndex() {\n        if (arrayFindIndex) {\n            return arrayFindIndex;\n        }\n        if (Array.prototype.findIndex) {\n            arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n        }\n        else {\n            arrayFindIndex = (arr, predicate) => {\n                const { length } = arr;\n                for (let i = 0; i < length; i++) {\n                    const value = arr[i];\n                    if (predicate(value, i, arr)) {\n                        return i;\n                    }\n                }\n                return -1;\n            };\n        }\n        return arrayFindIndex;\n    },\n};\nexports.array = array;\nfunction analyzeUserAgent() {\n    if (isNode) {\n        return {\n            IE: false,\n            Edge: false,\n            Chrome: false,\n            Firefox: false,\n            Safari: false,\n        };\n    }\n    else {\n        const ua = window.navigator.userAgent.toLowerCase();\n        return {\n            IE: !!/(msie|trident)/.exec(ua),\n            Edge: ua.indexOf(\"edge\") > -1,\n            Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\n            Firefox: ua.indexOf(\"firefox\") > -1,\n            Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1,\n        };\n    }\n}\nconst { IE, Chrome, Firefox, Edge, Safari } = analyzeUserAgent();\nfunction setReadonly(obj, name, value) {\n    Object.defineProperty(obj, name, {\n        enumerable: false,\n        configurable: true,\n        value,\n    });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction each(obj, fn) {\n    for (const key in obj) {\n        fn(obj[key], key, obj);\n    }\n}\nexports.each = each;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isObject(obj) {\n    return obj === Object(obj);\n}\nfunction omit(source, omits) {\n    const result = {};\n    for (const key in source) {\n        if (omits.indexOf(key) >= 0) {\n            continue;\n        }\n        Object.defineProperty(result, key, {\n            get() {\n                return source[key];\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    return result;\n}\nexports.omit = omit;\nfunction defaults(source, defs) {\n    const keys = [];\n    const result = {};\n    for (const key in source) {\n        keys.push(key);\n        Object.defineProperty(result, key, {\n            get() {\n                const val = source[key];\n                return val === undefined ? defs[key] : val;\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    for (const key in defs) {\n        if (keys.indexOf(key) >= 0) {\n            continue;\n        }\n        Object.defineProperty(result, key, {\n            get() {\n                const val = source[key];\n                return val === undefined ? defs[key] : val;\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    return result;\n}\nexports.defaults = defaults;\nfunction extend(...args) {\n    const result = {};\n    args.forEach((source) => {\n        for (const key in source) {\n            Object.defineProperty(result, key, {\n                get() {\n                    return source[key];\n                },\n                set(val) {\n                    source[key] = val;\n                },\n                configurable: true,\n                enumerable: true,\n            });\n        }\n    });\n    return result;\n}\nexports.extend = extend;\nfunction isDescendantElement(root, target) {\n    while (target.parentElement) {\n        const p = target.parentElement;\n        if (root === p) {\n            return true;\n        }\n        target = p;\n    }\n    return false;\n}\nexports.isDescendantElement = isDescendantElement;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction applyChainSafe(obj, fn, ...names) {\n    let value = obj;\n    for (let i = 0; i < names.length && value != null; i++) {\n        value = fn(value, names[i]);\n    }\n    return value;\n}\nexports.applyChainSafe = applyChainSafe;\nfunction getChainSafe(obj, ...names) {\n    return applyChainSafe(obj, (val, name) => val[name], ...names);\n}\nexports.getChainSafe = getChainSafe;\nfunction getOrApply(value, ...args) {\n    if (typeof value === \"function\") {\n        return value(...args);\n    }\n    else {\n        return value;\n    }\n}\nexports.getOrApply = getOrApply;\n/* eslint-enable @typescript-eslint/no-explicit-any */\nfunction endsWith(str, searchString, position) {\n    const subjectString = str.toString();\n    if (typeof position !== \"number\" ||\n        !isFinite(position) ||\n        Math.floor(position) !== position ||\n        position > subjectString.length) {\n        position = subjectString.length;\n    }\n    position -= searchString.length;\n    const lastIndex = subjectString.lastIndexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n}\nfunction genChars(s) {\n    // Surrogate Code Point\n    // [\\uD800-\\uDBFF]\n    // Variation Selectors\n    // FVS [\\u180B-\\u180D]\n    // VS1VS16 [\\uFE00-\\uFE0F]\n    // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n    const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n    return {\n        next() {\n            const res = re.exec(s);\n            return res !== null ? res[0] : null;\n        },\n    };\n}\nfunction genWords(s) {\n    const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n    return {\n        next() {\n            const res = re.exec(s);\n            return res !== null ? res[0] : null;\n        },\n    };\n}\nfunction isPromise(data) {\n    return Boolean(data && typeof data.then === \"function\");\n}\nexports.isPromise = isPromise;\nfunction then(result, callback) {\n    return isPromise(result) ? result.then((r) => callback(r)) : callback(result);\n}\nexports.then = then;\nfunction getMouseButtons(e) {\n    if (e.buttons != null) {\n        return e.buttons;\n    }\n    /*for legacy*/\n    if (e.which != null) {\n        if (e.which === 3) {\n            //right?\n            return 4;\n        }\n        if (e.which === 2) {\n            //middle?\n            return 4;\n        }\n        return e.which; //left or no\n    }\n    if (e.button === 0 || e.button === 1) {\n        return 1; //candidate left\n    }\n    if (e.button === 2) {\n        return 2; // right\n    }\n    return 0; //no or middle?\n}\nfunction getKeyCode(e) {\n    return e.keyCode || e.which;\n}\nfunction isTouchEvent(e) {\n    return !!e.changedTouches;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getIgnoreCase(obj, name) {\n    if (obj[name]) {\n        return obj[name];\n    }\n    const l = name.toLowerCase();\n    if (obj[l]) {\n        return obj[l];\n    }\n    const u = name.toLowerCase();\n    if (obj[u]) {\n        return obj[u];\n    }\n    for (const k in obj) {\n        if (k.toLowerCase() === l) {\n            return obj[k];\n        }\n    }\n    return undefined;\n}\nexports.getIgnoreCase = getIgnoreCase;\nfunction cancel(e) {\n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction toBoxArray(obj) {\n    if (!Array.isArray(obj)) {\n        return [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\n    }\n    if (obj.length === 3) {\n        return [\n            obj[0] /*top*/,\n            obj[1] /*right*/,\n            obj[2] /*bottom*/,\n            obj[1] /*left*/,\n        ];\n    }\n    if (obj.length === 2) {\n        return [\n            obj[0] /*top*/,\n            obj[1] /*right*/,\n            obj[0] /*bottom*/,\n            obj[1] /*left*/,\n        ];\n    }\n    if (obj.length === 1) {\n        return [\n            obj[0] /*top*/,\n            obj[0] /*right*/,\n            obj[0] /*bottom*/,\n            obj[0] /*left*/,\n        ];\n    }\n    return obj;\n}\nfunction cellEquals(a, b) {\n    return a.col === b.col && a.row === b.row;\n}\nexports.cellEquals = cellEquals;\nfunction cellInRange(range, col, row) {\n    return (range.start.col <= col &&\n        col <= range.end.col &&\n        range.start.row <= row &&\n        row <= range.end.row);\n}\nexports.cellInRange = cellInRange;\nexports.browser = {\n    IE,\n    Edge,\n    Chrome,\n    Firefox,\n    Safari,\n    // Chrome 33554431\n    // FireFox 17895588\n    // IE 10737433\n    heightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433,\n};\nexports.obj = {\n    setReadonly,\n    isObject,\n};\nexports.str = {\n    endsWith,\n    genChars,\n    genWords,\n};\nexports.event = {\n    getMouseButtons,\n    getKeyCode,\n    isTouchEvent,\n    cancel,\n};\nexports.style = {\n    toBoxArray,\n};\nexports.emptyFn = Function.prototype;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst utils_1 = require(\"./utils\");\nconst Symbol = utils_1.isNode\n    ? global.Symbol\n    : window.Symbol\n        ? window.Symbol\n        : (() => {\n            function random() {\n                const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n                const cl = c.length;\n                let r = \"\";\n                for (let i = 0; i < 10; i++) {\n                    r += c[Math.floor(Math.random() * cl)];\n                }\n                return r;\n            }\n            return (name) => {\n                if (name) {\n                    return `#${name}_${random()}`;\n                }\n                else {\n                    return `#_${random()}`;\n                }\n            };\n        })();\nconst mem = {};\nfunction get(name) {\n    if (name) {\n        return (mem[name] ? mem[name] : (mem[name] = Symbol(name)));\n    }\n    else {\n        return Symbol();\n    }\n}\nexports.get = get;\nfunction getProtectedSymbol() {\n    return get(\"protected\");\n}\nexports.getProtectedSymbol = getProtectedSymbol;\nfunction getCheckColumnStateId() {\n    return get(\"chkcol.stateID\");\n}\nexports.getCheckColumnStateId = getCheckColumnStateId;\nfunction getRadioColumnStateId() {\n    return get(\"rdcol.stateID\");\n}\nexports.getRadioColumnStateId = getRadioColumnStateId;\nfunction getButtonColumnStateId() {\n    return get(\"btncol.stateID\");\n}\nexports.getButtonColumnStateId = getButtonColumnStateId;\nfunction getColumnFadeinStateId() {\n    return get(\"col.fadein_stateID\");\n}\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\nfunction getBranchGraphColumnStateId() {\n    return get(\"branch_graph_col.stateID\");\n}\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\nfunction getSmallDialogInputEditorStateId() {\n    return get(\"small_dialog_input_editor.stateID\");\n}\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\nfunction getInlineInputEditorStateId() {\n    return get(\"inline_input_editor.stateID\");\n}\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\nfunction getInlineMenuEditorStateId() {\n    return get(\"inline_menu_editor.stateID\");\n}\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\nfunction getCheckHeaderStateId() {\n    return get(\"check_header.stateID\");\n}\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventHandler = void 0;\nconst utils_1 = require(\"./utils\");\n/** @private */\nlet nextId = 1;\nclass EventHandler {\n    constructor() {\n        this._listeners = {};\n    }\n    on(target, type, listener, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ...options) {\n        if (target.addEventListener) {\n            target.addEventListener(type, listener, ...options);\n        }\n        const obj = {\n            target,\n            type,\n            listener,\n            options,\n        };\n        const id = nextId++;\n        this._listeners[id] = obj;\n        return id;\n    }\n    once(target, type, listener, ...options) {\n        const id = this.on(target, type, (...args) => {\n            this.off(id);\n            listener(...args);\n        }, ...options);\n        return id;\n    }\n    tryWithOffEvents(target, type, call) {\n        const list = [];\n        try {\n            utils_1.each(this._listeners, (obj) => {\n                if (obj.target === target && obj.type === type) {\n                    if (obj.target.removeEventListener) {\n                        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n                    }\n                    list.push(obj);\n                }\n            });\n            call();\n        }\n        finally {\n            list.forEach((obj) => {\n                if (obj.target.addEventListener) {\n                    obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n                }\n            });\n        }\n    }\n    off(id) {\n        if (id == null) {\n            return;\n        }\n        const obj = this._listeners[id];\n        if (!obj) {\n            return;\n        }\n        delete this._listeners[id];\n        if (obj.target.removeEventListener) {\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    fire(target, type, ...args) {\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target === target && obj.type === type) {\n                obj.listener.call(obj.target, ...args);\n            }\n        });\n    }\n    hasListener(target, type) {\n        let result = false;\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target === target && obj.type === type) {\n                result = true;\n            }\n        });\n        return result;\n    }\n    clear() {\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target.removeEventListener) {\n                obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n            }\n        });\n        this._listeners = {};\n    }\n    dispose() {\n        this.clear();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._listeners = null;\n    }\n}\nexports.EventHandler = EventHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DG_EVENT_TYPE = void 0;\n/**\n * DrawGrid event types\n * @classdesc cheetahGrid.core.EVENT_TYPE\n * @memberof cheetahGrid.core\n */\nexports.DG_EVENT_TYPE = {\n    CLICK_CELL: \"click_cell\",\n    DBLCLICK_CELL: \"dblclick_cell\",\n    DBLTAP_CELL: \"dbltap_cell\",\n    MOUSEDOWN_CELL: \"mousedown_cell\",\n    MOUSEUP_CELL: \"mouseup_cell\",\n    SELECTED_CELL: \"selected_cell\",\n    KEYDOWN: \"keydown\",\n    MOUSEMOVE_CELL: \"mousemove_cell\",\n    MOUSEENTER_CELL: \"mouseenter_cell\",\n    MOUSELEAVE_CELL: \"mouseleave_cell\",\n    MOUSEOVER_CELL: \"mouseover_cell\",\n    MOUSEOUT_CELL: \"mouseout_cell\",\n    CONTEXTMENU_CELL: \"contextmenu_cell\",\n    INPUT_CELL: \"input_cell\",\n    PASTE_CELL: \"paste_cell\",\n    DELETE_CELL: \"delete_cell\",\n    EDITABLEINPUT_CELL: \"editableinput_cell\",\n    MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\n    RESIZE_COLUMN: \"resize_column\",\n    SCROLL: \"scroll\",\n    FOCUS_GRID: \"focus_grid\",\n    BLUR_GRID: \"blur_grid\",\n};\n","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Style = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nlet defaultStyle;\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._color = style.color;\n        this._font = style.font;\n        this._padding = style.padding;\n        this._textOverflow = style.textOverflow || \"clip\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\n    }\n    get color() {\n        return this._color;\n    }\n    set color(color) {\n        this._color = color;\n        this.doChangeStyle();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n        this.doChangeStyle();\n    }\n    get padding() {\n        return this._padding;\n    }\n    set padding(padding) {\n        this._padding = padding;\n        this.doChangeStyle();\n    }\n    get textOverflow() {\n        return this._textOverflow;\n    }\n    set textOverflow(textOverflow) {\n        this._textOverflow = textOverflow;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new Style(this);\n    }\n}\nexports.Style = Style;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseColumn = void 0;\nconst styleContents = __importStar(require(\"../style\"));\nconst utils_1 = require(\"../../internal/utils\");\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst { setReadonly } = utils_1.obj;\nconst COLUMN_FADEIN_STATE_ID = symbolManager_1.getColumnFadeinStateId();\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n    if (column.fadeinWhenCallbackInPromise != null) {\n        return column.fadeinWhenCallbackInPromise;\n    }\n    return !!grid.configure(\"fadeinWhenCallbackInPromise\");\n}\nfunction getFadeinState(grid) {\n    let state = grid[COLUMN_FADEIN_STATE_ID];\n    if (!state) {\n        state = { cells: {} };\n        setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\n    }\n    return state;\n}\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n    return (point) => {\n        const state = getFadeinState(grid);\n        const stateKey = `${row}:${col}`;\n        if (point === 1) {\n            delete state.cells[stateKey];\n        }\n        else {\n            state.cells[stateKey] = {\n                opacity: point,\n            };\n        }\n        drawCellBase();\n        drawInternal();\n        const cellState = state.cells[stateKey];\n        if (cellState) {\n            //\n            const ctx = context.getContext();\n            ctx.globalAlpha = 1 - cellState.opacity;\n            try {\n                drawCellBase();\n            }\n            finally {\n                ctx.globalAlpha = 1;\n            }\n        }\n    };\n}\nconst fadeinMgr = {\n    animate(grid, col, row, context, drawInternal, drawCellBase) {\n        // fadein animation\n        const state = getFadeinState(grid);\n        const activeFadeins = [\n            _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase),\n        ];\n        state.activeFadeins = activeFadeins;\n        animate_1.animate(500, (point) => {\n            activeFadeins.forEach((f) => f(point));\n            if (point === 1) {\n                delete state.activeFadeins;\n            }\n        });\n    },\n    margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n        const state = getFadeinState(grid);\n        if (state.activeFadeins) {\n            state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n        }\n        else {\n            drawInternal();\n        }\n    },\n};\nclass BaseColumn {\n    constructor(option) {\n        this.onDrawCell = this.onDrawCell.bind(this); //\n        //Promisecallback\n        this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\n    }\n    get fadeinWhenCallbackInPromise() {\n        return this._fadeinWhenCallbackInPromise;\n    }\n    get StyleClass() {\n        return BaseStyle_1.BaseStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        var _a;\n        const { style, getRecord, drawCellBase } = info;\n        const helper = grid.getGridCanvasHelper();\n        drawCellBase();\n        const record = getRecord();\n        let promise;\n        if (utils_1.isPromise(record)) {\n            promise = record;\n        }\n        else if (utils_1.isPromise(cellValue)) {\n            promise = cellValue;\n        }\n        else {\n            const msg = info.getMessage();\n            if (utils_1.isPromise(msg)) {\n                promise = msg;\n            }\n        }\n        //\n        if (promise) {\n            const start = Date.now();\n            return Promise.all([\n                record,\n                cellValue,\n                promise.then(() => cellValue).then(() => info.getMessage()),\n            ]).then(({ 0: record, 1: val, 2: message }) => {\n                const currentContext = context.toCurrentContext();\n                const drawRect = currentContext.getDrawRect();\n                if (!drawRect) {\n                    return;\n                }\n                const time = Date.now() - start;\n                const drawInternal = () => {\n                    const currentContext = context.toCurrentContext();\n                    const drawRect = currentContext.getDrawRect();\n                    if (!drawRect) {\n                        return;\n                    }\n                    const actStyle = styleContents.of(style, record, this.StyleClass);\n                    this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n                    this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\n                };\n                if (!isFadeinWhenCallbackInPromise(this, grid)) {\n                    drawInternal(); //\n                }\n                else {\n                    const { col, row } = context;\n                    if (time < 80) {\n                        //80msPromiseCallback\n                        fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n                    }\n                    else {\n                        //\n                        fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n                    }\n                }\n            });\n        }\n        else {\n            const actStyle = styleContents.of(style, record, this.StyleClass);\n            this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n            this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n            //\n            const { col, row } = context;\n            const stateKey = `${col}:${row}`;\n            const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\n            if (cellState) {\n                const ctx = context.getContext();\n                ctx.globalAlpha = 1 - cellState.opacity;\n                try {\n                    drawCellBase();\n                }\n                finally {\n                    ctx.globalAlpha = 1;\n                }\n            }\n            return undefined;\n        }\n    }\n    convertInternal(value) {\n        return (value != null ? value : \"\");\n    }\n    drawMessageInternal(message, context, style, helper, grid, info) {\n        info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n    getCopyCellValue(value, _grid, _cell) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return value;\n    }\n}\nexports.BaseColumn = BaseColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\nconst fontSizeCache = {};\nfunction getFontSize(ctx, font) {\n    const fontName = font || ctx.font;\n    if (fontSizeCache[fontName]) {\n        return fontSizeCache[fontName];\n    }\n    const bk = ctx.font;\n    try {\n        ctx.font = fontName;\n        const em = ctx.measureText(\"\").width;\n        return (fontSizeCache[fontName] = {\n            width: em,\n            height: em,\n        });\n    }\n    finally {\n        ctx.font = bk;\n    }\n}\nexports.getFontSize = getFontSize;\nfunction calcBasePosition(ctx, rect, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\n    return calcStartPosition(ctx, rect, 0, 0, {\n        offset,\n        padding: {\n            left: paddingLeft,\n            right: paddingRight,\n            top: paddingTop,\n            bottom: paddingBottom,\n        },\n    });\n}\nexports.calcBasePosition = calcBasePosition;\nfunction calcStartPosition(ctx, rect, width, height, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\n    const textAlign = ctx.textAlign || \"left\";\n    const textBaseline = ctx.textBaseline || \"middle\";\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    let x = rect.left + offset + paddingLeft;\n    if (textAlign === \"right\" || textAlign === \"end\") {\n        x = rect.right - width - offset - paddingRight;\n    }\n    else if (textAlign === \"center\") {\n        x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n    }\n    let y = rect.top + offset + paddingTop;\n    if (textBaseline === \"bottom\" ||\n        textBaseline === \"alphabetic\" ||\n        textBaseline === \"ideographic\") {\n        y = rect.bottom - height - offset - paddingBottom;\n    }\n    else if (textBaseline === \"middle\") {\n        y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n    }\n    return { x, y };\n}\nexports.calcStartPosition = calcStartPosition;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nfunction isDisabledRecord(option, grid, row) {\n    if (grid.disabled) {\n        return true;\n    }\n    return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isDisabledRecord = isDisabledRecord;\nfunction isReadOnlyRecord(option, grid, row) {\n    if (grid.readOnly) {\n        return true;\n    }\n    return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isReadOnlyRecord = isReadOnlyRecord;\nfunction toggleValue(val) {\n    if (typeof val === \"number\") {\n        if (val === 0) {\n            return 1;\n        }\n        else {\n            return 0;\n        }\n    }\n    else if (typeof val === \"string\") {\n        if (val === \"false\") {\n            return \"true\";\n        }\n        else if (val === \"off\") {\n            return \"on\";\n        }\n        else if (/^0+$/.exec(val)) {\n            return val.replace(/^(0*)0$/, \"$11\");\n        }\n        else if (val === \"true\") {\n            return \"false\";\n        }\n        else if (val === \"on\") {\n            return \"off\";\n        }\n        else if (/^0*1$/.exec(val)) {\n            return val.replace(/^(0*)1$/, \"$10\");\n        }\n    }\n    return !val;\n}\nexports.toggleValue = toggleValue;\nfunction getBooleanOptionOfRecord(option, grid, row) {\n    if (typeof option === \"function\") {\n        const record = grid.getRowRecord(row);\n        if (utils_1.isPromise(record)) {\n            return true;\n        }\n        return !!option(record);\n    }\n    return !!option;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Editor = void 0;\nconst BaseAction_1 = require(\"./BaseAction\");\nclass Editor extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        super(option);\n        this._readOnly = option.readOnly || false;\n    }\n    get editable() {\n        return true;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n    set readOnly(readOnly) {\n        this._readOnly = readOnly;\n        this.onChangeReadOnlyInternal();\n    }\n    onChangeReadOnlyInternal() {\n        // abstruct\n    }\n}\nexports.Editor = Editor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\nfunction createElement(tagName, { classList, text, html, } = {}) {\n    const element = document.createElement(tagName);\n    if (classList) {\n        if (Array.isArray(classList)) {\n            element.classList.add(...classList);\n        }\n        else {\n            element.classList.add(classList);\n        }\n    }\n    if (text) {\n        element.textContent = text;\n    }\n    else if (html) {\n        element.innerHTML = html;\n    }\n    return element;\n}\nexports.createElement = createElement;\nfunction empty(dom) {\n    let c;\n    while ((c = dom.firstChild)) {\n        dom.removeChild(c);\n    }\n}\nexports.empty = empty;\nfunction isNode(arg) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n    if (isNode(arg)) {\n        return arg;\n    }\n    const dom = createElement(\"div\", { html: arg });\n    return Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n    if (Array.isArray(arg)) {\n        const result = [];\n        arg.forEach((e) => {\n            result.push(...toNodeList(e));\n        });\n        return result;\n    }\n    const node = toNode(arg);\n    return Array.isArray(node) ? node : [node];\n}\nexports.toNodeList = toNodeList;\nfunction appendHtml(dom, inner) {\n    toNodeList(inner).forEach((node) => {\n        dom.appendChild(node);\n    });\n}\nexports.appendHtml = appendHtml;\nfunction disableFocus(el) {\n    el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\n    el.tabIndex = -1;\n    Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nexports.disableFocus = disableFocus;\nfunction enableFocus(el) {\n    if (\"disableBeforeTabIndex\" in el.dataset) {\n        el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\n    }\n    Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\nexports.enableFocus = enableFocus;\nfunction isFocusable(el) {\n    return (el.tabIndex != null && el.tabIndex > -1);\n}\nexports.isFocusable = isFocusable;\nfunction findPrevSiblingFocusable(el) {\n    let n = el.previousSibling;\n    while (n && !isFocusable(n)) {\n        n = n.previousSibling;\n    }\n    return n;\n}\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\nfunction findNextSiblingFocusable(el) {\n    let n = el.nextSibling;\n    while (n && !isFocusable(n)) {\n        n = n.nextSibling;\n    }\n    return n;\n}\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Column = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst Style_1 = require(\"../style/Style\");\nclass Column extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return Style_1.Style;\n    }\n    clone() {\n        return new Column(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.testFontLoad(font, value, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.text(value, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.Column = Column;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Style = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nlet defaultStyle;\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._color = style.color;\n        this._font = style.font;\n        this._textOverflow = style.textOverflow || \"ellipsis\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\n    }\n    get color() {\n        return this._color;\n    }\n    set color(color) {\n        this._color = color;\n        this.doChangeStyle();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n        this.doChangeStyle();\n    }\n    get textOverflow() {\n        return this._textOverflow;\n    }\n    set textOverflow(textOverflow) {\n        this._textOverflow = textOverflow;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new Style(this);\n    }\n}\nexports.Style = Style;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseHeader = void 0;\nconst styleContents = __importStar(require(\"../style\"));\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\nclass BaseHeader {\n    constructor(_options = {}) {\n        this.onDrawCell = this.onDrawCell.bind(this); //\n    }\n    get StyleClass() {\n        return BaseStyle_1.BaseStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        const { style, drawCellBase } = info;\n        const helper = grid.getGridCanvasHelper();\n        drawCellBase();\n        //\n        this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\n    }\n    convertInternal(value) {\n        if (typeof value === \"function\") {\n            value = value();\n        }\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        return value != null ? `${value}` : \"\";\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n}\nexports.BaseHeader = BaseHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Inline = void 0;\nconst utils_1 = require(\"../internal/utils\");\nfunction getWidth(ctx, content) {\n    return ctx.measureText(content).width;\n}\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n    const chars = [];\n    let ret = itr.next();\n    for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n        chars.push(ret);\n    }\n    let beforeWidth = getWidth(ctx, chars.join(\"\"));\n    if (beforeWidth > width) {\n        while (chars.length) {\n            const c = chars.pop();\n            beforeWidth -= getWidth(ctx, c || \"\");\n            if (beforeWidth <= width) {\n                break;\n            }\n        }\n    }\n    else if (beforeWidth < width) {\n        while (ret !== null) {\n            const charWidth = getWidth(ctx, ret);\n            if (beforeWidth + charWidth > width) {\n                break;\n            }\n            chars.push(ret);\n            beforeWidth += charWidth;\n            ret = itr.next();\n        }\n    }\n    const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\n    const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\n    return {\n        before: beforeContent ? new Inline(beforeContent) : null,\n        after: afterContent ? new Inline(afterContent) : null,\n    };\n}\nclass Inline {\n    constructor(content) {\n        this._content = content != null ? content : \"\";\n    }\n    width({ ctx }) {\n        return getWidth(ctx, this._content);\n    }\n    font() {\n        return null;\n    }\n    color() {\n        return null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n                left: offsetLeft,\n                right: offsetRight,\n                top: offsetTop,\n                bottom: offsetBottom,\n            },\n        });\n    }\n    canBreak() {\n        return !!this._content;\n    }\n    splitIndex(index) {\n        const content = this._content;\n        const itr = utils_1.str.genChars(content);\n        const chars = [];\n        let ret = itr.next();\n        for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n            chars.push(ret);\n        }\n        const beforeContent = chars.join(\"\");\n        const afterContent = content.slice(beforeContent.length);\n        return {\n            before: beforeContent ? new Inline(beforeContent) : null,\n            after: afterContent ? new Inline(afterContent) : null,\n        };\n    }\n    breakWord(ctx, width) {\n        const content = this._content;\n        const allWidth = this.width({ ctx });\n        const candidate = Math.floor((this._content.length * width) / allWidth);\n        const itr = utils_1.str.genWords(content);\n        return breakWidth(ctx, content, itr, candidate, width);\n    }\n    breakAll(ctx, width) {\n        const content = this._content;\n        const allWidth = this.width({ ctx });\n        const candidate = Math.floor((this._content.length * width) / allWidth);\n        const itr = utils_1.str.genChars(content);\n        return breakWidth(ctx, content, itr, candidate, width);\n    }\n    toString() {\n        return this._content;\n    }\n}\nexports.Inline = Inline;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(require(\"./columns/action\"));\nexports.action = action;\nconst style = __importStar(require(\"./columns/style\"));\nexports.style = style;\nconst type = __importStar(require(\"./columns/type\"));\nexports.type = type;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animate = void 0;\nconst utils_1 = require(\"./utils\");\nfunction cubicBezier(x2, y2, x3, y3) {\n    let step;\n    const err = 0.0001;\n    x2 *= 3;\n    y2 *= 3;\n    x3 *= 3;\n    y3 *= 3;\n    return function (t) {\n        let p, a, b, c, d, x, s;\n        if (t < 0 || 1 < t) {\n            throw new Error(`${t}`);\n        }\n        p = step || t;\n        do {\n            a = 1 - p;\n            b = a * a;\n            c = p * p;\n            d = c * p;\n            x = x2 * b * p + x3 * a * c + d;\n            s = t - x;\n            p += s * 0.5;\n        } while (err < Math.abs(s));\n        step = p;\n        return y2 * b * p + y3 * a * c + d;\n    };\n}\nconst EASINGS = {\n    linear(p) {\n        return p;\n    },\n    easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\n    easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\n    easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0),\n};\nconst raf = (utils_1.isNode\n    ? () => { }\n    : window.requestAnimationFrame ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ((fn) => setTimeout(fn, 1)));\nfunction now() {\n    return Date.now();\n}\n/**\n * <pre>\n * Animates.\n * </pre>\n * @function\n * @param {number} duration animation time.\n * @param {function} step step\n * @param {function|string} easing easing\n * @returns {object} Deferred object.\n */\nfunction animate(duration, step, easing) {\n    const startedAt = now();\n    const easingFn = easing == null\n        ? EASINGS.easeInOut\n        : typeof easing === \"string\"\n            ? EASINGS[easing]\n            : easing;\n    let canceledFlg = false;\n    const createAnim = (resolve, reject) => {\n        const anim = () => {\n            const point = now() - startedAt;\n            if (canceledFlg) {\n                //cancel\n                if (reject) {\n                    reject();\n                }\n            }\n            else if (point >= duration) {\n                //end\n                step(1);\n                if (resolve) {\n                    resolve();\n                }\n            }\n            else {\n                step(easingFn(point / duration));\n                raf(anim);\n            }\n        };\n        return anim;\n    };\n    const cancel = () => {\n        canceledFlg = true;\n    };\n    if (typeof Promise !== \"undefined\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const result = new Promise((resolve, reject) => {\n            const anim = createAnim(resolve, reject);\n            step(0);\n            anim();\n        });\n        result.cancel = cancel;\n        return result;\n    }\n    else {\n        const anim = createAnim(() => { }, () => { });\n        step(0);\n        anim();\n        return {\n            cancel,\n        };\n    }\n}\nexports.animate = animate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseStyle = void 0;\nconst EventTarget_1 = require(\"../../core/EventTarget\");\nconst STYLE_EVENT_TYPE = {\n    CHANGE_STYLE: \"change_style\",\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n    constructor({ bgColor } = {}) {\n        super();\n        this._bgColor = bgColor;\n    }\n    static get EVENT_TYPE() {\n        return STYLE_EVENT_TYPE;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n    }\n    get bgColor() {\n        return this._bgColor;\n    }\n    set bgColor(bgColor) {\n        this._bgColor = bgColor;\n        this.doChangeStyle();\n    }\n    doChangeStyle() {\n        this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\n    }\n    clone() {\n        return new BaseStyle(this);\n    }\n}\nexports.BaseStyle = BaseStyle;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventTarget = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst symbolManager_1 = require(\"../internal/symbolManager\");\n//private symbol\n/** @private */\nconst _ = symbolManager_1.get();\n/** @private */\nlet nextId = 1;\n/**\n * event target.\n */\nclass EventTarget {\n    constructor() {\n        this[_a] = {\n            listeners: {},\n            listenerData: {},\n        };\n    }\n    /**\n     * Adds an event listener.\n     * @param  {string} type The event type id.\n     * @param  {function} listener Callback method.\n     * @return {number} unique id for the listener.\n     */\n    listen(type, listener) {\n        const list = this[_].listeners[type] || (this[_].listeners[type] = []);\n        list.push(listener);\n        const id = nextId++;\n        this[_].listenerData[id] = {\n            type,\n            listener,\n            remove: () => {\n                delete this[_].listenerData[id];\n                const index = list.indexOf(listener);\n                list.splice(index, 1);\n                if (!this[_].listeners[type].length) {\n                    delete this[_].listeners[type];\n                }\n            },\n        };\n        return id;\n    }\n    /**\n     * Removes an event listener which was added with listen() by the id returned by listen().\n     * @param  {number} id the id returned by listen().\n     * @return {void}\n     */\n    unlisten(id) {\n        if (!this[_]) {\n            return;\n        }\n        this[_].listenerData[id].remove();\n    }\n    addEventListener(type, listener) {\n        this.listen(type, listener);\n    }\n    removeEventListener(type, listener) {\n        if (!this[_]) {\n            return;\n        }\n        utils_1.each(this[_].listenerData, (obj, id) => {\n            if (obj.type === type && obj.listener === listener) {\n                this.unlisten(id);\n            }\n        });\n    }\n    hasListeners(type) {\n        if (!this[_]) {\n            return false;\n        }\n        return !!this[_].listeners[type];\n    }\n    /**\n     * Fires all registered listeners\n     * @param  {string}    type The type of the listeners to fire.\n     * @param  {...*} args fire arguments\n     * @return {*} the result of the last listener\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    fireListeners(type, ...args) {\n        if (!this[_]) {\n            return [];\n        }\n        const list = this[_].listeners[type];\n        if (!list) {\n            return [];\n        }\n        return list\n            .map((listener) => listener.call(this, ...args))\n            .filter((r) => r != null);\n    }\n    dispose() {\n        delete this[_];\n    }\n}\nexports.EventTarget = EventTarget;\n_a = _;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._textAlign = style.textAlign || \"left\";\n        this._textBaseline = style.textBaseline || \"middle\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n    }\n    get textAlign() {\n        return this._textAlign;\n    }\n    set textAlign(textAlign) {\n        this._textAlign = textAlign;\n        this.doChangeStyle();\n    }\n    get textBaseline() {\n        return this._textBaseline;\n    }\n    set textBaseline(textBaseline) {\n        this._textBaseline = textBaseline;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new StdBaseStyle(this);\n    }\n}\nexports.StdBaseStyle = StdBaseStyle;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadIcons = void 0;\nconst icons = __importStar(require(\"../../internal/icons\"));\nconst utils_1 = require(\"../../internal/utils\");\nfunction loadIcons(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nicon, context, helper, callback) {\n    let argIcon = undefined;\n    if (icon) {\n        if (utils_1.isPromise(icon)) {\n            icon.then((i) => {\n                loadIcons(i, context.toCurrentContext(), helper, callback);\n            });\n        }\n        else {\n            const iconList = icons.toNormarizeArray(icon);\n            iconList.forEach((i) => {\n                if (i.font && i.content) {\n                    helper.testFontLoad(i.font, i.content, context);\n                }\n            });\n            argIcon = iconList;\n        }\n    }\n    callback(argIcon, context);\n}\nexports.loadIcons = loadIcons;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Rect = void 0;\nclass Rect {\n    constructor(left, top, width, height) {\n        this._left = left;\n        this._top = top;\n        this._width = width;\n        this._height = height;\n    }\n    static bounds(left, top, right, bottom) {\n        return new Rect(left, top, right - left, bottom - top);\n    }\n    static max(rect1, rect2) {\n        return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n    }\n    get left() {\n        return this._left;\n    }\n    set left(left) {\n        const { right } = this;\n        this._left = left;\n        this.right = right;\n    }\n    get top() {\n        return this._top;\n    }\n    set top(top) {\n        const { bottom } = this;\n        this._top = top;\n        this.bottom = bottom;\n    }\n    get width() {\n        return this._width;\n    }\n    set width(width) {\n        this._width = width;\n        this._right = undefined;\n    }\n    get height() {\n        return this._height;\n    }\n    set height(height) {\n        this._height = height;\n        this._bottom = undefined;\n    }\n    get right() {\n        return this._right !== undefined\n            ? this._right\n            : (this._right = this.left + this.width);\n    }\n    set right(right) {\n        this._right = right;\n        this.width = right - this.left;\n    }\n    get bottom() {\n        return this._bottom !== undefined\n            ? this._bottom\n            : (this._bottom = this.top + this.height);\n    }\n    set bottom(bottom) {\n        this._bottom = bottom;\n        this.height = bottom - this.top;\n    }\n    offsetLeft(offset) {\n        this._left += offset;\n        this._right = undefined;\n    }\n    offsetTop(offset) {\n        this._top += offset;\n        this._bottom = undefined;\n    }\n    copy() {\n        return new Rect(this.left, this.top, this.width, this.height);\n    }\n    intersection(rect) {\n        const x0 = Math.max(this.left, rect.left);\n        const x1 = Math.min(this.left + this.width, rect.left + rect.width);\n        if (x0 <= x1) {\n            const y0 = Math.max(this.top, rect.top);\n            const y1 = Math.min(this.top + this.height, rect.top + rect.height);\n            if (y0 <= y1) {\n                return Rect.bounds(x0, y0, x1, y1);\n            }\n        }\n        return null;\n    }\n    contains(another) {\n        return (this.left <= another.left &&\n            this.left + this.width >= another.left + another.width &&\n            this.top <= another.top &&\n            this.top + this.height >= another.top + another.height);\n    }\n    inPoint(x, y) {\n        return (this.left <= x &&\n            this.left + this.width >= x &&\n            this.top <= y &&\n            this.top + this.height >= y);\n    }\n}\nexports.Rect = Rect;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\nconst BaseHeader_1 = require(\"./type/BaseHeader\");\nObject.defineProperty(exports, \"BaseHeader\", { enumerable: true, get: function () { return BaseHeader_1.BaseHeader; } });\nconst CheckHeader_1 = require(\"./type/CheckHeader\");\nObject.defineProperty(exports, \"CheckHeader\", { enumerable: true, get: function () { return CheckHeader_1.CheckHeader; } });\nconst Header_1 = require(\"./type/Header\");\nObject.defineProperty(exports, \"Header\", { enumerable: true, get: function () { return Header_1.Header; } });\nconst MultilineTextHeader_1 = require(\"./type/MultilineTextHeader\");\nObject.defineProperty(exports, \"MultilineTextHeader\", { enumerable: true, get: function () { return MultilineTextHeader_1.MultilineTextHeader; } });\nconst SortHeader_1 = require(\"./type/SortHeader\");\nObject.defineProperty(exports, \"SortHeader\", { enumerable: true, get: function () { return SortHeader_1.SortHeader; } });\nconst TYPES = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DEFAULT: new Header_1.Header(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    SORT: new SortHeader_1.SortHeader(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new CheckHeader_1.CheckHeader(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader(),\n};\nfunction of(headerType) {\n    if (!headerType) {\n        return TYPES.DEFAULT;\n    }\n    else if (typeof headerType === \"string\") {\n        const key = headerType.toUpperCase();\n        return TYPES[key] || of(null);\n    }\n    else {\n        return headerType;\n    }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n    if (headerCell.sort) {\n        return TYPES.SORT;\n    }\n    return of(headerCell.headerType);\n}\nexports.ofCell = ofCell;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [\n        // click\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n                return;\n            }\n            action({\n                col: e.col,\n                row: e.row,\n            });\n        }),\n        // mouse move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n                return;\n            }\n            if (mouseOver) {\n                if (!mouseOver({\n                    col: e.col,\n                    row: e.row,\n                })) {\n                    return;\n                }\n            }\n            grid.getElement().style.cursor = \"pointer\";\n        }),\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOut) {\n                mouseOut({\n                    col: e.col,\n                    row: e.row,\n                });\n            }\n            grid.getElement().style.cursor = \"\";\n        }),\n    ];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\n    return [\n        // enter key down\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n            var _a;\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\n                return;\n            }\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n                // When moving with the enter key, no action is taken with the enter key.\n                return;\n            }\n            const sel = grid.selection.select;\n            if (!isTarget(sel.col, sel.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(sel.row))) {\n                return;\n            }\n            action({\n                col: sel.col,\n                row: sel.row,\n            });\n            utils_1.event.cancel(e.event);\n        }),\n    ];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAction = void 0;\nclass BaseAction {\n    constructor(option = {}) {\n        this._disabled = option.disabled || false;\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(disabled) {\n        this._disabled = disabled;\n        this.onChangeDisabledInternal();\n    }\n    onChangeDisabledInternal() {\n        // abstruct\n    }\n}\nexports.BaseAction = BaseAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\nconst ButtonStyle_1 = require(\"./style/ButtonStyle\");\nObject.defineProperty(exports, \"ButtonStyle\", { enumerable: true, get: function () { return ButtonStyle_1.ButtonStyle; } });\nconst CheckStyle_1 = require(\"./style/CheckStyle\");\nObject.defineProperty(exports, \"CheckStyle\", { enumerable: true, get: function () { return CheckStyle_1.CheckStyle; } });\nconst IconStyle_1 = require(\"./style/IconStyle\");\nObject.defineProperty(exports, \"IconStyle\", { enumerable: true, get: function () { return IconStyle_1.IconStyle; } });\nconst ImageStyle_1 = require(\"./style/ImageStyle\");\nObject.defineProperty(exports, \"ImageStyle\", { enumerable: true, get: function () { return ImageStyle_1.ImageStyle; } });\nconst MenuStyle_1 = require(\"./style/MenuStyle\");\nObject.defineProperty(exports, \"MenuStyle\", { enumerable: true, get: function () { return MenuStyle_1.MenuStyle; } });\nconst MultilineTextStyle_1 = require(\"./style/MultilineTextStyle\");\nObject.defineProperty(exports, \"MultilineTextStyle\", { enumerable: true, get: function () { return MultilineTextStyle_1.MultilineTextStyle; } });\nconst NumberStyle_1 = require(\"./style/NumberStyle\");\nObject.defineProperty(exports, \"NumberStyle\", { enumerable: true, get: function () { return NumberStyle_1.NumberStyle; } });\nconst PercentCompleteBarStyle_1 = require(\"./style/PercentCompleteBarStyle\");\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", { enumerable: true, get: function () { return PercentCompleteBarStyle_1.PercentCompleteBarStyle; } });\nconst RadioStyle_1 = require(\"./style/RadioStyle\");\nObject.defineProperty(exports, \"RadioStyle\", { enumerable: true, get: function () { return RadioStyle_1.RadioStyle; } });\nconst Style_1 = require(\"./style/Style\");\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\nconst { EVENT_TYPE } = BaseStyle_1.BaseStyle;\nexports.EVENT_TYPE = EVENT_TYPE;\nfunction of(columnStyle, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nrecord, StyleClassDef = Style_1.Style) {\n    if (columnStyle) {\n        if (columnStyle instanceof BaseStyle_1.BaseStyle) {\n            return columnStyle;\n        }\n        else if (typeof columnStyle === \"function\") {\n            return of(columnStyle(record), record, StyleClassDef);\n        }\n        else if (record && columnStyle in record) {\n            return of(record[columnStyle], record, StyleClassDef);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new StyleClassDef(columnStyle);\n    }\n    else {\n        return StyleClassDef.DEFAULT;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.iconPropKeys = exports.toNormarizeArray = exports.getIconProps = void 0;\nconst ICON_PROP_KEYS = [\n    \"content\",\n    \"font\",\n    \"color\",\n    \"className\",\n    \"tagName\",\n    \"isLiga\",\n    \"width\",\n    \"src\",\n    \"svg\",\n    \"name\",\n    \"path\",\n];\nfunction quote(name) {\n    const quoted = [];\n    const split = name.split(/,\\s*/);\n    for (let i = 0; i < split.length; i++) {\n        const part = split[i].replace(/['\"]/g, \"\");\n        if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\n            quoted.push(part);\n        }\n        else {\n            quoted.push(`'${part}'`);\n        }\n    }\n    return quoted.join(\",\");\n}\nconst doms = {};\nconst props = {};\nfunction getIconProps(tagName, className) {\n    const tagProps = props[tagName] || (props[tagName] = {});\n    if (tagProps[className]) {\n        return tagProps[className];\n    }\n    const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n    dom.className = className;\n    document.body.appendChild(dom);\n    try {\n        const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\n        let content = beforeStyle.getPropertyValue(\"content\");\n        if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\n            if (content[0] === content[content.length - 1]) {\n                content = content.substr(1, content.length - 2);\n            }\n        }\n        let font = beforeStyle.getPropertyValue(\"font\");\n        if (!font) {\n            font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\n        }\n        const color = beforeStyle.getPropertyValue(\"color\");\n        const width = dom.clientWidth;\n        const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\n        return (tagProps[className] = {\n            content,\n            font,\n            color,\n            width,\n            isLiga,\n        });\n    }\n    finally {\n        document.body.removeChild(dom);\n    }\n}\nexports.getIconProps = getIconProps;\nfunction toPropArray(prop, count) {\n    const result = [];\n    if (Array.isArray(prop)) {\n        result.push(...prop);\n        for (let i = prop.length; i < count; i++) {\n            result.push(null);\n        }\n    }\n    else {\n        for (let i = 0; i < count; i++) {\n            result.push(prop);\n        }\n    }\n    return result;\n}\nfunction toSimpleArray(iconProps) {\n    if (!iconProps) {\n        return iconProps;\n    }\n    else if (Array.isArray(iconProps)) {\n        return iconProps;\n    }\n    const workData = {};\n    let count = 0;\n    ICON_PROP_KEYS.forEach((k) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const prop = iconProps[k];\n        if (prop) {\n            if (Array.isArray(prop)) {\n                count = Math.max(count, prop.length);\n            }\n            else {\n                count = Math.max(count, 1);\n            }\n        }\n    });\n    ICON_PROP_KEYS.forEach((k) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const arr = toPropArray(iconProps[k], count);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        workData[k] = arr;\n    });\n    const result = [];\n    for (let i = 0; i < count; i++) {\n        const data = {};\n        ICON_PROP_KEYS.forEach((k) => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const val = workData[k][i];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data[k] = val;\n        });\n        result.push(data);\n    }\n    return result;\n}\nfunction normarize(iconProps) {\n    const data = {};\n    for (const k in iconProps) {\n        if (k === \"className\") {\n            continue;\n        }\n        if (isIconKey(k)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data[k] = iconProps[k];\n        }\n    }\n    if (iconProps.className) {\n        const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\n        for (const k in prop) {\n            if (isIconKey(k)) {\n                if (iconProps[k] == null) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    data[k] = prop[k];\n                }\n            }\n        }\n    }\n    return data;\n}\nfunction toNormarizeArray(iconProps) {\n    const icons = toSimpleArray(iconProps);\n    if (!icons) {\n        return icons;\n    }\n    return icons.map((icon) => normarize(icon));\n}\nexports.toNormarizeArray = toNormarizeArray;\nexports.iconPropKeys = ICON_PROP_KEYS;\nfunction isIconKey(k) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ICON_PROP_KEYS.indexOf(k) >= 0;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toBoolean = void 0;\nfunction toBoolean(val) {\n    if (typeof val === \"string\") {\n        if (val === \"false\") {\n            return false;\n        }\n        else if (val === \"off\") {\n            return false;\n        }\n        else if (/^0+$/.exec(val)) {\n            return false;\n        }\n    }\n    return Boolean(val);\n}\nexports.toBoolean = toBoolean;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toPx = void 0;\nconst utils_1 = require(\"./utils\");\nconst TYPE_PAREN = 0;\nconst TYPE_UNIT = 1;\nconst TYPE_OPERATOR = 2;\nconst TYPE_NUMBER = 3;\nconst NODE_TYPE_UNIT = 10;\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\nconst NODE_TYPE_NUMBER = 12;\nconst TABULATION = 0x09;\nconst CARRIAGE_RETURN = 0x0d;\nconst LINE_FEED = 0x0a;\nconst FORM_FEED = 0x0c;\nconst SPACE = 0x20;\nconst PERCENT = 0x25;\nconst FULL_STOP = 0x2e;\nconst DIGIT_0 = 0x30;\nconst DIGIT_9 = 0x39;\nconst LATIN_CAPITAL_A = 0x41;\nconst LATIN_CAPITAL_Z = 0x5a;\nconst LATIN_SMALL_A = 0x61;\nconst LATIN_SMALL_Z = 0x7a;\nfunction isUpperLetter(cp) {\n    return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\n}\nfunction isLowerLetter(cp) {\n    return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\n}\nfunction isLetter(cp) {\n    return isLowerLetter(cp) || isUpperLetter(cp);\n}\nfunction isWhitespace(cp) {\n    return (cp === TABULATION ||\n        cp === LINE_FEED ||\n        cp === FORM_FEED ||\n        cp === CARRIAGE_RETURN ||\n        cp === SPACE);\n}\nfunction isDigit(cp) {\n    return cp >= DIGIT_0 && cp <= DIGIT_9;\n}\nfunction isDot(cp) {\n    return cp === FULL_STOP;\n}\nfunction isUnit(cp) {\n    return isLetter(cp) || cp === PERCENT;\n}\nfunction createError(calc) {\n    return new Error(`calc parse error: ${calc}`);\n}\n/**\n * tokenize\n * @param {string} calc calc expression\n * @returns {Array} tokens\n * @private\n */\nfunction tokenize(calc) {\n    const exp = calc.replace(/calc\\(/g, \"(\").trim();\n    const tokens = [];\n    const len = exp.length;\n    for (let index = 0; index < len; index++) {\n        const c = exp[index];\n        const cp = c.charCodeAt(0);\n        if (c === \"(\" || c === \")\") {\n            tokens.push({ value: c, type: TYPE_PAREN });\n        }\n        else if (c === \"*\" || c === \"/\") {\n            tokens.push({ value: c, type: TYPE_OPERATOR });\n        }\n        else if (c === \"+\" || c === \"-\") {\n            index = parseSign(c, index + 1) - 1;\n        }\n        else if (isDigit(cp) || isDot(cp)) {\n            index = parseNum(c, index + 1) - 1;\n        }\n        else if (isWhitespace(cp)) {\n            // skip\n        }\n        else {\n            throw createError(calc);\n        }\n    }\n    function parseSign(sign, start) {\n        if (start < len) {\n            const c = exp[start];\n            const cp = c.charCodeAt(0);\n            if (isDigit(cp) || isDot(cp)) {\n                return parseNum(sign + c, start + 1);\n            }\n        }\n        tokens.push({ value: sign, type: TYPE_OPERATOR });\n        return start;\n    }\n    function parseNum(num, start) {\n        let index = start;\n        for (; index < len; index++) {\n            const c = exp[index];\n            const cp = c.charCodeAt(0);\n            if (isDigit(cp)) {\n                num += c;\n            }\n            else if (c === \".\") {\n                if (num.indexOf(\".\") >= 0) {\n                    throw createError(calc);\n                }\n                num += c;\n            }\n            else if (isUnit(cp)) {\n                return parseUnit(num, c, index + 1);\n            }\n            else {\n                break;\n            }\n        }\n        if (num === \".\") {\n            throw createError(calc);\n        }\n        tokens.push({ value: parseFloat(num), type: TYPE_NUMBER });\n        return index;\n    }\n    function parseUnit(num, unit, start) {\n        let index = start;\n        for (; index < len; index++) {\n            const c = exp[index];\n            const cp = c.charCodeAt(0);\n            if (isUnit(cp)) {\n                unit += c;\n            }\n            else {\n                break;\n            }\n        }\n        tokens.push({ value: parseFloat(num), unit, type: TYPE_UNIT });\n        return index;\n    }\n    return tokens;\n}\nconst PRECEDENCE = {\n    \"*\": 3,\n    \"/\": 3,\n    \"+\": 2,\n    \"-\": 2,\n};\nfunction lex(tokens, calc) {\n    function buildBinaryExpNode(stack) {\n        const right = stack.pop();\n        const op = stack.pop();\n        const left = stack.pop();\n        if (!left ||\n            !left.nodeType ||\n            !op ||\n            op.type !== TYPE_OPERATOR ||\n            !right ||\n            !right.nodeType) {\n            throw createError(calc);\n        }\n        return {\n            nodeType: NODE_TYPE_BINARY_EXPRESSION,\n            left,\n            op,\n            right,\n        };\n    }\n    const stack = [];\n    while (tokens.length) {\n        const token = tokens.shift();\n        if (token.type === TYPE_PAREN && token.value === \"(\") {\n            let deep = 0;\n            const closeIndex = utils_1.array.findIndex(tokens, (t) => {\n                if (t.type === TYPE_PAREN && t.value === \"(\") {\n                    deep++;\n                }\n                else if (t.type === TYPE_PAREN && t.value === \")\") {\n                    if (!deep) {\n                        return true;\n                    }\n                    deep--;\n                }\n                return false;\n            });\n            if (closeIndex === -1) {\n                throw createError(calc);\n            }\n            stack.push(lex(tokens.splice(0, closeIndex), calc));\n            tokens.shift();\n        }\n        else if (token.type === TYPE_OPERATOR) {\n            if (stack.length >= 3) {\n                const beforeOp = stack[stack.length - 2].value;\n                if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\n                    stack.push(buildBinaryExpNode(stack));\n                }\n            }\n            stack.push(token);\n        }\n        else if (token.type === TYPE_UNIT) {\n            const { value: num, unit } = token;\n            stack.push({\n                nodeType: NODE_TYPE_UNIT,\n                value: num,\n                unit,\n            });\n        }\n        else if (token.type === TYPE_NUMBER) {\n            stack.push({\n                nodeType: NODE_TYPE_NUMBER,\n                value: token.value,\n            });\n        }\n    }\n    while (stack.length > 1) {\n        stack.push(buildBinaryExpNode(stack));\n    }\n    return stack[0];\n}\nfunction parse(calcStr) {\n    const tokens = tokenize(calcStr);\n    return lex(tokens, calcStr);\n}\nfunction calcNode(node, context) {\n    if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\n        const left = calcNode(node.left, context);\n        const right = calcNode(node.right, context);\n        switch (node.op.value) {\n            case \"+\":\n                return left + right;\n            case \"-\":\n                return left - right;\n            case \"*\":\n                return left * right;\n            case \"/\":\n                return left / right;\n            default:\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                throw new Error(`calc error. unknown operator: ${node.op.value}`);\n        }\n    }\n    else if (node.nodeType === NODE_TYPE_UNIT) {\n        switch (node.unit) {\n            case \"%\":\n                return (node.value * context.full) / 100;\n            case \"em\":\n                return node.value * context.em;\n            case \"px\":\n                return node.value;\n            default:\n                throw new Error(`calc error. unknown unit: ${node.unit}`);\n        }\n    }\n    else if (node.nodeType === NODE_TYPE_NUMBER) {\n        return node.value;\n    }\n    throw new Error(\"calc error.\");\n}\nfunction toPxInternal(value, context) {\n    const ast = parse(value);\n    return calcNode(ast, context);\n}\nfunction toPx(value, context) {\n    if (typeof value === \"string\") {\n        return toPxInternal(value.trim(), context);\n    }\n    return value - 0;\n}\nexports.toPx = toPx;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataSource = void 0;\nconst sort = __importStar(require(\"../internal/sort\"));\nconst utils_1 = require(\"../internal/utils\");\nconst EventTarget_1 = require(\"../core/EventTarget\");\n/** @private */\nfunction isFieldAssessor(field) {\n    if (utils_1.obj.isObject(field)) {\n        const a = field;\n        if (a.get && a.set) {\n            return true;\n        }\n    }\n    return false;\n}\n/** @private */\nconst EVENT_TYPE = {\n    UPDATE_LENGTH: \"update_length\",\n    UPDATED_LENGTH: \"updated_length\",\n    UPDATED_ORDER: \"updated_order\",\n};\n/** @private */\nfunction getValue(value, setPromiseBack) {\n    const maybePromiseValue = utils_1.getOrApply(value);\n    if (utils_1.isPromise(maybePromiseValue)) {\n        const promiseValue = maybePromiseValue.then((r) => {\n            setPromiseBack(r);\n            return r;\n        });\n        //\n        setPromiseBack(promiseValue);\n        return promiseValue;\n    }\n    else {\n        return maybePromiseValue;\n    }\n}\n/** @private */\nfunction getField(record, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nsetPromiseBack) {\n    if (record == null) {\n        return undefined;\n    }\n    if (utils_1.isPromise(record)) {\n        return record.then((r) => getField(r, field, setPromiseBack));\n    }\n    const fieldGet = isFieldAssessor(field) ? field.get : field;\n    if (fieldGet in record) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = record[fieldGet];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return getValue(fieldResult, setPromiseBack);\n    }\n    if (typeof fieldGet === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = fieldGet(record);\n        return getValue(fieldResult, setPromiseBack);\n    }\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    const ss = `${fieldGet}`.split(\".\");\n    if (ss.length <= 1) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = record[fieldGet];\n        return getValue(fieldResult, setPromiseBack);\n    }\n    const fieldResult = utils_1.applyChainSafe(record, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\n    return getValue(fieldResult, setPromiseBack);\n}\n/** @private */\nfunction setField(record, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    if (record == null) {\n        return false;\n    }\n    const fieldSet = isFieldAssessor(field) ? field.set : field;\n    if (fieldSet in record) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        record[fieldSet] = value;\n    }\n    else if (typeof fieldSet === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return fieldSet(record, value);\n    }\n    else if (typeof fieldSet === \"string\") {\n        const ss = `${fieldSet}`.split(\".\");\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let obj = record;\n        const { length } = ss;\n        for (let i = 0; i < length; i++) {\n            const f = ss[i];\n            if (i === length - 1) {\n                obj[f] = value;\n            }\n            else {\n                obj = obj[f] || (obj[f] = {});\n            }\n        }\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        record[fieldSet] = value;\n    }\n    return true;\n}\n/** @private */\nfunction _getIndex(sortedIndexMap, index) {\n    if (!sortedIndexMap) {\n        return index;\n    }\n    const mapIndex = sortedIndexMap[index];\n    return mapIndex != null ? mapIndex : index;\n}\n/**\n * grid data source\n *\n * @classdesc cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\nclass DataSource extends EventTarget_1.EventTarget {\n    constructor(obj) {\n        var _a;\n        super();\n        this._sortedIndexMap = null;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\n        this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\n        this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\n    }\n    static get EVENT_TYPE() {\n        return EVENT_TYPE;\n    }\n    static ofArray(array) {\n        return new DataSource({\n            get: (index) => array[index],\n            length: array.length,\n            source: array,\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get source() {\n        return this._source;\n    }\n    get(index) {\n        return this.getOriginal(_getIndex(this._sortedIndexMap, index));\n    }\n    getField(index, field) {\n        return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    hasField(index, field) {\n        return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\n    }\n    setField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\n    }\n    sort(field, order) {\n        const sortedIndexMap = new Array(this._length);\n        const orderFn = order !== \"desc\"\n            ? (v1, v2) => (v1 === v2 ? 0 : v1 > v2 ? 1 : -1)\n            : (v1, v2) => (v1 === v2 ? 0 : v1 < v2 ? 1 : -1);\n        return sort\n            .sortPromise((index) => sortedIndexMap[index] != null\n            ? sortedIndexMap[index]\n            : (sortedIndexMap[index] = index), (index, rel) => {\n            sortedIndexMap[index] = rel;\n        }, this._length, orderFn, (index) => this.getOriginalField(index, field))\n            .then(() => {\n            this._sortedIndexMap = sortedIndexMap;\n            this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n        });\n    }\n    get length() {\n        return this._length;\n    }\n    set length(length) {\n        if (this._length === length) {\n            return;\n        }\n        const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n        if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\n            return;\n        }\n        this._length = length;\n        this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n    }\n    get dataSource() {\n        return this;\n    }\n    dispose() {\n        super.dispose();\n    }\n    getOriginal(index) {\n        return getValue(this._get(index), (val) => {\n            this.recordPromiseCallBackInternal(index, val);\n        });\n    }\n    getOriginalField(index, field) {\n        if (field == null) {\n            return undefined;\n        }\n        const record = this.getOriginal(index);\n        return getField(record, field, (val) => {\n            this.fieldPromiseCallBackInternal(index, field, val);\n        });\n    }\n    hasOriginalField(index, field) {\n        if (field == null) {\n            return false;\n        }\n        if (typeof field === \"function\") {\n            return true;\n        }\n        const record = this.getOriginal(index);\n        return Boolean(record && field in record);\n    }\n    setOriginalField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        if (field == null) {\n            return false;\n        }\n        const record = this.getOriginal(index);\n        if (utils_1.isPromise(record)) {\n            return record.then((r) => setField(r, field, value));\n        }\n        return setField(record, field, value);\n    }\n    fieldPromiseCallBackInternal(_index, _field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _value) {\n        //\n    }\n    recordPromiseCallBackInternal(_index, _record) {\n        //\n    }\n}\nexports.DataSource = DataSource;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nDataSource.EMPTY = new DataSource({\n    get() {\n        /*noop */\n    },\n    length: 0,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\nconst BaseAction_1 = require(\"./action/BaseAction\");\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\nconst CheckHeaderAction_1 = require(\"./action/CheckHeaderAction\");\nObject.defineProperty(exports, \"CheckHeaderAction\", { enumerable: true, get: function () { return CheckHeaderAction_1.CheckHeaderAction; } });\nconst SortHeaderAction_1 = require(\"./action/SortHeaderAction\");\nObject.defineProperty(exports, \"SortHeaderAction\", { enumerable: true, get: function () { return SortHeaderAction_1.SortHeaderAction; } });\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\n    get disabled() {\n        return this._disabled;\n    }\n}\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\n    get disabled() {\n        return this._disabled;\n    }\n}\nexports.ACTIONS = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    SORT: new ImmutableSortHeaderAction(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new ImmutableCheckHeaderAction(),\n};\nfunction of(headerAction) {\n    if (!headerAction) {\n        return undefined;\n    }\n    else if (typeof headerAction === \"string\") {\n        const key = headerAction.toUpperCase();\n        return exports.ACTIONS[key] || of(null);\n    }\n    else {\n        return headerAction;\n    }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n    if (headerCell.sort) {\n        if (typeof headerCell.sort === \"function\") {\n            const sortMethod = headerCell.sort;\n            // 0.9.0 Backward compatibility\n            const sort = ({ order, col, grid }) => sortMethod.call(headerCell, order, col, grid);\n            return new ImmutableSortHeaderAction({ sort });\n        }\n        return exports.ACTIONS.SORT;\n    }\n    return of(headerCell.headerAction);\n}\nexports.ofCell = ofCell;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAction = void 0;\nclass BaseAction {\n    constructor(option = {}) {\n        this._disabled = !!option.disabled || false;\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(disabled) {\n        this._disabled = disabled;\n        this.onChangeDisabledInternal();\n    }\n    clone() {\n        return new BaseAction(this);\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n    onChangeDisabledInternal() {\n        // impl\n    }\n}\nexports.BaseAction = BaseAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\nconst CheckHeaderStyle_1 = require(\"./style/CheckHeaderStyle\");\nObject.defineProperty(exports, \"CheckHeaderStyle\", { enumerable: true, get: function () { return CheckHeaderStyle_1.CheckHeaderStyle; } });\nconst MultilineTextHeaderStyle_1 = require(\"./style/MultilineTextHeaderStyle\");\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", { enumerable: true, get: function () { return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle; } });\nconst SortHeaderStyle_1 = require(\"./style/SortHeaderStyle\");\nObject.defineProperty(exports, \"SortHeaderStyle\", { enumerable: true, get: function () { return SortHeaderStyle_1.SortHeaderStyle; } });\nconst Style_1 = require(\"./style/Style\");\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\nfunction of(headerStyle, StyleClass) {\n    if (headerStyle) {\n        if (headerStyle instanceof Style_1.Style) {\n            return headerStyle;\n        }\n        else if (typeof headerStyle === \"function\") {\n            return of(headerStyle(), StyleClass);\n        }\n        return new StyleClass(headerStyle);\n    }\n    else {\n        return StyleClass.DEFAULT;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseStyle = void 0;\nconst EventTarget_1 = require(\"../../core/EventTarget\");\nconst EVENT_TYPE = {\n    CHANGE_STYLE: \"change_style\",\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n    constructor({ bgColor } = {}) {\n        super();\n        this._bgColor = bgColor;\n    }\n    static get EVENT_TYPE() {\n        return EVENT_TYPE;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n    }\n    get bgColor() {\n        return this._bgColor;\n    }\n    set bgColor(bgColor) {\n        this._bgColor = bgColor;\n        this.doChangeStyle();\n    }\n    doChangeStyle() {\n        this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n    }\n    clone() {\n        return new BaseStyle(this);\n    }\n}\nexports.BaseStyle = BaseStyle;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\nconst utils_1 = require(\"./internal/utils\");\nconst theme_1 = require(\"./themes/theme\");\nconst BASIC_1 = __importDefault(require(\"./themes/BASIC\"));\nconst MATERIAL_DESIGN_1 = __importDefault(require(\"./themes/MATERIAL_DESIGN\"));\nconst themes_1 = require(\"./plugins/themes\");\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\nconst builtin = {\n    BASIC: exports.BASIC,\n    MATERIAL_DESIGN: exports.MATERIAL_DESIGN,\n};\nlet defTheme = exports.MATERIAL_DESIGN;\nexports.theme = { Theme: theme_1.Theme };\nfunction of(value) {\n    if (!value) {\n        return null;\n    }\n    if (typeof value === \"string\") {\n        const t = utils_1.getIgnoreCase(getChoices(), value);\n        if (t) {\n            return t;\n        }\n        return null;\n    }\n    if (value instanceof theme_1.Theme) {\n        return value;\n    }\n    return new theme_1.Theme(value);\n}\nexports.of = of;\nfunction getDefault() {\n    return defTheme;\n}\nexports.getDefault = getDefault;\nfunction setDefault(defaultTheme) {\n    defTheme = of(defaultTheme) || defTheme;\n}\nexports.setDefault = setDefault;\nfunction getChoices() {\n    return utils_1.extend(builtin, themes_1.themes);\n}\nexports.getChoices = getChoices;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.drawInfomationMarkBox = exports.drawExclamationMarkBox = void 0;\nconst Rect_1 = require(\"../../internal/Rect\");\nfunction drawExclamationMarkBox(context, style, helper) {\n    const { bgColor, color } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect();\n    // draw box\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n    // draw exclamation mark\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, (height / 5) * 3), context, { fillColor });\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 4, width, height / 5), context, { fillColor });\n}\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\nfunction drawInfomationMarkBox(context, style, helper) {\n    const { bgColor, color } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect();\n    // draw box\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n    // draw i mark\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\n        fillColor,\n    });\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 2, width, (height / 5) * 3), context, { fillColor });\n}\nexports.drawInfomationMarkBox = drawInfomationMarkBox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseMessage = void 0;\nclass BaseMessage {\n    constructor(grid) {\n        this._messageElement = null;\n        this._grid = grid;\n    }\n    dispose() {\n        this.detachMessageElement();\n        if (this._messageElement) {\n            this._messageElement.dispose();\n        }\n        this._messageElement = null;\n    }\n    _getMessageElement() {\n        return (this._messageElement ||\n            (this._messageElement = this.createMessageElementInternal()));\n    }\n    attachMessageElement(col, row, message) {\n        const messageElement = this._getMessageElement();\n        messageElement.attach(this._grid, col, row, message);\n    }\n    moveMessageElement(col, row) {\n        const messageElement = this._getMessageElement();\n        messageElement.move(this._grid, col, row);\n    }\n    detachMessageElement() {\n        const messageElement = this._getMessageElement();\n        messageElement._detach();\n    }\n    drawCellMessage(message, context, style, helper, grid, info) {\n        this.drawCellMessageInternal(message, context, style, helper, grid, info);\n    }\n}\nexports.BaseMessage = BaseMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageElement = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst CLASSNAME = \"cheetah-grid__message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createMessageDomElement() {\n    require(\"@/columns/message/internal/MessageElement.css\");\n    const rootElement = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const messageElement = dom_1.createElement(\"span\", {\n        classList: [MESSAGE_CLASSNAME],\n    });\n    rootElement.appendChild(messageElement);\n    return rootElement;\n}\nclass MessageElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        const rootElement = (this._rootElement = createMessageDomElement());\n        this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n    }\n    dispose() {\n        this.detach();\n        this._handler.dispose();\n        delete this._rootElement;\n        delete this._messageElement;\n    }\n    attach(grid, col, row, message) {\n        const rootElement = this._rootElement;\n        const messageElement = this._messageElement;\n        rootElement.classList.remove(SHOWN_CLASSNAME);\n        rootElement.classList.add(HIDDEN_CLASSNAME);\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n            messageElement.textContent = message.message;\n        }\n        else {\n            this._detach();\n        }\n    }\n    move(grid, col, row) {\n        const rootElement = this._rootElement;\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n        }\n        else {\n            this._detach();\n        }\n    }\n    detach() {\n        this._detach();\n    }\n    _detach() {\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            rootElement.parentElement.removeChild(rootElement);\n            rootElement.classList.remove(SHOWN_CLASSNAME);\n            rootElement.classList.add(HIDDEN_CLASSNAME);\n        }\n    }\n    _attachCell(grid, col, row) {\n        const rootElement = this._rootElement;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        const { bottom: top, left, width } = rect;\n        const { frozenRowCount, frozenColCount } = grid;\n        if (row >= frozenRowCount && frozenRowCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n            if (top < frozenRect.bottom) {\n                return false; //\n            }\n        }\n        else {\n            if (top < 0) {\n                return false; //\n            }\n        }\n        if (col >= frozenColCount && frozenColCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n            if (left < frozenRect.right) {\n                return false; //\n            }\n        }\n        else {\n            if (left < 0) {\n                return false; //\n            }\n        }\n        const { offsetHeight, offsetWidth } = element;\n        if (offsetHeight < top) {\n            return false; //\n        }\n        if (offsetWidth < left) {\n            return false; //\n        }\n        rootElement.style.top = `${top.toFixed()}px`;\n        rootElement.style.left = `${left.toFixed()}px`;\n        rootElement.style.width = `${width.toFixed()}px`;\n        if (rootElement.parentElement !== element) {\n            element.appendChild(rootElement);\n        }\n        return true;\n    }\n}\nexports.MessageElement = MessageElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LG_EVENT_TYPE = void 0;\nconst DG_EVENT_TYPE_1 = require(\"../core/DG_EVENT_TYPE\");\nconst utils_1 = require(\"../internal/utils\");\nexports.LG_EVENT_TYPE = utils_1.extend(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\n    CHANGED_VALUE: \"changed_value\",\n    CHANGED_HEADER_VALUE: \"changed_header_value\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fill = exports.getPath2D = void 0;\nconst utils_1 = require(\"./utils\");\nfunction getPath2D() {\n    if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\n        return Path2D;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    return require(\"./legacy/canvas/Path2DShim\").Path2DShim;\n}\nexports.getPath2D = getPath2D;\nfunction fill(pathModule, ctx, x, y, w, h) {\n    ctx.save();\n    try {\n        const { width, height } = pathModule;\n        const { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = pathModule;\n        w = w || width;\n        h = h || height;\n        const xrate = w / width;\n        const yrate = h / (upsideDown ? -height : height);\n        x = x || 0;\n        y = upsideDown ? (y || 0) + -height * yrate : y || 0;\n        ctx.translate(x, y);\n        ctx.scale(xrate, yrate);\n        if (offsetX !== 0 || offsetY !== 0) {\n            ctx.translate(offsetX, offsetY);\n        }\n        const Path2D = getPath2D();\n        const path2d = (pathModule.path2d =\n            pathModule.path2d || new Path2D(pathModule.d));\n        ctx.fill(path2d);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.fill = fill;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Action = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst BaseAction_1 = require(\"./BaseAction\");\nconst action_utils_1 = require(\"./action-utils\");\nclass Action extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        super(option);\n        this._action = option.action || (() => { });\n    }\n    get editable() {\n        return false;\n    }\n    get action() {\n        return this._action;\n    }\n    set action(action) {\n        this._action = action;\n    }\n    clone() {\n        return new Action(this);\n    }\n    getState(_grid) {\n        return {};\n    }\n    bindGridEvent(grid, cellId) {\n        const state = this.getState(grid);\n        const action = (cell) => {\n            if (action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return;\n            }\n            const record = grid.getRowRecord(cell.row);\n            this._action(record, cell);\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n        ];\n    }\n    onPasteCellRangeBox() {\n        // noop\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n}\nexports.Action = Action;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseInputEditor = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass BaseInputEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n    }\n    bindGridEvent(grid, cellId) {\n        const open = (cell) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return false;\n            }\n            this.onOpenCellInternal(grid, cell);\n            return true;\n        };\n        const input = (cell, value) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return;\n            }\n            this.onInputCellInternal(grid, cell, value);\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                input({\n                    col: e.col,\n                    row: e.row,\n                }, e.value);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                utils_1.event.cancel(e.event);\n                input({\n                    col: e.col,\n                    row: e.row,\n                }, e.normalizeValue);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                open({\n                    col: cell.col,\n                    row: cell.row,\n                });\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                open({\n                    col: e.col,\n                    row: e.row,\n                });\n                utils_1.event.cancel(e.event);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n                    return;\n                }\n                const sel = grid.selection.select;\n                if (!isTarget(sel.col, sel.row)) {\n                    return;\n                }\n                if (open({\n                    col: sel.col,\n                    row: sel.row,\n                })) {\n                    e.stopCellMoving();\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (e) => {\n                this.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n                this.onGridScrollInternal(grid);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return false;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                    return false;\n                }\n                return true;\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                    return;\n                }\n                const range = grid.getCellRange(cell.col, cell.row);\n                if (range.start.col !== range.end.col ||\n                    range.start.row !== range.end.row) {\n                    const { input } = cell;\n                    const baseRect = grid.getCellRect(cell.col, cell.row);\n                    const rangeRect = grid.getCellRangeRect(range);\n                    input.style.top = `${(parseFloat(input.style.top) +\n                        (rangeRect.top - baseRect.top)).toFixed()}px`;\n                    input.style.left = `${(parseFloat(input.style.left) +\n                        (rangeRect.left - baseRect.left)).toFixed()}px`;\n                    input.style.width = `${rangeRect.width.toFixed()}px`;\n                    input.style.height = `${rangeRect.height.toFixed()}px`;\n                }\n                this.onSetInputAttrsInternal(grid, {\n                    col: cell.col,\n                    row: cell.row,\n                }, cell.input);\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        grid.doChangeValue(cell.col, cell.row, () => value);\n    }\n    onDeleteCellRangeBox(grid, cell) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        grid.doChangeValue(cell.col, cell.row, () => \"\");\n    }\n}\nexports.BaseInputEditor = BaseInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setInputValue = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nfunction setInputValue(input, value) {\n    const sign = input.type === \"number\" && value === \"-\";\n    if (sign) {\n        // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\n        input.type = \"\";\n        let handler = new EventHandler_1.EventHandler();\n        const dispose = () => {\n            if (handler) {\n                handler.dispose();\n                handler = null;\n            }\n        };\n        handler.once(input, \"input\", (_e) => {\n            input.type = \"number\";\n            dispose();\n        });\n        handler.once(input, \"blur\", (_e) => {\n            dispose();\n        });\n    }\n    input.value = value !== null && value !== void 0 ? value : \"\";\n}\nexports.setInputValue = setInputValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\nconst BranchGraphColumn_1 = require(\"./type/BranchGraphColumn\");\nObject.defineProperty(exports, \"BranchGraphColumn\", { enumerable: true, get: function () { return BranchGraphColumn_1.BranchGraphColumn; } });\nconst ButtonColumn_1 = require(\"./type/ButtonColumn\");\nObject.defineProperty(exports, \"ButtonColumn\", { enumerable: true, get: function () { return ButtonColumn_1.ButtonColumn; } });\nconst CheckColumn_1 = require(\"./type/CheckColumn\");\nObject.defineProperty(exports, \"CheckColumn\", { enumerable: true, get: function () { return CheckColumn_1.CheckColumn; } });\nconst Column_1 = require(\"./type/Column\");\nObject.defineProperty(exports, \"Column\", { enumerable: true, get: function () { return Column_1.Column; } });\nconst IconColumn_1 = require(\"./type/IconColumn\");\nObject.defineProperty(exports, \"IconColumn\", { enumerable: true, get: function () { return IconColumn_1.IconColumn; } });\nconst ImageColumn_1 = require(\"./type/ImageColumn\");\nObject.defineProperty(exports, \"ImageColumn\", { enumerable: true, get: function () { return ImageColumn_1.ImageColumn; } });\nconst MenuColumn_1 = require(\"./type/MenuColumn\");\nObject.defineProperty(exports, \"MenuColumn\", { enumerable: true, get: function () { return MenuColumn_1.MenuColumn; } });\nconst MultilineTextColumn_1 = require(\"./type/MultilineTextColumn\");\nObject.defineProperty(exports, \"MultilineTextColumn\", { enumerable: true, get: function () { return MultilineTextColumn_1.MultilineTextColumn; } });\nconst NumberColumn_1 = require(\"./type/NumberColumn\");\nObject.defineProperty(exports, \"NumberColumn\", { enumerable: true, get: function () { return NumberColumn_1.NumberColumn; } });\nconst PercentCompleteBarColumn_1 = require(\"./type/PercentCompleteBarColumn\");\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", { enumerable: true, get: function () { return PercentCompleteBarColumn_1.PercentCompleteBarColumn; } });\nconst RadioColumn_1 = require(\"./type/RadioColumn\");\nObject.defineProperty(exports, \"RadioColumn\", { enumerable: true, get: function () { return RadioColumn_1.RadioColumn; } });\nconst TYPES = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DEFAULT: new Column_1.Column(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    NUMBER: new NumberColumn_1.NumberColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new CheckColumn_1.CheckColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    RADIO: new RadioColumn_1.RadioColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    BUTTON: new ButtonColumn_1.ButtonColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    IMAGE: new ImageColumn_1.ImageColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn(),\n};\nfunction of(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ncolumnType\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    if (!columnType) {\n        return TYPES.DEFAULT;\n    }\n    else if (typeof columnType === \"string\") {\n        const key = columnType.toUpperCase();\n        return TYPES[key] || of(null);\n    }\n    else {\n        return columnType;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass ButtonStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { buttonBgColor } = style;\n        this._buttonBgColor = buttonBgColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\n    }\n    get buttonBgColor() {\n        return this._buttonBgColor;\n    }\n    set buttonBgColor(buttonBgColor) {\n        this._buttonBgColor = buttonBgColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new ButtonStyle(this);\n    }\n}\nexports.ButtonStyle = ButtonStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n        this._borderColor = borderColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    get borderColor() {\n        return this._borderColor;\n    }\n    set borderColor(borderColor) {\n        this._borderColor = borderColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new CheckStyle(this);\n    }\n}\nexports.CheckStyle = CheckStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IconStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass IconStyle extends Style_1.Style {\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\n    }\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n    }\n    clone() {\n        return new IconStyle(this);\n    }\n}\nexports.IconStyle = IconStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImageStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        this._imageSizing = style.imageSizing;\n        this._margin = style.margin || 4;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\n    }\n    get imageSizing() {\n        return this._imageSizing;\n    }\n    set imageSizing(imageSizing) {\n        this._imageSizing = imageSizing;\n        this.doChangeStyle();\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(margin) {\n        this._margin = margin;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new ImageStyle(this);\n    }\n}\nexports.ImageStyle = ImageStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass MenuStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        const { appearance } = style;\n        this._appearance = appearance;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\n    }\n    get appearance() {\n        return this._appearance || \"menulist-button\";\n    }\n    set appearance(appearance) {\n        this._appearance = appearance;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new MenuStyle(this);\n    }\n}\nexports.MenuStyle = MenuStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass MultilineTextStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textBaseline: \"top\" }));\n        this._lineHeight = style.lineHeight || \"1em\";\n        this._autoWrapText = style.autoWrapText || false;\n        this._lineClamp = style.lineClamp;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new MultilineTextStyle());\n    }\n    clone() {\n        return new MultilineTextStyle(this);\n    }\n    get lineHeight() {\n        return this._lineHeight;\n    }\n    set lineHeight(lineHeight) {\n        this._lineHeight = lineHeight;\n        this.doChangeStyle();\n    }\n    get lineClamp() {\n        return this._lineClamp;\n    }\n    set lineClamp(lineClamp) {\n        this._lineClamp = lineClamp;\n        this.doChangeStyle();\n    }\n    get autoWrapText() {\n        return this._autoWrapText;\n    }\n    set autoWrapText(autoWrapText) {\n        this._autoWrapText = autoWrapText;\n        this.doChangeStyle();\n    }\n}\nexports.MultilineTextStyle = MultilineTextStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass NumberStyle extends Style_1.Style {\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\n    }\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"right\" }));\n    }\n    clone() {\n        return new NumberStyle(this);\n    }\n}\nexports.NumberStyle = NumberStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PercentCompleteBarStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nconst DEFAULT_BAR_COLOR = (num) => {\n    if (num > 80) {\n        return \"#20a8d8\";\n    }\n    if (num > 50) {\n        return \"#4dbd74\";\n    }\n    if (num > 20) {\n        return \"#ffc107\";\n    }\n    return \"#f86c6b\";\n};\nclass PercentCompleteBarStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._barColor = style.barColor || DEFAULT_BAR_COLOR;\n        this._barBgColor = style.barBgColor || \"#f0f3f5\";\n        this._barHeight = style.barHeight || 3;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new PercentCompleteBarStyle());\n    }\n    get barColor() {\n        return this._barColor;\n    }\n    set barColor(barColor) {\n        this._barColor = barColor;\n        this.doChangeStyle();\n    }\n    get barBgColor() {\n        return this._barBgColor;\n    }\n    set barBgColor(barBgColor) {\n        this._barBgColor = barBgColor;\n        this.doChangeStyle();\n    }\n    get barHeight() {\n        return this._barHeight;\n    }\n    set barHeight(barHeight) {\n        this._barHeight = barHeight;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new PercentCompleteBarStyle(this);\n    }\n}\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, } = style;\n        this._checkColor = checkColor;\n        this._uncheckBorderColor = uncheckBorderColor;\n        this._checkBorderColor = checkBorderColor;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new RadioStyle());\n    }\n    get checkColor() {\n        return this._checkColor;\n    }\n    set checkColor(checkColor) {\n        this._checkColor = checkColor;\n        this.doChangeStyle();\n    }\n    get uncheckBorderColor() {\n        return this._uncheckBorderColor;\n    }\n    set uncheckBorderColor(uncheckBorderColor) {\n        this._uncheckBorderColor = uncheckBorderColor;\n        this.doChangeStyle();\n    }\n    get checkBorderColor() {\n        return this._checkBorderColor;\n    }\n    set checkBorderColor(checkBorderColor) {\n        this._checkBorderColor = checkBorderColor;\n        this.doChangeStyle();\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new RadioStyle(this);\n    }\n}\nexports.RadioStyle = RadioStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCacheOrLoad = exports.loadImage = void 0;\nconst LRUCache_1 = require(\"./LRUCache\");\nconst utils_1 = require(\"./utils\");\nconst allCache = {};\nfunction loadImage(src) {\n    if (typeof Promise === \"undefined\") {\n        console.error(\"Promise is not loaded. load Promise before this process.\");\n        return {\n            then() {\n                return this;\n            },\n        };\n    }\n    const img = new Image();\n    const result = new Promise((resolve) => {\n        img.onload = () => {\n            resolve(img);\n        };\n    });\n    img.onerror = () => {\n        const url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n        console.warn(`cannot load: ${url}`);\n        throw new Error(`IMAGE LOAD ERROR: ${url}`);\n    };\n    img.src = src;\n    return result;\n}\nexports.loadImage = loadImage;\nfunction getCacheOrLoad0(cache, src) {\n    return utils_1.then(src, (src) => {\n        const c = cache.get(src);\n        if (c) {\n            return c;\n        }\n        const result = loadImage(src).then((img) => {\n            cache.put(src, img);\n            return img;\n        });\n        cache.put(src, result);\n        return result;\n    });\n}\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n    const cache = allCache[cacheName] ||\n        (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\n    return getCacheOrLoad0(cache, src);\n}\nexports.getCacheOrLoad = getCacheOrLoad;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeToFn = exports.normalize = void 0;\n/** @private */\nfunction extend(a, b) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const o = {};\n    for (const k in a) {\n        o[k] = a[k];\n    }\n    for (const k in b) {\n        o[k] = b[k];\n    }\n    return o;\n}\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\nfunction normalize(options) {\n    if (!options) {\n        return [];\n    }\n    if (Array.isArray(options)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return options.map(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (e) => extend(e, { label: e.caption || e.label }));\n    }\n    if (typeof options === \"string\") {\n        return normalize(JSON.parse(options));\n    }\n    const result = [];\n    for (const k in options) {\n        result.push({\n            value: k,\n            label: options[k],\n        });\n    }\n    return result;\n}\nexports.normalize = normalize;\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\nfunction normalizeToFn(options) {\n    if (typeof options === \"function\") {\n        return (record) => normalize(options(record));\n    }\n    return () => normalize(options);\n}\nexports.normalizeToFn = normalizeToFn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DrawGrid = void 0;\nconst calc = __importStar(require(\"../internal/calc\"));\nconst hiDPI = __importStar(require(\"../internal/hiDPI\"));\nconst style = __importStar(require(\"../internal/style\"));\nconst utils_1 = require(\"../internal/utils\");\nconst DG_EVENT_TYPE_1 = require(\"./DG_EVENT_TYPE\");\nconst EventHandler_1 = require(\"../internal/EventHandler\");\nconst EventTarget_1 = require(\"./EventTarget\");\nconst NumberMap_1 = require(\"../internal/NumberMap\");\nconst Rect_1 = require(\"../internal/Rect\");\nconst Scrollable_1 = require(\"../internal/Scrollable\");\nconst canvases_1 = require(\"../internal/canvases\");\n//protected symbol\nconst symbolManager_1 = require(\"../internal/symbolManager\");\nconst paste_utils_1 = require(\"../internal/paste-utils\");\nconst { \n/** @private */\nisTouchEvent, \n/** @private */\ngetMouseButtons, \n/** @private */\ngetKeyCode, \n/** @private */\ncancel: cancelEvent, } = utils_1.event;\n/** @private */\nconst _ = symbolManager_1.getProtectedSymbol();\n/** @private */\nfunction createRootElement() {\n    const element = document.createElement(\"div\");\n    element.classList.add(\"cheetah-grid\");\n    return element;\n}\n/** @private */\nconst KEY_BS = 8;\n/** @private */\nconst KEY_TAB = 9;\n/** @private */\nconst KEY_ENTER = 13;\n/** @private */\nconst KEY_END = 35;\n/** @private */\nconst KEY_HOME = 36;\n/** @private */\nconst KEY_LEFT = 37;\n/** @private */\nconst KEY_UP = 38;\n/** @private */\nconst KEY_RIGHT = 39;\n/** @private */\nconst KEY_DOWN = 40;\n/** @private */\nconst KEY_DEL = 46;\n/** @private */\nconst KEY_ALPHA_A = 65;\n/** @private */\nconst KEY_ALPHA_C = 67;\n/** @private */\nconst KEY_ALPHA_V = 86;\n//private methods\n/** @private */\nfunction _vibrate(e) {\n    if (navigator.vibrate && isTouchEvent(e)) {\n        navigator.vibrate(50);\n    }\n}\n/** @private */\nfunction _getTargetRowAt(absoluteY) {\n    const internal = this.getTargetRowAtInternal(absoluteY);\n    if (internal != null) {\n        return internal;\n    }\n    const findBefore = (startRow, startBottom) => {\n        let bottom = startBottom;\n        for (let row = startRow; row >= 0; row--) {\n            const height = _getRowHeight.call(this, row);\n            const top = bottom - height;\n            if (top <= absoluteY && absoluteY < bottom) {\n                return {\n                    top,\n                    row,\n                };\n            }\n            bottom = top;\n        }\n        return null;\n    };\n    const findAfter = (startRow, startBottom) => {\n        let top = startBottom - _getRowHeight.call(this, startRow);\n        const { rowCount } = this[_];\n        for (let row = startRow; row < rowCount; row++) {\n            const height = _getRowHeight.call(this, row);\n            const bottom = top + height;\n            if (top <= absoluteY && absoluteY < bottom) {\n                return {\n                    top,\n                    row,\n                };\n            }\n            top = bottom;\n        }\n        return null;\n    };\n    const candRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\n    const bottom = _getRowsHeight.call(this, 0, candRow);\n    if (absoluteY >= bottom) {\n        return findAfter(candRow, bottom);\n    }\n    else {\n        return findBefore(candRow, bottom);\n    }\n}\n/** @private */\nfunction _getTargetColAt(grid, absoluteX) {\n    let left = 0;\n    const { colCount } = grid[_];\n    for (let col = 0; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        const right = left + width;\n        if (right > absoluteX) {\n            return {\n                left,\n                col,\n            };\n        }\n        left = right;\n    }\n    return null;\n}\n/** @private */\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n    if (!grid[_].frozenRowCount) {\n        return null;\n    }\n    let { top } = grid[_].scroll;\n    const rowCount = grid[_].frozenRowCount;\n    for (let row = 0; row < rowCount; row++) {\n        const height = _getRowHeight.call(grid, row);\n        const bottom = top + height;\n        if (bottom > absoluteY) {\n            return {\n                top,\n                row,\n            };\n        }\n        top = bottom;\n    }\n    return null;\n}\n/** @private */\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n    if (!grid[_].frozenColCount) {\n        return null;\n    }\n    let { left } = grid[_].scroll;\n    const colCount = grid[_].frozenColCount;\n    for (let col = 0; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        const right = left + width;\n        if (right > absoluteX) {\n            return {\n                left,\n                col,\n            };\n        }\n        left = right;\n    }\n    return null;\n}\n/** @private */\nfunction _getFrozenRowsRect(grid) {\n    if (!grid[_].frozenRowCount) {\n        return null;\n    }\n    const { top } = grid[_].scroll;\n    let height = 0;\n    const rowCount = grid[_].frozenRowCount;\n    for (let row = 0; row < rowCount; row++) {\n        height += _getRowHeight.call(grid, row);\n    }\n    return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n}\n/** @private */\nfunction _getFrozenColsRect(grid) {\n    if (!grid[_].frozenColCount) {\n        return null;\n    }\n    const { left } = grid[_].scroll;\n    let width = 0;\n    const colCount = grid[_].frozenColCount;\n    for (let col = 0; col < colCount; col++) {\n        width += _getColWidth(grid, col);\n    }\n    return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n}\n/** @private */\nfunction _getCellDrawing(grid, col, row) {\n    if (!grid[_].drawCells[row]) {\n        return null;\n    }\n    return grid[_].drawCells[row][col];\n}\n/** @private */\nfunction _putCellDrawing(grid, col, row, context) {\n    if (!grid[_].drawCells[row]) {\n        grid[_].drawCells[row] = {};\n    }\n    grid[_].drawCells[row][col] = context;\n}\n/** @private */\nfunction _removeCellDrawing(grid, col, row) {\n    if (!grid[_].drawCells[row]) {\n        return;\n    }\n    delete grid[_].drawCells[row][col];\n    if (Object.keys(grid[_].drawCells[row]).length === 0) {\n        delete grid[_].drawCells[row];\n    }\n}\n/** @private */\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n    const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n    const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n    if (drawRect.height > 0 && drawRect.width > 0) {\n        ctx.save();\n        try {\n            const cellDrawing = _getCellDrawing(this, col, row);\n            if (cellDrawing) {\n                cellDrawing.cancel();\n            }\n            const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\n            const p = this.onDrawCell(col, row, dcContext);\n            if (utils_1.isPromise(p)) {\n                //\n                _putCellDrawing(this, col, row, dcContext);\n                const pCol = col;\n                dcContext._delayMode(this, () => {\n                    _removeCellDrawing(this, pCol, row);\n                });\n                p.then(() => {\n                    dcContext.terminate();\n                });\n            }\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n}\n/** @private */\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n    const { colCount } = grid[_];\n    const drawOuter = (col, absoluteLeft) => {\n        //\n        if (col >= colCount - 1 &&\n            grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n            const outerLeft = absoluteLeft - visibleRect.left;\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n            ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n            ctx.fill();\n            ctx.restore();\n        }\n    };\n    let skipAbsoluteLeft = 0;\n    if (initFrozenCol) {\n        let absoluteLeft = initFrozenCol.left;\n        const count = grid[_].frozenColCount;\n        for (let { col } = initFrozenCol; col < count; col++) {\n            const width = _getColWidth(grid, col);\n            _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n            absoluteLeft += width;\n            if (drawRight <= absoluteLeft) {\n                //\n                drawOuter(col, absoluteLeft);\n                return;\n            }\n        }\n        skipAbsoluteLeft = absoluteLeft;\n    }\n    let absoluteLeft = initCol.left;\n    for (let { col } = initCol; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n        absoluteLeft += width;\n        if (drawRight <= absoluteLeft) {\n            //\n            drawOuter(col, absoluteLeft);\n            return;\n        }\n    }\n    drawOuter(colCount - 1, absoluteLeft);\n}\n/** @private */\nfunction _getInitContext() {\n    return this._getInitContext();\n}\n/** @private */\nfunction _invalidateRect(grid, drawRect) {\n    const visibleRect = _getVisibleRect(grid);\n    const { rowCount } = grid[_];\n    const ctx = _getInitContext.call(grid);\n    const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\n        top: _getRowsHeight.call(grid, 0, rowCount - 1),\n        row: rowCount,\n    };\n    const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n        left: _getColsWidth(grid, 0, grid[_].colCount - 1),\n        col: grid[_].colCount,\n    };\n    const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n    const drawRight = Math.min(visibleRect.right, drawRect.right);\n    const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n    const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n    const drawLayers = new DrawLayers();\n    const drawOuter = (row, absoluteTop) => {\n        //\n        if (row >= rowCount - 1 &&\n            grid[_].canvas.height > absoluteTop - visibleRect.top) {\n            const outerTop = absoluteTop - visibleRect.top;\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n            ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n            ctx.fill();\n            ctx.restore();\n        }\n    };\n    let skipAbsoluteTop = 0;\n    if (initFrozenRow) {\n        let absoluteTop = initFrozenRow.top;\n        const count = grid[_].frozenRowCount;\n        for (let { row } = initFrozenRow; row < count; row++) {\n            const height = _getRowHeight.call(grid, row);\n            _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n            absoluteTop += height;\n            if (drawBottom <= absoluteTop) {\n                //\n                drawOuter(row, absoluteTop);\n                drawLayers.draw(ctx);\n                return;\n            }\n        }\n        skipAbsoluteTop = absoluteTop;\n    }\n    let absoluteTop = initRow.top;\n    for (let { row } = initRow; row < rowCount; row++) {\n        const height = _getRowHeight.call(grid, row);\n        //\n        _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n        absoluteTop += height;\n        if (drawBottom <= absoluteTop) {\n            //\n            drawOuter(row, absoluteTop);\n            drawLayers.draw(ctx);\n            return;\n        }\n    }\n    drawOuter(rowCount - 1, absoluteTop);\n    drawLayers.draw(ctx);\n}\n/** @private */\nfunction _toPxWidth(grid, width) {\n    return Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n/** @private */\nfunction _adjustColWidth(grid, col, orgWidth) {\n    const limits = _getColWidthLimits(grid, col);\n    return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\n}\n/** @private */\nfunction _applyColWidthLimits(limits, orgWidth) {\n    if (!limits) {\n        return orgWidth;\n    }\n    if (limits.min) {\n        if (limits.min > orgWidth) {\n            return limits.min;\n        }\n    }\n    if (limits.max) {\n        if (limits.max < orgWidth) {\n            return limits.max;\n        }\n    }\n    return orgWidth;\n}\n/**\n * Gets the definition of the column width.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {string|number} width definition\n * @private\n */\nfunction _getColWidthDefine(grid, col) {\n    const width = grid[_].colWidthsMap.get(col);\n    if (width) {\n        return width;\n    }\n    return grid.defaultColWidth;\n}\n/**\n * Gets the column width limits.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {object|null} the column width limits\n * @private\n */\nfunction _getColWidthLimits(grid, col) {\n    const limit = grid[_].colWidthsLimit[col];\n    if (!limit) {\n        return null;\n    }\n    const result = {};\n    if (limit.min) {\n        result.min = _toPxWidth(grid, limit.min);\n        result.minDef = limit.min;\n    }\n    if (limit.max) {\n        result.max = _toPxWidth(grid, limit.max);\n        result.maxDef = limit.max;\n    }\n    return result;\n}\n/**\n * Checks if the given width definition is `auto`.\n * @param {string|number} width width definition to check\n * @returns {boolean} `true ` if the given width definition is `auto`\n * @private\n */\nfunction isAutoDefine(width) {\n    return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\n}\n/**\n * Creates a formula to calculate the auto width.\n * @param {DrawGrid} grid grid instance\n * @returns {string} formula\n * @private\n */\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\n    const fullWidth = grid[_].calcWidthContext.full;\n    let sumMin = 0;\n    const others = [];\n    let autoCount = 0;\n    const hasLimitsOnAuto = [];\n    for (let col = 0; col < grid[_].colCount; col++) {\n        const def = _getColWidthDefine(grid, col);\n        const limits = _getColWidthLimits(grid, col);\n        if (isAutoDefine(def)) {\n            if (limits) {\n                hasLimitsOnAuto.push(limits);\n                if (limits.min) {\n                    sumMin += limits.min;\n                }\n            }\n            autoCount++;\n        }\n        else {\n            let expr = def;\n            if (limits) {\n                const orgWidth = _toPxWidth(grid, expr);\n                const newWidth = _applyColWidthLimits(limits, orgWidth);\n                if (orgWidth !== newWidth) {\n                    expr = `${newWidth}px`;\n                }\n                sumMin += newWidth;\n            }\n            others.push(expr);\n        }\n        if (shortCircuit && sumMin > fullWidth) {\n            // Returns 0px because it has consumed the full width.\n            return \"0px\";\n        }\n    }\n    if (hasLimitsOnAuto.length && others.length) {\n        const autoPx = (fullWidth -\n            _toPxWidth(grid, `calc(${others\n                .map((c) => (typeof c === \"number\" ? `${c}px` : c))\n                .join(\" + \")})`)) /\n            autoCount;\n        hasLimitsOnAuto.forEach((limits) => {\n            if (limits.min && autoPx < limits.min) {\n                others.push(limits.minDef);\n                autoCount--;\n            }\n            else if (limits.max && limits.max < autoPx) {\n                others.push(limits.maxDef);\n                autoCount--;\n            }\n        });\n        if (shortCircuit && autoCount <= 0) {\n            return `${autoPx}px`;\n        }\n    }\n    if (others.length) {\n        const strDefs = [];\n        let num = 0;\n        others.forEach((c) => {\n            if (typeof c === \"number\") {\n                num += c;\n            }\n            else {\n                strDefs.push(c);\n            }\n        });\n        strDefs.push(`${num}px`);\n        return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\n    }\n    else {\n        return `${100 / autoCount}%`;\n    }\n}\n/**\n * Calculate the pixels of width from the definition of width.\n * @param {DrawGrid} grid grid instance\n * @param {string|number} width width definition\n * @returns {number} the pixels of width\n * @private\n */\nfunction _colWidthDefineToPxWidth(grid, width) {\n    if (isAutoDefine(width)) {\n        return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\n    }\n    return _toPxWidth(grid, width);\n}\n/** @private */\nfunction _getColWidth(grid, col) {\n    const width = _getColWidthDefine(grid, col);\n    return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\n}\n/** @private */\nfunction _setColWidth(grid, col, width) {\n    grid[_].colWidthsMap.put(col, width);\n}\n/**\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\n * @param {DrawGrid} grid grid instance\n * @returns {void}\n * @private\n */\nfunction _storeAutoColWidthExprs(grid) {\n    let expr = null;\n    for (let col = 0; col < grid[_].colCount; col++) {\n        const def = _getColWidthDefine(grid, col);\n        if (isAutoDefine(def)) {\n            _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\n        }\n    }\n}\n/** @private */\nfunction _getColsWidth(grid, startCol, endCol) {\n    const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\n    const colCount = endCol - startCol + 1;\n    let w = defaultColPxWidth * colCount;\n    grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n        w +=\n            _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) -\n                defaultColPxWidth;\n    });\n    for (let col = startCol; col <= endCol; col++) {\n        if (grid[_].colWidthsMap.has(col)) {\n            continue;\n        }\n        const adj = _adjustColWidth(grid, col, defaultColPxWidth);\n        if (adj !== defaultColPxWidth) {\n            w += adj - defaultColPxWidth;\n        }\n    }\n    return w;\n}\n/** @private */\nfunction _getRowHeight(row) {\n    const internal = this.getRowHeightInternal(row);\n    if (internal != null) {\n        return internal;\n    }\n    const height = this[_].rowHeightsMap.get(row);\n    if (height) {\n        return height;\n    }\n    return this[_].defaultRowHeight;\n}\n/** @private */\nfunction _setRowHeight(grid, row, height) {\n    grid[_].rowHeightsMap.put(row, height);\n}\n/** @private */\nfunction _getRowsHeight(startRow, endRow) {\n    const internal = this.getRowsHeightInternal(startRow, endRow);\n    if (internal != null) {\n        return internal;\n    }\n    const rowCount = endRow - startRow + 1;\n    let h = this[_].defaultRowHeight * rowCount;\n    this[_].rowHeightsMap.each(startRow, endRow, (height) => {\n        h += height - this[_].defaultRowHeight;\n    });\n    return h;\n}\n/** @private */\nfunction _getScrollWidth(grid) {\n    return _getColsWidth(grid, 0, grid[_].colCount - 1);\n}\n/** @private */\nfunction _getScrollHeight(row) {\n    const internal = this.getScrollHeightInternal(row);\n    if (internal != null) {\n        return internal;\n    }\n    let h = this[_].defaultRowHeight * this[_].rowCount;\n    this[_].rowHeightsMap.each(0, this[_].rowCount - 1, (height) => {\n        h += height - this[_].defaultRowHeight;\n    });\n    return h;\n}\n/** @private */\nfunction _onScroll(grid, _e) {\n    const lastLeft = grid[_].scroll.left;\n    const lastTop = grid[_].scroll.top;\n    const moveX = grid[_].scrollable.scrollLeft - lastLeft;\n    const moveY = grid[_].scrollable.scrollTop - lastTop;\n    //\n    grid[_].scroll = {\n        left: grid[_].scrollable.scrollLeft,\n        top: grid[_].scrollable.scrollTop,\n    };\n    const visibleRect = _getVisibleRect(grid);\n    if (Math.abs(moveX) >= visibleRect.width ||\n        Math.abs(moveY) >= visibleRect.height) {\n        //\n        _invalidateRect(grid, visibleRect);\n    }\n    else {\n        //\n        grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n        if (moveX !== 0) {\n            //\n            const redrawRect = visibleRect.copy();\n            if (moveX < 0) {\n                redrawRect.width = -moveX;\n                if (grid[_].frozenColCount > 0) {\n                    //\n                    const frozenRect = _getFrozenColsRect(grid);\n                    redrawRect.width += frozenRect.width;\n                }\n            }\n            else if (moveX > 0) {\n                redrawRect.left = redrawRect.right - moveX;\n            }\n            //\n            _invalidateRect(grid, redrawRect);\n            if (moveX > 0) {\n                if (grid[_].frozenColCount > 0) {\n                    //\n                    _invalidateRect(grid, _getFrozenColsRect(grid));\n                }\n            }\n        }\n        if (moveY !== 0) {\n            //\n            const redrawRect = visibleRect.copy();\n            if (moveY < 0) {\n                redrawRect.height = -moveY;\n                if (grid[_].frozenRowCount > 0) {\n                    //\n                    const frozenRect = _getFrozenRowsRect(grid);\n                    redrawRect.height += frozenRect.height;\n                }\n            }\n            else if (moveY > 0) {\n                redrawRect.top = redrawRect.bottom - moveY;\n            }\n            //\n            _invalidateRect(grid, redrawRect);\n            if (moveY > 0) {\n                if (grid[_].frozenRowCount > 0) {\n                    //\n                    _invalidateRect(grid, _getFrozenRowsRect(grid));\n                }\n            }\n        }\n    }\n}\n/** @private */\n// eslint-disable-next-line complexity\nfunction _onKeyDownMove(e) {\n    var _a, _b, _c;\n    const { shiftKey } = e;\n    const keyCode = getKeyCode(e);\n    const focusCell = shiftKey ? this.selection.focus : this.selection.select;\n    if (keyCode === KEY_LEFT) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, null, \"W\");\n        }\n        else {\n            if (!hmove.call(this, \"W\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_UP) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"N\", null);\n        }\n        else {\n            if (!vmove.call(this, \"N\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_RIGHT) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, null, \"E\");\n        }\n        else {\n            if (!hmove.call(this, \"E\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_DOWN) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"S\", null);\n        }\n        else {\n            if (!vmove.call(this, \"S\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_HOME) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"N\", \"W\");\n        }\n        else {\n            move(this, null, \"W\");\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_END) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"S\", \"E\");\n        }\n        else {\n            move(this, null, \"E\");\n        }\n        cancelEvent(e);\n    }\n    else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\n        if (shiftKey) {\n            if (!hmove.call(this, \"W\", false)) {\n                const row = this.getMoveUpRowByKeyDownInternal(focusCell);\n                if (0 > row) {\n                    return;\n                }\n                _moveFocusCell.call(this, this.colCount - 1, row, false);\n            }\n        }\n        else {\n            if (!hmove.call(this, \"E\", false)) {\n                const row = this.getMoveDownRowByKeyDownInternal(focusCell);\n                if (this.rowCount <= row) {\n                    return;\n                }\n                _moveFocusCell.call(this, 0, row, false);\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\n        if (shiftKey) {\n            if (!vmove.call(this, \"N\", false)) {\n                const col = this.getMoveLeftColByKeyDownInternal(focusCell);\n                if (0 > col) {\n                    return;\n                }\n                _moveFocusCell.call(this, col, this.rowCount - 1, false);\n            }\n        }\n        else {\n            if (!vmove.call(this, \"S\", false)) {\n                const col = this.getMoveRightColByKeyDownInternal(focusCell);\n                if (this.colCount <= col) {\n                    return;\n                }\n                _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\n        keyCode === KEY_ALPHA_A &&\n        (e.ctrlKey || e.metaKey)) {\n        this.selection.range = {\n            start: { col: 0, row: 0 },\n            end: { col: this.colCount - 1, row: this.rowCount - 1 },\n        };\n        this.invalidate();\n        cancelEvent(e);\n    }\n    function move(grid, vDir, hDir) {\n        const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\n        const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\n        _moveFocusCell.call(grid, col, row, shiftKey);\n    }\n    function vmove(vDir, shiftKeyFlg = shiftKey) {\n        let row;\n        if (vDir === \"S\") {\n            row = this.getMoveDownRowByKeyDownInternal(focusCell);\n            if (this.rowCount <= row) {\n                return false;\n            }\n        }\n        else {\n            row = this.getMoveUpRowByKeyDownInternal(focusCell);\n            if (row < 0) {\n                return false;\n            }\n        }\n        const { col } = focusCell;\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\n        return true;\n    }\n    function hmove(hDir, shiftKeyFlg = shiftKey) {\n        let col;\n        if (hDir === \"E\") {\n            col = this.getMoveRightColByKeyDownInternal(focusCell);\n            if (this.colCount <= col) {\n                return false;\n            }\n        }\n        else {\n            col = this.getMoveLeftColByKeyDownInternal(focusCell);\n            if (col < 0) {\n                return false;\n            }\n        }\n        const { row } = focusCell;\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\n        return true;\n    }\n}\n/** @private */\nfunction _moveFocusCell(col, row, shiftKey) {\n    const offset = this.getOffsetInvalidateCells();\n    function extendRange(range) {\n        if (offset > 0) {\n            range.start.col -= offset;\n            range.start.row -= offset;\n            range.end.col += offset;\n            range.end.row += offset;\n        }\n        return range;\n    }\n    const beforeRange = extendRange(this.selection.range);\n    const beforeRect = this.getCellRangeRect(beforeRange);\n    this.selection._setFocusCell(col, row, shiftKey);\n    this.makeVisibleCell(col, row);\n    this.focusCell(col, row);\n    const afterRange = extendRange(this.selection.range);\n    const afterRect = this.getCellRangeRect(afterRange);\n    if (afterRect.intersection(beforeRect)) {\n        const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\n        _invalidateRect(this, invalidateRect);\n    }\n    else {\n        _invalidateRect(this, beforeRect);\n        _invalidateRect(this, afterRect);\n    }\n}\n/** @private */\nfunction _updatedSelection() {\n    const { focusControl } = this[_];\n    const { col: selCol, row: selRow } = this[_].selection.select;\n    const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\n        col: selCol,\n        row: selRow,\n    });\n    const editMode = utils_1.array.findIndex(results, (v) => !!v) >= 0;\n    focusControl.editMode = editMode;\n    if (editMode) {\n        focusControl.storeInputStatus();\n        focusControl.setDefaultInputStatus();\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\n            col: selCol,\n            row: selRow,\n            input: focusControl.input,\n        });\n    }\n}\n/** @private */\nfunction _getMouseAbstractPoint(grid, evt) {\n    let e;\n    if (isTouchEvent(evt)) {\n        e = evt.changedTouches[0];\n    }\n    else {\n        e = evt;\n    }\n    const clientX = e.clientX || e.pageX + window.scrollX;\n    const clientY = e.clientY || e.pageY + window.scrollY;\n    const rect = grid[_].canvas.getBoundingClientRect();\n    if (rect.right <= clientX) {\n        return null;\n    }\n    if (rect.bottom <= clientY) {\n        return null;\n    }\n    const x = clientX - rect.left + grid[_].scroll.left;\n    const y = clientY - rect.top + grid[_].scroll.top;\n    return { x, y };\n}\n/** @private */\nfunction _bindEvents() {\n    // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\n    const grid = this;\n    const { handler, element, scrollable } = grid[_];\n    const getCellEventArgsSet = (e) => {\n        const abstractPos = _getMouseAbstractPoint(grid, e);\n        if (!abstractPos) {\n            return {};\n        }\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n        if (cell.col < 0 || cell.row < 0) {\n            return {\n                abstractPos,\n                cell,\n            };\n        }\n        const eventArgs = {\n            col: cell.col,\n            row: cell.row,\n            event: e,\n        };\n        return {\n            abstractPos,\n            cell,\n            eventArgs,\n        };\n    };\n    const canResizeColumn = (col) => {\n        if (grid[_].disableColumnResize) {\n            return false;\n        }\n        const limit = grid[_].colWidthsLimit[col];\n        if (!limit || !limit.min || !limit.max) {\n            return true;\n        }\n        return limit.max !== limit.min;\n    };\n    handler.on(element, \"mousedown\", (e) => {\n        const eventArgsSet = getCellEventArgsSet(e);\n        const { abstractPos, eventArgs } = eventArgsSet;\n        if (!abstractPos) {\n            return;\n        }\n        if (eventArgs) {\n            const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n            if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\n                return;\n            }\n        }\n        if (getMouseButtons(e) !== 1) {\n            return;\n        }\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n            //\n            grid[_].columnResizer.start(resizeCol, e);\n        }\n        else {\n            //\n            grid[_].cellSelector.start(e);\n        }\n    });\n    handler.on(element, \"mouseup\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (eventArgs) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\n        }\n    });\n    let doubleTapBefore = null;\n    let longTouchId = null;\n    handler.on(element, \"touchstart\", (e) => {\n        if (!doubleTapBefore) {\n            doubleTapBefore = getCellEventArgsSet(e).eventArgs;\n            setTimeout(() => {\n                doubleTapBefore = null;\n            }, 350);\n        }\n        else {\n            const { eventArgs } = getCellEventArgsSet(e);\n            if (eventArgs &&\n                eventArgs.col === doubleTapBefore.col &&\n                eventArgs.row === doubleTapBefore.row) {\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\n            }\n            doubleTapBefore = null;\n            if (e.defaultPrevented) {\n                return;\n            }\n        }\n        longTouchId = setTimeout(() => {\n            //\n            longTouchId = null;\n            const abstractPos = _getMouseAbstractPoint(grid, e);\n            if (!abstractPos) {\n                return;\n            }\n            const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n            if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n                //\n                grid[_].columnResizer.start(resizeCol, e);\n            }\n            else {\n                //\n                grid[_].cellSelector.start(e);\n            }\n        }, 500);\n    });\n    function cancel(_e) {\n        if (longTouchId) {\n            clearTimeout(longTouchId);\n            longTouchId = null;\n        }\n    }\n    handler.on(element, \"touchcancel\", cancel);\n    handler.on(element, \"touchmove\", cancel);\n    handler.on(element, \"touchend\", (e) => {\n        if (longTouchId) {\n            clearTimeout(longTouchId);\n            grid[_].cellSelector.select(e);\n            longTouchId = null;\n        }\n    });\n    let isMouseover = false;\n    let mouseEnterCell = null;\n    let mouseOverCell = null;\n    function onMouseenterCell(cell, related) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\n            col: cell.col,\n            row: cell.row,\n            related,\n        });\n        mouseEnterCell = cell;\n    }\n    function onMouseleaveCell(related) {\n        const beforeMouseCell = mouseEnterCell;\n        mouseEnterCell = null;\n        if (beforeMouseCell) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\n                col: beforeMouseCell.col,\n                row: beforeMouseCell.row,\n                related,\n            });\n        }\n        return beforeMouseCell || undefined;\n    }\n    function onMouseoverCell(cell, related) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\n            col: cell.col,\n            row: cell.row,\n            related,\n        });\n        mouseOverCell = cell;\n    }\n    function onMouseoutCell(related) {\n        const beforeMouseCell = mouseOverCell;\n        mouseOverCell = null;\n        if (beforeMouseCell) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\n                col: beforeMouseCell.col,\n                row: beforeMouseCell.row,\n                related,\n            });\n        }\n        return beforeMouseCell || undefined;\n    }\n    const scrollElement = scrollable.getElement();\n    handler.on(scrollElement, \"mouseover\", (_e) => {\n        isMouseover = true;\n    });\n    handler.on(scrollElement, \"mouseout\", (_e) => {\n        isMouseover = false;\n        onMouseoutCell();\n    });\n    handler.on(element, \"mouseleave\", (_e) => {\n        onMouseleaveCell();\n    });\n    handler.on(element, \"mousemove\", (e) => {\n        const eventArgsSet = getCellEventArgsSet(e);\n        const { abstractPos, eventArgs } = eventArgsSet;\n        if (eventArgs) {\n            const beforeMouseCell = mouseEnterCell;\n            if (beforeMouseCell) {\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n                if (beforeMouseCell.col !== eventArgs.col ||\n                    beforeMouseCell.row !== eventArgs.row) {\n                    const enterCell = {\n                        col: eventArgs.col,\n                        row: eventArgs.row,\n                    };\n                    const outCell = onMouseoutCell(enterCell);\n                    const leaveCell = onMouseleaveCell(enterCell);\n                    onMouseenterCell(enterCell, leaveCell);\n                    if (isMouseover) {\n                        onMouseoverCell(enterCell, outCell);\n                    }\n                }\n                else if (isMouseover && !mouseOverCell) {\n                    onMouseoverCell({\n                        col: eventArgs.col,\n                        row: eventArgs.row,\n                    });\n                }\n            }\n            else {\n                const enterCell = {\n                    col: eventArgs.col,\n                    row: eventArgs.row,\n                };\n                onMouseenterCell(enterCell);\n                if (isMouseover) {\n                    onMouseoverCell(enterCell);\n                }\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n            }\n        }\n        else {\n            onMouseoutCell();\n            onMouseleaveCell();\n        }\n        if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n            return;\n        }\n        const { style } = element;\n        if (!abstractPos) {\n            if (style.cursor === \"col-resize\") {\n                style.cursor = \"\";\n            }\n            return;\n        }\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n            style.cursor = \"col-resize\";\n        }\n        else {\n            if (style.cursor === \"col-resize\") {\n                style.cursor = \"\";\n            }\n        }\n    });\n    handler.on(element, \"click\", (e) => {\n        if (grid[_].columnResizer.lastMoving(e) ||\n            grid[_].cellSelector.lastMoving(e)) {\n            return;\n        }\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\n    });\n    handler.on(element, \"contextmenu\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\n    });\n    handler.on(element, \"dblclick\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n    });\n    grid[_].focusControl.onKeyDown((evt) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\n    });\n    grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (data) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\n    });\n    scrollable.onScroll((e) => {\n        _onScroll(grid, e);\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, { event: e });\n    });\n    grid[_].focusControl.onKeyDownMove((e) => {\n        _onKeyDownMove.call(grid, e);\n    });\n    grid.listen(\"copydata\", (range) => {\n        const copyRange = grid.getCopyRangeInternal(range);\n        let copyValue = \"\";\n        for (let { row } = copyRange.start; row <= copyRange.end.row; row++) {\n            for (let { col } = copyRange.start; col <= copyRange.end.col; col++) {\n                const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\n                if (typeof Promise !== \"undefined\" &&\n                    copyCellValue instanceof Promise) {\n                    //\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                    const strCellValue = `${copyCellValue}`;\n                    if (/^\\[object .*\\]$/.exec(strCellValue)) {\n                        //object \n                    }\n                    else {\n                        copyValue += strCellValue;\n                    }\n                }\n                if (col < copyRange.end.col) {\n                    copyValue += \"\\t\";\n                }\n            }\n            copyValue += \"\\n\";\n        }\n        return copyValue;\n    });\n    grid[_].focusControl.onCopy((_e) => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), (r) => r != null));\n    grid[_].focusControl.onPaste(({ value, event }) => {\n        const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n        const { col, row } = grid[_].selection.select;\n        const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizeValue); // is multi cell values\n        let rangeBoxValues = null;\n        const pasteCellEvent = {\n            col,\n            row,\n            value,\n            normalizeValue,\n            multi,\n            get rangeBoxValues() {\n                return (rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : (rangeBoxValues = paste_utils_1.parsePasteRangeBoxValues(normalizeValue)));\n            },\n            event,\n        };\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\n    });\n    grid[_].focusControl.onInput((value) => {\n        const { col, row } = grid[_].selection.select;\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, { col, row, value });\n    });\n    grid[_].focusControl.onDelete((event) => {\n        const { col, row } = grid[_].selection.select;\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, { col, row, event });\n    });\n    grid[_].focusControl.onFocus((e) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\n        grid[_].focusedGrid = true;\n        const { col, row } = grid[_].selection.select;\n        grid.invalidateCell(col, row);\n    });\n    grid[_].focusControl.onBlur((e) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\n        grid[_].focusedGrid = false;\n        const { col, row } = grid[_].selection.select;\n        grid.invalidateCell(col, row);\n    });\n}\n/** @private */\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n    if (grid[_].frozenRowCount <= 0) {\n        return -1;\n    }\n    const frozenRect = _getFrozenRowsRect(grid);\n    if (!frozenRect.inPoint(abstractX, abstractY)) {\n        return -1;\n    }\n    const cell = grid.getCellAt(abstractX, abstractY);\n    const cellRect = grid.getCellRect(cell.col, cell.row);\n    if (abstractX < cellRect.left + offset) {\n        return cell.col - 1;\n    }\n    if (cellRect.right - offset < abstractX) {\n        return cell.col;\n    }\n    return -1;\n}\n/** @private */\nfunction _getVisibleRect(grid) {\n    const { scroll: { left, top }, canvas: { width, height }, } = grid[_];\n    return new Rect_1.Rect(left, top, width, height);\n}\n/** @private */\nfunction _getScrollableVisibleRect(grid) {\n    let frozenColsWidth = 0;\n    if (grid[_].frozenColCount > 0) {\n        //\n        const frozenRect = _getFrozenColsRect(grid);\n        frozenColsWidth = frozenRect.width;\n    }\n    let frozenRowsHeight = 0;\n    if (grid[_].frozenRowCount > 0) {\n        //\n        const frozenRect = _getFrozenRowsRect(grid);\n        frozenRowsHeight = frozenRect.height;\n    }\n    return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n}\n/** @private */\nfunction _toRelativeRect(grid, absoluteRect) {\n    const rect = absoluteRect.copy();\n    const visibleRect = _getVisibleRect(grid);\n    rect.offsetLeft(-visibleRect.left);\n    rect.offsetTop(-visibleRect.top);\n    return rect;\n}\n//end private methods\n//\n//\n//\n//\n/**\n * managing mouse down moving\n * @private\n */\nclass BaseMouseDownMover {\n    constructor(grid) {\n        this._grid = grid;\n        this._handler = new EventHandler_1.EventHandler();\n        this._events = {};\n        this._started = false;\n        this._moved = false;\n    }\n    moving(_e) {\n        return !!this._started;\n    }\n    lastMoving(e) {\n        // mouseupclick\n        if (this.moving(e)) {\n            return true;\n        }\n        const last = this._mouseEndPoint;\n        if (!last) {\n            return false;\n        }\n        const pt = _getMouseAbstractPoint(this._grid, e);\n        return pt != null && pt.x === last.x && pt.y === last.y;\n    }\n    _bindMoveAndUp(e) {\n        const events = this._events;\n        const handler = this._handler;\n        if (!isTouchEvent(e)) {\n            events.mousemove = handler.on(document.body, \"mousemove\", (e) => this._mouseMove(e));\n            events.mouseup = handler.on(document.body, \"mouseup\", (e) => this._mouseUp(e));\n        }\n        else {\n            events.touchmove = handler.on(document.body, \"touchmove\", (e) => this._mouseMove(e), { passive: false });\n            events.touchend = handler.on(document.body, \"touchend\", (e) => this._mouseUp(e));\n            events.touchcancel = handler.on(document.body, \"touchcancel\", (e) => this._mouseUp(e));\n        }\n        this._started = true;\n        this._moved = false;\n    }\n    _mouseMove(e) {\n        if (!isTouchEvent(e)) {\n            if (getMouseButtons(e) !== 1) {\n                this._mouseUp(e);\n                return;\n            }\n        }\n        this._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\n        cancelEvent(e);\n    }\n    _moveInternal(_e) {\n        //protected\n        return false;\n    }\n    _mouseUp(e) {\n        const events = this._events;\n        const handler = this._handler;\n        handler.off(events.mousemove);\n        handler.off(events.touchmove);\n        handler.off(events.mouseup);\n        handler.off(events.touchend);\n        // handler.off(this._events.mouseleave);\n        handler.off(events.touchcancel);\n        this._started = false;\n        this._upInternal(e);\n        // mouseupclick\n        if (this._moved) {\n            //\n            this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n            setTimeout(() => {\n                this._mouseEndPoint = null;\n            }, 10);\n        }\n    }\n    _upInternal(_e) {\n        //protected\n    }\n    dispose() {\n        this._handler.dispose();\n    }\n}\n/**\n * managing cell selection operation with mouse\n * @private\n */\nclass CellSelector extends BaseMouseDownMover {\n    start(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return;\n        }\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n        this._bindMoveAndUp(e);\n        this._cell = cell;\n        cancelEvent(e);\n        _vibrate(e);\n    }\n    select(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return;\n        }\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n        this._cell = cell;\n    }\n    _moveInternal(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return false;\n        }\n        const { col: oldCol, row: oldRow } = this._cell;\n        const { col: newCol, row: newRow } = cell;\n        if (oldCol === newCol && oldRow === newRow) {\n            return false;\n        }\n        const grid = this._grid;\n        _moveFocusCell.call(grid, newCol, newRow, true);\n        //make visible\n        const makeVisibleCol = (() => {\n            if (newCol < oldCol && 0 < newCol) {\n                // move left\n                return newCol - 1;\n            }\n            else if (oldCol < newCol && newCol + 1 < grid.colCount) {\n                // move right\n                return newCol + 1;\n            }\n            return newCol;\n        })();\n        const makeVisibleRow = (() => {\n            if (newRow < oldRow && 0 < newRow) {\n                // move up\n                return newRow - 1;\n            }\n            else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\n                // move down\n                return newRow + 1;\n            }\n            return newRow;\n        })();\n        if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\n            grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n        }\n        this._cell = cell;\n        return true;\n    }\n    _getTargetCell(e) {\n        const grid = this._grid;\n        const abstractPos = _getMouseAbstractPoint(grid, e);\n        if (!abstractPos) {\n            return null;\n        }\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n        if (cell.col < 0 || cell.row < 0) {\n            return null;\n        }\n        return cell;\n    }\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\nclass ColumnResizer extends BaseMouseDownMover {\n    constructor(grid) {\n        super(grid);\n        this._x = -1;\n        this._preX = -1;\n        this._invalidateAbsoluteLeft = -1;\n        this._targetCol = -1;\n    }\n    start(col, e) {\n        let pageX;\n        if (!isTouchEvent(e)) {\n            ({ pageX } = e);\n        }\n        else {\n            ({ pageX } = e.changedTouches[0]);\n        }\n        this._x = pageX;\n        this._preX = 0;\n        this._bindMoveAndUp(e);\n        this._targetCol = col;\n        this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n        cancelEvent(e);\n        _vibrate(e);\n    }\n    _moveInternal(e) {\n        const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n        const x = pageX - this._x;\n        const moveX = x - this._preX;\n        this._preX = x;\n        const pre = this._grid.getColWidth(this._targetCol);\n        let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n        if (afterSize < 10 && moveX < 0) {\n            afterSize = 10;\n        }\n        _storeAutoColWidthExprs(this._grid);\n        _setColWidth(this._grid, this._targetCol, afterSize);\n        const rect = _getVisibleRect(this._grid);\n        rect.left = this._invalidateAbsoluteLeft;\n        _invalidateRect(this._grid, rect);\n        this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\n            col: this._targetCol,\n        });\n        return true;\n    }\n    _upInternal(_e) {\n        const grid = this._grid;\n        if (grid.updateScroll()) {\n            grid.invalidate();\n        }\n    }\n}\n/** @private */\nfunction setSafeInputValue(input, value) {\n    const { type } = input;\n    input.type = \"\";\n    input.value = value;\n    if (type) {\n        input.type = type;\n    }\n}\n/**\n * Manage focus\n * @private\n */\nclass FocusControl extends EventTarget_1.EventTarget {\n    constructor(grid, parentElement, scrollable) {\n        super();\n        this._grid = grid;\n        this._scrollable = scrollable;\n        const handler = (this._handler = new EventHandler_1.EventHandler());\n        const input = (this._input = document.createElement(\"input\"));\n        input.classList.add(\"grid-focus-control\");\n        input.readOnly = true;\n        parentElement.appendChild(input);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n            input.style.font = grid.font || \"16px sans-serif\";\n            this._isComposition = true;\n            if (this._compositionEnd) {\n                clearTimeout(this._compositionEnd);\n                delete this._compositionEnd;\n            }\n            grid.focus();\n        });\n        let lastInputValue;\n        const inputClear = () => {\n            lastInputValue = input.value;\n            if (this._isComposition) {\n                return;\n            }\n            if (lastInputValue !== \"\") {\n                setSafeInputValue(input, \"\");\n            }\n        };\n        const handleCompositionEnd = () => {\n            this._isComposition = false;\n            input.classList.remove(\"composition\");\n            input.style.font = \"\";\n            const { value } = input;\n            inputClear();\n            if (!input.readOnly) {\n                this.fireListeners(\"input\", value);\n            }\n            if (this._compositionEnd) {\n                clearTimeout(this._compositionEnd);\n                delete this._compositionEnd;\n            }\n        };\n        handler.on(input, \"compositionend\", (_e) => {\n            this._compositionEnd = setTimeout(handleCompositionEnd, 1);\n        });\n        handler.on(input, \"keypress\", (e) => {\n            if (this._isComposition) {\n                return;\n            }\n            if (!input.readOnly && e.key && e.key.length === 1) {\n                if (e.ctrlKey || e.metaKey) {\n                    if (e.key === \"c\") {\n                        //copy! for Firefox & Safari\n                    }\n                    else if (e.key === \"v\") {\n                        //paste! for Firefox & Safari\n                    }\n                }\n                else {\n                    if (e.key === \" \") {\n                        // Since the full-width space cannot be determined, it is processed by \"input\".\n                        return;\n                    }\n                    this.fireListeners(\"input\", e.key);\n                    cancelEvent(e);\n                }\n            }\n            inputClear();\n        });\n        handler.on(input, \"keydown\", (e) => {\n            var _a;\n            if (this._isComposition) {\n                if (this._compositionEnd) {\n                    handleCompositionEnd();\n                    cancelEvent(e);\n                }\n                return;\n            }\n            const keyCode = getKeyCode(e);\n            let stopCellMove = false;\n            const evt = {\n                keyCode,\n                event: e,\n                stopCellMoving() {\n                    stopCellMove = true;\n                },\n            };\n            this.fireListeners(\"keydown\", evt);\n            if (!input.readOnly && lastInputValue) {\n                // for Safari\n                this.fireListeners(\"input\", lastInputValue);\n            }\n            if (!stopCellMove)\n                this.fireKeyDownMove(keyCode, e);\n            if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) &&\n                (keyCode === KEY_DEL || keyCode === KEY_BS)) {\n                this.fireListeners(\"delete\", e);\n            }\n            inputClear();\n        });\n        handler.on(input, \"keyup\", (_e) => {\n            if (this._isComposition) {\n                if (this._compositionEnd) {\n                    handleCompositionEnd();\n                }\n            }\n            inputClear();\n        });\n        handler.on(input, \"input\", (e) => {\n            if (e.data === \" \" || e.data === \"\") {\n                // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\n                this.fireListeners(\"input\", e.data);\n            }\n            inputClear();\n        });\n        if (utils_1.browser.IE) {\n            handler.on(document, \"keydown\", (e) => {\n                if (e.target !== input) {\n                    return;\n                }\n                const keyCode = getKeyCode(e);\n                if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n                    // When text is not selected copy-event is not emit, on IE.\n                    setSafeInputValue(input, \"dummy\");\n                    input.select();\n                    setTimeout(() => {\n                        setSafeInputValue(input, \"\");\n                    }, 100);\n                }\n                else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\n                    // When input is read-only paste-event is not emit, on IE.\n                    if (input.readOnly) {\n                        input.readOnly = false;\n                        setTimeout(() => {\n                            input.readOnly = true;\n                            setSafeInputValue(input, \"\");\n                        }, 10);\n                    }\n                }\n            });\n        }\n        if (utils_1.browser.Edge) {\n            handler.once(document, \"keydown\", (e) => {\n                var _a;\n                if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                    return;\n                }\n                // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\n                const dummyInput = document.createElement(\"input\");\n                grid.getElement().appendChild(dummyInput);\n                dummyInput.focus();\n                input.focus();\n                (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\n            });\n        }\n        handler.on(document, \"paste\", (e) => {\n            if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                return;\n            }\n            let pasteText = undefined;\n            if (utils_1.browser.IE) {\n                // IE\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                pasteText = window.clipboardData.getData(\"Text\");\n            }\n            else {\n                const { clipboardData } = e;\n                if (clipboardData.items) {\n                    // Chrome & Firefox & Edge\n                    pasteText = clipboardData.getData(\"text/plain\");\n                }\n                else {\n                    // Safari\n                    if (-1 !==\n                        Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\n                        pasteText = clipboardData.getData(\"Text\");\n                    }\n                }\n            }\n            if (pasteText != null && pasteText.length) {\n                this.fireListeners(\"paste\", { value: pasteText, event: e });\n            }\n        });\n        handler.on(document, \"copy\", (e) => {\n            if (this._isComposition) {\n                return;\n            }\n            if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                return;\n            }\n            setSafeInputValue(input, \"\");\n            const data = utils_1.array.find(this.fireListeners(\"copy\"), (r) => r != null);\n            if (data != null) {\n                cancelEvent(e);\n                if (utils_1.browser.IE) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    window.clipboardData.setData(\"Text\", data); // IE\n                }\n                else {\n                    e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\n                }\n            }\n        });\n        handler.on(input, \"focus\", (e) => {\n            this.fireListeners(\"focus\", e);\n        });\n        handler.on(input, \"blur\", (e) => {\n            this.fireListeners(\"blur\", e);\n        });\n    }\n    fireKeyDownMove(keyCode, e) {\n        var _a, _b, _c;\n        const fn = this._keyDownMoveCallback;\n        if (!fn) {\n            return;\n        }\n        if (this._isComposition) {\n            return;\n        }\n        if (keyCode === KEY_LEFT ||\n            keyCode === KEY_UP ||\n            keyCode === KEY_RIGHT ||\n            keyCode === KEY_DOWN ||\n            keyCode === KEY_HOME ||\n            keyCode === KEY_END) {\n            fn(e);\n        }\n        else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) &&\n            keyCode === KEY_TAB) {\n            fn(e);\n        }\n        else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) &&\n            keyCode === KEY_ENTER) {\n            fn(e);\n        }\n        else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\n            keyCode === KEY_ALPHA_A &&\n            (e.ctrlKey || e.metaKey)) {\n            fn(e);\n        }\n    }\n    onKeyDownMove(fn) {\n        this._keyDownMoveCallback = fn;\n    }\n    onKeyDown(fn) {\n        return this.listen(\"keydown\", fn);\n    }\n    onInput(fn) {\n        return this.listen(\"input\", fn);\n    }\n    onDelete(fn) {\n        return this.listen(\"delete\", fn);\n    }\n    onCopy(fn) {\n        return this.listen(\"copy\", fn);\n    }\n    onPaste(fn) {\n        return this.listen(\"paste\", fn);\n    }\n    onFocus(fn) {\n        return this.listen(\"focus\", fn);\n    }\n    onBlur(fn) {\n        return this.listen(\"blur\", fn);\n    }\n    focus() {\n        // this._input.value = '';\n        this._input.focus();\n    }\n    setFocusRect(rect) {\n        const input = this._input;\n        const top = this._scrollable.calcTop(rect.top);\n        input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n        input.style.left = `${rect.left.toFixed()}px`;\n        input.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n    }\n    get editMode() {\n        return !this._input.readOnly;\n    }\n    set editMode(editMode) {\n        this._input.readOnly = !editMode;\n    }\n    resetInputStatus() {\n        var _a;\n        const el = this._input;\n        if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\n            return;\n        }\n        const composition = el.classList.contains(\"composition\");\n        const atts = el.attributes;\n        const removeNames = [];\n        for (let i = 0, n = atts.length; i < n; i++) {\n            const att = atts[i];\n            if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(att.nodeName))) {\n                removeNames.push(att.name);\n            }\n        }\n        removeNames.forEach((removeName) => {\n            el.removeAttribute(removeName);\n        });\n        for (const name in this._inputStatus) {\n            el.setAttribute(name, this._inputStatus[name]);\n        }\n        if (composition) {\n            el.classList.add(\"composition\");\n            el.style.font = this._grid.font || \"16px sans-serif\";\n        }\n        else {\n            el.classList.remove(\"composition\");\n        }\n        el.classList.remove(\"grid-focus-control--stored-status\");\n    }\n    storeInputStatus() {\n        const el = this._input;\n        if (el.classList.contains(\"grid-focus-control--stored-status\")) {\n            return;\n        }\n        const inputStatus = (this._inputStatus = {});\n        const atts = el.attributes;\n        for (let i = 0, n = atts.length; i < n; i++) {\n            const att = atts[i];\n            inputStatus[att.name] = att.value;\n        }\n        el.classList.add(\"grid-focus-control--stored-status\");\n    }\n    setDefaultInputStatus() {\n        // \n        // this._input.style.font = this._grid.font || '16px sans-serif';\n    }\n    get input() {\n        return this._input;\n    }\n    dispose() {\n        super.dispose();\n        this._handler.dispose();\n    }\n}\n/**\n * Selected area management\n */\nclass Selection extends EventTarget_1.EventTarget {\n    constructor(grid) {\n        super();\n        this._grid = grid;\n        this._sel = { col: 0, row: 0 };\n        this._focus = { col: 0, row: 0 };\n        this._start = { col: 0, row: 0 };\n        this._end = { col: 0, row: 0 };\n    }\n    get range() {\n        const start = this._start;\n        const end = this._end;\n        const startCol = Math.min(start.col, end.col);\n        const startRow = Math.min(start.row, end.row);\n        const endCol = Math.max(start.col, end.col);\n        const endRow = Math.max(start.row, end.row);\n        return {\n            start: {\n                col: startCol,\n                row: startRow,\n            },\n            end: {\n                col: endCol,\n                row: endRow,\n            },\n        };\n    }\n    set range(range) {\n        const startCol = Math.min(range.start.col, range.end.col);\n        const startRow = Math.min(range.start.row, range.end.row);\n        const endCol = Math.max(range.start.col, range.end.col);\n        const endRow = Math.max(range.start.row, range.end.row);\n        this._wrapFireSelectedEvent(() => {\n            this._sel = {\n                col: startCol,\n                row: startRow,\n            };\n            this._focus = {\n                col: startCol,\n                row: startRow,\n            };\n            this._start = {\n                col: startCol,\n                row: startRow,\n            };\n            this._end = {\n                col: endCol,\n                row: endRow,\n            };\n            _updatedSelection.call(this._grid);\n        });\n    }\n    get focus() {\n        const { col, row } = this._focus;\n        return { col, row };\n    }\n    get select() {\n        const { col, row } = this._sel;\n        return { col, row };\n    }\n    set select(cell) {\n        this._wrapFireSelectedEvent(() => {\n            const { col = 0, row = 0 } = cell;\n            this._setSelectCell(col, row);\n            this._setFocusCell(col, row, true);\n            _updatedSelection.call(this._grid);\n        });\n    }\n    _setSelectCell(col, row) {\n        this._wrapFireSelectedEvent(() => {\n            this._sel = { col, row };\n            this._start = { col, row };\n        });\n    }\n    _setFocusCell(col, row, keepSelect) {\n        this._wrapFireSelectedEvent(() => {\n            if (!keepSelect) {\n                this._setSelectCell(col, row);\n            }\n            this._focus = { col, row };\n            this._end = { col, row };\n        });\n    }\n    _wrapFireSelectedEvent(callback) {\n        if (this._isWraped) {\n            callback();\n        }\n        else {\n            this._isWraped = true;\n            try {\n                const before = {\n                    col: this._sel.col,\n                    row: this._sel.row,\n                    selected: false,\n                    after: null,\n                };\n                callback();\n                const after = {\n                    col: this._sel.col,\n                    row: this._sel.row,\n                    selected: true,\n                    before: {\n                        col: before.col,\n                        row: before.row,\n                    },\n                };\n                before.after = {\n                    col: after.col,\n                    row: after.row,\n                };\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\n            }\n            finally {\n                this._isWraped = false;\n            }\n        }\n    }\n    _updateGridRange() {\n        const { rowCount, colCount } = this._grid;\n        const points = [this._sel, this._focus, this._start, this._end];\n        let needChange = false;\n        for (let i = 0; i < points.length; i++) {\n            if (colCount <= points[i].col || rowCount <= points[i].row) {\n                needChange = true;\n                break;\n            }\n        }\n        if (!needChange) {\n            return false;\n        }\n        this._wrapFireSelectedEvent(() => {\n            points.forEach((p) => {\n                p.col = Math.min(colCount - 1, p.col);\n                p.row = Math.min(rowCount - 1, p.row);\n            });\n        });\n        return true;\n    }\n}\n/**\n * This class manages the drawing process for each layer\n */\n/** @private */\nclass DrawLayers {\n    constructor() {\n        this._layers = {};\n    }\n    addDraw(level, fn) {\n        const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n        l.addDraw(fn);\n    }\n    draw(ctx) {\n        const list = [];\n        for (const k in this._layers) {\n            list.push(this._layers[k]);\n        }\n        list.sort((a, b) => a.level - b.level);\n        list.forEach((l) => l.draw(ctx));\n    }\n}\n/** @private */\nclass DrawLayer {\n    constructor(level) {\n        this._level = level;\n        this._list = [];\n    }\n    get level() {\n        return this._level;\n    }\n    addDraw(fn) {\n        this._list.push(fn);\n    }\n    draw(ctx) {\n        this._list.forEach((fn) => {\n            ctx.save();\n            try {\n                fn(ctx);\n            }\n            finally {\n                ctx.restore();\n            }\n        });\n    }\n}\n/**\n * Context of cell drawing\n * @private\n */\nclass DrawCellContext {\n    //  private _grid: any;\n    //  private _onTerminate: any;\n    /**\n     * constructor\n     * @param {number} col index of column\n     * @param {number} row index of row\n     * @param {CanvasRenderingContext2D} ctx context\n     * @param {Rect} rect rect of cell area\n     * @param {Rect} drawRect rect of drawing area\n     * @param {boolean} drawing `true` if drawing is in progress\n     * @param {object} selection the selection\n     * @param {Array} drawLayers array of draw layers\n     * @private\n     */\n    constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n        this._rectFilter = null;\n        this._col = col;\n        this._row = row;\n        this._mode = 0;\n        this._ctx = ctx;\n        this._rect = rect;\n        this._drawRect = drawRect;\n        this._drawing = drawing;\n        this._selection = selection;\n        this._drawLayers = drawLayers;\n        this._childContexts = [];\n    }\n    get drawing() {\n        if (this._mode === 0) {\n            return this._drawing;\n        }\n        else {\n            return true;\n        }\n    }\n    get row() {\n        return this._row;\n    }\n    get col() {\n        return this._col;\n    }\n    cancel() {\n        this._cancel = true;\n        this._childContexts.forEach((ctx) => {\n            ctx.cancel();\n        });\n    }\n    /**\n     * select status.\n     * @return {object} select status\n     */\n    getSelection() {\n        return {\n            select: this._selection.select,\n            range: this._selection.range,\n        };\n    }\n    /**\n     * Canvas context.\n     * @return {CanvasRenderingContext2D} Canvas context.\n     */\n    getContext() {\n        if (this._mode === 0) {\n            return this._ctx;\n        }\n        else {\n            return _getInitContext.call(this._grid);\n        }\n    }\n    /**\n     * Rectangle of cell.\n     * @return {Rect} rect Rectangle of cell.\n     */\n    getRect() {\n        const rectFilter = this._rectFilter;\n        return rectFilter\n            ? rectFilter(this._getRectInternal())\n            : this._getRectInternal();\n    }\n    setRectFilter(rectFilter) {\n        this._rectFilter = rectFilter;\n    }\n    /**\n     * Rectangle of Drawing range.\n     * @return {Rect} Rectangle of Drawing range.\n     */\n    getDrawRect() {\n        if (this._cancel) {\n            return null;\n        }\n        if (this._mode === 0) {\n            return this._drawRect;\n        }\n        else {\n            if (this._isOutOfRange()) {\n                return null;\n            }\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\n            return this._toRelativeDrawRect(absoluteRect);\n        }\n    }\n    _isOutOfRange() {\n        const { colCount, rowCount } = this._grid;\n        return colCount <= this._col || rowCount <= this._row;\n    }\n    /**\n     * get Context of current state\n     * @return {DrawCellContext} current DrawCellContext.\n     */\n    toCurrentContext() {\n        if (this._mode === 0) {\n            return this;\n        }\n        else {\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\n            const rect = _toRelativeRect(this._grid, absoluteRect);\n            const drawRect = this._isOutOfRange()\n                ? null\n                : this._toRelativeDrawRect(absoluteRect);\n            const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\n            // toCurrentContext  toCurrentContext\n            context.toCurrentContext = this.toCurrentContext.bind(this);\n            this._childContexts.push(context);\n            if (this._cancel) {\n                context.cancel();\n            }\n            context._rectFilter = this._rectFilter;\n            return context;\n        }\n    }\n    addLayerDraw(level, fn) {\n        this._drawLayers.addDraw(level, fn);\n    }\n    _toRelativeDrawRect(absoluteRect) {\n        const visibleRect = _getVisibleRect(this._grid);\n        let rect = absoluteRect.copy();\n        if (!rect.intersection(visibleRect)) {\n            return null;\n        }\n        const grid = this._grid;\n        const isFrozenCell = grid.isFrozenCell(this._col, this._row);\n        if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n            const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\n            rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n        }\n        if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n            const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\n            rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n        }\n        if (!rect.intersection(visibleRect)) {\n            return null;\n        }\n        rect.offsetLeft(-visibleRect.left);\n        rect.offsetTop(-visibleRect.top);\n        return rect;\n    }\n    _delayMode(grid, onTerminate) {\n        this._mode = 1;\n        this._ctx = null;\n        this._rect = null;\n        this._drawRect = null;\n        this._grid = grid;\n        this._onTerminate = onTerminate;\n    }\n    /**\n     * terminate\n     * @return {void}\n     */\n    terminate() {\n        var _a;\n        if (this._mode !== 0) {\n            (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n    }\n    _getRectInternal() {\n        if (this._mode === 0) {\n            return this._rect;\n        }\n        else {\n            if (this._rect) {\n                return this._rect;\n            }\n            return this._grid.getCellRelativeRect(this._col, this._row);\n        }\n    }\n}\n/** @private */\nconst protectedKey = _;\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid.core\n */\nclass DrawGrid extends EventTarget_1.EventTarget {\n    constructor(options = {}) {\n        super();\n        const { rowCount = 10, colCount = 10, frozenColCount = 0, frozenRowCount = 0, defaultRowHeight = 40, defaultColWidth = 80, font, underlayBackgroundColor, keyboardOptions, parentElement, disableColumnResize, } = options;\n        const protectedSpace = (this[_] = {});\n        style.initDocument();\n        protectedSpace.element = createRootElement();\n        protectedSpace.scrollable = new Scrollable_1.Scrollable();\n        protectedSpace.handler = new EventHandler_1.EventHandler();\n        protectedSpace.selection = new Selection(this);\n        protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable);\n        protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\n        protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\n            alpha: false,\n        });\n        protectedSpace.rowCount = rowCount;\n        protectedSpace.colCount = colCount;\n        protectedSpace.frozenColCount = frozenColCount;\n        protectedSpace.frozenRowCount = frozenRowCount;\n        protectedSpace.defaultRowHeight = defaultRowHeight;\n        protectedSpace.defaultColWidth = defaultColWidth;\n        protectedSpace.font = font;\n        protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\n        protectedSpace.keyboardOptions = keyboardOptions;\n        protectedSpace.disableColumnResize = disableColumnResize;\n        /////\n        protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\n        protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\n        protectedSpace.colWidthsLimit = {};\n        protectedSpace.calcWidthContext = {\n            _: protectedSpace,\n            get full() {\n                return this._.canvas.width;\n            },\n            get em() {\n                return canvases_1.getFontSize(this._.context, this._.font).width;\n            },\n        };\n        protectedSpace.columnResizer = new ColumnResizer(this);\n        protectedSpace.cellSelector = new CellSelector(this);\n        protectedSpace.drawCells = {};\n        protectedSpace.cellTextOverflows = {};\n        protectedSpace.focusedGrid = false;\n        protectedSpace.element.appendChild(protectedSpace.canvas);\n        protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\n        protectedSpace.scroll = {\n            left: 0,\n            top: 0,\n        };\n        this.updateScroll();\n        if (parentElement) {\n            parentElement.appendChild(protectedSpace.element);\n            this.updateSize();\n        }\n        else {\n            this.updateSize();\n        }\n        _bindEvents.call(this);\n        this.bindEventsInternal();\n    }\n    static get EVENT_TYPE() {\n        return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\n    }\n    /**\n     * Get root element.\n     * @returns {HTMLElement} root element\n     */\n    getElement() {\n        return this[_].element;\n    }\n    /**\n     * Get canvas element.\n     */\n    get canvas() {\n        return this[_].canvas;\n    }\n    /**\n     * Focus the grid.\n     * @return {void}\n     */\n    focus() {\n        const { col, row } = this[_].selection.select;\n        this.focusCell(col, row);\n    }\n    hasFocusGrid() {\n        return this[_].focusedGrid;\n    }\n    /**\n     * Get the selection instance.\n     */\n    get selection() {\n        return this[_].selection;\n    }\n    /**\n     * Get the number of rows.\n     */\n    get rowCount() {\n        return this[_].rowCount;\n    }\n    /**\n     * Set the number of rows.\n     */\n    set rowCount(rowCount) {\n        this[_].rowCount = rowCount;\n        this.updateScroll();\n        if (this[_].selection._updateGridRange()) {\n            const { col, row } = this[_].selection.focus;\n            this.makeVisibleCell(col, row);\n            this.setFocusCursor(col, row);\n        }\n    }\n    /**\n     * Get the number of columns.\n     */\n    get colCount() {\n        return this[_].colCount;\n    }\n    /**\n     * Set the number of columns.\n     */\n    set colCount(colCount) {\n        this[_].colCount = colCount;\n        this.updateScroll();\n        if (this[_].selection._updateGridRange()) {\n            const { col, row } = this[_].selection.focus;\n            this.makeVisibleCell(col, row);\n            this.setFocusCursor(col, row);\n        }\n    }\n    /**\n     * Get the number of frozen columns.\n     */\n    get frozenColCount() {\n        return this[_].frozenColCount;\n    }\n    /**\n     * Set the number of frozen columns.\n     */\n    set frozenColCount(frozenColCount) {\n        this[_].frozenColCount = frozenColCount;\n    }\n    /**\n     * Get the number of frozen rows.\n     */\n    get frozenRowCount() {\n        return this[_].frozenRowCount;\n    }\n    /**\n     * Set the number of frozen rows.\n     */\n    set frozenRowCount(frozenRowCount) {\n        this[_].frozenRowCount = frozenRowCount;\n    }\n    /**\n     * Get the default row height.\n     *\n     */\n    get defaultRowHeight() {\n        return this[_].defaultRowHeight;\n    }\n    /**\n     * Set the default row height.\n     */\n    set defaultRowHeight(defaultRowHeight) {\n        this[_].defaultRowHeight = defaultRowHeight;\n    }\n    /**\n     * Get the default column width.\n     */\n    get defaultColWidth() {\n        return this[_].defaultColWidth;\n    }\n    /**\n     * Set the default column width.\n     */\n    set defaultColWidth(defaultColWidth) {\n        this[_].defaultColWidth = defaultColWidth;\n    }\n    /**\n     * Get the font definition as a string.\n     */\n    get font() {\n        return this[_].font;\n    }\n    /**\n     * Set the font definition with the given string.\n     */\n    set font(font) {\n        this[_].font = font;\n    }\n    /**\n     * Get the background color of the underlay.\n     */\n    get underlayBackgroundColor() {\n        return this[_].underlayBackgroundColor;\n    }\n    /**\n     * Set the background color of the underlay.\n     */\n    set underlayBackgroundColor(underlayBackgroundColor) {\n        this[_].underlayBackgroundColor = underlayBackgroundColor;\n    }\n    get keyboardOptions() {\n        var _a;\n        return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\n    }\n    set keyboardOptions(keyboardOptions) {\n        this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    configure(name, value) {\n        const cfg = this[_].config || (this[_].config = {});\n        if (value != null) {\n            cfg[name] = value;\n        }\n        return cfg[name];\n    }\n    /**\n     * Apply the changed size.\n     * @return {void}\n     */\n    updateSize() {\n        //\n        const { canvas } = this[_];\n        canvas.style.width = \"\";\n        canvas.style.height = \"\";\n        const width = Math.floor(canvas.offsetWidth ||\n            canvas.parentElement.offsetWidth -\n                style.getScrollBarSize() /*for legacy*/);\n        const height = Math.floor(canvas.offsetHeight ||\n            canvas.parentElement.offsetHeight -\n                style.getScrollBarSize() /*for legacy*/);\n        canvas.width = width;\n        canvas.height = height;\n        //style\n        canvas.style.width = `${width}px`;\n        canvas.style.height = `${height}px`;\n        const sel = this[_].selection.select;\n        this[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n    }\n    /**\n     * Apply the changed scroll size.\n     * @return {boolean} `true` if there was a change in the scroll size\n     */\n    updateScroll() {\n        const { scrollable } = this[_];\n        const newHeight = _getScrollHeight.call(this);\n        const newWidth = _getScrollWidth(this);\n        if (newHeight === scrollable.scrollHeight &&\n            newWidth === scrollable.scrollWidth) {\n            return false;\n        }\n        scrollable.setScrollSize(newWidth, newHeight);\n        this[_].scroll = {\n            left: scrollable.scrollLeft,\n            top: scrollable.scrollTop,\n        };\n        return true;\n    }\n    /**\n     * Get the row height of the given the row index.\n     * @param  {number} row The row index\n     * @return {number} The row height\n     */\n    getRowHeight(row) {\n        return _getRowHeight.call(this, row);\n    }\n    /**\n     * Set the row height of the given the row index.\n     * @param  {number} row The row index\n     * @param  {number} height The row height\n     * @return {void}\n     */\n    setRowHeight(row, height) {\n        _setRowHeight(this, row, height);\n    }\n    /**\n     * Get the column width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column width\n     */\n    getColWidth(col) {\n        return _getColWidth(this, col);\n    }\n    /**\n     * Set the column widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} width The column width\n     * @return {void}\n     */\n    setColWidth(col, width) {\n        _setColWidth(this, col, width);\n    }\n    /**\n     * Get the column max width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column max width\n     */\n    getMaxColWidth(col) {\n        const obj = this[_].colWidthsLimit[col];\n        return (obj && obj.max) || undefined;\n    }\n    /**\n     * Set the column max widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} maxwidth The column max width\n     * @return {void}\n     */\n    setMaxColWidth(col, maxwidth) {\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n        obj.max = maxwidth;\n    }\n    /**\n     * Get the column min width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column min width\n     */\n    getMinColWidth(col) {\n        const obj = this[_].colWidthsLimit[col];\n        return (obj && obj.min) || undefined;\n    }\n    /**\n     * Set the column min widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} minwidth The column min width\n     * @return {void}\n     */\n    setMinColWidth(col, minwidth) {\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n        obj.min = minwidth;\n    }\n    /**\n     * Get the rect of the cell.\n     * @param {number} col index of column, of the cell\n     * @param {number} row index of row, of the cell\n     * @returns {Rect} the rect of the cell.\n     */\n    getCellRect(col, row) {\n        const isFrozenCell = this.isFrozenCell(col, row);\n        let absoluteLeft = _getColsWidth(this, 0, col - 1);\n        const width = _getColWidth(this, col);\n        if (isFrozenCell && isFrozenCell.col) {\n            absoluteLeft += this[_].scroll.left;\n        }\n        let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\n        const height = _getRowHeight.call(this, row);\n        if (isFrozenCell && isFrozenCell.row) {\n            absoluteTop += this[_].scroll.top;\n        }\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n    }\n    /**\n     * Get the relative rectangle of the cell.\n     * @param {number} col index of column, of the cell\n     * @param {number} row index of row, of the cell\n     * @returns {Rect} the rect of the cell.\n     */\n    getCellRelativeRect(col, row) {\n        return _toRelativeRect(this, this.getCellRect(col, row));\n    }\n    /**\n     * Get the rectangle of the cells area.\n     * @param {number} startCol index of the starting column, of the cell\n     * @param {number} startRow index of the starting row, of the cell\n     * @param {number} endCol index of the ending column, of the cell\n     * @param {number} endRow index of the ending row, of the cell\n     * @returns {Rect} the rect of the cells.\n     */\n    getCellsRect(startCol, startRow, endCol, endRow) {\n        const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n        const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n        let width = _getColsWidth(this, startCol, endCol);\n        if (isFrozenStartCell && isFrozenStartCell.col) {\n            const scrollLeft = this[_].scroll.left;\n            absoluteLeft += scrollLeft;\n            if (!isFrozenEndCell || !isFrozenEndCell.col) {\n                width -= scrollLeft;\n                width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n            }\n        }\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n        let height = _getRowsHeight.call(this, startRow, endRow);\n        if (isFrozenStartCell && isFrozenStartCell.row) {\n            const scrollTop = this[_].scroll.top;\n            absoluteTop += scrollTop;\n            if (!isFrozenEndCell || !isFrozenEndCell.row) {\n                height -= scrollTop;\n                height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n            }\n        }\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n    }\n    getCellRangeRect(range) {\n        return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\n    }\n    isFrozenCell(col, row) {\n        const { frozenRowCount, frozenColCount } = this[_];\n        const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\n        const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\n        if (isFrozenRow || isFrozenCol) {\n            return {\n                row: isFrozenRow,\n                col: isFrozenCol,\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    getRowAt(absoluteY) {\n        const frozen = _getTargetFrozenRowAt(this, absoluteY);\n        if (frozen) {\n            return frozen.row;\n        }\n        const row = _getTargetRowAt.call(this, absoluteY);\n        return row ? row.row : -1;\n    }\n    getColAt(absoluteX) {\n        const frozen = _getTargetFrozenColAt(this, absoluteX);\n        if (frozen) {\n            return frozen.col;\n        }\n        const col = _getTargetColAt(this, absoluteX);\n        return col ? col.col : -1;\n    }\n    getCellAt(absoluteX, absoluteY) {\n        return {\n            row: this.getRowAt(absoluteY),\n            col: this.getColAt(absoluteX),\n        };\n    }\n    /**\n     * Scroll to where cell is visible.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    makeVisibleCell(col, row) {\n        const isFrozenCell = this.isFrozenCell(col, row);\n        if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n            return;\n        }\n        const rect = this.getCellRect(col, row);\n        const visibleRect = _getScrollableVisibleRect(this);\n        if (visibleRect.contains(rect)) {\n            return;\n        }\n        const { scrollable } = this[_];\n        if (!isFrozenCell || !isFrozenCell.col) {\n            if (rect.left < visibleRect.left) {\n                scrollable.scrollLeft -= visibleRect.left - rect.left;\n            }\n            else if (visibleRect.right < rect.right) {\n                scrollable.scrollLeft -= visibleRect.right - rect.right;\n            }\n        }\n        if (!isFrozenCell || !isFrozenCell.row) {\n            if (rect.top < visibleRect.top) {\n                scrollable.scrollTop -= visibleRect.top - rect.top;\n            }\n            else if (visibleRect.bottom < rect.bottom) {\n                scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n            }\n        }\n    }\n    /**\n     * Moves the focus cursor to the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    setFocusCursor(col, row) {\n        const { focusControl } = this[_];\n        const oldEditMode = focusControl.editMode;\n        focusControl.setFocusRect(this.getCellRect(col, row));\n        _updatedSelection.call(this);\n        if (oldEditMode && !focusControl.editMode) {\n            focusControl.resetInputStatus();\n        }\n    }\n    /**\n     * Focus the cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    focusCell(col, row) {\n        this.setFocusCursor(col, row);\n        // Failure occurs in IE if focus is not last\n        this[_].focusControl.focus();\n    }\n    /**\n     * Redraws the range of the given cell.\n     * @param  {number} col The column index of cell.\n     * @param  {number} row The row index of cell.\n     * @return {void}\n     */\n    invalidateCell(col, row) {\n        this.invalidateGridRect(col, row);\n    }\n    /**\n     * Redraws the range of the given cells.\n     * @param {number} startCol index of the starting column, of the cell\n     * @param {number} startRow index of the starting row, of the cell\n     * @param {number} endCol index of the ending column, of the cell\n     * @param {number} endRow index of the ending row, of the cell\n     * @return {void}\n     */\n    invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n        const offset = this.getOffsetInvalidateCells();\n        if (offset > 0) {\n            startCol -= offset;\n            startRow -= offset;\n            endCol += offset;\n            endRow += offset;\n        }\n        const visibleRect = _getVisibleRect(this);\n        const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n        const invalidateTarget = visibleRect.intersection(cellsRect);\n        if (invalidateTarget) {\n            const { frozenColCount, frozenRowCount } = this[_];\n            if (frozenColCount > 0 && endCol >= frozenColCount) {\n                const frozenRect = _getFrozenColsRect(this);\n                if (frozenRect.intersection(invalidateTarget)) {\n                    invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\n                }\n            }\n            if (frozenRowCount > 0 && endRow >= frozenRowCount) {\n                const frozenRect = _getFrozenRowsRect(this);\n                if (frozenRect.intersection(invalidateTarget)) {\n                    invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n                }\n            }\n            _invalidateRect(this, invalidateTarget);\n        }\n    }\n    invalidateCellRange(range) {\n        this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\n    }\n    /**\n     * Redraws the whole grid.\n     * @return {void}\n     */\n    invalidate() {\n        const visibleRect = _getVisibleRect(this);\n        _invalidateRect(this, visibleRect);\n    }\n    /**\n     * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\n     * @returns {number}\n     */\n    get visibleRowCount() {\n        const { frozenRowCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleTop = frozenRowCount > 0\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\n            : visibleRect.top;\n        const initRow = _getTargetRowAt.call(this, visibleTop);\n        if (!initRow) {\n            return 0;\n        }\n        const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n        let count = 0;\n        const { rowCount } = this;\n        for (let row = startRow; row < rowCount; row++) {\n            const height = _getRowHeight.call(this, row);\n            const bottom = absoluteTop + height;\n            if (visibleRect.bottom < bottom) {\n                break;\n            }\n            count++;\n            absoluteTop = bottom;\n        }\n        return count;\n    }\n    /**\n     * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\n     * @returns {number}\n     */\n    get visibleColCount() {\n        const { frozenColCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleLeft = frozenColCount > 0\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\n            : visibleRect.left;\n        const initCol = _getTargetColAt(this, visibleLeft);\n        if (!initCol) {\n            return 0;\n        }\n        const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n        let count = 0;\n        const { colCount } = this;\n        for (let col = startCol; col < colCount; col++) {\n            const width = _getColWidth(this, col);\n            const right = absoluteLeft + width;\n            if (visibleRect.right < right) {\n                break;\n            }\n            count++;\n            absoluteLeft = right;\n        }\n        return count;\n    }\n    /**\n     * Get the index of the first row in the scrollable region that is visible.\n     * @returns {number}\n     */\n    get topRow() {\n        const { frozenRowCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleTop = frozenRowCount > 0\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\n            : visibleRect.top;\n        const initRow = _getTargetRowAt.call(this, visibleTop);\n        if (!initRow) {\n            return 0;\n        }\n        return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n    }\n    /**\n     * Get the index of the first column in the scrollable region that is visible.\n     * @returns {number}\n     */\n    get leftCol() {\n        const { frozenColCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleLeft = frozenColCount > 0\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\n            : visibleRect.left;\n        const initCol = _getTargetColAt(this, visibleLeft);\n        if (!initCol) {\n            return 0;\n        }\n        return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n    }\n    /**\n     * gets or sets the number of pixels that an element's content is scrolled vertically\n     */\n    get scrollTop() {\n        return this[_].scrollable.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this[_].scrollable.scrollTop = scrollTop;\n    }\n    /**\n     * gets or sets the number of pixels that an element's content is scrolled from its left edge\n     */\n    get scrollLeft() {\n        return this[_].scrollable.scrollLeft;\n    }\n    set scrollLeft(scrollLeft) {\n        this[_].scrollable.scrollLeft = scrollLeft;\n    }\n    /**\n     * Get the value of cell with the copy action.\n     * <p>\n     * Please implement\n     * </p>\n     *\n     * @protected\n     * @param col Column index of cell.\n     * @param row Row index of cell.\n     * @param range Copy range.\n     * @return {string} the value of cell\n     */\n    getCopyCellValue(_col, _row, _range) {\n        //Please implement get cell value!!\n    }\n    /**\n     * Get the overflowed text in the cell rectangle, from the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {string | null} The text overflowing the cell rect.\n     */\n    getCellOverflowText(col, row) {\n        const key = `${col}:${row}`;\n        return this[_].cellTextOverflows[key] || null;\n    }\n    /**\n     * Set the overflowed text in the cell rectangle, to the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @param  {string} overflowText The overflowed text in the cell rectangle.\n     * @return {void}\n     */\n    setCellOverflowText(col, row, overflowText) {\n        const key = `${col}:${row}`;\n        if (overflowText) {\n            this[_].cellTextOverflows[key] =\n                typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\n        }\n        else {\n            delete this[_].cellTextOverflows[key];\n        }\n    }\n    addDisposable(disposable) {\n        if (!disposable ||\n            !disposable.dispose ||\n            typeof disposable.dispose !== \"function\") {\n            throw new Error(\"not disposable!\");\n        }\n        const disposables = (this[_].disposables = this[_].disposables || []);\n        disposables.push(disposable);\n    }\n    /**\n     * Dispose the grid instance.\n     * @returns {void}\n     */\n    dispose() {\n        super.dispose();\n        const protectedSpace = this[_];\n        protectedSpace.handler.dispose();\n        protectedSpace.scrollable.dispose();\n        protectedSpace.focusControl.dispose();\n        protectedSpace.columnResizer.dispose();\n        protectedSpace.cellSelector.dispose();\n        if (protectedSpace.disposables) {\n            protectedSpace.disposables.forEach((disposable) => disposable.dispose());\n            protectedSpace.disposables = null;\n        }\n        const { parentElement } = protectedSpace.element;\n        if (parentElement) {\n            parentElement.removeChild(protectedSpace.element);\n        }\n    }\n    getAttachCellsArea(range) {\n        return {\n            element: this.getElement(),\n            rect: _toRelativeRect(this, this.getCellRangeRect(range)),\n        };\n    }\n    onKeyDownMove(evt) {\n        _onKeyDownMove.call(this, evt);\n    }\n    bindEventsInternal() {\n        //nop\n    }\n    getTargetRowAtInternal(_absoluteY) {\n        // \n    }\n    getRowsHeightInternal(_startRow, _endRow) {\n        // \n    }\n    getRowHeightInternal(_row) {\n        // \n    }\n    getScrollHeightInternal(_row) {\n        // \n    }\n    getMoveLeftColByKeyDownInternal({ col }) {\n        return col - 1;\n    }\n    getMoveRightColByKeyDownInternal({ col }) {\n        return col + 1;\n    }\n    getMoveUpRowByKeyDownInternal({ row }) {\n        return row - 1;\n    }\n    getMoveDownRowByKeyDownInternal({ row }) {\n        return row + 1;\n    }\n    getOffsetInvalidateCells() {\n        return 0;\n    }\n    getCopyRangeInternal(range) {\n        return range;\n    }\n    _getInitContext() {\n        const ctx = this[_].context;\n        //\n        ctx.fillStyle = \"white\";\n        ctx.strokeStyle = \"black\";\n        ctx.textAlign = \"left\";\n        ctx.textBaseline = \"top\";\n        ctx.lineWidth = 1;\n        ctx.font = this.font || \"16px sans-serif\";\n        return ctx;\n    }\n    fireListeners(type, ...event) {\n        return super.fireListeners(type, ...event);\n    }\n}\nexports.DrawGrid = DrawGrid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getScrollBarSize = exports.initDocument = void 0;\nfunction getScrollBarWidth() {\n    const dummy = document.createElement(\"div\");\n    const { style } = dummy;\n    style.position = \"absolute\";\n    style.height = \"9999px\";\n    style.width = \"calc(100vw - 100%)\";\n    style.opacity = \"0\";\n    dummy.textContent = \"x\";\n    document.body.appendChild(dummy);\n    const { width } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n    document.body.removeChild(dummy);\n    return parseInt(width, 10);\n}\nlet SCROLLBAR_SIZE;\nfunction initDocumentInternal() {\n    require(\"@/internal/style.css\");\n    SCROLLBAR_SIZE = getScrollBarWidth() || 10;\n    const style = document.createElement(\"style\");\n    style.setAttribute(\"type\", \"text/css\");\n    style.setAttribute(\"data-name\", \"cheetah-grid\");\n    style.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n    document.head.appendChild(style);\n}\nlet initDocumentVar = initDocumentInternal;\nfunction initDocument() {\n    initDocumentVar();\n    initDocumentVar = Function.prototype;\n}\nexports.initDocument = initDocument;\nfunction getScrollBarSize() {\n    return SCROLLBAR_SIZE;\n}\nexports.getScrollBarSize = getScrollBarSize;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parsePasteRangeBoxValues = void 0;\nfunction parsePasteRangeBoxValues(value) {\n    const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n    const lines = normalizeValue.split(/(?:\\r?\\n)|[\\u2028\\u2029]/g);\n    const values = lines.map((line) => line.split(/\\t/g));\n    const colCount = values.reduce((n, cells) => Math.max(n, cells.length), 0);\n    return {\n        colCount,\n        rowCount: values.length,\n        getCellValue(offsetCol, offsetRow) {\n            var _a;\n            return ((_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) || \"\";\n        },\n    };\n}\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\nconst DataSource_1 = require(\"./data/DataSource\");\nObject.defineProperty(exports, \"DataSource\", { enumerable: true, get: function () { return DataSource_1.DataSource; } });\nconst CachedDataSource_1 = require(\"./data/CachedDataSource\");\nObject.defineProperty(exports, \"CachedDataSource\", { enumerable: true, get: function () { return CachedDataSource_1.CachedDataSource; } });\nconst FilterDataSource_1 = require(\"./data/FilterDataSource\");\nObject.defineProperty(exports, \"FilterDataSource\", { enumerable: true, get: function () { return FilterDataSource_1.FilterDataSource; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\nconst utils_1 = require(\"./utils\");\nfunction createArray(get, length) {\n    const array = new Array(length);\n    for (let i = 0; i < length; i++) {\n        array[i] = get(i);\n    }\n    return array;\n}\nfunction createArrayPromise(get, getField, length\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    return new Promise((resolve) => {\n        const plist = [];\n        const array = new Array(length);\n        for (let i = 0; i < length; i++) {\n            const data = get(i);\n            const record = {\n                v: data,\n                f: data,\n            };\n            array[i] = record;\n            if (utils_1.isPromise(data)) {\n                plist.push(data.then((v) => {\n                    record.v = v;\n                    record.f = v;\n                }));\n            }\n        }\n        Promise.all(plist)\n            .then(() => getField == null\n            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                array\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                setArrayField(array, getField))\n            .then(resolve);\n    });\n}\nfunction setArrayField(array, getField) {\n    return new Promise((resolve) => {\n        const { length } = array;\n        const plist = [];\n        for (let i = 0; i < length; i++) {\n            const record = array[i];\n            const f = getField(record.v);\n            if (utils_1.isPromise(f)) {\n                plist.push(f.then((v) => {\n                    record.f = v;\n                }));\n            }\n            else {\n                record.f = f;\n            }\n        }\n        Promise.all(plist).then(() => resolve(array));\n    });\n}\nfunction sortArray(array, compare) {\n    Array.prototype.sort.call(array, compare);\n}\nexports.sortArray = sortArray;\nfunction sort(get, set, length, compare, getField) {\n    const old = createArray(get, length);\n    if (getField != null) {\n        old.sort((r1, r2) => compare(getField(r1), getField(r2)));\n    }\n    else {\n        old.sort(compare);\n    }\n    for (let i = 0; i < length; i++) {\n        set(i, old[i]);\n    }\n}\nexports.sort = sort;\nfunction sortPromise(get, set, length, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ncompare, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngetField) {\n    if (typeof Promise !== \"undefined\") {\n        return createArrayPromise(get, getField, length).then((array) => {\n            array.sort((r1, r2) => compare(r1.f, r2.f));\n            for (let i = 0; i < length; i++) {\n                set(i, array[i].v);\n            }\n        });\n    }\n    else {\n        sort(get, set, length, compare, getField);\n        const dummyPromise = {\n            then(fn) {\n                fn();\n                return dummyPromise;\n            },\n            catch() {\n                return dummyPromise;\n            },\n        };\n        return dummyPromise;\n    }\n}\nexports.sortPromise = sortPromise;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst utils_1 = require(\"../../internal/utils\");\nconst KEY_ENTER = 13;\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    let inMouse;\n    return [\n        // click\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            action({\n                col: e.col,\n                row: e.row,\n            });\n        }),\n        // mouse move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOver) {\n                if (!mouseOver({\n                    col: e.col,\n                    row: e.row,\n                })) {\n                    return;\n                }\n            }\n            grid.getElement().style.cursor = \"pointer\";\n            inMouse = true;\n        }),\n        //MOUSEENTER'col-resize'move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (inMouse && !grid.getElement().style.cursor) {\n                grid.getElement().style.cursor = \"pointer\";\n            }\n        }),\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOut) {\n                mouseOut({\n                    col: e.col,\n                    row: e.row,\n                });\n            }\n            grid.getElement().style.cursor = \"\";\n            inMouse = false;\n        }),\n    ];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\n    acceptKeys = [...acceptKeys, KEY_ENTER];\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [\n        // enter key down\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n            var _a;\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\n                return;\n            }\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n                // When moving with the enter key, no action is taken with the enter key.\n                return;\n            }\n            const sel = grid.selection.select;\n            if (!isTarget(sel.col, sel.row)) {\n                return;\n            }\n            action({\n                col: sel.col,\n                row: sel.row,\n            });\n            utils_1.event.cancel(e.event);\n        }),\n    ];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass CheckHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n        this._borderColor = borderColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new CheckHeaderStyle());\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    get borderColor() {\n        return this._borderColor;\n    }\n    set borderColor(borderColor) {\n        this._borderColor = borderColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new CheckHeaderStyle(this);\n    }\n}\nexports.CheckHeaderStyle = CheckHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass MultilineTextHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._lineHeight = style.lineHeight || \"1em\";\n        this._autoWrapText = style.autoWrapText || false;\n        this._lineClamp = style.lineClamp;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new MultilineTextHeaderStyle());\n    }\n    clone() {\n        return new MultilineTextHeaderStyle(this);\n    }\n    get lineHeight() {\n        return this._lineHeight;\n    }\n    set lineHeight(lineHeight) {\n        this._lineHeight = lineHeight;\n        this.doChangeStyle();\n    }\n    get lineClamp() {\n        return this._lineClamp;\n    }\n    set lineClamp(lineClamp) {\n        this._lineClamp = lineClamp;\n        this.doChangeStyle();\n    }\n    get autoWrapText() {\n        return this._autoWrapText;\n    }\n    set autoWrapText(autoWrapText) {\n        this._autoWrapText = autoWrapText;\n        this.doChangeStyle();\n    }\n}\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass SortHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._sortArrowColor = style.sortArrowColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\n    }\n    get sortArrowColor() {\n        return this._sortArrowColor;\n    }\n    set sortArrowColor(sortArrowColor) {\n        this._sortArrowColor = sortArrowColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new SortHeaderStyle(this);\n    }\n}\nexports.SortHeaderStyle = SortHeaderStyle;\n","\"use strict\";\n/*eslint-disable camelcase*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.get = void 0;\nconst utils_1 = require(\"./internal/utils\");\nconst icons_1 = require(\"./plugins/icons\");\nconst builtins = {\n    get arrow_upward() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\n    },\n    get arrow_downward() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\n    },\n    get edit() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg\");\n    },\n    get add() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg\");\n    },\n    get star() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg\");\n    },\n    get star_border() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\n    },\n    get star_half() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\n    },\n};\nfunction get() {\n    return utils_1.extend(builtins, icons_1.icons);\n}\nexports.get = get;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.icons = void 0;\nexports.icons = {};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.themes = void 0;\nexports.themes = {};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\nconst canvases_1 = require(\"../internal/canvases\");\nconst { ceil, PI } = Math;\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n    function strokeRectLines(positions) {\n        for (let i = 0; i < borderColors.length; i++) {\n            const color = borderColors[i];\n            const preColor = borderColors[i - 1];\n            if (color) {\n                if (preColor !== color) {\n                    if (preColor) {\n                        ctx.strokeStyle = preColor;\n                        ctx.stroke();\n                    }\n                    const pos1 = positions[i];\n                    ctx.beginPath();\n                    ctx.moveTo(pos1.x, pos1.y);\n                }\n                const pos2 = positions[i + 1];\n                ctx.lineTo(pos2.x, pos2.y);\n            }\n            else {\n                if (preColor) {\n                    ctx.strokeStyle = preColor;\n                    ctx.stroke();\n                }\n            }\n        }\n        const preColor = borderColors[borderColors.length - 1];\n        if (preColor) {\n            ctx.strokeStyle = preColor;\n            ctx.stroke();\n        }\n    }\n    if (borderColors[0] === borderColors[1] &&\n        borderColors[0] === borderColors[2] &&\n        borderColors[0] === borderColors[3]) {\n        if (borderColors[0]) {\n            ctx.strokeStyle = borderColors[0];\n            ctx.strokeRect(left, top, width, height);\n        }\n    }\n    else {\n        strokeRectLines([\n            { x: left, y: top },\n            { x: left + width, y: top },\n            { x: left + width, y: top + height },\n            { x: left, y: top + height },\n            { x: left, y: top },\n        ]);\n    }\n}\nexports.strokeColorsRect = strokeColorsRect;\nfunction roundRect(ctx, left, top, width, height, radius) {\n    ctx.beginPath();\n    ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n    ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n    ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n    ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n    ctx.closePath();\n}\nexports.roundRect = roundRect;\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n    roundRect(ctx, left, top, width, height, radius);\n    ctx.fill();\n}\nexports.fillRoundRect = fillRoundRect;\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n    roundRect(ctx, left, top, width, height, radius);\n    ctx.stroke();\n}\nexports.strokeRoundRect = strokeRoundRect;\nfunction fillCircle(ctx, left, top, width, height) {\n    const min = Math.min(width, height) / 2;\n    ctx.beginPath();\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.fill();\n}\nexports.fillCircle = fillCircle;\nfunction strokeCircle(ctx, left, top, width, height) {\n    const min = Math.min(width, height) / 2;\n    ctx.beginPath();\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.stroke();\n}\nexports.strokeCircle = strokeCircle;\nfunction fillTextRect(ctx, text, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcBasePosition(ctx, rect, {\n            offset,\n            padding,\n        });\n        ctx.fillText(text, pos.x, pos.y);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.fillTextRect = fillTextRect;\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcStartPosition(ctx, rect, destWidth, destHeight, {\n            offset,\n            padding,\n        });\n        ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawInlineImageRect = drawInlineImageRect;\n/**\n * Returns an object containing the width of the checkbox.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the checkbox\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction measureCheckbox(ctx) {\n    return {\n        width: canvases_1.getFontSize(ctx, null).width,\n    };\n}\nexports.measureCheckbox = measureCheckbox;\n/**\n * Returns an object containing the width of the radio button.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the radio button\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction measureRadioButton(ctx) {\n    return {\n        width: canvases_1.getFontSize(ctx, null).width,\n    };\n}\nexports.measureRadioButton = measureRadioButton;\n/**\n * draw Checkbox\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {boolean|number} check checkbox check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction drawCheckbox(ctx, x, y, check, { uncheckBgColor = \"#FFF\", checkBgColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", boxSize = measureCheckbox(ctx).width, } = {}) {\n    const checkPoint = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\n    ctx.save();\n    try {\n        ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n        const leftX = ceil(x);\n        const topY = ceil(y);\n        const size = ceil(boxSize);\n        fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = borderColor;\n        strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\n        if (check) {\n            ctx.lineWidth = ceil(boxSize / 10);\n            ctx.strokeStyle = uncheckBgColor;\n            let leftWidth = boxSize / 4;\n            let rightWidth = (boxSize / 2) * 0.9;\n            const leftLeftPos = x + boxSize * 0.2;\n            const leftTopPos = y + boxSize / 2;\n            if (checkPoint < 0.5) {\n                leftWidth *= checkPoint * 2;\n            }\n            ctx.beginPath();\n            ctx.moveTo(leftLeftPos, leftTopPos);\n            ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n            if (checkPoint > 0.5) {\n                if (checkPoint < 1) {\n                    rightWidth *= (checkPoint - 0.5) * 2;\n                }\n                ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n            }\n            ctx.stroke();\n        }\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawCheckbox = drawCheckbox;\n/**\n * draw Radio button\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {boolean|number} check radio button check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction drawRadioButton(ctx, x, y, check, { checkColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", bgColor = \"#FFF\", boxSize = measureRadioButton(ctx).width, } = {}) {\n    const ratio = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\n    ctx.save();\n    try {\n        ctx.fillStyle = bgColor;\n        const leftX = ceil(x);\n        const topY = ceil(y);\n        const size = ceil(boxSize);\n        fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = borderColor;\n        strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\n        if (check) {\n            const checkSize = (size * ratio) / 2;\n            const padding = (size - checkSize) / 2;\n            ctx.fillStyle = checkColor;\n            fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\n        }\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawRadioButton = drawRadioButton;\n/**\n * draw Button\n */\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n    const { backgroundColor = \"#FFF\", bgColor = backgroundColor, radius = 4, shadow = {}, } = option;\n    ctx.save();\n    try {\n        ctx.fillStyle = bgColor;\n        if (shadow) {\n            const { color = \"rgba(0, 0, 0, 0.24)\", blur = 1, offsetX = 0, offsetY = 2, offset: { x: ox = offsetX, y: oy = offsetY } = {}, } = shadow;\n            ctx.shadowColor = color;\n            ctx.shadowBlur = blur; //\n            ctx.shadowOffsetX = ox;\n            ctx.shadowOffsetY = oy;\n        }\n        fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawButton = drawButton;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nlet seqId = -1;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyHeaderData() {\n    return {\n        id: seqId--,\n        define: {},\n        headerType: headerType.of(null),\n    };\n}\nexports.newEmptyHeaderData = newEmptyHeaderData;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyColumnData() {\n    return {\n        id: seqId--,\n        define: {},\n        columnType: columns.type.of(null),\n        style: null,\n    };\n}\nexports.newEmptyColumnData = newEmptyColumnData;\nclass EmptyDataCache {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.headers = [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.columns = [];\n    }\n    getHeader(col, row) {\n        const rows = this.headers[row] || (this.headers[row] = []);\n        return rows[col] || (rows[col] = newEmptyHeaderData());\n    }\n    getBody(col, row) {\n        const rows = this.columns[row] || (this.columns[row] = []);\n        return rows[col] || (rows[col] = newEmptyColumnData());\n    }\n}\nexports.EmptyDataCache = EmptyDataCache;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GridCanvasHelper = void 0;\nconst calc = __importStar(require(\"./internal/calc\"));\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\nconst fonts = __importStar(require(\"./internal/fonts\"));\nconst inlineUtils = __importStar(require(\"./element/inlines\"));\nconst themes = __importStar(require(\"./themes\"));\nconst canvases_1 = require(\"./internal/canvases\");\nconst utils_1 = require(\"./internal/utils\");\nconst InlineDrawer_1 = require(\"./element/InlineDrawer\");\nconst Rect_1 = require(\"./internal/Rect\");\nconst color_1 = require(\"./internal/color\");\nconst { toBoxArray } = utils_1.style;\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\nfunction invalidateCell(context, grid) {\n    const { col, row } = context;\n    grid.invalidateCell(col, row);\n}\nfunction getColor(color, col, row, grid, context) {\n    return utils_1.getOrApply(color, {\n        col,\n        row,\n        grid,\n        context,\n    });\n}\nfunction getFont(font, col, row, grid, context) {\n    if (font == null) {\n        return undefined;\n    }\n    return utils_1.getOrApply(font, {\n        col,\n        row,\n        grid,\n        context,\n    });\n}\nfunction getThemeColor(grid, ...names) {\n    const gridThemeColor = utils_1.getChainSafe(grid.theme, ...names);\n    if (gridThemeColor == null) {\n        // use default theme\n        return utils_1.getChainSafe(themes.getDefault(), ...names);\n    }\n    if (typeof gridThemeColor !== \"function\") {\n        return gridThemeColor;\n    }\n    let defaultThemeColor;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ((args) => {\n        const color = gridThemeColor(args);\n        if (color != null) {\n            // use grid theme\n            return color;\n        }\n        // use default theme\n        defaultThemeColor =\n            defaultThemeColor || utils_1.getChainSafe(themes.getDefault(), ...names);\n        return utils_1.getOrApply(defaultThemeColor, args);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    });\n}\nfunction testFontLoad(font, value, context, grid) {\n    if (font) {\n        if (!fonts.check(font, value)) {\n            fonts.load(font, value, () => invalidateCell(context, grid));\n            return false;\n        }\n    }\n    return true;\n}\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n    function drawInline(inline, offsetLeft, offsetRight) {\n        if (inline.canDraw()) {\n            ctx.save();\n            try {\n                ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n                ctx.font = inline.font() || ctx.font;\n                inline.draw({\n                    ctx,\n                    canvashelper,\n                    rect,\n                    offset,\n                    offsetLeft,\n                    offsetRight,\n                    offsetTop,\n                    offsetBottom,\n                });\n            }\n            finally {\n                ctx.restore();\n            }\n        }\n        else {\n            inline.onReady(() => grid.invalidateCell(col, row));\n            //noop\n        }\n    }\n    if (inlines.length === 1) {\n        //1\n        const inline = inlines[0];\n        drawInline(inline, 0, 0);\n    }\n    else {\n        const inlineWidths = inlines.map((inline) => (inline.width({ ctx }) || 0) - 0);\n        let offsetRight = inlineWidths.reduce((a, b) => a + b);\n        let offsetLeft = 0;\n        inlines.forEach((inline, index) => {\n            const inlineWidth = inlineWidths[index];\n            offsetRight -= inlineWidth;\n            drawInline(inline, offsetLeft, offsetRight);\n            offsetLeft += inlineWidth;\n        });\n    }\n}\nfunction buildInlines(icons, inline) {\n    return inlineUtils.buildInlines(icons, inline || \"\");\n}\nfunction inlineToString(inline) {\n    return inlineUtils.string(inline);\n}\nfunction getOverflowInline(textOverflow) {\n    if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\n        return INLINE_ELLIPSIS;\n    }\n    textOverflow = textOverflow.trim();\n    if (textOverflow.length === 1) {\n        return inlineUtils.of(textOverflow[0]);\n    }\n    return INLINE_ELLIPSIS;\n}\nfunction isAllowOverflow(textOverflow) {\n    return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\n}\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n    const maxWidth = width - 3; /*buffer*/\n    let lineWidth = 0;\n    for (let i = 0; i < inlines.length; i++) {\n        const inline = inlines[i];\n        const inlineWidth = (inline.width({ ctx }) || 0) - 0;\n        if (lineWidth + inlineWidth > maxWidth) {\n            return {\n                index: i,\n                lineWidth,\n                remWidth: maxWidth - lineWidth,\n            };\n        }\n        lineWidth += inlineWidth;\n    }\n    return null;\n}\nfunction isOverflowInlines(ctx, inlines, width) {\n    return !!getOverflowInlinesIndex(ctx, inlines, width);\n}\nfunction breakWidthInlines(ctx, inlines, width) {\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n    if (!indexData) {\n        return {\n            beforeInlines: inlines,\n            overflow: false,\n            afterInlines: [],\n        };\n    }\n    const { index, remWidth } = indexData;\n    const inline = inlines[index];\n    const beforeInlines = inlines.slice(0, index);\n    const afterInlines = [];\n    if (inline.canBreak()) {\n        let { before, after } = inline.breakWord(ctx, remWidth);\n        if (!before && !beforeInlines.length) {\n            ({ before, after } = inline.breakAll(ctx, remWidth));\n        }\n        if (!before && !beforeInlines.length) {\n            // Always return one char\n            ({ before, after } = inline.splitIndex(1));\n        }\n        if (before) {\n            beforeInlines.push(before);\n        }\n        if (after) {\n            afterInlines.push(after);\n        }\n        afterInlines.push(...inlines.slice(index + 1));\n    }\n    else {\n        if (!beforeInlines.length) {\n            // Always return one char\n            beforeInlines.push(inline);\n        }\n        afterInlines.push(...inlines.slice(beforeInlines.length));\n    }\n    return {\n        beforeInlines,\n        overflow: true,\n        afterInlines,\n    };\n}\nfunction truncateInlines(ctx, inlines, width, option) {\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n    if (!indexData) {\n        return {\n            inlines,\n            overflow: false,\n        };\n    }\n    const { index, lineWidth } = indexData;\n    const inline = inlines[index];\n    const overflowInline = getOverflowInline(option);\n    const ellipsisWidth = overflowInline.width({ ctx });\n    const remWidth = width - lineWidth - ellipsisWidth;\n    const result = inlines.slice(0, index);\n    if (inline.canBreak()) {\n        const { before } = inline.breakAll(ctx, remWidth);\n        if (before) {\n            result.push(before);\n        }\n    }\n    result.push(overflowInline);\n    return {\n        inlines: result,\n        overflow: true,\n    };\n}\nfunction _inlineRect(grid, ctx, inline, rect, col, row, { offset, color, textAlign, textBaseline, font, textOverflow, icons, }) {\n    //style\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = font || ctx.font;\n    let inlines = buildInlines(icons, inline);\n    if (isAllowOverflow(textOverflow) &&\n        isOverflowInlines(ctx, inlines, rect.width)) {\n        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, rect.width, textOverflow);\n        inlines = truncInlines;\n        grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n    }\n    else {\n        grid.setCellOverflowText(col, row, false);\n    }\n    drawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n}\n// eslint-disable-next-line complexity\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, { offset, color, textAlign, textBaseline, font, lineHeight, autoWrapText, lineClamp, textOverflow, icons, }) {\n    //style\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = font || ctx.font;\n    if (lineClamp === \"auto\") {\n        const rectHeight = rect.height - offset * 2 - 2; /*offset added by Inline#draw*/\n        lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n    }\n    let buildedMultiInlines;\n    if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n        const { width } = rect;\n        buildedMultiInlines = [];\n        const procLineClamp = lineClamp > 0\n            ? (inlines, hasNext) => {\n                if (buildedMultiInlines.length + 1 >= lineClamp) {\n                    if (inlines.length === 0 && hasNext) {\n                        buildedMultiInlines.push([getOverflowInline(textOverflow)]);\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                    }\n                    else {\n                        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\n                        buildedMultiInlines.push(hasNext && !overflow\n                            ? truncInlines.concat([getOverflowInline(textOverflow)])\n                            : truncInlines);\n                        if (overflow || hasNext) {\n                            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                        }\n                    }\n                    return false;\n                }\n                return true;\n            }\n            : () => true;\n        const procLine = autoWrapText\n            ? (inlines, hasNext) => {\n                if (!procLineClamp(inlines, hasNext)) {\n                    return false;\n                }\n                while (inlines.length) {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    const { beforeInlines, afterInlines } = breakWidthInlines(ctx, inlines, width);\n                    buildedMultiInlines.push(beforeInlines);\n                    inlines = afterInlines;\n                }\n                return true;\n            }\n            : isAllowOverflow(textOverflow)\n                ? (inlines, hasNext) => {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\n                    buildedMultiInlines.push(truncInlines);\n                    if (overflow) {\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                    }\n                    return true;\n                }\n                : (inlines, hasNext) => {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    buildedMultiInlines.push(inlines);\n                    return true;\n                };\n        grid.setCellOverflowText(col, row, false);\n        for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n            const inline = multiInlines[lineRow];\n            const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n            if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n                break;\n            }\n        }\n    }\n    else {\n        grid.setCellOverflowText(col, row, false);\n        buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n    }\n    let paddingTop = 0;\n    let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n    if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\n        const em = canvases_1.getFontSize(ctx, ctx.font).height;\n        const pad = (lineHeight - em) / 2;\n        paddingTop += pad;\n        paddingBottom -= pad;\n    }\n    else if (ctx.textBaseline === \"bottom\" ||\n        ctx.textBaseline === \"alphabetic\" ||\n        ctx.textBaseline === \"ideographic\") {\n        const em = canvases_1.getFontSize(ctx, ctx.font).height;\n        const pad = (lineHeight - em) / 2;\n        paddingTop -= pad;\n        paddingBottom += pad;\n    }\n    buildedMultiInlines.forEach((buildedInline) => {\n        drawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n        paddingTop += lineHeight;\n        paddingBottom -= lineHeight;\n    });\n}\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\n    const startColorRGB = color_1.colorToRGB(startColor);\n    const endColorRGB = color_1.colorToRGB(endColor);\n    const getRGB = (colorName) => {\n        const start = startColorRGB[colorName];\n        const end = endColorRGB[colorName];\n        if (elapsedTime >= 1) {\n            return end;\n        }\n        if (elapsedTime <= 0) {\n            return start;\n        }\n        const diff = start - end;\n        return Math.ceil(start - diff * elapsedTime);\n    };\n    return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\n}\nfunction drawCheckbox(ctx, rect, col, row, check, helper, { animElapsedTime = 1, uncheckBgColor = helper.theme.checkbox.uncheckBgColor, checkBgColor = helper.theme.checkbox.checkBgColor, borderColor = helper.theme.checkbox.borderColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n    borderColor = helper.getColor(borderColor, col, row, ctx);\n    if (0 < animElapsedTime && animElapsedTime < 1) {\n        uncheckBgColor = check\n            ? uncheckBgColor\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n        checkBgColor = check\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\n            : checkBgColor;\n    }\n    canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n        uncheckBgColor,\n        checkBgColor,\n        borderColor,\n    });\n}\nfunction drawRadioButton(ctx, rect, col, row, check, helper, { animElapsedTime = 1, checkColor = helper.theme.radioButton.checkColor, uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor, checkBorderColor = helper.theme.radioButton.checkBorderColor, uncheckBgColor = helper.theme.radioButton.uncheckBgColor, checkBgColor = helper.theme.radioButton.checkBgColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\n    const boxWidth = canvashelper.measureRadioButton(ctx).width;\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n    checkColor = helper.getColor(checkColor, col, row, ctx);\n    uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\n    checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n    let borderColor = check ? checkBorderColor : uncheckBorderColor;\n    let bgColor = check ? checkBgColor : uncheckBgColor;\n    if (0 < animElapsedTime && animElapsedTime < 1) {\n        borderColor = check\n            ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime)\n            : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\n        bgColor = check\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n    }\n    canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\n        checkColor,\n        borderColor,\n        bgColor,\n    });\n}\nclass ThemeResolver {\n    constructor(grid) {\n        this._checkbox = null;\n        this._radioButton = null;\n        this._button = null;\n        this._header = null;\n        this._grid = grid;\n    }\n    getThemeColor(...name) {\n        return getThemeColor(this._grid, ...name);\n    }\n    get font() {\n        return getThemeColor(this._grid, \"font\");\n    }\n    get underlayBackgroundColor() {\n        return getThemeColor(this._grid, \"underlayBackgroundColor\");\n    }\n    // color\n    get color() {\n        return getThemeColor(this._grid, \"color\");\n    }\n    get frozenRowsColor() {\n        return getThemeColor(this._grid, \"frozenRowsColor\");\n    }\n    // background\n    get defaultBgColor() {\n        return getThemeColor(this._grid, \"defaultBgColor\");\n    }\n    get frozenRowsBgColor() {\n        return getThemeColor(this._grid, \"frozenRowsBgColor\");\n    }\n    get selectionBgColor() {\n        return getThemeColor(this._grid, \"selectionBgColor\");\n    }\n    get highlightBgColor() {\n        return getThemeColor(this._grid, \"highlightBgColor\");\n    }\n    // border\n    get borderColor() {\n        return getThemeColor(this._grid, \"borderColor\");\n    }\n    get frozenRowsBorderColor() {\n        return getThemeColor(this._grid, \"frozenRowsBorderColor\");\n    }\n    get highlightBorderColor() {\n        return getThemeColor(this._grid, \"highlightBorderColor\");\n    }\n    get checkbox() {\n        const grid = this._grid;\n        return (this._checkbox ||\n            (this._checkbox = {\n                get uncheckBgColor() {\n                    return getThemeColor(grid, \"checkbox\", \"uncheckBgColor\");\n                },\n                get checkBgColor() {\n                    return getThemeColor(grid, \"checkbox\", \"checkBgColor\");\n                },\n                get borderColor() {\n                    return getThemeColor(grid, \"checkbox\", \"borderColor\");\n                },\n            }));\n    }\n    get radioButton() {\n        const grid = this._grid;\n        return (this._radioButton ||\n            (this._radioButton = {\n                get checkColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkColor\");\n                },\n                get uncheckBorderColor() {\n                    return getThemeColor(grid, \"radioButton\", \"uncheckBorderColor\");\n                },\n                get checkBorderColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkBorderColor\");\n                },\n                get uncheckBgColor() {\n                    return getThemeColor(grid, \"radioButton\", \"uncheckBgColor\");\n                },\n                get checkBgColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkBgColor\");\n                },\n            }));\n    }\n    get button() {\n        const grid = this._grid;\n        return (this._button ||\n            (this._button = {\n                get color() {\n                    return getThemeColor(grid, \"button\", \"color\");\n                },\n                get bgColor() {\n                    return getThemeColor(grid, \"button\", \"bgColor\");\n                },\n            }));\n    }\n    get header() {\n        const grid = this._grid;\n        return (this._header ||\n            (this._header = {\n                get sortArrowColor() {\n                    return getThemeColor(grid, \"header\", \"sortArrowColor\");\n                },\n            }));\n    }\n}\nfunction strokeRect(ctx, color, left, top, width, height) {\n    if (!Array.isArray(color)) {\n        if (color) {\n            ctx.strokeStyle = color;\n            ctx.strokeRect(left, top, width, height);\n        }\n    }\n    else {\n        const borderColors = toBoxArray(color);\n        canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n    }\n}\nclass GridCanvasHelper {\n    constructor(grid) {\n        this._grid = grid;\n        this._theme = new ThemeResolver(grid);\n    }\n    createCalculator(context, font) {\n        return {\n            calcWidth(width) {\n                return calc.toPx(width, {\n                    get full() {\n                        const rect = context.getRect();\n                        return rect.width;\n                    },\n                    get em() {\n                        return canvases_1.getFontSize(context.getContext(), font).width;\n                    },\n                });\n            },\n            calcHeight(height) {\n                return calc.toPx(height, {\n                    get full() {\n                        const rect = context.getRect();\n                        return rect.height;\n                    },\n                    get em() {\n                        return canvases_1.getFontSize(context.getContext(), font).height;\n                    },\n                });\n            },\n        };\n    }\n    getColor(color, col, row, ctx) {\n        return getColor(color, col, row, this._grid, ctx);\n    }\n    toBoxArray(obj) {\n        return toBoxArray(obj);\n    }\n    toBoxPixelArray(value, context, font) {\n        if (typeof value === \"string\" || Array.isArray(value)) {\n            const calculator = this.createCalculator(context, font);\n            const box = toBoxArray(value);\n            return [\n                calculator.calcHeight(box[0]),\n                calculator.calcWidth(box[1]),\n                calculator.calcHeight(box[2]),\n                calculator.calcWidth(box[3]),\n            ];\n        }\n        return toBoxArray(value);\n    }\n    get theme() {\n        return this._theme;\n    }\n    drawWithClip(context, draw) {\n        const drawRect = context.getDrawRect();\n        if (!drawRect) {\n            return;\n        }\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            ctx.beginPath();\n            ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n            //clip\n            ctx.clip();\n            draw(ctx);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    drawBorderWithClip(context, draw) {\n        const drawRect = context.getDrawRect();\n        if (!drawRect) {\n            return;\n        }\n        const rect = context.getRect();\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            //clip\n            ctx.beginPath();\n            let clipLeft = drawRect.left;\n            let clipWidth = drawRect.width;\n            if (drawRect.left === rect.left) {\n                clipLeft += -1;\n                clipWidth += 1;\n            }\n            let clipTop = drawRect.top;\n            let clipHeight = drawRect.height;\n            if (drawRect.top === rect.top) {\n                clipTop += -1;\n                clipHeight += 1;\n            }\n            ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n            ctx.clip();\n            draw(ctx);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    text(text, context, { padding, offset = 2, color, textAlign = \"left\", textBaseline = \"middle\", font, textOverflow = \"clip\", icons, } = {}) {\n        let rect = context.getRect();\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            if (padding) {\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\n                const left = rect.left + paddingNums[3];\n                const top = rect.top + paddingNums[0];\n                const width = rect.width - paddingNums[1] - paddingNums[3];\n                const height = rect.height - paddingNums[0] - paddingNums[2];\n                rect = new Rect_1.Rect(left, top, width, height);\n            }\n            _inlineRect(this._grid, ctx, text, rect, col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    multilineText(multilines, context, { padding, offset = 2, color, textAlign = \"left\", textBaseline = \"middle\", font, lineHeight = \"1em\", autoWrapText = false, lineClamp = 0, textOverflow = \"clip\", icons, } = {}) {\n        let rect = context.getRect();\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            if (padding) {\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\n                const left = rect.left + paddingNums[3];\n                const top = rect.top + paddingNums[0];\n                const width = rect.width - paddingNums[1] - paddingNums[3];\n                const height = rect.height - paddingNums[0] - paddingNums[2];\n                rect = new Rect_1.Rect(left, top, width, height);\n            }\n            const calculator = this.createCalculator(context, font);\n            lineHeight = calculator.calcHeight(lineHeight);\n            _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                lineHeight,\n                autoWrapText,\n                lineClamp,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    fillText(text, x, y, context, { color, textAlign = \"left\", textBaseline = \"top\", font, } = {}) {\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n            ctx.textAlign = textAlign;\n            ctx.textBaseline = textBaseline;\n            ctx.font = font || ctx.font;\n            ctx.fillText(text, x, y);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    fillCell(context, { fillColor = this.theme.defaultBgColor, } = {}) {\n        const rect = context.getRect();\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            ctx.fill();\n        });\n    }\n    fillCellWithState(context, option = {}) {\n        option.fillColor = this.getFillColorState(context, option);\n        this.fillCell(context, option);\n    }\n    fillRect(rect, context, { fillColor = this.theme.defaultBgColor, } = {}) {\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            const { col, row } = context;\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            ctx.fill();\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    fillRectWithState(rect, context, option = {}) {\n        option.fillColor = this.getFillColorState(context, option);\n        this.fillRect(rect, context, option);\n    }\n    getFillColorState(context, option = {}) {\n        const sel = context.getSelection();\n        const { col, row } = context;\n        if (!utils_1.cellEquals(sel.select, context) && utils_1.cellInRange(sel.range, col, row)) {\n            return this.theme.selectionBgColor;\n        }\n        if (option.fillColor) {\n            return option.fillColor;\n        }\n        if (utils_1.cellEquals(sel.select, context)) {\n            return this.theme.highlightBgColor;\n        }\n        const isFrozenCell = this._grid.isFrozenCell(col, row);\n        if (isFrozenCell && isFrozenCell.row) {\n            return this.theme.frozenRowsBgColor;\n        }\n        return this.theme.defaultBgColor;\n    }\n    border(context, { borderColor = this.theme.borderColor, lineWidth = 1, } = {}) {\n        const rect = context.getRect();\n        this.drawBorderWithClip(context, (ctx) => {\n            const { col, row } = context;\n            const borderColors = getColor(borderColor, col, row, this._grid, ctx);\n            if (lineWidth === 1) {\n                ctx.lineWidth = 1;\n                strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n            }\n            else if (lineWidth === 2) {\n                ctx.lineWidth = 2;\n                strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n            }\n            else {\n                ctx.lineWidth = lineWidth;\n                const startOffset = lineWidth / 2 - 1;\n                strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n            }\n        });\n    }\n    // Unused in main\n    borderWithState(context, option = {}) {\n        const rect = context.getRect();\n        const sel = context.getSelection();\n        const { col, row } = context;\n        //\n        if (utils_1.cellEquals(sel.select, context)) {\n            option.borderColor = this.theme.highlightBorderColor;\n            option.lineWidth = 2;\n            this.border(context, option);\n        }\n        else {\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n                option.borderColor = this.theme.frozenRowsBorderColor;\n            }\n            option.lineWidth = 1;\n            this.border(context, option);\n            //\n            const sel = this._grid.selection.select;\n            if (sel.col + 1 === col && sel.row === row) {\n                //\n                this.drawBorderWithClip(context, (ctx) => {\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left - 0.5, rect.top);\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\n                    ctx.stroke();\n                });\n            }\n            else if (sel.col === col && sel.row + 1 === row) {\n                //\n                this.drawBorderWithClip(context, (ctx) => {\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left, rect.top - 0.5);\n                    ctx.lineTo(rect.right, rect.top - 0.5);\n                    ctx.stroke();\n                });\n            }\n        }\n    }\n    buildCheckBoxInline(check, context, option = {}) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        const ctx = context.getContext();\n        const boxWidth = canvashelper.measureCheckbox(ctx).width;\n        return new InlineDrawer_1.InlineDrawer({\n            draw,\n            width: boxWidth + 3,\n            height: boxWidth + 1,\n            color: undefined,\n        });\n        function draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n            const { col, row } = context;\n            drawCheckbox(ctx, rect, col, row, check, self, option, {\n                offset: offset + 1,\n                padding: {\n                    left: offsetLeft + 1,\n                    right: offsetRight,\n                    top: offsetTop,\n                    bottom: offsetBottom,\n                },\n            });\n        }\n    }\n    checkbox(check, context, option = {}) {\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            drawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n        });\n    }\n    radioButton(check, context, option = {}) {\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            drawRadioButton(ctx, context.getRect(), col, row, check, this, option);\n        });\n    }\n    button(caption, context, { bgColor = this.theme.button.bgColor, padding, offset = 2, color = this.theme.button.color, textAlign = \"center\", textBaseline = \"middle\", shadow, font, textOverflow = \"clip\", icons, } = {}) {\n        const rect = context.getRect();\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            const { col, row } = context;\n            const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n            const left = rect.left + paddingNums[3];\n            const top = rect.top + paddingNums[0];\n            const width = rect.width - paddingNums[1] - paddingNums[3];\n            const height = rect.height - paddingNums[0] - paddingNums[2];\n            bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\n            canvashelper.drawButton(ctx, left, top, width, height, {\n                bgColor,\n                radius: rect.height / 8,\n                // offset,\n                shadow,\n            });\n            _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    testFontLoad(font, value, context) {\n        return testFontLoad(font, value, context, this._grid);\n    }\n}\nexports.GridCanvasHelper = GridCanvasHelper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.load = exports.check = void 0;\nconst utils_1 = require(\"./utils\");\nconst loads = {};\nlet load;\nexports.load = load;\nlet check;\nexports.check = check;\nif (utils_1.isNode) {\n    exports.load = load = function (_font, _testStr, callback) {\n        callback();\n    };\n    exports.check = check = function () {\n        return false;\n    };\n}\nelse {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fontFaceSet = document.fonts;\n    const legacy = !fontFaceSet;\n    exports.load = load = legacy\n        ? function (font, testStr, callback) {\n            //for legacy(IE)\n            if (loads[`${font} @ ${testStr}`]) {\n                callback();\n                return;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            require(\"./legacy/fontwatch/FontWatchRunner\").load(font, testStr, () => {\n                loads[`${font} @ ${testStr}`] = true;\n                callback();\n            }, () => {\n                loads[`${font} @ ${testStr}`] = true;\n                callback();\n            });\n        }\n        : function (font, _testStr, callback) {\n            if (loads.all || loads[font]) {\n                callback();\n                return;\n            }\n            fontFaceSet.ready.then(() => {\n                loads.all = true;\n            });\n            fontFaceSet.load(font).then(() => {\n                loads[font] = true;\n                callback();\n            });\n        };\n    exports.check = check = legacy\n        ? function (font, testStr) {\n            //for legacy(IE)\n            if (loads[`${font} @ ${testStr}`]) {\n                return true;\n            }\n            load(font, testStr, () => { });\n            return false;\n        }\n        : function (font, testStr) {\n            if (loads.all || loads[font]) {\n                return true;\n            }\n            if (!fontFaceSet.check(font)) {\n                load(font, testStr, () => { });\n                return false;\n            }\n            return true;\n        };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineDrawer = void 0;\nconst Inline_1 = require(\"./Inline\");\nclass InlineDrawer extends Inline_1.Inline {\n    constructor({ draw, width, \n    // height,\n    color, }) {\n        super();\n        this._draw = draw;\n        this._width = width;\n        // this._height = height;\n        this._color = color;\n    }\n    width(_arg) {\n        return this._width;\n    }\n    font() {\n        return null;\n    }\n    color() {\n        var _a;\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        this._draw({\n            ctx,\n            canvashelper,\n            rect,\n            offset,\n            offsetLeft,\n            offsetRight,\n            offsetTop,\n            offsetBottom,\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineDrawer = InlineDrawer;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineImage = void 0;\nconst Inline_1 = require(\"./Inline\");\nconst imgs_1 = require(\"../internal/imgs\");\nconst utils_1 = require(\"../internal/utils\");\nclass InlineImage extends Inline_1.Inline {\n    constructor({ src, width, height, imageLeft, imageTop, imageWidth, imageHeight, }) {\n        super();\n        this._inlineImgPromise = null;\n        this._inlineImg = null;\n        this._src = src;\n        this._width = width;\n        this._height = height;\n        this._imageLeft = imageLeft;\n        this._imageTop = imageTop;\n        this._imageWidth = imageWidth;\n        this._imageHeight = imageHeight;\n        this._onloaded = [];\n        if (utils_1.isPromise(src)) {\n            src.then((s) => {\n                this._src = s;\n                this._loadImage(s);\n            });\n        }\n        else {\n            this._loadImage(src);\n        }\n    }\n    _loadImage(src) {\n        const img = (this._inlineImgPromise = imgs_1.getCacheOrLoad(\"InlineImage\", 50, src));\n        if (utils_1.isPromise(img)) {\n            img.then((i) => {\n                this._inlineImg = i;\n                this._onloaded.forEach((fn) => fn());\n            });\n        }\n        else {\n            this._inlineImg = img;\n        }\n    }\n    width(_arg) {\n        var _a, _b;\n        return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\n    }\n    font() {\n        return null;\n    }\n    color() {\n        return null;\n    }\n    canDraw() {\n        return !!this._inlineImg;\n    }\n    onReady(callback) {\n        if (utils_1.isPromise(this._src) || utils_1.isPromise(this._inlineImgPromise)) {\n            this._onloaded.push(() => callback());\n        }\n    }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        const img = this._inlineImg;\n        canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n                left: offsetLeft,\n                right: offsetRight,\n                top: offsetTop,\n                bottom: offsetBottom,\n            },\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineImage = InlineImage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.colorToRGB = void 0;\nconst rgbMap = {};\nfunction styleColorToRGB(color) {\n    const dummy = document.createElement(\"div\");\n    const { style } = dummy;\n    style.color = color;\n    style.position = \"fixed\";\n    style.height = \"1px\";\n    style.width = \"1px\";\n    style.opacity = \"0\";\n    document.body.appendChild(dummy);\n    const { color: styleColor } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n    document.body.removeChild(dummy);\n    return colorToRGB0(styleColor || \"\");\n}\nfunction hexToNum(hex) {\n    return parseInt(hex, 16);\n}\nfunction createRGB(r, g, b, a = 1) {\n    return { r, g, b, a };\n}\nfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\n    return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\nfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2, }) {\n    return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\nfunction testRGB({ r, g, b, a }) {\n    return (0 <= r &&\n        r <= 255 &&\n        0 <= g &&\n        g <= 255 &&\n        0 <= b &&\n        b <= 255 &&\n        0 <= a &&\n        a <= 1);\n}\nfunction rateToByte(r) {\n    return Math.ceil((r * 255) / 100);\n}\nfunction colorToRGB0(color) {\n    if (/^#[0-9a-f]{3}$/i.exec(color)) {\n        return tripleHexToRGB(color);\n    }\n    if (/^#[0-9a-f]{6}$/i.exec(color)) {\n        return sextupleHexToRGB(color);\n    }\n    let ret = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])), Number(ret[7]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    return null;\n}\nfunction colorToRGB(color) {\n    if (typeof color !== \"string\") {\n        return createRGB(0, 0, 0, 0);\n    }\n    color = color.toLowerCase().trim();\n    if (rgbMap[color]) {\n        return rgbMap[color];\n    }\n    return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\nexports.colorToRGB = colorToRGB;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = void 0;\nconst columns = __importStar(require(\"./columns\"));\nexports.columns = columns;\nconst core = __importStar(require(\"./core\"));\nexports.core = core;\nconst data = __importStar(require(\"./data\"));\nexports.data = data;\nconst headers = __importStar(require(\"./headers\"));\nexports.headers = headers;\nconst icons = __importStar(require(\"./icons\"));\nconst register = __importStar(require(\"./register\"));\nexports.register = register;\nconst themes = __importStar(require(\"./themes\"));\nexports.themes = themes;\nconst tools = __importStar(require(\"./tools\"));\nexports.tools = tools;\nconst ListGrid_1 = require(\"./ListGrid\");\nObject.defineProperty(exports, \"ListGrid\", { enumerable: true, get: function () { return ListGrid_1.ListGrid; } });\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\nObject.defineProperty(exports, \"GridCanvasHelper\", { enumerable: true, get: function () { return GridCanvasHelper_1.GridCanvasHelper; } });\nvar get_internal_1 = require(\"./get-internal\");\nObject.defineProperty(exports, \"_getInternal\", { enumerable: true, get: function () { return get_internal_1.getInternal; } });\n/** @private */\nfunction getIcons() {\n    return icons.get();\n}\nexports.getIcons = getIcons;\n// backward compatibility\nexports.default = {\n    core,\n    tools,\n    // impl Grids\n    ListGrid: ListGrid_1.ListGrid,\n    // objects\n    columns,\n    headers,\n    themes,\n    data,\n    // helper\n    GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\n    //plugin registers\n    register,\n    get icons() {\n        return getIcons();\n    },\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"default\", {\n    enumerable: false,\n    configurable: true,\n    get() {\n        return themes.getDefault();\n    },\n    set(defaultTheme) {\n        themes.setDefault(defaultTheme);\n    },\n});\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"choices\", {\n    enumerable: false,\n    configurable: true,\n    get() {\n        return themes.getChoices();\n    },\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\nconst Action_1 = require(\"./action/Action\");\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return Action_1.Action; } });\nconst BaseAction_1 = require(\"./action/BaseAction\");\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\nconst ButtonAction_1 = require(\"./action/ButtonAction\");\nObject.defineProperty(exports, \"ButtonAction\", { enumerable: true, get: function () { return ButtonAction_1.ButtonAction; } });\nconst CheckEditor_1 = require(\"./action/CheckEditor\");\nObject.defineProperty(exports, \"CheckEditor\", { enumerable: true, get: function () { return CheckEditor_1.CheckEditor; } });\nconst Editor_1 = require(\"./action/Editor\");\nObject.defineProperty(exports, \"Editor\", { enumerable: true, get: function () { return Editor_1.Editor; } });\nconst InlineInputEditor_1 = require(\"./action/InlineInputEditor\");\nObject.defineProperty(exports, \"InlineInputEditor\", { enumerable: true, get: function () { return InlineInputEditor_1.InlineInputEditor; } });\nconst InlineMenuEditor_1 = require(\"./action/InlineMenuEditor\");\nObject.defineProperty(exports, \"InlineMenuEditor\", { enumerable: true, get: function () { return InlineMenuEditor_1.InlineMenuEditor; } });\nconst RadioEditor_1 = require(\"./action/RadioEditor\");\nObject.defineProperty(exports, \"RadioEditor\", { enumerable: true, get: function () { return RadioEditor_1.RadioEditor; } });\nconst SmallDialogInputEditor_1 = require(\"./action/SmallDialogInputEditor\");\nObject.defineProperty(exports, \"SmallDialogInputEditor\", { enumerable: true, get: function () { return SmallDialogInputEditor_1.SmallDialogInputEditor; } });\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\nexports.ACTIONS = {\n    CHECK: new ImmutableCheckEditor(),\n    INPUT: new ImmutableInputEditor(),\n    RADIO: new ImmutableRadioEditor(),\n};\nfunction of(columnAction) {\n    if (!columnAction) {\n        return undefined;\n    }\n    else if (typeof columnAction === \"string\") {\n        const key = columnAction.toUpperCase();\n        return exports.ACTIONS[key] || of(null);\n    }\n    else {\n        return columnAction;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonAction = void 0;\nconst Action_1 = require(\"./Action\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\nclass ButtonAction extends Action_1.Action {\n    getState(grid) {\n        let state = grid[BUTTON_COLUMN_STATE_ID];\n        if (!state) {\n            state = {};\n            utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\n        }\n        return state;\n    }\n}\nexports.ButtonAction = ButtonAction;\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckEditor = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\nclass CheckEditor extends Editor_1.Editor {\n    clone() {\n        return new CheckEditor(this);\n    }\n    bindGridEvent(grid, cellId) {\n        let _state = grid[CHECK_COLUMN_STATE_ID];\n        if (!_state) {\n            _state = { block: {}, elapsed: {} };\n            utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\n        }\n        const state = _state;\n        const action = (cell) => {\n            const range = grid.getCellRange(cell.col, cell.row);\n            const cellKey = `${range.start.col}:${range.start.row}`;\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n                state.block[cellKey]) {\n                return;\n            }\n            const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n            if (ret) {\n                const onChange = () => {\n                    // checkbox animation\n                    animate_1.animate(200, (point) => {\n                        if (point === 1) {\n                            delete state.elapsed[cellKey];\n                        }\n                        else {\n                            state.elapsed[cellKey] = point;\n                        }\n                        grid.invalidateCellRange(range);\n                    });\n                };\n                if (utils_1.isPromise(ret)) {\n                    state.block[cellKey] = true;\n                    ret.then(() => {\n                        delete state.block[cellKey];\n                        onChange();\n                    });\n                }\n                else {\n                    onChange();\n                }\n            }\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action: (_e) => {\n                    const selrange = grid.selection.range;\n                    const { col } = grid.selection.select;\n                    for (let { row } = selrange.start; row <= selrange.end.row; row++) {\n                        if (!isTarget(col, row)) {\n                            continue;\n                        }\n                        action({\n                            col,\n                            row,\n                        });\n                    }\n                },\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                const pasteValue = e.normalizeValue.trim();\n                grid.doGetCellValue(e.col, e.row, (value) => {\n                    const newValue = action_utils_1.toggleValue(value);\n                    if (`${newValue}`.trim() === pasteValue) {\n                        utils_1.event.cancel(e.event);\n                        action({\n                            col: e.col,\n                            row: e.row,\n                        });\n                    }\n                });\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const pasteValue = value.trim();\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            const newValue = action_utils_1.toggleValue(value);\n            if (`${newValue}`.trim() === pasteValue) {\n                grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n            }\n        });\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n}\nexports.CheckEditor = CheckEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineInputEditor = void 0;\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\nconst InlineInputElement_1 = require(\"./internal/InlineInputElement\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst _ = symbolManager_1.getInlineInputEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new InlineInputElement_1.InlineInputElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nfunction doChangeValue(_grid) {\n    if (globalElement) {\n        globalElement.doChangeValue();\n    }\n}\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\n    constructor(option = {}) {\n        super(option);\n        this._classList = option.classList;\n        this._type = option.type;\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n    }\n    clone() {\n        return new InlineInputEditor(this);\n    }\n    onInputCellInternal(grid, cell, inputValue) {\n        attachInput(grid, cell, this, inputValue);\n    }\n    onOpenCellInternal(grid, cell) {\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            attachInput(grid, cell, this, value);\n        });\n    }\n    onChangeSelectCellInternal(grid, _cell, _selected) {\n        doChangeValue(grid);\n        detachInput();\n    }\n    onGridScrollInternal(grid) {\n        doChangeValue(grid);\n        detachInput(true);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onSetInputAttrsInternal(grid, _cell, input) {\n        InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\n    }\n}\nexports.InlineInputEditor = InlineInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineInputElement = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst utils_1 = require(\"../../../internal/utils\");\nconst input_value_handler_1 = require(\"./input-value-handler\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst CLASSNAME = \"cheetah-grid__inline-input\";\nfunction createInputElement() {\n    require(\"@/columns/action/internal/InlineInputElement.css\");\n    return dom_1.createElement(\"input\", { classList: CLASSNAME });\n}\nfunction setInputAttrs(editor, _grid, input) {\n    const { classList, type } = editor;\n    if (classList) {\n        input.classList.add(...classList);\n    }\n    input.type = type || \"\";\n}\nclass InlineInputElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._input = createInputElement();\n        this._bindInputEvents();\n    }\n    static setInputAttrs(editor, grid, input) {\n        setInputAttrs(editor, grid, input);\n    }\n    dispose() {\n        var _a;\n        const input = this._input;\n        this.detach();\n        this._handler.dispose();\n        delete this._input;\n        this._beforePropEditor = null;\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n    }\n    attach(grid, editor, col, row, value) {\n        const input = this._input;\n        const handler = this._handler;\n        if (this._beforePropEditor) {\n            const { classList } = this._beforePropEditor;\n            if (classList) {\n                input.classList.remove(...classList);\n            }\n        }\n        input.style.font = grid.font || \"16px sans-serif\";\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        input.style.top = `${rect.top.toFixed()}px`;\n        input.style.left = `${rect.left.toFixed()}px`;\n        input.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n        element.appendChild(input);\n        setInputAttrs(editor, grid, input);\n        input_value_handler_1.setInputValue(input, value);\n        this._activeData = { grid, col, row, editor };\n        this._beforePropEditor = editor;\n        const focus = () => {\n            input.focus();\n            const end = input.value.length;\n            try {\n                if (typeof input.selectionStart !== \"undefined\") {\n                    input.selectionStart = end;\n                    input.selectionEnd = end;\n                    return;\n                }\n            }\n            catch (e) {\n                //ignore\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (document.selection) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const range = input.createTextRange();\n                range.collapse();\n                range.moveEnd(\"character\", end);\n                range.moveStart(\"character\", end);\n                range.select();\n            }\n        };\n        handler.tryWithOffEvents(input, \"blur\", () => {\n            focus();\n        });\n        this._attaching = true;\n        setTimeout(() => {\n            delete this._attaching;\n        });\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const { grid, col, row } = this._activeData;\n            const input = this._input;\n            this._handler.tryWithOffEvents(input, \"blur\", () => {\n                var _a;\n                (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n            });\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n    }\n    doChangeValue() {\n        if (!this._isActive()) {\n            return;\n        }\n        const input = this._input;\n        const { value } = input;\n        const { grid, col, row } = this._activeData;\n        grid.doChangeValue(col, row, () => value);\n    }\n    _isActive() {\n        const input = this._input;\n        if (!input || !input.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindInputEvents() {\n        const handler = this._handler;\n        const input = this._input;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(input, \"click\", stopPropagationOnly);\n        handler.on(input, \"mousedown\", stopPropagationOnly);\n        handler.on(input, \"touchstart\", stopPropagationOnly);\n        handler.on(input, \"dblclick\", stopPropagationOnly);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n        });\n        handler.on(input, \"compositionend\", (_e) => {\n            input.classList.remove(\"composition\");\n        });\n        handler.on(input, \"keydown\", (e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(e);\n            }\n            else if (keyCode === KEY_TAB) {\n                this._onKeydownTab(e);\n            }\n        });\n        handler.on(input, \"blur\", (_e) => {\n            this.doChangeValue();\n            this.detach();\n        });\n    }\n    _onKeydownEnter(e) {\n        var _a;\n        if (!this._isActive() || this._attaching) {\n            return;\n        }\n        const { grid } = this._activeData;\n        this.doChangeValue();\n        this.detach(true);\n        utils_1.event.cancel(e);\n        if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n            grid.onKeyDownMove(e);\n        }\n    }\n    _onKeydownTab(e) {\n        var _a;\n        if (!this._isActive()) {\n            return;\n        }\n        const { grid } = this._activeData;\n        if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\n            return;\n        }\n        this.doChangeValue();\n        this.detach(true);\n        grid.onKeyDownMove(e);\n    }\n}\nexports.InlineInputElement = InlineInputElement;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineMenuEditor = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst InlineMenuElement_1 = require(\"./internal/InlineMenuElement\");\nconst type_1 = require(\"../type\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst menu_items_1 = require(\"../../internal/menu-items\");\nconst _ = symbolManager_1.getInlineMenuEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value, record) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new InlineMenuElement_1.InlineMenuElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value, record);\n}\nfunction detachMenu(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass InlineMenuEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n        this._classList = option.classList;\n        this._options = menu_items_1.normalizeToFn(option.options);\n    }\n    dispose() {\n        // noop\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this._options = menu_items_1.normalizeToFn(options);\n    }\n    clone() {\n        return new InlineMenuEditor(this);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachMenu(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachMenu(true);\n    }\n    bindGridEvent(grid, cellId) {\n        const open = (cell) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return false;\n            }\n            grid.doGetCellValue(cell.col, cell.row, (value) => {\n                const record = grid.getRowRecord(cell.row);\n                if (utils_1.isPromise(record)) {\n                    return;\n                }\n                attachMenu(grid, cell, this, value, record);\n            });\n            return true;\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                open({\n                    col: cell.col,\n                    row: cell.row,\n                });\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n                    return;\n                }\n                const sel = grid.selection.select;\n                if (!isTarget(sel.col, sel.row)) {\n                    return;\n                }\n                if (open({\n                    col: sel.col,\n                    row: sel.row,\n                })) {\n                    e.stopCellMoving();\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (_e) => {\n                detachMenu();\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n                detachMenu(true);\n            }),\n            // mouse move\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                grid.getElement().style.cursor = \"pointer\";\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                if (!grid.getElement().style.cursor) {\n                    grid.getElement().style.cursor = \"pointer\";\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                grid.getElement().style.cursor = \"\";\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                const record = grid.getRowRecord(e.row);\n                if (utils_1.isPromise(record)) {\n                    return;\n                }\n                const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\n                if (pasteOpt) {\n                    utils_1.event.cancel(e.event);\n                    utils_1.then(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\n                        const range = grid.getCellRange(e.col, e.row);\n                        grid.invalidateCellRange(range);\n                    });\n                }\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const record = grid.getRowRecord(cell.row);\n        if (utils_1.isPromise(record)) {\n            return;\n        }\n        const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\n        if (pasteOpt) {\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n        }\n    }\n    onDeleteCellRangeBox(grid, cell) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const record = grid.getRowRecord(cell.row);\n        if (utils_1.isPromise(record)) {\n            return;\n        }\n        const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\n        if (pasteOpt) {\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n        }\n    }\n    _pasteDataToOptionValue(value, grid, cell, record) {\n        const options = this._options(record);\n        const pasteOpt = _textToOptionValue(value, options);\n        if (pasteOpt) {\n            return pasteOpt;\n        }\n        const columnType = grid.getColumnType(cell.col, cell.row);\n        if (hasOptions(columnType)) {\n            // Find with caption.\n            const pasteValue = normalizePasteValueStr(value);\n            const captionOpt = utils_1.array.find(columnType.options, (opt) => normalizePasteValueStr(opt.label) === pasteValue);\n            if (captionOpt) {\n                return _textToOptionValue(captionOpt.value, options);\n            }\n        }\n        return undefined;\n    }\n}\nexports.InlineMenuEditor = InlineMenuEditor;\nfunction _textToOptionValue(value, options) {\n    const pasteValue = normalizePasteValueStr(value);\n    const pasteOpt = utils_1.array.find(options, (opt) => normalizePasteValueStr(opt.value) === pasteValue);\n    if (pasteOpt) {\n        return pasteOpt;\n    }\n    return undefined;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction normalizePasteValueStr(value) {\n    if (value == null) {\n        return \"\";\n    }\n    return `${value}`.trim();\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction hasOptions(columnType) {\n    if (columnType instanceof type_1.MenuColumn) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (Array.isArray(columnType.options)) {\n        return true;\n    }\n    return false;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineMenuElement = void 0;\nconst dom_1 = require(\"../../../internal/dom\");\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst utils_1 = require(\"../../../internal/utils\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\nfunction findItemParents(target) {\n    let el = target;\n    while (el && !el.classList.contains(ITEM_CLASSNAME)) {\n        el = el.parentElement;\n        if (!el || el.classList.contains(CLASSNAME)) {\n            return null;\n        }\n    }\n    return el;\n}\nfunction createMenuElement() {\n    require(\"@/columns/action/internal/InlineMenuElement.css\");\n    return dom_1.createElement(\"ul\", { classList: CLASSNAME });\n}\nfunction attachElement(element, rect, menu) {\n    menu.style.top = `${rect.top.toFixed()}px`;\n    menu.style.left = `${rect.left.toFixed()}px`;\n    menu.style.width = `${rect.width.toFixed()}px`;\n    menu.style.lineHeight = `${rect.height.toFixed()}px`;\n    element.appendChild(menu);\n}\nfunction optionToLi({ classList, label, value, html }, index) {\n    const item = dom_1.createElement(\"li\", { classList: ITEM_CLASSNAME });\n    item.tabIndex = 0;\n    item.dataset.valueindex = `${index}`;\n    if (classList) {\n        item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n    }\n    if (label) {\n        const span = dom_1.createElement(\"span\", { text: label });\n        item.appendChild(span);\n    }\n    else if (html) {\n        dom_1.appendHtml(item, html);\n    }\n    if (value === \"\" || value == null) {\n        item.classList.add(EMPTY_ITEM_CLASSNAME);\n    }\n    return item;\n}\nfunction openMenu(grid, editor, col, row, value, options, menu) {\n    const { classList } = editor;\n    menu.classList.remove(SHOWN_CLASSNAME);\n    menu.classList.add(HIDDEN_CLASSNAME);\n    dom_1.empty(menu);\n    menu.style.font = grid.font || \"16px sans-serif\";\n    let emptyItemEl = null;\n    let valueItemEl = null;\n    options.forEach((option, i) => {\n        const item = optionToLi(option, i);\n        menu.appendChild(item);\n        if (option.value === value) {\n            valueItemEl = item;\n            item.dataset.select = \"select\";\n        }\n        if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n            emptyItemEl = item;\n        }\n    });\n    const focusEl = valueItemEl || emptyItemEl || menu.children[0];\n    if (classList) {\n        menu.classList.add(...classList);\n    }\n    const children = Array.prototype.slice.call(menu.children, 0);\n    const focusIndex = children.indexOf(focusEl);\n    const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    // Cover the right line\n    rect.width++;\n    // append for calculation\n    attachElement(element, rect, menu);\n    // Make the selection item at the middle\n    let offset = 0;\n    let allHeight = 0;\n    for (let i = 0; i < children.length; i++) {\n        const { offsetHeight } = children[i];\n        if (i < focusIndex) {\n            offset += offsetHeight;\n        }\n        allHeight += offsetHeight;\n    }\n    rect.offsetTop(-offset);\n    menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n    attachElement(element, rect, menu);\n    // Control not to overflow the screen range\n    const menuClientRect = menu.getBoundingClientRect();\n    const scaleDiff = (allHeight - menuClientRect.height) / 2;\n    const orgMenuTop = menuClientRect.top - scaleDiff;\n    let menuTop = orgMenuTop;\n    const menuBottom = menuTop + allHeight;\n    const winBottom = window.innerHeight;\n    const winMargin = 20;\n    if (menuBottom > winBottom - winMargin) {\n        const diff = menuBottom - winBottom + winMargin;\n        menuTop -= diff;\n    }\n    if (menuTop < 0 /*winTop*/ + winMargin) {\n        menuTop = winMargin;\n    }\n    if (menuTop !== orgMenuTop) {\n        rect.offsetTop(-(orgMenuTop - menuTop));\n        // re update\n        attachElement(element, rect, menu);\n    }\n    if (focusEl) {\n        focusEl.focus();\n    }\n    menu.classList.remove(HIDDEN_CLASSNAME);\n    menu.classList.add(SHOWN_CLASSNAME);\n}\nfunction closeMenu(_grid, _col, _row, menu) {\n    menu.classList.remove(SHOWN_CLASSNAME);\n    menu.classList.add(HIDDEN_CLASSNAME);\n    dom_1.disableFocus(menu);\n}\nclass InlineMenuElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._menu = createMenuElement();\n        this._bindMenuEvents();\n    }\n    dispose() {\n        var _a;\n        const menu = this._menu;\n        this.detach();\n        this._handler.dispose();\n        delete this._menu;\n        this._beforePropEditor = null;\n        (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\n    }\n    attach(grid, editor, col, row, value, record) {\n        const menu = this._menu;\n        if (this._beforePropEditor) {\n            const { classList } = this._beforePropEditor;\n            if (classList) {\n                menu.classList.remove(...classList);\n            }\n        }\n        const options = editor.options(record);\n        openMenu(grid, editor, col, row, value, options, menu);\n        this._activeData = { grid, col, row, editor, options };\n        this._beforePropEditor = editor;\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const { grid, col, row } = this._activeData;\n            const menu = this._menu;\n            closeMenu(grid, col, row, menu);\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n    }\n    _doChangeValue(valueindex) {\n        if (!this._isActive()) {\n            return;\n        }\n        const { grid, col, row, options } = this._activeData;\n        const option = options[Number(valueindex)];\n        if (option) {\n            const { value } = option;\n            grid.doChangeValue(col, row, () => value);\n        }\n    }\n    _isActive() {\n        const menu = this._menu;\n        if (!menu || !menu.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindMenuEvents() {\n        const handler = this._handler;\n        const menu = this._menu;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(menu, \"mousedown\", stopPropagationOnly);\n        handler.on(menu, \"touchstart\", stopPropagationOnly);\n        handler.on(menu, \"dblclick\", stopPropagationOnly);\n        handler.on(menu, \"click\", (e) => {\n            e.stopPropagation();\n            const item = findItemParents(e.target);\n            if (!item) {\n                return;\n            }\n            const { valueindex } = item.dataset;\n            this._doChangeValue(valueindex || \"\");\n            this.detach(true);\n        });\n        handler.on(menu, \"keydown\", (e) => {\n            const item = findItemParents(e.target);\n            if (!item) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(menu, item, e);\n            }\n            else if (keyCode === KEY_ESC) {\n                this.detach(true);\n                utils_1.event.cancel(e);\n            }\n            else if (keyCode === KEY_UP) {\n                const n = dom_1.findPrevSiblingFocusable(item);\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n            else if (keyCode === KEY_DOWN) {\n                const n = dom_1.findNextSiblingFocusable(item);\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n            else if (keyCode === KEY_TAB) {\n                this._onKeydownTab(menu, item, e);\n            }\n        });\n    }\n    _onKeydownEnter(_menu, item, e) {\n        var _a;\n        const grid = this._isActive() ? this._activeData.grid : null;\n        const { valueindex } = item.dataset;\n        this._doChangeValue(valueindex || \"\");\n        this.detach(true);\n        utils_1.event.cancel(e);\n        if (grid) {\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n                grid.onKeyDownMove(e);\n            }\n        }\n    }\n    _onKeydownTab(menu, item, e) {\n        var _a;\n        if (this._isActive()) {\n            const { grid } = this._activeData;\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\n                const { valueindex } = item.dataset;\n                this._doChangeValue(valueindex || \"\");\n                this.detach(true);\n                grid.onKeyDownMove(e);\n                return;\n            }\n        }\n        if (!e.shiftKey) {\n            if (!dom_1.findNextSiblingFocusable(item)) {\n                let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n                if (!dom_1.isFocusable(n)) {\n                    n = dom_1.findNextSiblingFocusable(n);\n                }\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n        }\n        else {\n            if (!dom_1.findPrevSiblingFocusable(item)) {\n                const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n                let n = items[items.length - 1];\n                if (!dom_1.isFocusable(n)) {\n                    n = dom_1.findPrevSiblingFocusable(n);\n                }\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n        }\n    }\n}\nexports.InlineMenuElement = InlineMenuElement;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BranchGraphColumn = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst BranchGraphStyle_1 = require(\"../style/BranchGraphStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst _ = symbolManager_1.getBranchGraphColumnStateId();\nfunction getAllColumnData(grid, field, callback) {\n    const { dataSource } = grid;\n    const allData = [];\n    let promise;\n    for (let index = 0; index < dataSource.length; index++) {\n        const data = dataSource.getField(index, field);\n        if (utils_1.isPromise(data)) {\n            const dataIndex = allData.length;\n            allData.push(undefined);\n            if (!promise) {\n                promise = data.then((d) => {\n                    allData[dataIndex] = d;\n                });\n            }\n            else {\n                promise = promise\n                    .then(() => data)\n                    .then((d) => {\n                    allData[dataIndex] = d;\n                });\n            }\n        }\n        else {\n            allData.push(data);\n        }\n    }\n    if (promise) {\n        promise.then(() => callback(allData));\n    }\n    else {\n        callback(allData);\n    }\n}\nclass BranchLine {\n    constructor({ fromIndex, toIndex, colorIndex, point, }) {\n        this.fromIndex = fromIndex;\n        this.toIndex = toIndex;\n        this.colorIndex = colorIndex;\n        this.point = point;\n    }\n}\nclass BranchPoint {\n    constructor({ index, commit = false, lines = [], tag, }) {\n        this.index = index;\n        this.commit = commit;\n        this.lines = lines;\n        this.tag = tag;\n    }\n    static mergeLines(lines) {\n        const result = lines.filter((l) => l.fromIndex != null && l.toIndex != null);\n        const froms = lines.filter((l) => l.fromIndex != null && l.toIndex == null);\n        const tos = lines.filter((l) => l.fromIndex == null && l.toIndex != null);\n        froms.forEach((f) => {\n            for (let i = 0; i < tos.length; i++) {\n                const t = tos[i];\n                if (t.point) {\n                    continue;\n                }\n                if (f.colorIndex === t.colorIndex) {\n                    f.toIndex = t.toIndex;\n                    tos.splice(i, 1);\n                    break;\n                }\n            }\n            result.push(f);\n        });\n        return result.concat(tos);\n    }\n    static merge(a, b) {\n        if (!a) {\n            return b;\n        }\n        return new BranchPoint({\n            index: a.index,\n            commit: a.commit || b.commit,\n            lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n            tag: a.tag || b.tag,\n        });\n    }\n}\nfunction joinLine(timeline, branchIndex) {\n    const reverse = [...timeline].reverse();\n    for (let i = 0; i < reverse.length; i++) {\n        const f = reverse[i][branchIndex];\n        if (f) {\n            f.lines = BranchPoint.mergeLines(f.lines.concat([\n                new BranchLine({\n                    toIndex: branchIndex,\n                    colorIndex: branchIndex,\n                }),\n            ]));\n            for (let j = 0; j < i; j++) {\n                const tl = reverse[j];\n                tl[branchIndex] = new BranchPoint({\n                    index: branchIndex,\n                    lines: [\n                        new BranchLine({\n                            fromIndex: branchIndex,\n                            toIndex: branchIndex,\n                            colorIndex: branchIndex,\n                        }),\n                    ],\n                });\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction branch({ timeline, branches }, from, to) {\n    const fromIndex = from != null ? branches.indexOf(from) : -1;\n    let toIndex = branches.indexOf(to);\n    if (toIndex < 0) {\n        toIndex = branches.length;\n        branches.push(to);\n    }\n    function findBranchRootIndex() {\n        for (let index = timeline.length - 1; index >= 0; index--) {\n            const tl = timeline[index];\n            const from = tl[fromIndex];\n            if (from && from.commit) {\n                return index;\n            }\n        }\n        return -1;\n    }\n    if (fromIndex < 0) {\n        return new BranchPoint({\n            index: toIndex,\n        });\n    }\n    else {\n        const fromTargetIndex = findBranchRootIndex();\n        if (fromTargetIndex === -1) {\n            return null;\n        }\n        const branchTargetFromIndex = fromTargetIndex + 1;\n        const branchPoint = new BranchPoint({\n            index: toIndex,\n            lines: [\n                new BranchLine({\n                    fromIndex,\n                    colorIndex: toIndex,\n                }),\n            ],\n        });\n        let point;\n        let result = null;\n        if (branchTargetFromIndex < timeline.length) {\n            const targetLine = timeline[branchTargetFromIndex];\n            point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n        }\n        else {\n            point = branchPoint;\n            result = branchPoint;\n        }\n        const from = timeline[fromTargetIndex][fromIndex];\n        from.lines = BranchPoint.mergeLines(from.lines.concat([\n            new BranchLine({\n                toIndex,\n                colorIndex: toIndex,\n                point,\n            }),\n        ]));\n        return result;\n    }\n}\nfunction commit({ timeline, branches }, name) {\n    const index = branches.indexOf(name);\n    if (index < 0) {\n        return null;\n    }\n    const result = new BranchPoint({\n        index,\n        commit: true,\n    });\n    if (joinLine(timeline, index)) {\n        result.lines = BranchPoint.mergeLines(result.lines.concat([\n            new BranchLine({\n                fromIndex: index,\n                colorIndex: index,\n            }),\n        ]));\n    }\n    return result;\n}\nfunction commitTag({ branches }, name, tag) {\n    let index = branches.indexOf(name);\n    if (index < 0) {\n        index = branches.length;\n        branches.push(name);\n    }\n    return new BranchPoint({\n        index,\n        tag,\n    });\n}\nfunction commitMerge({ timeline, branches }, from, to) {\n    const fromIndex = branches.indexOf(from);\n    const toIndex = branches.indexOf(to);\n    if (toIndex < 0 || fromIndex < 0) {\n        return new BranchPoint({\n            index: toIndex,\n            commit: true,\n        });\n    }\n    const result = new BranchPoint({\n        index: toIndex,\n        commit: true,\n        lines: [\n            new BranchLine({\n                fromIndex,\n                colorIndex: fromIndex,\n            }),\n            new BranchLine({\n                fromIndex: toIndex,\n                colorIndex: toIndex,\n            }),\n        ],\n    });\n    const froms = [...timeline];\n    const fromTargetLine = froms.pop();\n    if (fromTargetLine) {\n        fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n            index: toIndex,\n            lines: [\n                new BranchLine({\n                    toIndex,\n                    colorIndex: fromIndex,\n                }),\n            ],\n        }));\n    }\n    if (joinLine(froms, fromIndex) && fromTargetLine) {\n        fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([\n            new BranchLine({\n                fromIndex,\n                colorIndex: fromIndex,\n            }),\n        ]));\n    }\n    joinLine(timeline, toIndex);\n    return result;\n}\nfunction calcCommand(info, command) {\n    const { timeline } = info;\n    const timelineData = [];\n    // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n    const commands = Array.isArray(command) ? command : [command];\n    commands.forEach((cmd) => {\n        if (!cmd) {\n            return;\n        }\n        let point;\n        if (cmd.command === \"branch\") {\n            const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\n            const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n            point = branch(info, from, to);\n        }\n        else if (cmd.command === \"commit\") {\n            const { branch } = cmd;\n            point = commit(info, branch);\n        }\n        else if (cmd.command === \"merge\") {\n            const { from, to } = cmd.branch;\n            point = commitMerge(info, from, to);\n        }\n        else if (cmd.command === \"tag\") {\n            const { branch, tag } = cmd;\n            point = commitTag(info, branch, tag);\n        }\n        if (point && point.index > -1) {\n            timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n        }\n    });\n    timeline.push(timelineData);\n}\nfunction calcBranchesInfo(start, grid, field) {\n    const result = {\n        branches: [],\n        timeline: [],\n    };\n    getAllColumnData(grid, field, (data) => {\n        if (start !== \"top\") {\n            data = [...data].reverse();\n        }\n        data.forEach((command) => {\n            calcCommand(result, command);\n        });\n    });\n    return result;\n}\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n    let w = Math.max(width / branches.length + 1, 5);\n    timeline.forEach((tl) => {\n        tl.forEach((p, index) => {\n            if (index <= 0) {\n                // \n                return;\n            }\n            if (p.tag) {\n                const textWidth = ctx.measureText(p.tag).width;\n                if (w * index + radius * 2 + 4 + textWidth > width) {\n                    w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n                }\n            }\n        });\n    });\n    const result = [];\n    let x = left;\n    branches.forEach(() => {\n        result.push(Math.ceil(x + radius));\n        x += w;\n    });\n    return result;\n}\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, { branchXPoints, \n// margin,\nbranchColors, branchLineWidth, mergeStyle, }, { \n// width,\ncol, row, branches, }) {\n    if (upLineIndex != null || downLineIndex != null) {\n        ctx.strokeStyle = utils_1.getOrApply(branchColors, branches[colorIndex], colorIndex);\n        ctx.lineWidth = branchLineWidth;\n        ctx.lineCap = \"round\";\n        ctx.beginPath();\n        if (upLineIndex != null) {\n            const upX = branchXPoints[upLineIndex];\n            const upRect = grid.getCellRelativeRect(col, row - 1);\n            const upY = upRect.top + upRect.height / 2;\n            ctx.moveTo(upX, upY);\n            if (mergeStyle === \"bezier\") {\n                ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n            }\n            else {\n                ctx.lineTo(x, y);\n            }\n        }\n        else {\n            ctx.moveTo(x, y);\n        }\n        if (downLineIndex != null) {\n            const downX = branchXPoints[downLineIndex];\n            const downRect = grid.getCellRelativeRect(col, row + 1);\n            const downY = downRect.top + downRect.height / 2;\n            if (mergeStyle === \"bezier\") {\n                ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n            }\n            else {\n                ctx.lineTo(downX, downY);\n            }\n        }\n        ctx.stroke();\n    }\n}\n/**\n * BranchGraphColumn\n *\n * Data commands\n * - mastar branch or orphan branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * ```\n *\n * - commit\n *\n * ```js\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * ```\n *\n * - branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * ```\n *\n * - merge\n *\n * ```js\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * ```\n *\n * - tag\n *\n * ```js\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * ```\n *\n * @memberof cheetahGrid.columns.type\n */\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n        this._start = option.start || \"bottom\";\n        this._cache = option.cache != null ? option.cache : false;\n    }\n    get StyleClass() {\n        return BranchGraphStyle_1.BranchGraphStyle;\n    }\n    clearCache(grid) {\n        delete grid[_];\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        if (this._cache) {\n            const state = grid[_] || (grid[_] = new Map());\n            const { col, row } = context;\n            const field = grid.getField(col, row);\n            if (!state.has(field)) {\n                state.set(field, calcBranchesInfo(this._start, grid, field));\n            }\n        }\n        return super.onDrawCell(cellValue, info, context, grid);\n    }\n    clone() {\n        return new BranchGraphColumn(this);\n    }\n    drawInternal(_value, context, style, helper, grid, { drawCellBase }) {\n        var _a, _b;\n        const { col, row } = context;\n        const field = grid.getField(col, row);\n        const { timeline, branches } = (_b = (this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null)) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\n        const { upLineIndexKey, downLineIndexKey, } = this._start !== \"top\"\n            ? { upLineIndexKey: \"toIndex\", downLineIndexKey: \"fromIndex\" }\n            : { upLineIndexKey: \"fromIndex\", downLineIndexKey: \"toIndex\" };\n        const data = this._start !== \"top\"\n            ? timeline[timeline.length - (row - grid.frozenRowCount) - 1]\n            : timeline[row - grid.frozenRowCount];\n        const { branchColors, branchLineWidth, circleSize, mergeStyle, margin, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const rect = context.getRect();\n        const radius = circleSize / 2;\n        const width = rect.width - margin * 2;\n        helper.drawWithClip(context, (ctx) => {\n            ctx.textAlign = \"left\";\n            ctx.textBaseline = \"middle\";\n            const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n            const y = rect.top + rect.height / 2;\n            // draw join lines\n            data\n                .map((point, index) => point\n                ? point.lines.map((line) => ({\n                    colorIndex: line.colorIndex,\n                    upLineIndex: line[upLineIndexKey],\n                    downLineIndex: line[downLineIndexKey],\n                    pointIndex: index,\n                }))\n                : [])\n                .reduce((p, c) => p.concat(c), []) // flatMap\n                // order of overlap\n                .sort((a, b) => b.colorIndex - a.colorIndex)\n                .forEach((line) => {\n                const x = branchXPoints[line.pointIndex];\n                renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n                    margin,\n                    branchXPoints,\n                    branchLineWidth,\n                    branchColors,\n                    mergeStyle,\n                }, {\n                    width,\n                    col,\n                    row,\n                    branches,\n                });\n            });\n            // draw commit points\n            data.forEach((p, index) => {\n                if (p && p.commit) {\n                    const x = branchXPoints[index];\n                    ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n                    ctx.beginPath();\n                    ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n                    ctx.fill();\n                    ctx.closePath();\n                }\n            });\n            // draw tags\n            data.forEach((p, index) => {\n                if (p && p.tag) {\n                    ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n                    ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n                }\n            });\n        });\n    }\n}\nexports.BranchGraphColumn = BranchGraphColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BranchGraphStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\n    switch (index % 3) {\n        case 0:\n            return \"#979797\";\n        case 1:\n            return \"#008fb5\";\n        case 2:\n            return \"#f1c109\";\n        default:\n    }\n    return \"#979797\";\n};\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n        this._margin = style.margin || 4;\n        this._circleSize = style.circleSize || 16;\n        this._branchLineWidth = style.branchLineWidth || 4;\n        this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new BranchGraphStyle());\n    }\n    get branchColors() {\n        return this._branchColors;\n    }\n    set branchColors(branchColors) {\n        this._branchColors = branchColors;\n        this.doChangeStyle();\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(margin) {\n        this._margin = margin;\n        this.doChangeStyle();\n    }\n    get circleSize() {\n        return this._circleSize;\n    }\n    set circleSize(circleSize) {\n        this._circleSize = circleSize;\n        this.doChangeStyle();\n    }\n    get branchLineWidth() {\n        return this._branchLineWidth;\n    }\n    set branchLineWidth(branchLineWidth) {\n        this._branchLineWidth = branchLineWidth;\n        this.doChangeStyle();\n    }\n    get mergeStyle() {\n        return this._mergeStyle;\n    }\n    set mergeStyle(mergeStyle) {\n        this._mergeStyle = mergeStyle;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new BranchGraphStyle(this);\n    }\n}\nexports.BranchGraphStyle = BranchGraphStyle;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst ButtonStyle_1 = require(\"../style/ButtonStyle\");\nconst Column_1 = require(\"./Column\");\nconst utils_1 = require(\"../../internal/utils\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\nclass ButtonColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._caption = option.caption;\n    }\n    get StyleClass() {\n        return ButtonStyle_1.ButtonStyle;\n    }\n    get caption() {\n        return this._caption;\n    }\n    withCaption(caption) {\n        const c = this.clone();\n        c._caption = caption;\n        return c;\n    }\n    clone() {\n        return new ButtonColumn(this);\n    }\n    convertInternal(value) {\n        return this._caption || super.convertInternal(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.testFontLoad(font, value, context);\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        let active = false;\n        const state = grid[BUTTON_COLUMN_STATE_ID];\n        if (state) {\n            if (state.mouseActiveCell &&\n                utils_1.cellInRange(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\n                active = true;\n            }\n            else {\n                const { select } = context.getSelection();\n                if (utils_1.cellInRange(range, select.col, select.row)) {\n                    active = true;\n                }\n            }\n        }\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.button(value, context, {\n                textAlign,\n                textBaseline,\n                bgColor: buttonBgColor,\n                color,\n                font,\n                padding,\n                shadow: active\n                    ? {\n                        color: \"rgba(0, 0, 0, 0.48)\",\n                        blur: 6,\n                        offsetY: 3,\n                    }\n                    : {},\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.ButtonColumn = ButtonColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst CheckStyle_1 = require(\"../style/CheckStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../utils\");\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\nclass CheckColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return CheckStyle_1.CheckStyle;\n    }\n    clone() {\n        return new CheckColumn(this);\n    }\n    convertInternal(value) {\n        return utils_1.toBoolean(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        var _a;\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n        const opt = {\n            textAlign,\n            textBaseline,\n            borderColor,\n            checkBgColor,\n            uncheckBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        helper.checkbox(value, context, opt);\n    }\n}\nexports.CheckColumn = CheckColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IconColumn = void 0;\nconst icons = __importStar(require(\"../../internal/icons\"));\nconst Column_1 = require(\"./Column\");\nconst IconStyle_1 = require(\"../style/IconStyle\");\nfunction repeatArray(val, count) {\n    if (count === Infinity) {\n        count = 0;\n    }\n    const a = [];\n    for (let i = 0; i < count; i++) {\n        a.push(val);\n    }\n    return a;\n}\nclass IconColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._tagName = option.tagName || \"i\";\n        this._className = option.className;\n        this._content = option.content;\n        this._name = option.name;\n        this._iconWidth = option.iconWidth;\n    }\n    get StyleClass() {\n        return IconStyle_1.IconStyle;\n    }\n    clone() {\n        return new IconColumn(this);\n    }\n    drawInternal(value, context, style, helper, grid, info) {\n        const num = Number(value);\n        if (!isNaN(num)) {\n            const icon = {};\n            icons.iconPropKeys.forEach((k) => {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                icon[k] = style[k];\n            });\n            icon.className = this._className;\n            icon.tagName = this._tagName;\n            if (this._content) {\n                icon.content = this._content;\n            }\n            icon.name = this._name;\n            if (this._iconWidth) {\n                icon.width = this._iconWidth;\n            }\n            info.getIcon = () => repeatArray(icon, num);\n        }\n        else {\n            info.getIcon = () => null;\n        }\n        super.drawInternal(\"\", context, style, helper, grid, info);\n    }\n}\nexports.IconColumn = IconColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImageColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst ImageStyle_1 = require(\"../style/ImageStyle\");\nconst canvases_1 = require(\"../../internal/canvases\");\nconst imgs_1 = require(\"../../internal/imgs\");\nconst MAX_LRU_CACHE_SIZE = 50;\nfunction getImage(url) {\n    return imgs_1.getCacheOrLoad(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\n}\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n    let newWidth = width;\n    let newHeight = height;\n    if (newWidth > maxWidth) {\n        newWidth = maxWidth;\n        newHeight = (newWidth * height) / width;\n    }\n    if (newHeight > maxHeight) {\n        newHeight = maxHeight;\n        newWidth = (newHeight * width) / height;\n    }\n    return {\n        width: newWidth,\n        height: newHeight,\n    };\n}\nclass ImageColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return ImageStyle_1.ImageStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        return super.onDrawCell(getImage(cellValue), info, context, grid);\n    }\n    clone() {\n        return new ImageColumn(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        if (value) {\n            const { textAlign, textBaseline, margin, bgColor } = style;\n            if (bgColor) {\n                drawCellBase({\n                    bgColor,\n                });\n            }\n            helper.drawWithClip(context, (ctx) => {\n                ctx.textAlign = textAlign;\n                ctx.textBaseline = textBaseline;\n                const rect = context.getRect();\n                if (style.imageSizing === \"keep-aspect-ratio\") {\n                    const { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n                    const pos = canvases_1.calcStartPosition(ctx, rect, width, height, {\n                        offset: margin,\n                    });\n                    ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n                }\n                else {\n                    ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n                }\n            });\n        }\n    }\n}\nexports.ImageColumn = ImageColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = void 0;\nclass LRUCache {\n    constructor(cacheSize) {\n        this._list = [];\n        this._map = {};\n        this._cacheSize = cacheSize || 50;\n    }\n    get(key) {\n        const val = this._map[key];\n        if (val) {\n            const list = this._list;\n            const idx = list.indexOf(key);\n            list.splice(idx, 1);\n            list.push(key);\n        }\n        return val;\n    }\n    put(key, value) {\n        const list = this._list;\n        const map = this._map;\n        if (map[key]) {\n            const idx = list.indexOf(key);\n            list.splice(idx, 1);\n        }\n        map[key] = value;\n        list.push(key);\n        if (list.length > this._cacheSize) {\n            const remKey = list.shift() || \"\";\n            delete map[remKey];\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst MenuStyle_1 = require(\"../style/MenuStyle\");\nconst menu_items_1 = require(\"../../internal/menu-items\");\nclass MenuColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n        this._options = menu_items_1.normalize(option.options);\n    }\n    get StyleClass() {\n        return MenuStyle_1.MenuStyle;\n    }\n    clone() {\n        return new MenuColumn(this);\n    }\n    get options() {\n        return this._options;\n    }\n    withOptions(options) {\n        const c = this.clone();\n        c._options = menu_items_1.normalize(options);\n        return c;\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, font, bgColor, padding, textOverflow, appearance, } = style;\n        let { color } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const text = this._convertInternal(value);\n        helper.testFontLoad(font, text, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n            const textPadding = basePadding.slice(0);\n            textPadding[1] += 26; // icon padding\n            const iconPadding = basePadding.slice(0);\n            iconPadding[1] += 8;\n            if (color == null && (value == null || value === \"\")) {\n                color = \"rgba(0, 0, 0, .38)\";\n            }\n            helper.text(text, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding: textPadding,\n                textOverflow,\n                icons,\n            });\n            if (appearance === \"menulist-button\") {\n                // draw dropdown arrow icon\n                helper.text(\"\", context, {\n                    textAlign: \"right\",\n                    textBaseline,\n                    color,\n                    font,\n                    icons: [\n                        {\n                            path: \"M0 2 5 7 10 2z\",\n                            width: 10,\n                            color: \"rgba(0, 0, 0, .54)\",\n                        },\n                    ],\n                    padding: iconPadding,\n                });\n            }\n            else if (appearance !== \"none\") {\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                console.warn(`unsupported appearance:${appearance}`);\n            }\n        });\n    }\n    convertInternal(value) {\n        return value;\n    }\n    _convertInternal(value) {\n        const options = this._options;\n        for (let i = 0; i < options.length; i++) {\n            const option = options[i];\n            if (option.value === value) {\n                value = option.label;\n                break;\n            }\n        }\n        return super.convertInternal(value);\n    }\n    getCopyCellValue(value) {\n        return this._convertInternal(value);\n    }\n}\nexports.MenuColumn = MenuColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst MultilineTextStyle_1 = require(\"../style/MultilineTextStyle\");\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n    }\n    get StyleClass() {\n        return MultilineTextStyle_1.MultilineTextStyle;\n    }\n    clone() {\n        return new MultilineTextColumn(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const multilines = value\n            .replace(/\\r?\\n/g, \"\\n\")\n            .replace(/\\r/g, \"\\n\")\n            .split(\"\\n\");\n        helper.testFontLoad(font, value, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.multilineText(multilines, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding,\n                lineHeight,\n                autoWrapText,\n                lineClamp,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.MultilineTextColumn = MultilineTextColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberColumn = void 0;\nconst Column_1 = require(\"./Column\");\nconst NumberStyle_1 = require(\"../style/NumberStyle\");\nlet defaultFotmat;\nclass NumberColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._format = option.format;\n    }\n    static get defaultFotmat() {\n        return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n    }\n    static set defaultFotmat(fmt) {\n        defaultFotmat = fmt;\n    }\n    get StyleClass() {\n        return NumberStyle_1.NumberStyle;\n    }\n    clone() {\n        return new NumberColumn(this);\n    }\n    get format() {\n        return this._format;\n    }\n    withFormat(format) {\n        const c = this.clone();\n        c._format = format;\n        return c;\n    }\n    convertInternal(value) {\n        const num = Number(value);\n        if (isNaN(num)) {\n            return super.convertInternal(value);\n        }\n        const format = this._format || NumberColumn.defaultFotmat;\n        return format.format(num);\n    }\n}\nexports.NumberColumn = NumberColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PercentCompleteBarColumn = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst Column_1 = require(\"./Column\");\nconst PercentCompleteBarStyle_1 = require(\"../style/PercentCompleteBarStyle\");\nconst MARGIN = 2;\nclass PercentCompleteBarColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._min = option.min || 0;\n        this._max = option.max || this._min + 100;\n        this._formatter = option.formatter || ((v) => v);\n    }\n    get StyleClass() {\n        return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\n    }\n    clone() {\n        return new PercentCompleteBarColumn(this);\n    }\n    drawInternal(value, context, style, helper, grid, info) {\n        super.drawInternal(this._formatter(value), context, style, helper, grid, info);\n        const { barColor, barBgColor, barHeight } = style;\n        let svalue = `${value}`;\n        if (utils_1.str.endsWith(svalue, \"%\")) {\n            svalue = svalue.substr(0, svalue.length - 1);\n        }\n        const num = Number(svalue);\n        if (isNaN(num)) {\n            return;\n        }\n        const rate = num < this._min\n            ? 0\n            : num > this._max\n                ? 1\n                : (num - this._min) / (this._max - this._min);\n        helper.drawWithClip(context, (ctx) => {\n            const rect = context.getRect();\n            const barMaxWidth = rect.width - MARGIN * 2 - 1; /**/\n            const barTop = rect.bottom - MARGIN - barHeight - 1; /**/\n            const barLeft = rect.left + MARGIN;\n            ctx.fillStyle = utils_1.getOrApply(barBgColor, rate * 100) || \"#f0f3f5\";\n            ctx.beginPath();\n            ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n            ctx.fill();\n            const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n            ctx.fillStyle = utils_1.getOrApply(barColor, rate * 100) || \"#20a8d8\";\n            ctx.beginPath();\n            ctx.rect(barLeft, barTop, barSize, barHeight);\n            ctx.fill();\n        });\n    }\n}\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst RadioStyle_1 = require(\"../style/RadioStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../utils\");\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId();\nclass RadioColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return RadioStyle_1.RadioStyle;\n    }\n    clone() {\n        return new RadioColumn(this);\n    }\n    convertInternal(value) {\n        return utils_1.toBoolean(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        var _a;\n        const { textAlign, textBaseline, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n        const opt = {\n            textAlign,\n            textBaseline,\n            checkColor,\n            uncheckBorderColor,\n            checkBorderColor,\n            uncheckBgColor,\n            checkBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        helper.radioButton(value, context, opt);\n    }\n}\nexports.RadioColumn = RadioColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioEditor = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_2 = require(\"../utils\");\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst defaultGroupResolver = ({ grid, col, row }) => {\n    const cellId = grid.getLayoutCellId(col, row);\n    const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n    const offsetRow = row - recordStartRow;\n    const result = [];\n    const { rowCount, recordRowCount } = grid;\n    for (let targetRow = grid.frozenRowCount + offsetRow; targetRow < rowCount; targetRow += recordRowCount) {\n        if (grid.getLayoutCellId(col, targetRow) === cellId) {\n            result.push({ col, row: targetRow });\n        }\n    }\n    return result;\n};\nclass RadioEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n        this._group = option.group || defaultGroupResolver;\n    }\n    clone() {\n        return new RadioEditor(this);\n    }\n    get group() {\n        return this._group;\n    }\n    set group(group) {\n        this._group = group;\n    }\n    bindGridEvent(grid, cellId) {\n        let _state = grid[RADIO_COLUMN_STATE_ID];\n        if (!_state) {\n            _state = { block: {}, elapsed: {} };\n            utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\n        }\n        const state = _state;\n        const action = (cell) => {\n            this._action(grid, cell);\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                const pasteValue = e.normalizeValue.trim();\n                if (!utils_2.toBoolean(pasteValue)) {\n                    return;\n                }\n                utils_1.event.cancel(e.event);\n                action({\n                    col: e.col,\n                    row: e.row,\n                });\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const pasteValue = value.trim();\n        if (!utils_2.toBoolean(pasteValue)) {\n            return;\n        }\n        this._action(grid, {\n            col: cell.col,\n            row: cell.row,\n        });\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n    _action(grid, cell) {\n        const state = grid[RADIO_COLUMN_STATE_ID];\n        const range = grid.getCellRange(cell.col, cell.row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n            state.block[cellKey]) {\n            return;\n        }\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            if (utils_2.toBoolean(value)) {\n                return;\n            }\n            const targets = this._group({ grid, col: cell.col, row: cell.row });\n            targets.forEach(({ col, row }) => {\n                const range = grid.getCellRange(col, row);\n                const cellKey = `${range.start.col}:${range.start.row}`;\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n                    state.block[cellKey]) {\n                    return;\n                }\n                actionCell(grid, col, row, col === cell.col && row === cell.row);\n            });\n        });\n    }\n}\nexports.RadioEditor = RadioEditor;\nfunction actionCell(grid, col, row, flag) {\n    grid.doGetCellValue(col, row, (value) => {\n        if (utils_2.toBoolean(value) === flag) {\n            return;\n        }\n        const state = grid[RADIO_COLUMN_STATE_ID];\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\n        if (ret) {\n            const onChange = () => {\n                // checkbox animation\n                animate_1.animate(200, (point) => {\n                    if (point === 1) {\n                        delete state.elapsed[cellKey];\n                    }\n                    else {\n                        state.elapsed[cellKey] = point;\n                    }\n                    grid.invalidateCellRange(range);\n                });\n            };\n            if (utils_1.isPromise(ret)) {\n                state.block[cellKey] = true;\n                ret.then(() => {\n                    delete state.block[cellKey];\n                    onChange();\n                });\n            }\n            else {\n                onChange();\n            }\n        }\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmallDialogInputEditor = void 0;\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\nconst SmallDialogInputElement_1 = require(\"./internal/SmallDialogInputElement\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst _ = symbolManager_1.getSmallDialogInputEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\n    constructor(option = {}) {\n        super(option);\n        this._helperText = option.helperText;\n        this._inputValidator = option.inputValidator;\n        this._validator = option.validator;\n        this._classList = option.classList;\n        this._type = option.type;\n    }\n    dispose() {\n        //noop\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n    }\n    get helperText() {\n        return this._helperText;\n    }\n    get inputValidator() {\n        return this._inputValidator;\n    }\n    get validator() {\n        return this._validator;\n    }\n    clone() {\n        return new SmallDialogInputEditor(this);\n    }\n    onInputCellInternal(grid, cell, inputValue) {\n        attachInput(grid, cell, this, inputValue);\n    }\n    onOpenCellInternal(grid, cell) {\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            attachInput(grid, cell, this, value);\n        });\n    }\n    onChangeSelectCellInternal(_grid, _cell, _selected) {\n        // cancel input\n        detachInput();\n    }\n    onGridScrollInternal(_grid) {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onSetInputAttrsInternal(grid, _cell, input) {\n        SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\n    }\n}\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmallDialogInputElement = void 0;\nconst utils_1 = require(\"../../../internal/utils\");\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst input_value_handler_1 = require(\"./input-value-handler\");\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\nfunction _focus(input, handler) {\n    const focus = () => {\n        input.focus();\n        const end = input.value.length;\n        try {\n            if (typeof input.selectionStart !== \"undefined\") {\n                input.selectionStart = end;\n                input.selectionEnd = end;\n                return;\n            }\n        }\n        catch (e) {\n            //ignore\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (document.selection) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const range = input.createTextRange();\n            range.collapse();\n            range.moveEnd(\"character\", end);\n            range.moveStart(\"character\", end);\n            range.select();\n        }\n    };\n    handler.tryWithOffEvents(input, \"blur\", () => {\n        focus();\n    });\n}\nfunction createDialogElement() {\n    require(\"@/columns/action/internal/SmallDialogInputElement.css\");\n    const element = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const input = dom_1.createElement(\"input\", { classList: INPUT_CLASSNAME });\n    input.readOnly = true;\n    input.tabIndex = -1;\n    element.appendChild(input);\n    return element;\n}\nfunction bindProps(grid, dialog, input, editor) {\n    const { classList, helperText } = editor;\n    if (classList) {\n        dialog.classList.add(...classList);\n    }\n    if (helperText && typeof helperText !== \"function\") {\n        dialog.dataset.helperText = helperText;\n    }\n    setInputAttrs(editor, grid, input);\n}\nfunction unbindProps(_grid, dialog, input, editor) {\n    const { classList } = editor;\n    if (classList) {\n        dialog.classList.remove(...classList);\n    }\n    delete dialog.dataset.helperText;\n    input.type = \"\";\n}\nfunction setInputAttrs(editor, _grid, input) {\n    const { type } = editor;\n    input.type = type || \"\";\n}\nclass SmallDialogInputElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._dialog = createDialogElement();\n        this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n        this._bindDialogEvents();\n    }\n    static setInputAttrs(editor, grid, input) {\n        setInputAttrs(editor, grid, input);\n    }\n    dispose() {\n        const dialog = this._dialog;\n        this.detach();\n        this._handler.dispose();\n        delete this._dialog;\n        delete this._input;\n        this._beforePropEditor = null;\n        if (dialog.parentElement) {\n            dialog.parentElement.removeChild(dialog);\n        }\n    }\n    attach(grid, editor, col, row, value) {\n        const handler = this._handler;\n        const dialog = this._dialog;\n        const input = this._input;\n        if (this._beforePropEditor) {\n            unbindProps(grid, dialog, input, this._beforePropEditor);\n        }\n        delete dialog.dataset.errorMessage;\n        dialog.classList.remove(SHOWN_CLASSNAME);\n        dialog.classList.add(HIDDEN_CLASSNAME);\n        input.readOnly = true;\n        input.tabIndex = 0;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        dialog.style.top = `${rect.top.toFixed()}px`;\n        dialog.style.left = `${rect.left.toFixed()}px`;\n        dialog.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n        element.appendChild(dialog);\n        input_value_handler_1.setInputValue(input, value);\n        input.style.font = grid.font || \"16px sans-serif\";\n        const activeData = { grid, col, row, editor };\n        this._onInputValue(input, activeData);\n        if (!utils_1.browser.IE) {\n            _focus(input, handler);\n        }\n        else {\n            // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\n            setTimeout(() => _focus(input, handler));\n        }\n        dialog.classList.add(SHOWN_CLASSNAME);\n        dialog.classList.remove(HIDDEN_CLASSNAME);\n        input.readOnly = false;\n        bindProps(grid, dialog, input, editor);\n        this._activeData = activeData;\n        this._beforePropEditor = editor;\n        this._attaching = true;\n        setTimeout(() => {\n            delete this._attaching;\n        });\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const dialog = this._dialog;\n            const input = this._input;\n            dialog.classList.remove(SHOWN_CLASSNAME);\n            dialog.classList.add(HIDDEN_CLASSNAME);\n            input.readOnly = true;\n            input.tabIndex = -1;\n            const { grid, col, row } = this._activeData;\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n        this._beforeValue = null;\n    }\n    _doChangeValue() {\n        if (!this._isActive()) {\n            return false;\n        }\n        const input = this._input;\n        const { value } = input;\n        return utils_1.then(this._validate(value), (res) => {\n            if (res && value === input.value) {\n                const { grid, col, row } = this._activeData;\n                grid.doChangeValue(col, row, () => value);\n                return true;\n            }\n            return false;\n        });\n    }\n    _isActive() {\n        const dialog = this._dialog;\n        if (!dialog || !dialog.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindDialogEvents() {\n        const handler = this._handler;\n        const dialog = this._dialog;\n        const input = this._input;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(dialog, \"click\", stopPropagationOnly);\n        handler.on(dialog, \"dblclick\", stopPropagationOnly);\n        handler.on(dialog, \"mousedown\", stopPropagationOnly);\n        handler.on(dialog, \"touchstart\", stopPropagationOnly);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n        });\n        handler.on(input, \"compositionend\", (_e) => {\n            input.classList.remove(\"composition\");\n            this._onInputValue(input);\n        });\n        const onKeyupAndPress = (_e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            this._onInputValue(input);\n        };\n        handler.on(input, \"keyup\", onKeyupAndPress);\n        handler.on(input, \"keypress\", onKeyupAndPress);\n        handler.on(input, \"keydown\", (e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ESC) {\n                this.detach(true);\n                utils_1.event.cancel(e);\n            }\n            else if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(e);\n            }\n            else {\n                this._onInputValue(input);\n            }\n        });\n    }\n    _onKeydownEnter(e) {\n        if (this._attaching) {\n            return;\n        }\n        const input = this._input;\n        const { value } = input;\n        utils_1.then(this._doChangeValue(), (r) => {\n            var _a;\n            if (r && value === input.value) {\n                const grid = this._isActive() ? this._activeData.grid : null;\n                this.detach(true);\n                if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n                    grid.onKeyDownMove(e);\n                }\n            }\n        });\n        utils_1.event.cancel(e);\n    }\n    _onInputValue(input, activeData) {\n        const before = this._beforeValue;\n        const { value } = input;\n        if (before !== value) {\n            this._onInputValueChange(value, activeData);\n        }\n        this._beforeValue = value;\n    }\n    _onInputValueChange(after, activeData) {\n        activeData = (activeData || this._activeData);\n        const dialog = this._dialog;\n        const { grid, col, row, editor } = activeData;\n        if (typeof editor.helperText === \"function\") {\n            const helperText = editor.helperText(after, { grid, col, row });\n            if (helperText) {\n                dialog.dataset.helperText = helperText;\n            }\n            else {\n                delete dialog.dataset.helperText;\n            }\n        }\n        if (\"errorMessage\" in dialog.dataset) {\n            this._validate(after, true);\n        }\n    }\n    _validate(value, inputOnly) {\n        const dialog = this._dialog;\n        const input = this._input;\n        const { grid, col, row, editor } = this._activeData;\n        let message = \"\";\n        if (editor.inputValidator) {\n            message = editor.inputValidator(value, { grid, col, row });\n        }\n        return utils_1.then(message, (message) => {\n            if (!message && editor.validator && !inputOnly) {\n                message = editor.validator(value, { grid, col, row });\n            }\n            return utils_1.then(message, (message) => {\n                if (message && value === input.value) {\n                    dialog.dataset.errorMessage = message;\n                }\n                else {\n                    delete dialog.dataset.errorMessage;\n                }\n                return !message;\n            });\n        });\n    }\n}\nexports.SmallDialogInputElement = SmallDialogInputElement;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\nObject.defineProperty(exports, \"DrawGrid\", { enumerable: true, get: function () { return DrawGrid_1.DrawGrid; } });\nconst DG_EVENT_TYPE_1 = require(\"./core/DG_EVENT_TYPE\");\nObject.defineProperty(exports, \"EVENT_TYPE\", { enumerable: true, get: function () { return DG_EVENT_TYPE_1.DG_EVENT_TYPE; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transform = void 0;\nconst EventHandler_1 = require(\"./EventHandler\");\nconst utils_1 = require(\"./utils\");\nconst handler = new EventHandler_1.EventHandler();\nlet ratio = 1;\nfunction setRatio() {\n    if (utils_1.isNode) {\n        ratio = 1;\n    }\n    else {\n        ratio = Math.ceil(window.devicePixelRatio || 1);\n        if (ratio > 1 && ratio % 2 !== 0) {\n            ratio += 1;\n        }\n    }\n}\nsetRatio();\nif (!utils_1.isNode) {\n    handler.on(window, \"resize\", setRatio);\n}\nfunction transform(canvas) {\n    const ctx = canvas.getContext(\"2d\");\n    const { getAttribute, setAttribute } = canvas;\n    canvas.getAttribute = function (name) {\n        let result = getAttribute.call(this, name);\n        if (name === \"width\" || name === \"height\") {\n            result = `${Number(result) / ratio}`;\n        }\n        return result;\n    };\n    canvas.setAttribute = function (name, val) {\n        const wh = name === \"width\" || name === \"height\";\n        if (wh) {\n            val = `${Number(val) * ratio}`;\n        }\n        const result = setAttribute.call(this, name, val);\n        if (wh) {\n            ctx.scale(ratio, ratio);\n        }\n        return result;\n    };\n    Object.defineProperty(canvas, \"width\", {\n        get() {\n            return Number(canvas.getAttribute(\"width\"));\n        },\n        set: (val) => {\n            canvas.setAttribute(\"width\", `${Math.floor(val)}`);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n    Object.defineProperty(canvas, \"height\", {\n        get() {\n            return Number(canvas.getAttribute(\"height\"));\n        },\n        set: (val) => {\n            canvas.setAttribute(\"height\", `${Math.floor(val)}`);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n    const { drawImage } = ctx;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx.drawImage = function (img, ...args) {\n        if (img !== canvas || ratio === 1) {\n            return drawImage.call(this, img, ...args);\n        }\n        this.save();\n        try {\n            this.scale(1 / ratio, 1 / ratio);\n            if (args.length > 4) {\n                args[4] *= ratio;\n                args[5] *= ratio;\n            }\n            else {\n                args[0] *= ratio;\n                args[1] *= ratio;\n            }\n            return drawImage.call(this, img, ...args);\n        }\n        finally {\n            this.restore();\n        }\n    };\n    return canvas;\n}\nexports.transform = transform;\n","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??ref--5-2!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberMap = void 0;\nconst indexFirst = (arr, elm) => {\n    let low = 0;\n    let high = arr.length - 1;\n    while (low <= high) {\n        const i = Math.floor((low + high) / 2);\n        if (arr[i] === elm) {\n            return i;\n        }\n        else if (arr[i] > elm) {\n            high = i - 1;\n        }\n        else {\n            low = i + 1;\n        }\n    }\n    return high < 0 ? 0 : high;\n};\nclass NumberMap {\n    constructor() {\n        this._keys = [];\n        this._vals = {};\n        this._sorted = false;\n    }\n    put(key, value) {\n        if (!(key in this._vals)) {\n            this._keys.push(key);\n            this._sorted = false;\n        }\n        this._vals[key] = value;\n    }\n    get(key) {\n        return this._vals[key];\n    }\n    has(key) {\n        return this._vals[key] != null;\n    }\n    each(keyFrom, keyTo, fn) {\n        const { _keys: keys } = this;\n        const { length } = keys;\n        if (!this._sorted) {\n            keys.sort((a, b) => {\n                if (a < b) {\n                    return -1;\n                }\n                if (a > b) {\n                    return 1;\n                }\n                return 0;\n            });\n            this._sorted = true;\n        }\n        for (let i = indexFirst(keys, keyFrom); i < length; i++) {\n            const key = keys[i];\n            if (keyFrom <= key && key <= keyTo) {\n                fn(this.get(key), key);\n            }\n            else if (keyTo < key) {\n                return;\n            }\n        }\n    }\n}\nexports.NumberMap = NumberMap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Scrollable = void 0;\nconst style = __importStar(require(\"./style\"));\nconst EventHandler_1 = require(\"./EventHandler\");\nconst utils_1 = require(\"./utils\");\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\nclass Scrollable {\n    constructor() {\n        this._p = 1;\n        this._handler = new EventHandler_1.EventHandler();\n        this._scrollable = document.createElement(\"div\");\n        this._scrollable.classList.add(\"grid-scrollable\");\n        this._height = 0;\n        this._width = 0;\n        this._endPointElement = document.createElement(\"div\");\n        this._endPointElement.classList.add(\"grid-scroll-end-point\");\n        this._update();\n        this._scrollable.appendChild(this._endPointElement);\n        // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n        // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n        // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n        // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n        // this.scrollTop += delta < 0 ? point : -point;\n        // });\n    }\n    calcTop(top) {\n        const relativeTop = top - this.scrollTop;\n        return this._scrollable.scrollTop + relativeTop;\n    }\n    getElement() {\n        return this._scrollable;\n    }\n    setScrollSize(width, height) {\n        this._width = width;\n        this._height = height;\n        this._update();\n    }\n    get scrollWidth() {\n        return this._width;\n    }\n    set scrollWidth(width) {\n        this._width = width;\n        this._update();\n    }\n    get scrollHeight() {\n        return this._height;\n    }\n    set scrollHeight(height) {\n        this._height = height;\n        this._update();\n    }\n    get scrollLeft() {\n        return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\n    }\n    set scrollLeft(scrollLeft) {\n        this._scrollable.scrollLeft = scrollLeft;\n    }\n    get scrollTop() {\n        return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\n    }\n    set scrollTop(scrollTop) {\n        this._scrollable.scrollTop = scrollTop * this._p;\n    }\n    onScroll(fn) {\n        this._handler.on(this._scrollable, \"scroll\", fn);\n    }\n    dispose() {\n        this._handler.dispose();\n    }\n    _update() {\n        let domHeight;\n        if (this._height > MAX_SCROLL) {\n            const sbSize = style.getScrollBarSize();\n            const { offsetHeight } = this._scrollable;\n            const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n            const rScrollRange = this._height - offsetHeight + sbSize;\n            this._p = vScrollRange / rScrollRange;\n            domHeight = MAX_SCROLL;\n        }\n        else {\n            this._p = 1;\n            domHeight = this._height;\n        }\n        this._endPointElement.style.top = `${domHeight.toFixed()}px`;\n        this._endPointElement.style.left = `${this._width.toFixed()}px`;\n    }\n}\nexports.Scrollable = Scrollable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CachedDataSource = void 0;\nconst DataSource_1 = require(\"./DataSource\");\n/** @private */\nfunction _setFieldCache(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfCache, index, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    const recCache = fCache[index] || (fCache[index] = new Map());\n    recCache.set(field, value);\n}\n/**\n * grid data source for caching Promise data\n *\n * @classdesc cheetahGrid.data.CachedDataSource\n * @memberof cheetahGrid.data\n */\nclass CachedDataSource extends DataSource_1.DataSource {\n    constructor(opt) {\n        super(opt);\n        this._rCache = {};\n        this._fCache = {};\n    }\n    static get EVENT_TYPE() {\n        return DataSource_1.DataSource.EVENT_TYPE;\n    }\n    static ofArray(array) {\n        return new CachedDataSource({\n            get: (index) => array[index],\n            length: array.length,\n            source: array,\n        });\n    }\n    getOriginal(index) {\n        if (this._rCache && this._rCache[index]) {\n            return this._rCache[index];\n        }\n        return super.getOriginal(index);\n    }\n    getOriginalField(index, field) {\n        const rowCache = this._fCache && this._fCache[index];\n        if (rowCache) {\n            const cache = rowCache.get(field);\n            if (cache) {\n                return cache;\n            }\n        }\n        return super.getOriginalField(index, field);\n    }\n    setOriginalField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        const fCache = this._fCache;\n        if (fCache && fCache[index]) {\n            delete fCache[index]; // clear row cache\n        }\n        return super.setOriginalField(index, field, value);\n    }\n    clearCache() {\n        if (this._rCache) {\n            this._rCache = {};\n        }\n        if (this._fCache) {\n            this._fCache = {};\n        }\n    }\n    fieldPromiseCallBackInternal(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        _setFieldCache(this._fCache, index, field, value);\n    }\n    recordPromiseCallBackInternal(index, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    record) {\n        this._rCache[index] = record;\n    }\n    dispose() {\n        super.dispose();\n    }\n}\nexports.CachedDataSource = CachedDataSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterDataSource = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst DataSource_1 = require(\"./DataSource\");\nconst EventHandler_1 = require(\"../internal/EventHandler\");\n/** @private */\nclass DataSourceIterator {\n    constructor(dataSource) {\n        this._dataSource = dataSource;\n        this._curIndex = -1;\n        this._data = [];\n    }\n    hasNext() {\n        const next = this._curIndex + 1;\n        return this._dataSource.length > next;\n    }\n    next() {\n        const next = this._curIndex + 1;\n        const data = this._getIndexData(next);\n        this._curIndex = next;\n        return data;\n    }\n    movePrev() {\n        this._curIndex--;\n    }\n    _getIndexData(index, nest) {\n        const dataSource = this._dataSource;\n        const data = this._data;\n        if (index < data.length) {\n            return data[index];\n        }\n        if (dataSource.length <= index) {\n            return undefined;\n        }\n        const record = this._dataSource.get(index);\n        data[index] = record;\n        if (utils_1.isPromise(record)) {\n            record.then((val) => {\n                data[index] = val;\n            });\n            if (!nest) {\n                for (let i = 1; i <= 100; i++) {\n                    this._getIndexData(index + i, true);\n                }\n            }\n        }\n        return record;\n    }\n}\n/** @private */\nclass FilterData {\n    constructor(dc, original, filter) {\n        this._cancel = false;\n        this._owner = dc;\n        this._dataSourceItr = new DataSourceIterator(original);\n        this._filter = filter;\n        this._filterdList = [];\n        this._queues = [];\n    }\n    get(index) {\n        if (this._cancel) {\n            return undefined;\n        }\n        const filterdList = this._filterdList;\n        if (index < filterdList.length) {\n            return filterdList[index];\n        }\n        const queues = this._queues;\n        const indexQueue = queues[index];\n        if (indexQueue) {\n            return indexQueue;\n        }\n        return queues[index] || this._findIndex(index);\n    }\n    cancel() {\n        this._cancel = true;\n    }\n    _findIndex(index) {\n        if (window.Promise) {\n            const timeout = Date.now() + 100;\n            let count = 0;\n            return this._findIndexWithTimeout(index, () => {\n                count++;\n                if (count >= 100) {\n                    count = 0;\n                    return timeout < Date.now();\n                }\n                return false;\n            });\n        }\n        return this._findIndexWithTimeout(index, () => false);\n    }\n    _findIndexWithTimeout(index, testTimeout) {\n        const filterdList = this._filterdList;\n        const filter = this._filter;\n        const dataSourceItr = this._dataSourceItr;\n        const queues = this._queues;\n        while (dataSourceItr.hasNext()) {\n            if (this._cancel) {\n                return undefined;\n            }\n            const record = dataSourceItr.next();\n            if (utils_1.isPromise(record)) {\n                dataSourceItr.movePrev();\n                const queue = record.then((_value) => {\n                    queues[index] = null;\n                    return this.get(index);\n                });\n                queues[index] = queue;\n                return queue;\n            }\n            if (filter(record)) {\n                filterdList.push(record);\n                if (index < filterdList.length) {\n                    return filterdList[index];\n                }\n            }\n            if (testTimeout()) {\n                const promise = new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve();\n                    }, 300);\n                });\n                const queue = promise.then(() => {\n                    queues[index] = null;\n                    return this.get(index);\n                });\n                queues[index] = queue;\n                return queue;\n            }\n        }\n        const dc = this._owner;\n        dc.length = filterdList.length;\n        return undefined;\n    }\n}\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @memberof cheetahGrid.data\n */\nclass FilterDataSource extends DataSource_1.DataSource {\n    constructor(dataSource, filter) {\n        super(dataSource);\n        this._filterData = null;\n        this._dataSource = dataSource;\n        this.filter = filter;\n        const handler = (this._handler = new EventHandler_1.EventHandler());\n        handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n            // reset\n            // eslint-disable-next-line no-self-assign\n            this.filter = this.filter;\n        });\n        utils_1.each(DataSource_1.DataSource.EVENT_TYPE, (type) => {\n            handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\n        });\n    }\n    static get EVENT_TYPE() {\n        return DataSource_1.DataSource.EVENT_TYPE;\n    }\n    get filter() {\n        var _a;\n        return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\n    }\n    set filter(filter) {\n        if (this._filterData) {\n            this._filterData.cancel();\n        }\n        this._filterData = filter\n            ? new FilterData(this, this._dataSource, filter)\n            : null;\n        this.length = this._dataSource.length;\n    }\n    getOriginal(index) {\n        if (!this._filterData) {\n            return super.getOriginal(index);\n        }\n        return this._filterData.get(index);\n    }\n    sort(field, order) {\n        return this._dataSource.sort(field, order);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get source() {\n        return this._dataSource.source;\n    }\n    get dataSource() {\n        return this._dataSource;\n    }\n    dispose() {\n        this._handler.dispose();\n        super.dispose();\n    }\n}\nexports.FilterDataSource = FilterDataSource;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(require(\"./header/action\"));\nexports.action = action;\nconst style = __importStar(require(\"./header/style\"));\nexports.style = style;\nconst type = __importStar(require(\"./header/type\"));\nexports.type = type;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeaderAction = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst BaseAction_1 = require(\"./BaseAction\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId();\nfunction getState(grid) {\n    let state = grid[CHECK_HEADER_STATE_ID];\n    if (!state) {\n        state = { elapsed: {}, block: {} };\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n    }\n    return state;\n}\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\n    clone() {\n        return new CheckHeaderAction(this);\n    }\n    bindGridEvent(grid, cellId) {\n        const state = getState(grid);\n        const action = ({ col, row }) => {\n            const range = grid.getCellRange(col, row);\n            const cellKey = `${range.start.col}:${range.start.row}`;\n            if (this.disabled || state.block[cellKey]) {\n                return;\n            }\n            const checked = grid.getHeaderValue(range.start.col, range.start.row);\n            grid.setHeaderValue(range.start.col, range.start.row, !checked);\n            const onChange = () => {\n                // checkbox animation\n                animate_1.animate(200, (point) => {\n                    if (point === 1) {\n                        delete state.elapsed[cellKey];\n                    }\n                    else {\n                        state.elapsed[cellKey] = point;\n                    }\n                    grid.invalidateCellRange(range);\n                });\n            };\n            onChange();\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (this.disabled) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n        ];\n    }\n}\nexports.CheckHeaderAction = CheckHeaderAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeaderAction = void 0;\nconst BaseAction_1 = require(\"./BaseAction\");\nconst actionBind_1 = require(\"./actionBind\");\nclass SortHeaderAction extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        var _a;\n        super(option);\n        this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\n    }\n    get sort() {\n        return this._sort;\n    }\n    set sort(sort) {\n        this._sort = sort;\n        this.onChangeDisabledInternal();\n    }\n    clone() {\n        return new SortHeaderAction(this);\n    }\n    _executeSort(newState, grid) {\n        if (typeof this._sort === \"function\") {\n            this._sort({\n                order: newState.order || \"asc\",\n                col: newState.col,\n                row: newState.row,\n                grid,\n            });\n        }\n        else {\n            const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\n            const field = grid.getField(newState.col, fieldRow);\n            if (field == null) {\n                return;\n            }\n            grid.dataSource.sort(field, newState.order || \"asc\");\n        }\n    }\n    bindGridEvent(grid, cellId) {\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        const action = (cell) => {\n            if (this.disabled) {\n                return;\n            }\n            const state = grid.sortState;\n            let newState;\n            const range = grid.getCellRange(cell.col, cell.row);\n            if (isTarget(state.col, cell.row)) {\n                newState = {\n                    col: range.start.col,\n                    row: range.start.row,\n                    order: state.order === \"asc\" ? \"desc\" : \"asc\",\n                };\n            }\n            else {\n                newState = {\n                    col: range.start.col,\n                    row: range.start.row,\n                    order: \"asc\",\n                };\n            }\n            grid.sortState = newState;\n            this._executeSort(newState, grid);\n            grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (_e) => {\n                    if (this.disabled) {\n                        return false;\n                    }\n                    return true;\n                },\n            }),\n        ];\n    }\n}\nexports.SortHeaderAction = SortHeaderAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._textAlign = style.textAlign || \"left\";\n        this._textBaseline = style.textBaseline || \"middle\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n    }\n    get textAlign() {\n        return this._textAlign;\n    }\n    set textAlign(textAlign) {\n        this._textAlign = textAlign;\n        this.doChangeStyle();\n    }\n    get textBaseline() {\n        return this._textBaseline;\n    }\n    set textBaseline(textBaseline) {\n        this._textBaseline = textBaseline;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new StdBaseStyle(this);\n    }\n}\nexports.StdBaseStyle = StdBaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst CheckHeaderStyle_1 = require(\"../style/CheckHeaderStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getState(grid) {\n    let state = grid[CHECK_HEADER_STATE_ID];\n    if (!state) {\n        state = { elapsed: {}, block: {} };\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n    }\n    return state;\n}\nclass CheckHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return CheckHeaderStyle_1.CheckHeaderStyle;\n    }\n    clone() {\n        return new CheckHeader(this);\n    }\n    drawInternal(value, context, style, helper, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    grid, { drawCellBase }) {\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, color, font, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const { elapsed: { [cellKey]: elapsed }, } = getState(grid);\n        const checked = grid.getHeaderValue(range.start.col, range.start.row);\n        const opt = {\n            textAlign,\n            textBaseline,\n            borderColor,\n            checkBgColor,\n            uncheckBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\n        helper.text([inlineCheck, value], context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n        });\n    }\n}\nexports.CheckHeader = CheckHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Header = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst Style_1 = require(\"../style/Style\");\nclass Header extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return Style_1.Style;\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        const { textAlign, textBaseline, color, font, bgColor, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.text(value, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n        });\n    }\n}\nexports.Header = Header;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst MultilineTextHeaderStyle_1 = require(\"../style/MultilineTextHeaderStyle\");\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\n    }\n    clone() {\n        return new MultilineTextHeader(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        const { textAlign, textBaseline, color, font, bgColor, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const multilines = value\n            .replace(/\\r?\\n/g, \"\\n\")\n            .replace(/\\r/g, \"\\n\")\n            .split(\"\\n\");\n        helper.testFontLoad(font, value, context);\n        helper.multilineText(multilines, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            lineHeight,\n            autoWrapText,\n            lineClamp,\n            textOverflow,\n        });\n    }\n}\nexports.MultilineTextHeader = MultilineTextHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst SortHeaderStyle_1 = require(\"../style/SortHeaderStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nconst canvases_1 = require(\"../../internal/canvases\");\nclass SortHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return SortHeaderStyle_1.SortHeaderStyle;\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        const { textAlign, textBaseline = \"middle\", color, bgColor, font, textOverflow, sortArrowColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const state = grid.sortState;\n        let order = undefined;\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        if (utils_1.cellInRange(range, state.col, state.row)) {\n            ({ order } = state);\n        }\n        const ctx = context.getContext();\n        const arrowSize = canvases_1.getFontSize(ctx, font).width * 1.2;\n        helper.text(value, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n            icons: [\n                {\n                    name: order != null\n                        ? order === \"asc\"\n                            ? \"arrow_downward\"\n                            : \"arrow_upward\"\n                        : undefined,\n                    width: arrowSize,\n                    color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\",\n                },\n            ],\n        });\n    }\n}\nexports.SortHeader = SortHeader;\n","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.icons = exports.icon = exports.theme = void 0;\nconst icons_1 = require(\"./plugins/icons\");\nconst themes_1 = require(\"./plugins/themes\");\nfunction register(obj, name, value) {\n    const old = obj[name];\n    obj[name] = value;\n    return old;\n}\nfunction registers(obj, values) {\n    for (const k in values) {\n        obj[k] = values[k];\n    }\n}\nfunction theme(name, theme) {\n    if (theme != null) {\n        return register(themes_1.themes, name, theme);\n    }\n    else {\n        return themes_1.themes[name];\n    }\n}\nexports.theme = theme;\nfunction icon(name, icon) {\n    if (icon != null) {\n        return register(icons_1.icons, name, icon);\n    }\n    else {\n        return icons_1.icons[name];\n    }\n}\nexports.icon = icon;\nfunction icons(icons) {\n    return registers(icons_1.icons, icons);\n}\nexports.icons = icons;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Theme = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst symbolManager_1 = require(\"../internal/symbolManager\");\n//private symbol\nconst _ = symbolManager_1.get();\nfunction getProp(obj, superObj, names, defNames) {\n    return (utils_1.getChainSafe(obj, ...names) ||\n        utils_1.getChainSafe(superObj, ...names) ||\n        (defNames && utils_1.getChainSafe(obj, ...defNames)) ||\n        (defNames && utils_1.getChainSafe(superObj, ...defNames)));\n}\nclass Theme {\n    constructor(obj, superTheme) {\n        this._checkbox = null;\n        this._radioButton = null;\n        this._button = null;\n        this._header = null;\n        this[_] = {\n            obj,\n            superTheme: superTheme,\n        };\n    }\n    get font() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"font\"]);\n    }\n    get underlayBackgroundColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\n    }\n    // color\n    get color() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"color\"]);\n    }\n    get frozenRowsColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\n    }\n    // background\n    get defaultBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"defaultBgColor\"]);\n    }\n    get frozenRowsBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\n    }\n    get selectionBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\n    }\n    get highlightBgColor() {\n        if (this.hasProperty([\"highlightBgColor\"])) {\n            const { obj, superTheme } = this[_];\n            return getProp(obj, superTheme, [\"highlightBgColor\"]);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return (args) => {\n            const color = args.row < args.grid.frozenRowCount\n                ? this.frozenRowsBgColor\n                : this.defaultBgColor;\n            if (typeof color === \"function\") {\n                return color(args);\n            }\n            return color;\n        };\n    }\n    // border\n    get borderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"borderColor\"]);\n    }\n    get frozenRowsBorderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\n    }\n    get highlightBorderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\n    }\n    get checkbox() {\n        const { obj, superTheme } = this[_];\n        return (this._checkbox ||\n            (this._checkbox = {\n                get uncheckBgColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n                },\n                get checkBgColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"checkBgColor\"], [\"borderColor\"]);\n                },\n                get borderColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"borderColor\"], [\"borderColor\"]);\n                },\n            }));\n    }\n    get radioButton() {\n        const { obj, superTheme } = this[_];\n        return (this._radioButton ||\n            (this._radioButton = {\n                get checkColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkColor\"], [\"color\"]);\n                },\n                get uncheckBorderColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"uncheckBorderColor\"], [\"borderColor\"]);\n                },\n                get checkBorderColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkBorderColor\"], [\"borderColor\"]);\n                },\n                get uncheckBgColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n                },\n                get checkBgColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkBgColor\"], [\"defaultBgColor\"]);\n                },\n            }));\n    }\n    get button() {\n        const { obj, superTheme } = this[_];\n        return (this._button ||\n            (this._button = {\n                get color() {\n                    return getProp(obj, superTheme, [\"button\", \"color\"], [\"color\"]);\n                },\n                get bgColor() {\n                    return getProp(obj, superTheme, [\"button\", \"bgColor\"], [\"defaultBgColor\"]);\n                },\n            }));\n    }\n    get header() {\n        const { obj, superTheme } = this[_];\n        return (this._header ||\n            (this._header = {\n                get sortArrowColor() {\n                    return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\n                },\n            }));\n    }\n    hasProperty(names) {\n        const { obj, superTheme } = this[_];\n        return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\n    }\n    extends(obj) {\n        return new Theme(obj, this);\n    }\n}\nexports.Theme = Theme;\nfunction hasThemeProperty(obj, names) {\n    if (obj instanceof Theme) {\n        return obj.hasProperty(names);\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let o = obj;\n        if (!o) {\n            return false;\n        }\n        for (let index = 0; index < names.length; index++) {\n            const name = names[index];\n            o = o[name];\n            if (!o) {\n                return false;\n            }\n        }\n        return !!o;\n    }\n}\n","\"use strict\";\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction DEFAULT_BG_COLOR(args) {\n    const { row, grid } = args;\n    if (row < grid.frozenRowCount) {\n        return \"#FFF\";\n    }\n    const index = grid.getRecordIndexByRow(row);\n    if (!(index & 1)) {\n        return \"#FFF\";\n    }\n    else {\n        return \"#F6F6F6\";\n    }\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n    let stop;\n    const stopsKey = [];\n    for (stop in colorStops) {\n        stopsKey.push(`${stop}@${colorStops[stop]}`);\n    }\n    const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\n    const ret = cacheLinearGradient[key];\n    if (ret) {\n        return ret;\n    }\n    const grad = context.createLinearGradient(left, top, left, bottom);\n    for (stop in colorStops) {\n        grad.addColorStop(Number(stop), colorStops[stop]);\n    }\n    return (cacheLinearGradient[key] = grad);\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n    const { col, grid, grid: { frozenRowCount }, context, } = args;\n    const { left, top } = grid.getCellRelativeRect(col, 0);\n    const { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n    return getLinearGradient(context, left, top, left, bottom, {\n        0: \"#FFF\",\n        1: \"#D3D3D3\",\n    });\n}\n/**\n * basic theme\n * @name BASIC\n * @memberof cheetahGrid.themes.choices\n */\nexports.default = {\n    color: \"#000\",\n    // frozenRowsColor: '#000',\n    defaultBgColor: DEFAULT_BG_COLOR,\n    frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n    selectionBgColor: \"#CCE0FF\",\n    borderColor: \"#000\",\n    // frozenRowsBorderColor: '#000',\n    highlightBorderColor: \"#5E9ED6\",\n    checkbox: {\n        uncheckBgColor: \"#FFF\",\n        checkBgColor: \"rgb(76, 73, 72)\",\n        borderColor: \"#000\",\n    },\n    radioButton: {\n        checkColor: \"rgb(76, 73, 72)\",\n        checkBorderColor: \"#000\",\n        uncheckBorderColor: \"#000\",\n        uncheckBgColor: \"#FFF\",\n        checkBgColor: \"#FFF\",\n    },\n    button: {\n        color: \"#FFF\",\n        bgColor: \"#2196F3\",\n    },\n    header: {\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\n    },\n    underlayBackgroundColor: \"#F6F6F6\",\n};\n","\"use strict\";\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n    const { row, grid: { frozenRowCount }, } = args;\n    if (frozenRowCount - 1 === row) {\n        return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\n    }\n    else {\n        return [\"#f2f2f2\"];\n    }\n}\nfunction BORDER_COLOR(args) {\n    const { col, row, grid } = args;\n    const { colCount, frozenColCount, recordRowCount } = grid;\n    let top = \"#ccc7c7\";\n    let bottom = \"#ccc7c7\";\n    if (recordRowCount > 1) {\n        const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n        const endRow = startRow + recordRowCount - 1;\n        if (startRow !== row) {\n            top = null;\n        }\n        if (endRow !== row) {\n            bottom = null;\n        }\n    }\n    if (frozenColCount - 1 === col) {\n        return [top, \"#f2f2f2\", bottom, null];\n    }\n    if (colCount - 1 === col) {\n        return [top, \"#f2f2f2\", bottom, null];\n    }\n    return [top, null, bottom, null];\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @memberof cheetahGrid.themes.choices\n */\nexports.default = {\n    color: \"rgba(0, 0, 0, 0.87)\",\n    frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\n    defaultBgColor: \"#FFF\",\n    // frozenRowsBgColor: '#FFF',\n    selectionBgColor: \"#CCE0FF\",\n    borderColor: BORDER_COLOR,\n    frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n    highlightBorderColor: \"#5E9ED6\",\n    checkbox: {\n        // uncheckBgColor: '#FFF',\n        checkBgColor: \"rgb(76, 73, 72)\",\n        borderColor: \"rgba(0, 0, 0, 0.26)\",\n    },\n    radioButton: {\n        checkColor: \"rgb(76, 73, 72)\",\n        checkBorderColor: \"rgb(76, 73, 72)\",\n        uncheckBorderColor: \"rgb(189, 189, 189)\",\n    },\n    button: {\n        color: \"#FFF\",\n        bgColor: \"#2196F3\",\n    },\n    header: {\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\n    },\n    underlayBackgroundColor: \"#FFF\",\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.canvashelper = void 0;\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\nexports.canvashelper = canvashelper;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListGrid = void 0;\nconst icons = __importStar(require(\"./internal/icons\"));\nconst themes = __importStar(require(\"./themes\"));\nconst data_1 = require(\"./data\");\nconst layout_map_1 = require(\"./list-grid/layout-map\");\nconst MessageHandler_1 = require(\"./columns/message/MessageHandler\");\nconst utils_1 = require(\"./internal/utils\");\nconst style_1 = require(\"./columns/style\");\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\nconst style_2 = require(\"./header/style\");\nconst LG_EVENT_TYPE_1 = require(\"./list-grid/LG_EVENT_TYPE\");\nconst Rect_1 = require(\"./internal/Rect\");\nconst TooltipHandler_1 = require(\"./tooltip/TooltipHandler\");\n//protected symbol\nconst symbolManager_1 = require(\"./internal/symbolManager\");\nconst paste_utils_1 = require(\"./internal/paste-utils\");\n/** @private */\nconst _ = symbolManager_1.getProtectedSymbol();\n//private methods\n/** @private */\nfunction _getCellRange(grid, col, row) {\n    return grid[_].layoutMap.getCellRange(col, row);\n}\n/** @private */\nfunction _updateRect(grid, col, row, context) {\n    context.setRectFilter((rect) => {\n        let { left, right, top, bottom } = rect;\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = _getCellRange(grid, col, row);\n        for (let c = col - 1; c >= startCol; c--) {\n            left -= grid.getColWidth(c);\n        }\n        for (let c = col + 1; c <= endCol; c++) {\n            right += grid.getColWidth(c);\n        }\n        for (let r = row - 1; r >= startRow; r--) {\n            top -= grid.getRowHeight(r);\n        }\n        for (let r = row + 1; r <= endRow; r++) {\n            bottom += grid.getRowHeight(r);\n        }\n        return Rect_1.Rect.bounds(left, top, right, bottom);\n    });\n}\n/** @private */\nfunction _getCellValue(grid, col, row) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        const { caption } = grid[_].layoutMap.getHeader(col, row);\n        return typeof caption === \"function\" ? caption() : caption;\n    }\n    else {\n        const { field } = grid[_].layoutMap.getBody(col, row);\n        return _getField(grid, field, row);\n    }\n}\n/** @private */\nfunction _setCellValue(grid, col, row, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        // nop\n        return false;\n    }\n    else {\n        const { field } = grid[_].layoutMap.getBody(col, row);\n        if (field == null) {\n            return false;\n        }\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.setField(index, field, value);\n    }\n}\n/** @private */\nfunction _getCellMessage(grid, col, row) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return null;\n    }\n    else {\n        const { message } = grid[_].layoutMap.getBody(col, row);\n        if (!message) {\n            return null;\n        }\n        if (!Array.isArray(message)) {\n            return _getField(grid, message, row);\n        }\n        const promises = [];\n        for (let index = 0; index < message.length; index++) {\n            const msg = _getField(grid, message[index], row);\n            if (utils_1.isPromise(msg)) {\n                promises.push(msg);\n            }\n            else if (MessageHandler_1.hasMessage(msg)) {\n                return msg;\n            }\n        }\n        if (!promises.length) {\n            return null;\n        }\n        return new Promise((resolve, reject) => {\n            promises.forEach((p) => {\n                p.then((msg) => {\n                    if (MessageHandler_1.hasMessage(msg)) {\n                        resolve(msg);\n                    }\n                }, reject);\n            });\n        });\n    }\n}\nfunction _getCellIcon0(grid, icon, row) {\n    if (Array.isArray(icon)) {\n        return icon.map((i) => _getCellIcon0(grid, i, row));\n    }\n    if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\n        return _getField(grid, icon, row);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const retIcon = {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const iconOpt = icon;\n    icons.iconPropKeys.forEach((k) => {\n        if (iconOpt[k]) {\n            const f = _getField(grid, iconOpt[k], row);\n            if (f != null) {\n                retIcon[k] = f;\n            }\n            else {\n                if (!_hasField(grid, iconOpt[k], row)) {\n                    retIcon[k] = iconOpt[k];\n                }\n            }\n        }\n    });\n    return retIcon;\n}\n/** @private */\nfunction _getCellIcon(grid, col, row) {\n    const { icon } = grid[_].layoutMap.getBody(col, row);\n    if (icon == null) {\n        return null;\n    }\n    return _getCellIcon0(grid, icon, row);\n}\n/** @private */\nfunction _getField(grid, field, row) {\n    if (field == null) {\n        return null;\n    }\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return null;\n    }\n    else {\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.getField(index, field);\n    }\n}\n/** @private */\nfunction _hasField(grid, field, row) {\n    if (field == null) {\n        return false;\n    }\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return false;\n    }\n    else {\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.hasField(index, field);\n    }\n}\n/** @private */\nfunction _onDrawValue(grid, cellValue, context, { col, row }, style, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndraw) {\n    const helper = grid[_].gridCanvasHelper;\n    const drawCellBg = ({ bgColor, } = {}) => {\n        const fillOpt = {\n            fillColor: bgColor,\n        };\n        //cell\n        helper.fillCellWithState(context, fillOpt);\n    };\n    const drawCellBorder = () => {\n        if (context.col === grid.frozenColCount - 1) {\n            //\n            const rect = context.getRect();\n            helper.drawWithClip(context, (ctx) => {\n                const borderColor = context.row >= grid.frozenRowCount\n                    ? helper.theme.borderColor\n                    : helper.theme.frozenRowsBorderColor;\n                const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n                if (borderColors[1]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.right - 2.5, rect.top);\n                    ctx.lineTo(rect.right - 2.5, rect.bottom);\n                    ctx.stroke();\n                }\n            });\n        }\n        _borderWithState(grid, helper, context);\n    };\n    const drawCellBase = ({ bgColor, } = {}) => {\n        drawCellBg({ bgColor });\n        drawCellBorder();\n    };\n    const info = {\n        getRecord: () => grid.getRowRecord(row),\n        getIcon: () => _getCellIcon(grid, col, row),\n        getMessage: () => _getCellMessage(grid, col, row),\n        messageHandler: grid[_].messageHandler,\n        style,\n        drawCellBase,\n        drawCellBg,\n        drawCellBorder,\n    };\n    return draw(cellValue, info, context, grid);\n}\n/** @private */\nfunction _borderWithState(grid, helper, context) {\n    const { col, row } = context;\n    const sel = grid.selection.select;\n    const { layoutMap } = grid[_];\n    const rect = context.getRect();\n    const option = {};\n    const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\n    const selId = layoutMap.getCellId(sel.col, sel.row);\n    function isSelectCell(col, row) {\n        if (col === sel.col && row === sel.row) {\n            return true;\n        }\n        return (selId != null &&\n            layoutMap.getCellId(col, row) === selId &&\n            layoutMap.getRecordIndexByRow(row) === selRecordIndex);\n    }\n    //\n    if (isSelectCell(col, row)) {\n        option.borderColor = helper.theme.highlightBorderColor;\n        option.lineWidth = 2;\n        helper.border(context, option);\n    }\n    else {\n        option.lineWidth = 1;\n        // header color\n        const isFrozenCell = grid.isFrozenCell(col, row);\n        if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n            option.borderColor = helper.theme.frozenRowsBorderColor;\n        }\n        helper.border(context, option);\n        //\n        if (col > 0 && isSelectCell(col - 1, row)) {\n            //\n            helper.drawBorderWithClip(context, (ctx) => {\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n                if (borderColors[1]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left - 0.5, rect.top);\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\n                    ctx.stroke();\n                }\n            });\n        }\n        else if (row > 0 && isSelectCell(col, row - 1)) {\n            //\n            helper.drawBorderWithClip(context, (ctx) => {\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n                if (borderColors[0]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[0];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left, rect.top - 0.5);\n                    ctx.lineTo(rect.right, rect.top - 0.5);\n                    ctx.stroke();\n                }\n            });\n        }\n    }\n}\n/** @private */\nfunction _refreshHeader(grid) {\n    var _a;\n    const protectedSpace = grid[_];\n    if (protectedSpace.headerEvents) {\n        protectedSpace.headerEvents.forEach((id) => grid.unlisten(id));\n    }\n    const headerEvents = (grid[_].headerEvents = []);\n    headerEvents.forEach((id) => grid.unlisten(id));\n    let layoutMap;\n    if (protectedSpace.layout &&\n        (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\n    }\n    else {\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_a = protectedSpace.header) !== null && _a !== void 0 ? _a : []);\n    }\n    layoutMap.headerObjects.forEach((cell) => {\n        const ids = cell.headerType.bindGridEvent(grid, cell.id);\n        headerEvents.push(...ids);\n        if (cell.style) {\n            if (cell.style instanceof style_2.BaseStyle) {\n                const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n                    grid.invalidate();\n                });\n                headerEvents.push(id);\n            }\n        }\n        if (cell.action) {\n            const ids = cell.action.bindGridEvent(grid, cell.id);\n            headerEvents.push(...ids);\n        }\n    });\n    layoutMap.columnObjects.forEach((col) => {\n        if (col.action) {\n            const ids = col.action.bindGridEvent(grid, col.id);\n            headerEvents.push(...ids);\n        }\n        if (col.columnType) {\n            const ids = col.columnType.bindGridEvent(grid, col.id);\n            headerEvents.push(...ids);\n        }\n        if (col.style) {\n            if (col.style instanceof style_1.BaseStyle) {\n                const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n                    grid.invalidate();\n                });\n                headerEvents.push(id);\n            }\n        }\n    });\n    for (let col = 0; col < layoutMap.columnWidths.length; col++) {\n        const column = layoutMap.columnWidths[col];\n        const { width, minWidth, maxWidth } = column;\n        if (width && (width > 0 || typeof width === \"string\")) {\n            grid.setColWidth(col, width);\n        }\n        if (minWidth && (minWidth > 0 || typeof minWidth === \"string\")) {\n            grid.setMinColWidth(col, minWidth);\n        }\n        if (maxWidth && (maxWidth > 0 || typeof maxWidth === \"string\")) {\n            grid.setMaxColWidth(col, maxWidth);\n        }\n    }\n    const { headerRowHeight } = grid[_];\n    for (let row = 0; row < layoutMap.headerRowCount; row++) {\n        const height = Array.isArray(headerRowHeight)\n            ? headerRowHeight[row]\n            : headerRowHeight;\n        if (height && height > 0) {\n            grid.setRowHeight(row, height);\n        }\n    }\n    grid.colCount = layoutMap.colCount;\n    _refreshRowCount(grid);\n    grid.frozenRowCount = layoutMap.headerRowCount;\n}\n/** @private */\nfunction _refreshRowCount(grid) {\n    const { layoutMap } = grid[_];\n    grid.rowCount =\n        grid[_].dataSource.length * layoutMap.bodyRowCount +\n            layoutMap.headerRowCount;\n}\n/** @private */\nfunction _tryWithUpdateDataSource(grid, fn) {\n    const { dataSourceEventIds } = grid[_];\n    if (dataSourceEventIds) {\n        dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\n    }\n    fn(grid);\n    grid[_].dataSourceEventIds = [\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n            _refreshRowCount(grid);\n            grid.invalidate();\n        }),\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n            grid.invalidate();\n        }),\n    ];\n}\n/** @private */\nfunction _setRecords(grid, records = []) {\n    _tryWithUpdateDataSource(grid, () => {\n        grid[_].records = records;\n        const newDataSource = (grid[_].dataSource = data_1.CachedDataSource.ofArray(records));\n        grid.addDisposable(newDataSource);\n    });\n}\n/** @private */\nfunction _setDataSource(grid, dataSource) {\n    _tryWithUpdateDataSource(grid, () => {\n        if (dataSource) {\n            if (dataSource instanceof data_1.DataSource) {\n                grid[_].dataSource = dataSource;\n            }\n            else {\n                const newDataSource = (grid[_].dataSource = new data_1.CachedDataSource(dataSource));\n                grid.addDisposable(newDataSource);\n            }\n        }\n        else {\n            grid[_].dataSource = data_1.DataSource.EMPTY;\n        }\n        grid[_].records = null;\n    });\n}\n/** @private */\nfunction _getRecordIndexByRow(grid, row) {\n    const { layoutMap } = grid[_];\n    return layoutMap.getRecordIndexByRow(row);\n}\n/** @private */\nfunction _onRangePaste(text, test = () => true) {\n    var _a;\n    const { layoutMap } = this[_];\n    const selectionRange = this.selection.range;\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n    const values = paste_utils_1.parsePasteRangeBoxValues(text);\n    const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\n    const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\n    let hasEditable = false;\n    const actionColumnsBox = [];\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n        const actionColumnsRow = [];\n        actionColumnsBox.push(actionColumnsRow);\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n            actionColumnsRow[offsetCol] = body;\n            if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n                hasEditable = true;\n            }\n        }\n    }\n    if (!hasEditable) {\n        return;\n    }\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n    const startRowOffset = start.row - startRow;\n    let duplicate = {};\n    let actionRow = startRowOffset;\n    let valuesRow = 0;\n    for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\n        let valuesCol = 0;\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n                duplicate[id] = true;\n                const col = start.col + offsetCol;\n                const row = start.row + offsetRow;\n                const cellValue = values.getCellValue(valuesCol, valuesRow);\n                utils_1.then(this.getRowRecord(row), (record) => {\n                    utils_1.then(_getCellValue(this, col, row), (oldValue) => {\n                        if (test({\n                            grid: this,\n                            record: record,\n                            col,\n                            row,\n                            value: cellValue,\n                            oldValue,\n                        })) {\n                            action.onPasteCellRangeBox(this, { col, row }, cellValue);\n                        }\n                    });\n                });\n            }\n            valuesCol++;\n            if (valuesCol >= values.colCount) {\n                valuesCol = 0;\n            }\n        }\n        actionRow++;\n        if (actionRow >= layoutMap.bodyRowCount) {\n            actionRow = 0;\n            duplicate = {};\n        }\n        valuesRow++;\n        if (valuesRow >= values.rowCount) {\n            valuesRow = 0;\n        }\n    }\n    const newEnd = {\n        col: start.col + pasteColCount - 1,\n        row: start.row + pasteRowCount - 1,\n    };\n    this.selection.range = {\n        start,\n        end: newEnd,\n    };\n    this.invalidateCellRange(this.selection.range);\n}\n/** @private */\nfunction _onRangeDelete() {\n    var _a;\n    const { layoutMap } = this[_];\n    const selectionRange = this.selection.range;\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n    const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\n    const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\n    let hasEditable = false;\n    const actionColumnsBox = [];\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n        const actionColumnsRow = [];\n        actionColumnsBox.push(actionColumnsRow);\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n            actionColumnsRow[offsetCol] = body;\n            if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n                hasEditable = true;\n            }\n        }\n    }\n    if (!hasEditable) {\n        return;\n    }\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n    const startRowOffset = start.row - startRow;\n    let duplicate = {};\n    let actionRow = startRowOffset;\n    for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n                duplicate[id] = true;\n                const col = start.col + offsetCol;\n                const row = start.row + offsetRow;\n                utils_1.then(this.getRowRecord(row), (_record) => {\n                    utils_1.then(_getCellValue(this, col, row), (_oldValue) => {\n                        action.onDeleteCellRangeBox(this, { col, row });\n                    });\n                });\n            }\n        }\n        actionRow++;\n        if (actionRow >= layoutMap.bodyRowCount) {\n            actionRow = 0;\n            duplicate = {};\n        }\n    }\n    this.invalidateCellRange(selectionRange);\n}\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @memberof cheetahGrid\n */\nclass ListGrid extends DrawGrid_1.DrawGrid {\n    /**\n     * constructor\n     *\n     * @constructor\n     * @param options Constructor options\n     */\n    constructor(options = {}) {\n        var _a;\n        super(utils_1.omit(options, [\"colCount\", \"rowCount\", \"frozenRowCount\"]));\n        this.disabled = false;\n        this.readOnly = false;\n        const protectedSpace = this[_];\n        protectedSpace.header = options.header || [];\n        protectedSpace.layout = options.layout || [];\n        protectedSpace.headerRowHeight = options.headerRowHeight || [];\n        if (options.dataSource) {\n            _setDataSource(this, options.dataSource);\n        }\n        else {\n            _setRecords(this, options.records);\n        }\n        protectedSpace.allowRangePaste = (_a = options.allowRangePaste) !== null && _a !== void 0 ? _a : false;\n        _refreshHeader(this);\n        protectedSpace.sortState = {\n            col: -1,\n            row: -1,\n            order: undefined,\n        };\n        protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\n        protectedSpace.theme = themes.of(options.theme);\n        protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n        protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\n        this.invalidate();\n        protectedSpace.handler.on(window, \"resize\", () => {\n            this.updateSize();\n            this.updateScroll();\n            this.invalidate();\n        });\n    }\n    static get EVENT_TYPE() {\n        return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\n    }\n    /**\n     * Dispose the grid instance.\n     * @returns {void}\n     */\n    dispose() {\n        const protectedSpace = this[_];\n        protectedSpace.messageHandler.dispose();\n        protectedSpace.tooltipHandler.dispose();\n        super.dispose();\n    }\n    /**\n     * Gets the define of the header.\n     */\n    get header() {\n        return this[_].header;\n    }\n    /**\n     * Sets the define of the header with the given data.\n     * <pre>\n     * column options\n     * -----\n     * caption: header caption\n     * field: field name\n     * width: column width\n     * minWidth: column min width\n     * maxWidth: column max width\n     * icon: icon name\n     * message: message key name\n     * columnType: column type\n     * action: column action\n     * style: column style\n     * headerType: header type\n     * headerStyle: header style\n     * headerAction: header action\n     * headerField: header field name\n     * sort: define sort setting\n     * -----\n     *\n     * multiline header\n     * -----\n     * caption: header caption\n     * columns: columns define\n     * -----\n     * </pre>\n     */\n    set header(header) {\n        this[_].header = header;\n        _refreshHeader(this);\n    }\n    /**\n     * Gets the define of the layout.\n     */\n    get layout() {\n        return this[_].layout;\n    }\n    /**\n     * Sets the define of the layout with the given data.\n     */\n    set layout(layout) {\n        this[_].layout = layout;\n        _refreshHeader(this);\n    }\n    /**\n     * Get the row count per record\n     */\n    get recordRowCount() {\n        return this[_].layoutMap.bodyRowCount;\n    }\n    /**\n     * Get the records.\n     */\n    get records() {\n        return this[_].records || null;\n    }\n    /**\n     * Set the records from given\n     */\n    set records(records) {\n        if (records == null) {\n            return;\n        }\n        _setRecords(this, records);\n        _refreshRowCount(this);\n        this.invalidate();\n    }\n    /**\n     * Get the data source.\n     */\n    get dataSource() {\n        return this[_].dataSource;\n    }\n    /**\n     * Set the data source from given\n     */\n    set dataSource(dataSource) {\n        _setDataSource(this, dataSource);\n        _refreshRowCount(this);\n        this.invalidate();\n    }\n    /**\n     * Get the theme.\n     */\n    get theme() {\n        return this[_].theme;\n    }\n    /**\n     * Set the theme from given\n     */\n    set theme(theme) {\n        this[_].theme = themes.of(theme);\n        this.invalidate();\n    }\n    /**\n     * If set to true to allow pasting of ranges.\n     */\n    get allowRangePaste() {\n        return this[_].allowRangePaste;\n    }\n    set allowRangePaste(allowRangePaste) {\n        this[_].allowRangePaste = allowRangePaste;\n    }\n    /**\n     * Get the font definition as a string.\n     * @override\n     */\n    get font() {\n        return super.font || this[_].gridCanvasHelper.theme.font;\n    }\n    /**\n     * Set the font definition with the given string.\n     * @override\n     */\n    set font(font) {\n        super.font = font;\n    }\n    /**\n     * Get the background color of the underlay.\n     * @override\n     */\n    get underlayBackgroundColor() {\n        return (super.underlayBackgroundColor ||\n            this[_].gridCanvasHelper.theme.underlayBackgroundColor);\n    }\n    /**\n     * Set the background color of the underlay.\n     * @override\n     */\n    set underlayBackgroundColor(underlayBackgroundColor) {\n        super.underlayBackgroundColor = underlayBackgroundColor;\n    }\n    /**\n     * Get the sort state.\n     */\n    get sortState() {\n        return this[_].sortState;\n    }\n    /**\n     * Sets the sort state.\n     * If `null` to set, the sort state is initialized.\n     */\n    set sortState(sortState) {\n        const oldState = this.sortState;\n        let oldField;\n        if (oldState.col >= 0 && oldState.row >= 0) {\n            oldField = this.getHeaderField(oldState.col, oldState.row);\n        }\n        const newState = (this[_].sortState =\n            sortState != null\n                ? sortState\n                : {\n                    col: -1,\n                    row: -1,\n                    order: undefined,\n                });\n        let newField;\n        if (newState.col >= 0 && newState.row >= 0) {\n            newField = this.getHeaderField(newState.col, newState.row);\n        }\n        // bind header value\n        if (oldField != null && oldField !== newField) {\n            this.setHeaderValue(oldState.col, oldState.row, undefined);\n        }\n        if (newField != null) {\n            this.setHeaderValue(newState.col, newState.row, newState.order);\n        }\n    }\n    /**\n     * Get the header values.\n     */\n    get headerValues() {\n        return this[_].headerValues || (this[_].headerValues = new Map());\n    }\n    /**\n     * Sets the header values.\n     */\n    set headerValues(headerValues) {\n        this[_].headerValues = headerValues || new Map();\n    }\n    /**\n     * Get the field of the given column index.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index.\n     * @return {*} The field object.\n     */\n    getField(col, row) {\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\n    }\n    /**\n     * Get the column define of the given column index.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index.\n     * @return {*} The column define object.\n     */\n    getColumnDefine(col, row) {\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\n    }\n    getColumnType(col, row) {\n        return this[_].layoutMap.getBody(col, row).columnType;\n    }\n    /**\n     * Get the header field of the given header cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The header row index.\n     * @return {*} The field object.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getHeaderField(col, row) {\n        const hd = this[_].layoutMap.getHeader(col, row);\n        return hd.field;\n    }\n    /**\n     * Get the header define of the given header cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The header row index.\n     * @return {*} The header define object.\n     */\n    getHeaderDefine(col, row) {\n        const hd = this[_].layoutMap.getHeader(col, row);\n        return hd.define;\n    }\n    /**\n     * Get the record of the given row index.\n     * @param  {number} row The row index.\n     * @return {object} The record.\n     */\n    getRowRecord(row) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return undefined;\n        }\n        else {\n            return this[_].dataSource.get(_getRecordIndexByRow(this, row));\n        }\n    }\n    /**\n     * Get the record index of the given row index.\n     * @param  {number} row The row index.\n     */\n    getRecordIndexByRow(row) {\n        return _getRecordIndexByRow(this, row);\n    }\n    /**\n     * Gets the row index starting at the given record index.\n     * @param  {number} index The record index.\n     */\n    getRecordStartRowByRecordIndex(index) {\n        return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\n    }\n    /**\n     * Get the column index of the given field.\n     * @param  {*} field The field.\n     * @return {number} The column index.\n     * @deprecated use `getCellRangeByField` instead\n     */\n    getColumnIndexByField(field) {\n        var _a;\n        const range = this.getCellRangeByField(field, 0);\n        return (_a = range === null || range === void 0 ? void 0 : range.start.col) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Get the column index of the given field.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {number} The column index.\n     */\n    getCellRangeByField(field, index) {\n        const { layoutMap } = this[_];\n        const colObj = layoutMap.columnObjects.find((col) => col.field === field);\n        if (colObj) {\n            const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\n            const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\n            return {\n                start: {\n                    col: layoutRange.start.col,\n                    row: startRow + layoutRange.start.row,\n                },\n                end: {\n                    col: layoutRange.end.col,\n                    row: startRow + layoutRange.end.row,\n                },\n            };\n        }\n        return null;\n    }\n    /**\n     * Focus the cell.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {void}\n     */\n    focusGridCell(field, index) {\n        var _a;\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = this.selection.range;\n        const newFocus = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n        if (newFocus == null) {\n            return;\n        }\n        this.focusCell(newFocus.col, newFocus.row);\n        this.selection.select = newFocus;\n        this.invalidateGridRect(startCol, startRow, endCol, endRow);\n        this.invalidateCell(newFocus.col, newFocus.row);\n    }\n    /**\n     * Scroll to where cell is visible.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {void}\n     */\n    makeVisibleGridCell(field, index) {\n        var _a, _b, _c;\n        const cell = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n        this.makeVisibleCell((_b = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _b !== void 0 ? _b : 0, (_c = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _c !== void 0 ? _c : this[_].layoutMap.headerRowCount);\n    }\n    getGridCanvasHelper() {\n        return this[_].gridCanvasHelper;\n    }\n    /**\n     * Get cell range information for a given cell.\n     * @param {number} col column index of the cell\n     * @param {number} row row index of the cell\n     * @returns {object} cell range info\n     */\n    getCellRange(col, row) {\n        return _getCellRange(this, col, row);\n    }\n    /**\n     * Get header range information for a given cell.\n     * @param {number} col column index of the cell\n     * @param {number} row row index of the cell\n     * @returns {object} cell range info\n     * @deprecated use `getCellRange` instead\n     */\n    getHeaderCellRange(col, row) {\n        return this.getCellRange(col, row);\n    }\n    getCopyCellValue(col, row, range) {\n        var _a;\n        const cellRange = _getCellRange(this, col, row);\n        const startCol = range\n            ? Math.max(range.start.col, cellRange.start.col)\n            : cellRange.start.col;\n        const startRow = range\n            ? Math.max(range.start.row, cellRange.start.row)\n            : cellRange.start.row;\n        if (startCol !== col || startRow !== row) {\n            return \"\";\n        }\n        const value = _getCellValue(this, col, row);\n        if (row < this[_].layoutMap.headerRowCount) {\n            return value;\n        }\n        const columnData = this[_].layoutMap.getBody(col, row);\n        return ((_a = columnData.columnType.getCopyCellValue(value, this, { col, row })) !== null && _a !== void 0 ? _a : value);\n    }\n    onDrawCell(col, row, context) {\n        const { layoutMap } = this[_];\n        let draw;\n        let style;\n        if (row < layoutMap.headerRowCount) {\n            const hd = layoutMap.getHeader(col, row);\n            draw = hd.headerType.onDrawCell;\n            ({ style } = hd);\n            _updateRect(this, col, row, context);\n        }\n        else {\n            const column = layoutMap.getBody(col, row);\n            draw = column.columnType.onDrawCell;\n            ({ style } = column);\n            _updateRect(this, col, row, context);\n        }\n        const cellValue = _getCellValue(this, col, row);\n        return _onDrawValue(this, cellValue, context, { col, row }, style, draw);\n    }\n    doGetCellValue(col, row, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    valueCallback) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // nop\n            return false;\n        }\n        else {\n            const value = _getCellValue(this, col, row);\n            if (utils_1.isPromise(value)) {\n                //\n                return false;\n            }\n            valueCallback(value);\n        }\n        return true;\n    }\n    doChangeValue(col, row, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    changeValueCallback) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // nop\n            return false;\n        }\n        else {\n            const record = this.getRowRecord(row);\n            if (utils_1.isPromise(record)) {\n                //\n                return false;\n            }\n            const before = _getCellValue(this, col, row);\n            if (utils_1.isPromise(before)) {\n                //\n                return false;\n            }\n            const after = changeValueCallback(before);\n            if (after === undefined) {\n                return false;\n            }\n            return utils_1.then(_setCellValue(this, col, row, after), (ret) => {\n                if (ret) {\n                    const { field } = this[_].layoutMap.getBody(col, row);\n                    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\n                        col,\n                        row,\n                        record: record,\n                        field: field,\n                        value: after,\n                        oldValue: before,\n                    });\n                }\n                return ret;\n            });\n        }\n    }\n    doSetPasteValue(text, test) {\n        _onRangePaste.call(this, text, test);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getHeaderValue(col, row) {\n        const field = this.getHeaderField(col, row);\n        return this.headerValues.get(field);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setHeaderValue(col, row, newValue) {\n        const field = this.getHeaderField(col, row);\n        const oldValue = this.headerValues.get(field);\n        this.headerValues.set(field, newValue);\n        this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\n            col,\n            row,\n            field,\n            value: newValue,\n            oldValue,\n        });\n    }\n    getLayoutCellId(col, row) {\n        return this[_].layoutMap.getCellId(col, row);\n    }\n    bindEventsInternal() {\n        const grid = this;\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            const range = _getCellRange(this, e.col, e.row);\n            const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = range;\n            if (startCol !== endCol || startRow !== endRow) {\n                this.invalidateCellRange(range);\n            }\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, (e) => {\n            if (!this[_].allowRangePaste) {\n                return;\n            }\n            const { start, end } = this.selection.range;\n            if (!e.multi && utils_1.cellEquals(start, end)) {\n                return;\n            }\n            const { layoutMap } = this[_];\n            if (start.row < layoutMap.headerRowCount) {\n                return;\n            }\n            utils_1.event.cancel(e.event);\n            _onRangePaste.call(this, e.normalizeValue);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, (e) => {\n            const { start } = this.selection.range;\n            const { layoutMap } = this[_];\n            if (start.row < layoutMap.headerRowCount) {\n                return;\n            }\n            utils_1.event.cancel(e.event);\n            _onRangeDelete.call(this);\n        });\n    }\n    getMoveLeftColByKeyDownInternal({ col, row }) {\n        const { start: { col: startCol }, } = _getCellRange(this, col, row);\n        col = startCol;\n        return super.getMoveLeftColByKeyDownInternal({ col, row });\n    }\n    getMoveRightColByKeyDownInternal({ col, row, }) {\n        const { end: { col: endCol }, } = _getCellRange(this, col, row);\n        col = endCol;\n        return super.getMoveRightColByKeyDownInternal({ col, row });\n    }\n    getMoveUpRowByKeyDownInternal({ col, row }) {\n        const { start: { row: startRow }, } = _getCellRange(this, col, row);\n        row = startRow;\n        return super.getMoveUpRowByKeyDownInternal({ col, row });\n    }\n    getMoveDownRowByKeyDownInternal({ col, row }) {\n        const { end: { row: endRow }, } = _getCellRange(this, col, row);\n        row = endRow;\n        return super.getMoveDownRowByKeyDownInternal({ col, row });\n    }\n    getOffsetInvalidateCells() {\n        return 1;\n    }\n    getCopyRangeInternal(range) {\n        const { start } = this.getCellRange(range.start.col, range.start.row);\n        const { end } = this.getCellRange(range.end.col, range.end.row);\n        return { start, end };\n    }\n    fireListeners(type, ...event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return super.fireListeners(type, ...event);\n    }\n}\nexports.ListGrid = ListGrid;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar simple_header_layout_1 = require(\"./internal/simple-header-layout\");\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", { enumerable: true, get: function () { return simple_header_layout_1.SimpleHeaderLayoutMap; } });\nvar multi_layout_1 = require(\"./internal/multi-layout\");\nObject.defineProperty(exports, \"MultiLayoutMap\", { enumerable: true, get: function () { return multi_layout_1.MultiLayoutMap; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SimpleHeaderLayoutMap = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerAction = __importStar(require(\"../../../header/action\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nconst utils_1 = require(\"./utils\");\nlet seqId = 0;\nclass SimpleHeaderLayoutMap {\n    constructor(header) {\n        this.bodyRowCount = 1;\n        this._emptyDataCache = new utils_1.EmptyDataCache();\n        this._columns = [];\n        this._headerCellIds = [];\n        this._headerObjects = this._addHeaders(0, header, []);\n        this._headerObjectMap = this._headerObjects.reduce((o, e) => {\n            o[e.id] = e;\n            return o;\n        }, {});\n    }\n    get columnWidths() {\n        return this._columns;\n    }\n    get headerRowCount() {\n        return this._headerCellIds.length;\n    }\n    get colCount() {\n        return this._columns.length;\n    }\n    get headerObjects() {\n        return this._headerObjects;\n    }\n    get columnObjects() {\n        return this._columns;\n    }\n    getCellId(col, row) {\n        if (this.headerRowCount <= row) {\n            return this._columns[col].id;\n        }\n        //in header\n        return this._headerCellIds[row][col];\n    }\n    getHeader(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._headerObjectMap[id] ||\n            this._emptyDataCache.getHeader(col, row));\n    }\n    getBody(col, _row) {\n        return this._columns[col] || this._emptyDataCache.getBody(col, 0);\n    }\n    getBodyLayoutRangeById(id) {\n        for (let col = 0; col < this.colCount; col++) {\n            if (id === this._columns[col].id) {\n                return {\n                    start: { col, row: 0 },\n                    end: { col, row: 0 },\n                };\n            }\n        }\n        throw new Error(`can not found body layout @id=${id}`);\n    }\n    getCellRange(col, row) {\n        const result = { start: { col, row }, end: { col, row } };\n        if (this.headerRowCount <= row) {\n            return result;\n        }\n        //in header\n        const id = this.getCellId(col, row);\n        for (let c = col - 1; c >= 0; c--) {\n            if (id !== this.getCellId(c, row)) {\n                break;\n            }\n            result.start.col = c;\n        }\n        for (let c = col + 1; c < this.colCount; c++) {\n            if (id !== this.getCellId(c, row)) {\n                break;\n            }\n            result.end.col = c;\n        }\n        for (let r = row - 1; r >= 0; r--) {\n            if (id !== this.getCellId(col, r)) {\n                break;\n            }\n            result.start.row = r;\n        }\n        for (let r = row + 1; r < this.headerRowCount; r++) {\n            if (id !== this.getCellId(col, r)) {\n                break;\n            }\n            result.end.row = r;\n        }\n        return result;\n    }\n    getRecordIndexByRow(row) {\n        if (row < this.headerRowCount) {\n            return -1;\n        }\n        else {\n            return row - this.headerRowCount;\n        }\n    }\n    getRecordStartRowByRecordIndex(index) {\n        return this.headerRowCount + index;\n    }\n    _addHeaders(row, header, roots) {\n        const results = [];\n        const rowCells = this._headerCellIds[row] || this._newRow(row);\n        header.forEach((hd) => {\n            const col = this._columns.length;\n            const id = seqId++;\n            const cell = {\n                id,\n                caption: hd.caption,\n                field: hd.headerField || hd.field,\n                style: hd.headerStyle,\n                headerType: headerType.ofCell(hd),\n                action: headerAction.ofCell(hd),\n                define: hd,\n            };\n            results[id] = cell;\n            rowCells[col] = id;\n            for (let r = row - 1; r >= 0; r--) {\n                this._headerCellIds[r][col] = roots[r];\n            }\n            if (hd.columns) {\n                this._addHeaders(row + 1, hd.columns, [\n                    ...roots,\n                    id,\n                ]).forEach((c) => results.push(c));\n            }\n            else {\n                const colDef = hd;\n                this._columns.push({\n                    id: seqId++,\n                    field: colDef.field,\n                    width: colDef.width,\n                    minWidth: colDef.minWidth,\n                    maxWidth: colDef.maxWidth,\n                    icon: colDef.icon,\n                    message: colDef.message,\n                    columnType: columns.type.of(colDef.columnType),\n                    action: columns.action.of(colDef.action),\n                    style: colDef.style,\n                    define: colDef,\n                });\n                for (let r = row + 1; r < this._headerCellIds.length; r++) {\n                    this._headerCellIds[r][col] = id;\n                }\n            }\n        });\n        return results;\n    }\n    _newRow(row) {\n        const newRow = (this._headerCellIds[row] = []);\n        if (!this._columns.length) {\n            return newRow;\n        }\n        const prev = this._headerCellIds[row - 1];\n        for (let col = 0; col < prev.length; col++) {\n            newRow[col] = prev[col];\n        }\n        return newRow;\n    }\n}\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiLayoutMap = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerAction = __importStar(require(\"../../../header/action\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nconst utils_1 = require(\"./utils\");\nfunction normalizeLayout(layout) {\n    if (Array.isArray(layout)) {\n        return {\n            header: layout,\n            body: layout,\n        };\n    }\n    return layout;\n}\nlet seqId = 0;\nclass LayoutObjectGrid {\n    constructor(layout, transform) {\n        this.objects = [];\n        this.objectGrid = [];\n        this.objectMap = {};\n        this.columnCount = 0;\n        this.columnWidths = [];\n        layout.forEach((rowLayout, row) => {\n            let col = 0;\n            rowLayout.forEach((cell) => {\n                var _a, _b;\n                const id = seqId++;\n                const obj = transform(cell, id);\n                this.objects.push(obj);\n                this.objectMap[id] = obj;\n                col = this._findStartCell(col, row);\n                const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\n                const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\n                const endRow = row + rowSpan;\n                const endCol = col + colSpan;\n                for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\n                    const objectGridRow = this._getObjectGridRow(rowIndex);\n                    for (let colIndex = col; colIndex < endCol; colIndex++) {\n                        objectGridRow[colIndex] = obj;\n                    }\n                }\n                if (colSpan === 1) {\n                    this._setWidthDataIfAbsent(col, cell);\n                }\n                this._useColumnIndex(endCol - 1);\n                col = endCol;\n            });\n        });\n    }\n    get rowCount() {\n        return this.objectGrid.length;\n    }\n    _findStartCell(col, row) {\n        const objectGridRow = this._getObjectGridRow(row);\n        for (let index = col; index < objectGridRow.length; index++) {\n            if (!objectGridRow[index]) {\n                return index;\n            }\n        }\n        return objectGridRow.length;\n    }\n    _getObjectGridRow(row) {\n        return this.objectGrid[row] || (this.objectGrid[row] = []);\n    }\n    _useColumnIndex(col) {\n        if (this.columnCount > col) {\n            return;\n        }\n        this.columnCount = col + 1;\n    }\n    _setWidthDataIfAbsent(col, cell) {\n        if (!this.columnWidths[col]) {\n            if (cell.width != null ||\n                cell.maxWidth != null ||\n                cell.minWidth != null) {\n                this.columnWidths[col] = {\n                    width: cell.width,\n                    maxWidth: cell.maxWidth,\n                    minWidth: cell.minWidth,\n                };\n            }\n        }\n    }\n}\nclass MultiLayoutMap {\n    constructor(layout) {\n        this._columnWidths = [];\n        this._emptyDataCache = new utils_1.EmptyDataCache();\n        const hbLayouut = normalizeLayout(layout);\n        const header = (this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\n            return {\n                id,\n                caption: hd.caption,\n                field: hd.headerField || hd.field,\n                style: hd.headerStyle,\n                headerType: headerType.ofCell(hd),\n                action: headerAction.ofCell(hd),\n                define: hd,\n            };\n        }));\n        const body = (this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\n            return {\n                id,\n                field: colDef.field,\n                width: colDef.width,\n                minWidth: colDef.minWidth,\n                maxWidth: colDef.maxWidth,\n                icon: colDef.icon,\n                message: colDef.message,\n                columnType: columns.type.of(colDef.columnType),\n                action: columns.action.of(colDef.action),\n                style: colDef.style,\n                define: colDef,\n            };\n        }));\n        const columnCount = (this._columnCount = Math.max(header.columnCount, body.columnCount));\n        for (let col = 0; col < columnCount; col++) {\n            const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\n            this._columnWidths[col] = widthDef;\n        }\n    }\n    get columnWidths() {\n        return this._columnWidths;\n    }\n    get headerRowCount() {\n        return this._header.rowCount;\n    }\n    get bodyRowCount() {\n        return this._body.rowCount;\n    }\n    get colCount() {\n        return this._columnCount;\n    }\n    get headerObjects() {\n        return this._header.objects;\n    }\n    get columnObjects() {\n        return this._body.objects;\n    }\n    getCellId(col, row) {\n        var _a, _b, _c, _d;\n        if (this.headerRowCount <= row) {\n            const bodyRow = row - this.headerRowCount;\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\n            return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n        }\n        //in header\n        return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\n    }\n    getHeader(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._header.objectMap[id] ||\n            this._emptyDataCache.getHeader(col, row));\n    }\n    getBody(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._body.objectMap[id] ||\n            this._emptyDataCache.getBody(col, row));\n    }\n    getBodyLayoutRangeById(id) {\n        var _a;\n        for (let row = 0; row < this.bodyRowCount; row++) {\n            const objectGridRow = this._body.objectGrid[row];\n            if (!objectGridRow) {\n                continue;\n            }\n            for (let col = 0; col < this.colCount; col++) {\n                if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return this._getCellRange(this._body, col, row, 0);\n                }\n            }\n        }\n        throw new Error(`can not found body layout @id=${id}`);\n    }\n    getCellRange(col, row) {\n        if (this.headerRowCount <= row) {\n            const recordIndex = this.getRecordIndexByRow(row);\n            const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\n            const bodyRow = row - this.headerRowCount;\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\n            return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\n        }\n        //in header\n        return this._getCellRange(this._header, col, row, 0);\n    }\n    getRecordIndexByRow(row) {\n        if (row < this.headerRowCount) {\n            return -1;\n        }\n        else {\n            const bodyRow = row - this.headerRowCount;\n            return Math.floor(bodyRow / this.bodyRowCount);\n        }\n    }\n    getRecordStartRowByRecordIndex(index) {\n        return this.headerRowCount + index * this.bodyRowCount;\n    }\n    _getCellRange(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    layout, col, layoutRow, offsetRow) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        const result = {\n            start: { col, row: layoutRow + offsetRow },\n            end: { col, row: layoutRow + offsetRow },\n        };\n        const { objectGrid } = layout;\n        const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n        if (id == null) {\n            return result;\n        }\n        for (let c = col - 1; c >= 0; c--) {\n            if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\n                break;\n            }\n            result.start.col = c;\n        }\n        for (let c = col + 1; c < layout.columnCount; c++) {\n            if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\n                break;\n            }\n            result.end.col = c;\n        }\n        for (let r = layoutRow - 1; r >= 0; r--) {\n            if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\n                break;\n            }\n            result.start.row = r + offsetRow;\n        }\n        for (let r = layoutRow + 1; r < layout.rowCount; r++) {\n            if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\n                break;\n            }\n            result.end.row = r + offsetRow;\n        }\n        return result;\n    }\n}\nexports.MultiLayoutMap = MultiLayoutMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageHandler = exports.hasMessage = void 0;\nconst ErrorMessage_1 = require(\"./ErrorMessage\");\nconst InfoMessage_1 = require(\"./InfoMessage\");\nconst LG_EVENT_TYPE_1 = require(\"../../list-grid/LG_EVENT_TYPE\");\nconst WarningMessage_1 = require(\"./WarningMessage\");\nconst utils_1 = require(\"../../internal/utils\");\nconst EMPTY_MESSAGE = {\n    type: \"error\",\n    message: null,\n};\nconst MESSAGE_INSTANCE_FACTORY = {\n    error(grid) {\n        return new ErrorMessage_1.ErrorMessage(grid);\n    },\n    info(grid) {\n        return new InfoMessage_1.InfoMessage(grid);\n    },\n    warning(grid) {\n        return new WarningMessage_1.WarningMessage(grid);\n    },\n};\nfunction normalizeMessage(message) {\n    if (!message || utils_1.isPromise(message)) {\n        return EMPTY_MESSAGE;\n    }\n    if (typeof message === \"string\") {\n        return {\n            type: \"error\",\n            message,\n            original: message,\n        };\n    }\n    const type = message.type || \"error\";\n    if (type && type in MESSAGE_INSTANCE_FACTORY) {\n        return {\n            type: type.toLowerCase(),\n            message: message.message,\n            original: message,\n        };\n    }\n    return {\n        type: \"error\",\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        message: `${message}`,\n        original: message,\n    };\n}\nfunction hasMessage(message) {\n    return !!normalizeMessage(message).message;\n}\nexports.hasMessage = hasMessage;\nclass MessageHandler {\n    constructor(grid, getMessage) {\n        this._attachInfo = null;\n        this._grid = grid;\n        this._messageInstances = {};\n        this._bindGridEvent(grid, getMessage);\n    }\n    dispose() {\n        var _a;\n        const messageInstances = this._messageInstances;\n        for (const k in messageInstances) {\n            (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n        delete this._messageInstances;\n        delete this._attachInfo;\n    }\n    drawCellMessage(message, context, style, helper, grid, info) {\n        if (!hasMessage(message)) {\n            return;\n        }\n        const instance = this._getMessageInstanceOfMessage(message);\n        instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\n    }\n    _attach(col, row, message) {\n        const info = this._attachInfo;\n        const instance = this._getMessageInstanceOfMessage(message);\n        if (info && info.instance !== instance) {\n            info.instance.detachMessageElement();\n        }\n        instance.attachMessageElement(col, row, normalizeMessage(message));\n        this._attachInfo = { col, row, instance };\n    }\n    _move(col, row) {\n        const info = this._attachInfo;\n        if (!info || info.col !== col || info.row !== row) {\n            return;\n        }\n        const { instance } = info;\n        instance.moveMessageElement(col, row);\n    }\n    _detach() {\n        const info = this._attachInfo;\n        if (!info) {\n            return;\n        }\n        const { instance } = info;\n        instance.detachMessageElement();\n        this._attachInfo = null;\n    }\n    _bindGridEvent(grid, getMessage) {\n        const onSelectMessage = (sel) => {\n            const setMessageData = (msg) => {\n                if (!hasMessage(msg)) {\n                    this._detach();\n                }\n                else {\n                    this._attach(sel.col, sel.row, msg);\n                }\n            };\n            const message = getMessage(sel.col, sel.row);\n            if (utils_1.isPromise(message)) {\n                this._detach();\n                message.then((msg) => {\n                    const newSel = grid.selection.select;\n                    if (newSel.col !== sel.col || newSel.row !== sel.row) {\n                        return;\n                    }\n                    setMessageData(msg);\n                });\n                return;\n            }\n            setMessageData(message);\n        };\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            if (!e.selected) {\n                return;\n            }\n            if (e.before.col === e.col && e.before.row === e.row) {\n                return;\n            }\n            onSelectMessage(e);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n            const sel = grid.selection.select;\n            this._move(sel.col, sel.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\n            const sel = grid.selection.select;\n            if (sel.col !== e.col || sel.row !== e.row) {\n                return;\n            }\n            onSelectMessage(e);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, (_e) => {\n            const sel = grid.selection.select;\n            onSelectMessage(sel);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, (_e) => {\n            this._detach();\n        });\n    }\n    _getMessageInstanceOfMessage(message) {\n        const messageInstances = this._messageInstances;\n        const { type } = normalizeMessage(message);\n        return (messageInstances[type] ||\n            (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid)));\n    }\n}\nexports.MessageHandler = MessageHandler;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst ErrorMessageElement_1 = require(\"./internal/ErrorMessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst RED_A100 = \"#ff8a80\";\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new ErrorMessageElement_1.ErrorMessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: RED_A100,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.ErrorMessage = ErrorMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessageElement = void 0;\nconst MessageElement_1 = require(\"./MessageElement\");\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\n    constructor() {\n        super();\n        require(\"@/columns/message/internal/ErrorMessageElement.css\");\n        this._rootElement.classList.add(CLASSNAME);\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\n    }\n}\nexports.ErrorMessageElement = ErrorMessageElement;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InfoMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst MessageElement_1 = require(\"./internal/MessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst GREY_L2 = \"#e0e0e0\";\nclass InfoMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new MessageElement_1.MessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: GREY_L2,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.InfoMessage = InfoMessage;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WarningMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst WarningMessageElement_1 = require(\"./internal/WarningMessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\nclass WarningMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new WarningMessageElement_1.WarningMessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: DEEP_ORANGE_A100,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.WarningMessage = WarningMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WarningMessageElement = void 0;\nconst MessageElement_1 = require(\"./MessageElement\");\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass WarningMessageElement extends MessageElement_1.MessageElement {\n    constructor() {\n        super();\n        require(\"@/columns/message/internal/WarningMessageElement.css\");\n        this._rootElement.classList.add(CLASSNAME);\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\n    }\n}\nexports.WarningMessageElement = WarningMessageElement;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n//see https://github.com/typekit/webfontloader\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\nconst FontRuler_1 = require(\"./FontRuler\");\nconst LastResortFonts = {\n    SERIF: \"serif\",\n    SANS_SERIF: \"sans-serif\",\n};\nconst watchRunners = {};\nclass FontWatchRunner {\n    constructor(font, testStr) {\n        this.activeCallbacks = [];\n        this.inactiveCallbacks = [];\n        this.status = null;\n        this.lastResortWidths_ = {};\n        this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n        this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n        const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n        const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n        //start\n        this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n        this.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n        lastResortRulerA.remove();\n        lastResortRulerB.remove();\n        this.started_ = Date.now();\n        this.check_();\n    }\n    static load(font, testStr, activeCallback, inactiveCallback) {\n        const c = watchRunners[font] || (watchRunners[font] = {});\n        testStr += \"\";\n        let runner;\n        if (c[testStr]) {\n            runner = c[testStr];\n        }\n        else {\n            runner = c[testStr] = new FontWatchRunner(font, testStr);\n        }\n        runner.then(activeCallback, inactiveCallback);\n    }\n    then(activeCallback, inactiveCallback) {\n        if (this.status) {\n            if (this.status !== \"ng\") {\n                activeCallback();\n            }\n            else {\n                inactiveCallback();\n            }\n        }\n        else {\n            this.activeCallbacks.push(activeCallback);\n            this.inactiveCallbacks.push(inactiveCallback);\n        }\n    }\n    check_() {\n        const widthA = this.fontRulerA_.getWidth();\n        const widthB = this.fontRulerB_.getWidth();\n        if (this.isFallbackFont_(widthA, widthB) ||\n            this.isLastResortFont_(widthA, widthB)) {\n            if (Date.now() - this.started_ >= 3000) {\n                // timeout\n                if (this.isLastResortFont_(widthA, widthB)) {\n                    this.finish_(this.activeCallbacks);\n                    this.status = \"ok\";\n                }\n                else {\n                    this.finish_(this.inactiveCallbacks);\n                    this.status = \"ng\";\n                }\n            }\n            else {\n                setTimeout(() => {\n                    this.check_();\n                }, 50);\n            }\n        }\n        else {\n            this.finish_(this.activeCallbacks);\n            this.status = \"ok\";\n        }\n    }\n    isFallbackFont_(a, b) {\n        return (this.widthMatches_(a, LastResortFonts.SERIF) &&\n            this.widthMatches_(b, LastResortFonts.SANS_SERIF));\n    }\n    widthsMatchLastResortWidths_(a, b) {\n        for (const font in LastResortFonts) {\n            if (LastResortFonts.hasOwnProperty(font)) {\n                if (this.widthMatches_(a, LastResortFonts[font]) &&\n                    this.widthMatches_(b, LastResortFonts[font])) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    widthMatches_(width, lastResortFont) {\n        return width === this.lastResortWidths_[lastResortFont];\n    }\n    isLastResortFont_(a, b) {\n        return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n    }\n    finish_(callbacks) {\n        setTimeout(() => {\n            this.fontRulerA_.remove();\n            this.fontRulerB_.remove();\n            callbacks.forEach((cb) => cb());\n        }, 0);\n    }\n}\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n    if (HAS_WEBKIT_FALLBACK_BUG === null) {\n        const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n        HAS_WEBKIT_FALLBACK_BUG =\n            !!match &&\n                (parseInt(match[1], 10) < 536 ||\n                    (parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11));\n    }\n    return HAS_WEBKIT_FALLBACK_BUG;\n}\nmodule.exports = FontWatchRunner;\n","\"use strict\";\n//see https://github.com/typekit/webfontloader\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontRuler = void 0;\nfunction computeStyle(font) {\n    return [\n        {\n            display: \"block\",\n            position: \"absolute\",\n            top: \"-9999px\",\n            left: \"-9999px\",\n            width: \"auto\",\n            height: \"auto\",\n            margin: \"0\",\n            padding: \"0\",\n            \"white-space\": \"nowrap\",\n            font,\n        },\n        {\n            \"font-variant\": \"normal\",\n            \"font-size\": \"300px\",\n            \"font-style\": \"normal\",\n            \"font-weight\": \"400\",\n            \"line-height\": \"normal\",\n        },\n    ];\n}\nclass FontRuler {\n    constructor(font, testStr) {\n        const e = document.createElement(\"span\");\n        e.setAttribute(\"aria-hidden\", \"true\");\n        e.textContent = testStr || \"BESbswy\";\n        computeStyle(font).forEach((style) => {\n            for (const k in style) {\n                const key = k;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                e.style[key] = style[key];\n            }\n        });\n        document.body.appendChild(e);\n        this.el_ = e;\n    }\n    getWidth() {\n        return this.el_.offsetWidth;\n    }\n    remove() {\n        document.body.removeChild(this.el_);\n    }\n}\nexports.FontRuler = FontRuler;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\nconst icons = __importStar(require(\"../icons\"));\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\nconst Inline_1 = require(\"./Inline\");\nconst InlineDrawer_1 = require(\"./InlineDrawer\");\nconst InlineIcon_1 = require(\"./InlineIcon\");\nconst InlineImage_1 = require(\"./InlineImage\");\nconst InlinePath2D_1 = require(\"./InlinePath2D\");\nconst InlineSvg_1 = require(\"./InlineSvg\");\nconst canvases_1 = require(\"../internal/canvases\");\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n            offset,\n            padding,\n        });\n        path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nfunction isIconConstructorOption(icon) {\n    if (icon.font && icon.content) {\n        return true;\n    }\n    return false;\n}\nfunction isInlineImageConstructorOption(icon) {\n    if (icon.src) {\n        return true;\n    }\n    return false;\n}\nfunction isInlineSvgConstructorOption(icon) {\n    if (icon.path) {\n        return true;\n    }\n    return false;\n}\nfunction iconOf(icon) {\n    if (icon instanceof Inline_1.Inline) {\n        return icon;\n    }\n    if (!icon) {\n        return null;\n    }\n    if (isIconConstructorOption(icon)) {\n        return new InlineIcon_1.InlineIcon(icon);\n    }\n    if (isInlineImageConstructorOption(icon)) {\n        return new InlineImage_1.InlineImage({\n            src: icon.src,\n            width: icon.width,\n            height: icon.width,\n        });\n    }\n    if (icon.svg) {\n        return new InlineSvg_1.InlineSvg({\n            svg: icon.svg,\n            width: icon.width,\n            height: icon.width,\n        });\n    }\n    if (isInlineSvgConstructorOption(icon)) {\n        return new InlinePath2D_1.InlinePath2D({\n            path: icon.path,\n            width: icon.width,\n            height: icon.width,\n            color: icon.color,\n        });\n    }\n    const regedIcons = icons.get();\n    if (icon.name && regedIcons[icon.name]) {\n        const regedIcon = regedIcons[icon.name];\n        const width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n        return new InlineDrawer_1.InlineDrawer({\n            draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n                drawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n                    offset: offset + 1,\n                    padding: {\n                        left: offsetLeft,\n                        right: offsetRight,\n                        top: offsetTop,\n                        bottom: offsetBottom,\n                    },\n                });\n            },\n            width,\n            height: width,\n            color: icon.color,\n        });\n    }\n    return new InlineIcon_1.InlineIcon(icon);\n}\nexports.iconOf = iconOf;\nfunction of(content) {\n    if (content == null) {\n        return null;\n    }\n    if (content instanceof Inline_1.Inline) {\n        return content;\n    }\n    return new Inline_1.Inline(content);\n}\nexports.of = of;\nfunction buildInlines(icons, inline) {\n    const result = [];\n    if (icons) {\n        result.push(...icons\n            .map((icon) => iconOf(icon))\n            .filter((i) => i != null));\n    }\n    if (Array.isArray(inline)\n    // && inline.filter(il => il instanceof Inline).length <- ?\n    ) {\n        result.push(...inline.map((il) => of(il)).filter((i) => i != null));\n    }\n    else {\n        const il = of(inline);\n        if (il) {\n            result.push(il);\n        }\n    }\n    return result;\n}\nexports.buildInlines = buildInlines;\nfunction string(inline) {\n    return buildInlines(undefined, inline).join(\"\");\n}\nexports.string = string;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Path2DShim = void 0;\nconst PathCommandsParser_1 = require(\"./PathCommandsParser\");\nconst parser = new PathCommandsParser_1.PathCommandsParser();\nclass Path2DShim {\n    constructor(arg) {\n        this._ops = [];\n        if (arg === undefined) {\n            return;\n        }\n        if (typeof arg === \"string\") {\n            // try {\n            this._ops = parser.parse(arg);\n            // } catch (e) {\n            // \tthrow e;\n            // }\n        }\n        else if (arg.hasOwnProperty(\"_ops\")) {\n            this._ops = [...arg._ops];\n        }\n        else {\n            throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n        }\n    }\n    arc(...args) {\n        this._ops.push({ op: \"arc\", args });\n    }\n    arcTo(...args) {\n        this._ops.push({ op: \"arcTo\", args });\n    }\n    bezierCurveTo(...args) {\n        this._ops.push({ op: \"bezierCurveTo\", args });\n    }\n    closePath(...args) {\n        this._ops.push({ op: \"closePath\", args });\n    }\n    ellipse(...args) {\n        this._ops.push({ op: \"ellipse\", args });\n    }\n    lineTo(...args) {\n        this._ops.push({ op: \"lineTo\", args });\n    }\n    moveTo(...args) {\n        this._ops.push({ op: \"moveTo\", args });\n    }\n    quadraticCurveTo(...args) {\n        this._ops.push({ op: \"quadraticCurveTo\", args });\n    }\n    rect(...args) {\n        this._ops.push({ op: \"rect\", args });\n    }\n}\nexports.Path2DShim = Path2DShim;\nconst { CanvasRenderingContext2D } = window;\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n    if (args[0] instanceof Path2DShim) {\n        const path = args[0];\n        this.beginPath();\n        path._ops.forEach((op) => {\n            const fn = this[op.op];\n            fn.apply(this, op.args);\n        });\n        originalFill.apply(this, Array.prototype.slice.call(args, 1));\n    }\n    else {\n        originalFill.apply(this, args);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathCommandsParser = void 0;\nconst PathCommands_1 = require(\"./PathCommands\");\nfunction pathTokens(d) {\n    let idx = 0;\n    return {\n        next() {\n            let s = \"\";\n            while (d.length > idx) {\n                const c = d[idx];\n                idx++;\n                if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\n                    if (s) {\n                        return s;\n                    }\n                }\n                else {\n                    const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\n                    if (type === \"str\") {\n                        if (s) {\n                            idx--;\n                            return s;\n                        }\n                        return c;\n                    }\n                    if (\"-+\".indexOf(c) > -1) {\n                        if (s) {\n                            idx--;\n                            return s;\n                        }\n                    }\n                    if (c === \".\") {\n                        if (s.indexOf(\".\") > -1) {\n                            idx--;\n                            return s;\n                        }\n                    }\n                    s += c;\n                }\n            }\n            return s || null;\n        },\n    };\n}\nfunction command(builder, cmd, argsProvider) {\n    if (cmd.toUpperCase() === \"M\" ||\n        cmd.toUpperCase() === \"L\" ||\n        cmd.toUpperCase() === \"T\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next());\n        return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\n    }\n    else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\n        builder.command(cmd, argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"Z\") {\n        builder.command(cmd);\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"C\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"A\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else {\n        // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n        console.warn(`unsupported:${cmd}`);\n    }\n    return null;\n}\nclass PathCommandsParser {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._ops = [];\n        this._commands = new PathCommands_1.PathCommands(this);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const buildPush = (op) => (...args) => {\n            this._ops.push({\n                op,\n                args,\n            });\n        };\n        this.moveTo = buildPush(\"moveTo\");\n        this.lineTo = buildPush(\"lineTo\");\n        this.closePath = buildPush(\"closePath\");\n        this.bezierCurveTo = buildPush(\"bezierCurveTo\");\n        this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\n        this.save = buildPush(\"save\");\n        this.translate = buildPush(\"translate\");\n        this.rotate = buildPush(\"rotate\");\n        this.scale = buildPush(\"scale\");\n        this.arc = buildPush(\"arc\");\n        this.restore = buildPush(\"restore\");\n        this.arcTo = buildPush(\"arcTo\");\n        this.ellipse = buildPush(\"ellipse\");\n        this.rect = buildPush(\"rect\");\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    command(name, ...args) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const numArgs = args || [];\n        for (let i = 0; i < args.length; i++) {\n            numArgs[i] -= 0;\n        }\n        const command = this._commands[name];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        command.apply(this, numArgs);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parse(d) {\n        const ops = (this._ops = []);\n        const tokens = pathTokens(d);\n        try {\n            let cmd;\n            let subsequentCommand = \"Z\";\n            while ((cmd = tokens.next())) {\n                if (!isNaN(Number(cmd))) {\n                    let fst = true;\n                    const argsProvider = {\n                        next() {\n                            if (fst) {\n                                fst = false;\n                                return cmd;\n                            }\n                            return tokens.next();\n                        },\n                    };\n                    subsequentCommand =\n                        command(this, subsequentCommand, argsProvider) || \"Z\";\n                }\n                else {\n                    subsequentCommand =\n                        command(this, cmd, tokens) || \"Z\";\n                }\n            }\n        }\n        catch (e) {\n            console.log(`Error: ${d}`);\n            throw e;\n        }\n        return ops;\n    }\n}\nexports.PathCommandsParser = PathCommandsParser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathCommands = void 0;\n/*eslint new-cap: \"off\"*/\nfunction mag(v) {\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\nfunction dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n}\nfunction ratio(u, v) {\n    return dot(u, v) / (mag(u) * mag(v));\n}\nfunction clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction angle(u, v) {\n    let sign = 1.0;\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\n        sign = -1.0;\n    }\n    return sign * Math.acos(clamp(ratio(u, v), -1, 1));\n}\nfunction rotClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\nfunction rotCounterClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\nfunction midPoint(u, v) {\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\nfunction meanVec(u, v) {\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\nfunction pointMul(u, v) {\n    return [u[0] * v[0], u[1] * v[1]];\n}\nfunction scale(c, v) {\n    return [c * v[0], c * v[1]];\n}\nfunction sum(u, v) {\n    return [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n    // Convert from endpoint to center parametrization, as detailed in:\n    //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n    if (rx === 0 || ry === 0) {\n        ctx.lineTo(x2, x1);\n        return;\n    }\n    phi *= Math.PI / 180.0;\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\n    const xPrime2 = pointMul(xPrime, xPrime);\n    let rx2 = Math.pow(rx, 2);\n    let ry2 = Math.pow(ry, 2);\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n    if (lambda > 1) {\n        rx *= lambda;\n        ry *= lambda;\n        rx2 = Math.pow(rx, 2);\n        ry2 = Math.pow(ry, 2);\n    }\n    let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\n        (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n    if (fA === fS) {\n        factor *= -1.0;\n    }\n    const cPrime = scale(factor, [(rx * xPrime[1]) / ry, (-ry * xPrime[0]) / rx]); // F.6.5.2\n    const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\n    const x1UnitVector = [\n        (xPrime[0] - cPrime[0]) / rx,\n        (xPrime[1] - cPrime[1]) / ry,\n    ];\n    const x2UnitVector = [\n        (-1.0 * xPrime[0] - cPrime[0]) / rx,\n        (-1.0 * xPrime[1] - cPrime[1]) / ry,\n    ];\n    const theta = angle([1, 0], x1UnitVector); // F.6.5.5\n    const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n    const start = theta;\n    const end = theta + deltaTheta;\n    ctx.save();\n    ctx.translate(c[0], c[1]);\n    ctx.rotate(phi);\n    ctx.scale(rx, ry);\n    ctx.arc(0, 0, 1, start, end, !fS);\n    ctx.restore();\n}\nclass PathCommands {\n    constructor(ctx) {\n        let lMx;\n        let lMy;\n        let lx = 0;\n        let ly = 0;\n        let reflected;\n        let lastCommand = \"\";\n        function makeReflected() {\n            if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\n                return { x: lx, y: ly };\n            }\n            return reflected;\n        }\n        this.M = (px, py) => {\n            ctx.moveTo(px, py);\n            lMx = px;\n            lMy = py;\n            lx = px;\n            ly = py;\n            lastCommand = \"M\";\n            return this;\n        };\n        this.m = (px, py) => this.M(px + lx, py + ly);\n        this.L = (px, py) => {\n            ctx.lineTo(px, py);\n            lx = px;\n            ly = py;\n            lastCommand = \"L\";\n            return this;\n        };\n        this.l = (px, py) => this.L(px + lx, py + ly);\n        this.H = (px) => this.L(px, ly);\n        this.h = (px) => this.H(px + lx);\n        this.V = (py) => this.L(lx, py);\n        this.v = (py) => this.V(py + ly);\n        this.Z = () => {\n            ctx.closePath();\n            lx = lMx;\n            ly = lMy;\n            lastCommand = \"Z\";\n            return this;\n        };\n        this.z = () => this.Z();\n        //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n        this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n            lx = px;\n            ly = py;\n            reflected = {\n                x: 2 * px - cp2x,\n                y: 2 * py - cp2y,\n            };\n            lastCommand = \"C\";\n            return this;\n        };\n        this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\n        //S x2 y2, x y (or s dx2 dy2, dx dy)\n        this.S = (cpx, cpy, px, py) => {\n            const { x: cp1x, y: cp1y } = makeReflected( /*lastCommand*/);\n            return this.C(cp1x, cp1y, cpx, cpy, px, py);\n        };\n        this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n        //Q x1 y1, x y (or q dx1 dy1, dx dy)\n        this.Q = (cpx, cpy, px, py) => {\n            ctx.quadraticCurveTo(cpx, cpy, px, py);\n            lx = px;\n            ly = py;\n            reflected = {\n                x: 2 * px - cpx,\n                y: 2 * py - cpy,\n            };\n            lastCommand = \"Q\";\n            return this;\n        };\n        this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n        //T x y (or t dx dy)\n        this.T = (px, py) => {\n            const { x: cpx, y: cpy } = makeReflected();\n            return this.Q(cpx, cpy, px, py);\n        };\n        this.t = (px, py) => this.T(px + lx, py + ly);\n        //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n        this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n            const x1 = lx;\n            const y1 = ly;\n            ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n            lx = px;\n            ly = py;\n            lastCommand = \"A\";\n            return this;\n        };\n        //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n        this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n    }\n}\nexports.PathCommands = PathCommands;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineIcon = void 0;\nconst fonts = __importStar(require(\"../internal/fonts\"));\nconst Inline_1 = require(\"./Inline\");\nclass InlineIcon extends Inline_1.Inline {\n    constructor(icon) {\n        super();\n        this._icon = icon || {};\n    }\n    width({ ctx }) {\n        const icon = this._icon;\n        if (icon.width) {\n            return icon.width;\n        }\n        if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\n            ctx.save();\n            ctx.canvas.style.letterSpacing = \"normal\";\n            try {\n                ctx.font = icon.font || ctx.font;\n                return ctx.measureText(icon.content || \"\").width;\n            }\n            finally {\n                ctx.canvas.style.letterSpacing = \"\";\n                ctx.restore();\n            }\n        }\n        return 0; //unknown\n    }\n    font() {\n        var _a;\n        return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\n    }\n    color() {\n        var _a;\n        return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        const icon = this._icon;\n        return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\n    }\n    onReady(callback) {\n        const icon = this._icon;\n        if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\n            fonts.load(icon.font, icon.content || \"\", callback);\n        }\n    }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        const icon = this._icon;\n        if (icon.content) {\n            ctx.canvas.style.letterSpacing = \"normal\";\n            try {\n                // eslint-disable-next-line no-self-assign\n                ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\n                canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n                    offset: offset + 1,\n                    padding: {\n                        left: offsetLeft,\n                        right: offsetRight,\n                        top: offsetTop,\n                        bottom: offsetBottom,\n                    },\n                });\n            }\n            finally {\n                ctx.canvas.style.letterSpacing = \"\";\n            }\n        }\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineIcon = InlineIcon;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlinePath2D = void 0;\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\nconst Inline_1 = require(\"./Inline\");\nconst canvases_1 = require(\"../internal/canvases\");\nclass InlinePath2D extends Inline_1.Inline {\n    constructor({ path, width, height, color }) {\n        super();\n        // IEPath2Dpolyfill\n        const Path2D = path2DManager.getPath2D();\n        this._path = new Path2D(path);\n        this._width = width;\n        this._height = height;\n        this._color = color;\n    }\n    width(_arg) {\n        return this._width;\n    }\n    font() {\n        return null;\n    }\n    color() {\n        var _a;\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        offset++;\n        const padding = {\n            left: offsetLeft,\n            right: offsetRight,\n            top: offsetTop,\n            bottom: offsetBottom,\n        };\n        ctx.save();\n        try {\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            //clip\n            ctx.clip();\n            //\n            const pos = canvases_1.calcStartPosition(ctx, rect, this._width, this._height, {\n                offset,\n                padding,\n            });\n            ctx.translate(pos.x, pos.y);\n            ctx.fill(this._path);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlinePath2D = InlinePath2D;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineSvg = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst InlineImage_1 = require(\"./InlineImage\");\nfunction buildSvgDataUrl(svg) {\n    const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\n    const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n    return url;\n}\nfunction getSvgElement(svg) {\n    if (typeof svg === \"string\") {\n        const parser = new DOMParser();\n        return parser.parseFromString(svg, \"image/svg+xml\")\n            .children[0];\n    }\n    else {\n        return svg;\n    }\n}\nclass InlineSvg extends InlineImage_1.InlineImage {\n    constructor({ svg, width, height }) {\n        var _a, _b;\n        const svgElem = utils_1.then(svg, getSvgElement);\n        const elmWidth = !utils_1.isPromise(svgElem)\n            ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined : undefined;\n        const elmHeight = !utils_1.isPromise(svgElem)\n            ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined : undefined;\n        const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\n        const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\n        super({\n            src: utils_1.then(svg, buildSvgDataUrl),\n            width: width || numElmWidth,\n            height: height || numElmHeight,\n            imageWidth: numElmWidth,\n            imageHeight: numElmHeight,\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineSvg = InlineSvg;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TooltipHandler = void 0;\nconst LG_EVENT_TYPE_1 = require(\"../list-grid/LG_EVENT_TYPE\");\nconst Tooltip_1 = require(\"./Tooltip\");\nconst utils_1 = require(\"../internal/utils\");\nconst TOOLTIP_INSTANCE_FACTORY = {\n    \"overflow-text\"(grid) {\n        return new Tooltip_1.Tooltip(grid);\n    },\n};\nfunction getTooltipInstanceInfo(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngrid, col, row) {\n    //\n    // overflow text tooltip\n    const overflowText = grid.getCellOverflowText(col, row);\n    if (overflowText) {\n        return {\n            type: \"overflow-text\",\n            content: overflowText,\n        };\n    }\n    return null;\n}\nclass TooltipHandler {\n    constructor(grid) {\n        this._grid = grid;\n        this._tooltipInstances = {};\n        this._bindGridEvent(grid);\n    }\n    dispose() {\n        const tooltipInstances = this._tooltipInstances;\n        for (const k in tooltipInstances) {\n            tooltipInstances[k].dispose();\n        }\n        delete this._tooltipInstances;\n        this._attachInfo = null;\n    }\n    _attach(col, row) {\n        const info = this._attachInfo;\n        const instanceInfo = this._getTooltipInstanceInfo(col, row);\n        if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n            info.instance.detachTooltipElement();\n            this._attachInfo = null;\n        }\n        if (!instanceInfo) {\n            return;\n        }\n        const { instance } = instanceInfo;\n        instance.attachTooltipElement(col, row, instanceInfo.content);\n        const range = this._grid.getCellRange(col, row);\n        this._attachInfo = { range, instance };\n    }\n    _move(col, row) {\n        const info = this._attachInfo;\n        if (!info || !utils_1.cellInRange(info.range, col, row)) {\n            return;\n        }\n        const { instance } = info;\n        instance.moveTooltipElement(col, row);\n    }\n    _detach() {\n        const info = this._attachInfo;\n        if (!info) {\n            return;\n        }\n        const { instance } = info;\n        instance.detachTooltipElement();\n        this._attachInfo = null;\n    }\n    _isAttachCell(col, row) {\n        const info = this._attachInfo;\n        if (!info) {\n            return false;\n        }\n        return utils_1.cellInRange(info.range, col, row);\n    }\n    _bindGridEvent(grid) {\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (e.related) {\n                if (this._isAttachCell(e.col, e.row)) {\n                    return;\n                }\n            }\n            this._attach(e.col, e.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (e.related) {\n                if (this._isAttachCell(e.related.col, e.related.row)) {\n                    return;\n                }\n            }\n            this._detach();\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            if (this._isAttachCell(e.col, e.row)) {\n                this._detach();\n            }\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n            const info = this._attachInfo;\n            if (!info) {\n                return;\n            }\n            this._move(info.range.start.col, info.range.start.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\n            if (this._isAttachCell(e.col, e.row)) {\n                this._detach();\n                this._attach(e.col, e.row);\n            }\n        });\n    }\n    _getTooltipInstanceInfo(col, row) {\n        const grid = this._grid;\n        const tooltipInstances = this._tooltipInstances;\n        const info = getTooltipInstanceInfo(grid, col, row);\n        if (!info) {\n            return null;\n        }\n        const { type } = info;\n        const instance = tooltipInstances[type] ||\n            (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n        return {\n            instance,\n            type,\n            content: info.content,\n        };\n    }\n}\nexports.TooltipHandler = TooltipHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tooltip = void 0;\nconst BaseTooltip_1 = require(\"./BaseTooltip\");\nconst TooltipElement_1 = require(\"./internal/TooltipElement\");\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\n    createTooltipElementInternal() {\n        return new TooltipElement_1.TooltipElement();\n    }\n}\nexports.Tooltip = Tooltip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTooltip = void 0;\nclass BaseTooltip {\n    constructor(grid) {\n        this._grid = grid;\n    }\n    dispose() {\n        this.detachTooltipElement();\n        if (this._tooltipElement) {\n            this._tooltipElement.dispose();\n        }\n        this._tooltipElement = undefined;\n    }\n    _getTooltipElement() {\n        if (this._tooltipElement) {\n            return this._tooltipElement;\n        }\n        return (this._tooltipElement = this.createTooltipElementInternal());\n    }\n    attachTooltipElement(col, row, content) {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement.attach(this._grid, col, row, content);\n    }\n    moveTooltipElement(col, row) {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement.move(this._grid, col, row);\n    }\n    detachTooltipElement() {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement._detach();\n    }\n}\nexports.BaseTooltip = BaseTooltip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TooltipElement = void 0;\nconst EventHandler_1 = require(\"../../internal/EventHandler\");\nconst dom_1 = require(\"../../internal/dom\");\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createTooltipDomElement() {\n    require(\"@/tooltip/internal/TooltipElement.css\");\n    const rootElement = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const messageElement = dom_1.createElement(\"pre\", {\n        classList: [CONTENT_CLASSNAME],\n    });\n    rootElement.appendChild(messageElement);\n    return rootElement;\n}\nclass TooltipElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        const rootElement = (this._rootElement = createTooltipDomElement());\n        this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n    }\n    dispose() {\n        this.detach();\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            rootElement.parentElement.removeChild(rootElement);\n        }\n        this._handler.dispose();\n        delete this._rootElement;\n        delete this._messageElement;\n    }\n    attach(grid, col, row, content) {\n        const rootElement = this._rootElement;\n        const messageElement = this._messageElement;\n        rootElement.classList.remove(SHOWN_CLASSNAME);\n        rootElement.classList.add(HIDDEN_CLASSNAME);\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n            messageElement.textContent = content;\n        }\n        else {\n            this._detach();\n        }\n    }\n    move(grid, col, row) {\n        const rootElement = this._rootElement;\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n        }\n        else {\n            this._detach();\n        }\n    }\n    detach() {\n        this._detach();\n    }\n    _detach() {\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            // rootElement.parentElement.removeChild(rootElement);\n            rootElement.classList.remove(SHOWN_CLASSNAME);\n            rootElement.classList.add(HIDDEN_CLASSNAME);\n        }\n    }\n    _attachCell(grid, col, row) {\n        const rootElement = this._rootElement;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        const { bottom: top, left, width } = rect;\n        const { frozenRowCount, frozenColCount } = grid;\n        if (row >= frozenRowCount && frozenRowCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n            if (top < frozenRect.bottom) {\n                return false; //\n            }\n        }\n        else {\n            if (top < 0) {\n                return false; //\n            }\n        }\n        if (col >= frozenColCount && frozenColCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n            if (left < frozenRect.right) {\n                return false; //\n            }\n        }\n        else {\n            if (left < 0) {\n                return false; //\n            }\n        }\n        const { offsetHeight, offsetWidth } = element;\n        if (offsetHeight < top) {\n            return false; //\n        }\n        if (offsetWidth < left) {\n            return false; //\n        }\n        rootElement.style.top = `${top.toFixed()}px`;\n        rootElement.style.left = `${(left + width / 2).toFixed()}px`;\n        rootElement.style.minWidth = `${width.toFixed()}px`;\n        if (rootElement.parentElement !== element) {\n            element.appendChild(rootElement);\n        }\n        return true;\n    }\n}\nexports.TooltipElement = TooltipElement;\n","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInternal = void 0;\nfunction getInternal() {\n    console.warn(\"use internal!!\");\n    return {\n        color: require(\"./internal/color\"),\n        sort: require(\"./internal/sort\"),\n        calc: require(\"./internal/calc\"),\n        symbolManager: require(\"./internal/symbolManager\"),\n        path2DManager: require(\"./internal/path2DManager\"),\n    };\n}\nexports.getInternal = getInternal;\n"],"sourceRoot":""}