{"version":3,"sources":["cheetahGrid.es5/cheetahGrid.es5.js","cheetahGrid.es5/webpack/universalModuleDefinition","cheetahGrid.es5/webpack/bootstrap","cheetahGrid.es5/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid.es5/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid.es5/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid.es5/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid.es5/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid.es5/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid.es5/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid.es5/../src/js/columns/action/internal/InlineInputElement.css","cheetahGrid.es5/../src/js/columns/action/internal/InlineMenuElement.css","cheetahGrid.es5/../src/js/columns/action/internal/SmallDialogInputElement.css","cheetahGrid.es5/../src/js/columns/message/internal/ErrorMessageElement.css","cheetahGrid.es5/../src/js/columns/message/internal/MessageElement.css","cheetahGrid.es5/../src/js/columns/message/internal/WarningMessageElement.css","cheetahGrid.es5/../src/js/internal/style.css","cheetahGrid.es5/../src/js/tooltip/internal/TooltipElement.css","cheetahGrid.es5/node_modules/css-loader/dist/runtime/api.js","cheetahGrid.es5/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","cheetahGrid.es5/node_modules/webpack/buildin/global.js","cheetahGrid.es5/../src/js/columns/action/internal/InlineInputElement.css*","cheetahGrid.es5/../src/js/columns/action/internal/InlineMenuElement.css*","cheetahGrid.es5/../src/js/columns/action/internal/SmallDialogInputElement.css*","cheetahGrid.es5/../src/js/columns/message/internal/ErrorMessageElement.css*","cheetahGrid.es5/../src/js/columns/message/internal/MessageElement.css*","cheetahGrid.es5/../src/js/columns/message/internal/WarningMessageElement.css*","cheetahGrid.es5/../src/js/internal/style.css*","cheetahGrid.es5/../src/js/tooltip/internal/TooltipElement.css*","cheetahGrid.es5/./GridCanvasHelper.js","cheetahGrid.es5/./ListGrid.js","cheetahGrid.es5/./columns.js","cheetahGrid.es5/./columns/action.js","cheetahGrid.es5/./columns/action/Action.js","cheetahGrid.es5/./columns/action/BaseAction.js","cheetahGrid.es5/./columns/action/BaseInputEditor.js","cheetahGrid.es5/./columns/action/ButtonAction.js","cheetahGrid.es5/./columns/action/CheckEditor.js","cheetahGrid.es5/./columns/action/Editor.js","cheetahGrid.es5/./columns/action/InlineInputEditor.js","cheetahGrid.es5/./columns/action/InlineMenuEditor.js","cheetahGrid.es5/./columns/action/RadioEditor.js","cheetahGrid.es5/./columns/action/SmallDialogInputEditor.js","cheetahGrid.es5/./columns/action/action-utils.js","cheetahGrid.es5/./columns/action/actionBind.js","cheetahGrid.es5/./columns/action/internal/InlineInputElement.js","cheetahGrid.es5/./columns/action/internal/InlineMenuElement.js","cheetahGrid.es5/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid.es5/./columns/action/internal/input-value-handler.js","cheetahGrid.es5/./columns/message/BaseMessage.js","cheetahGrid.es5/./columns/message/ErrorMessage.js","cheetahGrid.es5/./columns/message/InfoMessage.js","cheetahGrid.es5/./columns/message/MessageHandler.js","cheetahGrid.es5/./columns/message/WarningMessage.js","cheetahGrid.es5/./columns/message/internal/ErrorMessageElement.js","cheetahGrid.es5/./columns/message/internal/MessageElement.js","cheetahGrid.es5/./columns/message/internal/WarningMessageElement.js","cheetahGrid.es5/./columns/message/messageUtils.js","cheetahGrid.es5/./columns/style.js","cheetahGrid.es5/./columns/style/BaseStyle.js","cheetahGrid.es5/./columns/style/BranchGraphStyle.js","cheetahGrid.es5/./columns/style/ButtonStyle.js","cheetahGrid.es5/./columns/style/CheckStyle.js","cheetahGrid.es5/./columns/style/IconStyle.js","cheetahGrid.es5/./columns/style/ImageStyle.js","cheetahGrid.es5/./columns/style/MenuStyle.js","cheetahGrid.es5/./columns/style/MultilineTextStyle.js","cheetahGrid.es5/./columns/style/NumberStyle.js","cheetahGrid.es5/./columns/style/PercentCompleteBarStyle.js","cheetahGrid.es5/./columns/style/RadioStyle.js","cheetahGrid.es5/./columns/style/StdBaseStyle.js","cheetahGrid.es5/./columns/style/Style.js","cheetahGrid.es5/./columns/type.js","cheetahGrid.es5/./columns/type/BaseColumn.js","cheetahGrid.es5/./columns/type/BranchGraphColumn.js","cheetahGrid.es5/./columns/type/ButtonColumn.js","cheetahGrid.es5/./columns/type/CheckColumn.js","cheetahGrid.es5/./columns/type/Column.js","cheetahGrid.es5/./columns/type/IconColumn.js","cheetahGrid.es5/./columns/type/ImageColumn.js","cheetahGrid.es5/./columns/type/MenuColumn.js","cheetahGrid.es5/./columns/type/MultilineTextColumn.js","cheetahGrid.es5/./columns/type/NumberColumn.js","cheetahGrid.es5/./columns/type/PercentCompleteBarColumn.js","cheetahGrid.es5/./columns/type/RadioColumn.js","cheetahGrid.es5/./columns/type/columnUtils.js","cheetahGrid.es5/./columns/utils/index.js","cheetahGrid.es5/./core.js","cheetahGrid.es5/./core/DG_EVENT_TYPE.js","cheetahGrid.es5/./core/DrawGrid.js","cheetahGrid.es5/./core/EventTarget.js","cheetahGrid.es5/./data.js","cheetahGrid.es5/./data/CachedDataSource.js","cheetahGrid.es5/./data/DataSource.js","cheetahGrid.es5/./data/FilterDataSource.js","cheetahGrid.es5/./element/Inline.js","cheetahGrid.es5/./element/InlineDrawer.js","cheetahGrid.es5/./element/InlineIcon.js","cheetahGrid.es5/./element/InlineImage.js","cheetahGrid.es5/./element/InlinePath2D.js","cheetahGrid.es5/./element/InlineSvg.js","cheetahGrid.es5/./element/inlines.js","cheetahGrid.es5/./get-internal.js","cheetahGrid.es5/./header/action.js","cheetahGrid.es5/./header/action/BaseAction.js","cheetahGrid.es5/./header/action/CheckHeaderAction.js","cheetahGrid.es5/./header/action/SortHeaderAction.js","cheetahGrid.es5/./header/action/actionBind.js","cheetahGrid.es5/./header/style.js","cheetahGrid.es5/./header/style/BaseStyle.js","cheetahGrid.es5/./header/style/CheckHeaderStyle.js","cheetahGrid.es5/./header/style/MultilineTextHeaderStyle.js","cheetahGrid.es5/./header/style/SortHeaderStyle.js","cheetahGrid.es5/./header/style/StdBaseStyle.js","cheetahGrid.es5/./header/style/Style.js","cheetahGrid.es5/./header/type.js","cheetahGrid.es5/./header/type/BaseHeader.js","cheetahGrid.es5/./header/type/CheckHeader.js","cheetahGrid.es5/./header/type/Header.js","cheetahGrid.es5/./header/type/MultilineTextHeader.js","cheetahGrid.es5/./header/type/SortHeader.js","cheetahGrid.es5/./headers.js","cheetahGrid.es5/./icons.js","cheetahGrid.es5/./internal/EventHandler.js","cheetahGrid.es5/./internal/LRUCache.js","cheetahGrid.es5/./internal/NumberMap.js","cheetahGrid.es5/./internal/Rect.js","cheetahGrid.es5/./internal/Scrollable.js","cheetahGrid.es5/./internal/animate.js","cheetahGrid.es5/./internal/calc.js","cheetahGrid.es5/./internal/canvases.js","cheetahGrid.es5/./internal/color.js","cheetahGrid.es5/./internal/dom.js","cheetahGrid.es5/./internal/fonts.js","cheetahGrid.es5/./internal/hiDPI.js","cheetahGrid.es5/./internal/icons.js","cheetahGrid.es5/./internal/imgs.js","cheetahGrid.es5/./internal/legacy/canvas/Path2DShim.js","cheetahGrid.es5/./internal/legacy/canvas/PathCommands.js","cheetahGrid.es5/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid.es5/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid.es5/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid.es5/./internal/menu-items.js","cheetahGrid.es5/./internal/paste-utils.js","cheetahGrid.es5/./internal/path2DManager.js","cheetahGrid.es5/./internal/sort.js","cheetahGrid.es5/./internal/style.js","cheetahGrid.es5/./internal/symbolManager.js","cheetahGrid.es5/./internal/utils.js","cheetahGrid.es5/./list-grid/LG_EVENT_TYPE.js","cheetahGrid.es5/./list-grid/layout-map/index.js","cheetahGrid.es5/./list-grid/layout-map/internal/multi-layout.js","cheetahGrid.es5/./list-grid/layout-map/internal/simple-header-layout.js","cheetahGrid.es5/./list-grid/layout-map/internal/utils.js","cheetahGrid.es5/./main.js","cheetahGrid.es5/./plugins/icons.js","cheetahGrid.es5/./plugins/themes.js","cheetahGrid.es5/./register.js","cheetahGrid.es5/./themes.js","cheetahGrid.es5/./themes/BASIC.js","cheetahGrid.es5/./themes/MATERIAL_DESIGN.js","cheetahGrid.es5/./themes/theme.js","cheetahGrid.es5/./tools.js","cheetahGrid.es5/./tools/canvashelper.js","cheetahGrid.es5/./tooltip/BaseTooltip.js","cheetahGrid.es5/./tooltip/Tooltip.js","cheetahGrid.es5/./tooltip/TooltipHandler.js","cheetahGrid.es5/./tooltip/internal/TooltipElement.js"],"names":["window","webpackUniversalModuleDefinition","root","factory","exports","module","define","amd","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","width","height","__webpack_exports__","___CSS_LOADER_EXPORT___","push","useSourceMap","list","toString","map","item","content","cssWithMappingToString","concat","join","mediaQuery","dedupe","alreadyImportedModules","length","id","_i","cssMapping","btoa","sourceMapping","toComment","sourceURLs","sources","source","sourceRoot","sourceMap","base64","unescape","encodeURIComponent","JSON","stringify","data","isOldIE","memo","memorize","Boolean","document","all","atob","getTarget","target","styleTarget","querySelector","HTMLIFrameElement","contentDocument","head","e","stylesInDom","getIndexByIdentifier","identifier","result","modulesToDom","options","idCountMap","identifiers","base","count","index","obj","css","media","references","updater","addStyle","insertStyleElement","style","createElement","attributes","nonce","keys","forEach","setAttribute","insert","Error","appendChild","removeStyleElement","parentNode","removeChild","replaceText","textStore","replace","replacement","filter","applyToSingletonTag","remove","styleSheet","cssText","cssNode","createTextNode","childNodes","insertBefore","applyToTag","removeAttribute","firstChild","singleton","singletonCounter","update","styleIndex","updateStyle","newObj","lastIdentifiers","newList","newLastIdentifiers","_identifier","_index","splice","g","Function","api","default","locals","__createBinding","k","k2","undefined","__setModuleDefault","v","__importStar","mod","GridCanvasHelper","calc","require","canvashelper","fonts","inlineUtils","themes","canvases_1","utils_1","InlineDrawer_1","Rect_1","color_1","toBoxArray","INLINE_ELLIPSIS","of","invalidateCell","context","grid","col","row","getColor","color","getOrApply","getFont","font","getThemeColor","names","gridThemeColor","getChainSafe","theme","defaultThemeColor","args","testFontLoad","check","load","drawInlines","ctx","inlines","rect","offset","offsetTop","offsetBottom","drawInline","inline","offsetLeft","offsetRight","canDraw","save","fillStyle","draw","restore","onReady","inlineWidths","reduce","a","b","inlineWidth","buildInlines","icons","inlineToString","string","getOverflowInline","textOverflow","isAllowOverflow","trim","getOverflowInlinesIndex","maxWidth","lineWidth","remWidth","isOverflowInlines","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","slice","canBreak","breakWord","before","after","breakAll","splitIndex","truncateInlines","option","overflowInline","ellipsisWidth","_inlineRect","textAlign","textBaseline","truncInlines","setCellOverflowText","_multiInlineRect","multiInlines","lineHeight","autoWrapText","lineClamp","rectHeight","Math","max","floor","buildedMultiInlines","procLineClamp","hasNext","procLine","lineRow","buildedInline","paddingTop","paddingBottom","em","getFontSize","pad","calcElapsedColor","startColor","endColor","elapsedTime","startColorRGB","colorToRGB","endColorRGB","getRGB","colorName","start","end","diff","ceil","drawCheckbox","helper","animElapsedTime","uncheckBgColor","checkbox","checkBgColor","borderColor","positionOpt","boxWidth","measureCheckbox","pos","calcStartPosition","x","y","drawRadioButton","checkColor","radioButton","uncheckBorderColor","checkBorderColor","measureRadioButton","bgColor","ThemeResolver","constructor","_checkbox","_radioButton","_button","_header","_grid","sortArrowColor","strokeRect","left","top","Array","isArray","strokeStyle","borderColors","strokeColorsRect","_theme","calcWidth","toPx","full","getRect","getContext","calcHeight","calculator","createCalculator","box","drawRect","getDrawRect","beginPath","clip","clipLeft","clipWidth","clipTop","clipHeight","text","padding","isFrozenCell","frozenRowsColor","drawWithClip","paddingNums","toBoxPixelArray","Rect","multilines","fillText","fillColor","defaultBgColor","fill","getFillColorState","fillCell","fillRect","sel","getSelection","cellEquals","select","cellInRange","range","selectionBgColor","highlightBgColor","frozenRowsBgColor","drawBorderWithClip","startOffset","highlightBorderColor","border","frozenRowsBorderColor","selection","moveTo","lineTo","bottom","stroke","right","self","InlineDrawer","caption","button","shadow","drawButton","radius","ListGrid","data_1","layout_map_1","MessageHandler_1","style_1","DrawGrid_1","GridCanvasHelper_1","style_2","LG_EVENT_TYPE_1","TooltipHandler_1","symbolManager_1","paste_utils_1","_","getProtectedSymbol","_getCellRange","layoutMap","getCellRange","_updateRect","setRectFilter","startCol","startRow","endCol","endRow","getColWidth","getRowHeight","bounds","_getCellValue","headerRowCount","getHeader","getBody","field","_getField","_setCellValue","_getRecordIndexByRow","dataSource","setField","_getCellMessage","message","promises","msg","isPromise","hasMessage","Promise","resolve","reject","then","_getCellIcon0","icon","isObject","retIcon","iconOpt","iconPropKeys","f","_hasField","_getCellIcon","getField","hasField","_onDrawValue","cellValue","gridCanvasHelper","drawCellBg","fillOpt","fillCellWithState","drawCellBorder","frozenColCount","frozenRowCount","_borderWithState","drawCellBase","info","getRecord","getRowRecord","getIcon","getMessage","messageHandler","selRecordIndex","getRecordIndexByRow","selId","getCellId","isSelectCell","_refreshHeader","_a","protectedSpace","headerEvents","unlisten","layout","MultiLayoutMap","SimpleHeaderLayoutMap","header","headerObjects","cell","ids","headerType","bindGridEvent","BaseStyle","listen","EVENT_TYPE","CHANGE_STYLE","invalidate","action","columnObjects","columnType","columnWidths","column","minWidth","setColWidth","setMinColWidth","setMaxColWidth","headerRowHeight","setRowHeight","colCount","_refreshRowCount","rowCount","bodyRowCount","_tryWithUpdateDataSource","fn","dataSourceEventIds","handler","off","on","DataSource","UPDATED_LENGTH","UPDATED_ORDER","_setRecords","records","newDataSource","CachedDataSource","ofArray","addDisposable","_setDataSource","EMPTY","_onRangePaste","test","selectionRange","values","parsePasteRangeBoxValues","pasteRowCount","min","pasteColCount","hasEditable","actionColumnsBox","bodyRow","actionColumnsRow","offsetCol","body","editable","getRecordStartRowByRecordIndex","startRowOffset","duplicate","actionRow","valuesRow","offsetRow","valuesCol","getCellValue","record","oldValue","onPasteCellRangeBox","newEnd","invalidateCellRange","_onRangeDelete","deleteRowCount","deleteColCount","_record","_oldValue","onDeleteCellRangeBox","omit","disabled","readOnly","allowRangePaste","sortState","order","MessageHandler","tooltipHandler","TooltipHandler","updateSize","updateScroll","dispose","hd","getCellRangeByField","colObj","find","layoutRange","getBodyLayoutRangeById","newFocus","focusCell","invalidateGridRect","_b","_c","makeVisibleCell","cellRange","columnData","getCopyCellValue","onDrawCell","valueCallback","changeValueCallback","ret","fireListeners","LG_EVENT_TYPE","CHANGED_VALUE","getHeaderField","headerValues","newValue","set","CHANGED_HEADER_VALUE","SELECTED_CELL","PASTE_CELL","multi","event","cancel","normalizeValue","DELETE_CELL","type","underlayBackgroundColor","oldState","oldField","newState","newField","setHeaderValue","Map","DrawGrid","InlineMenuEditor","InlineInputEditor","SmallDialogInputEditor","ButtonAction","RadioEditor","CheckEditor","Action","Editor","BaseAction","ACTIONS","Action_1","BaseAction_1","ButtonAction_1","CheckEditor_1","Editor_1","InlineInputEditor_1","InlineMenuEditor_1","RadioEditor_1","SmallDialogInputEditor_1","ImmutableCheckEditor","_disabled","_readOnly","ImmutableRadioEditor","ImmutableInputEditor","CHECK","INPUT","RADIO","columnAction","toUpperCase","actionBind_1","action_utils_1","_action","cellId","state","getState","isDisabledRecord","bindCellClickAction","mouseOver","mouseActiveCell","mouseOut","bindCellKeyAction","onChangeDisabledInternal","BaseInputEditor","DG_EVENT_TYPE_1","KEY_ENTER","KEY_F2","open","isReadOnlyRecord","onOpenCellInternal","input","onInputCellInternal","isTarget","getLayoutCellId","DG_EVENT_TYPE","INPUT_CELL","DBLCLICK_CELL","DBLTAP_CELL","KEYDOWN","keyCode","stopCellMoving","onChangeSelectCellInternal","selected","SCROLL","onGridScrollInternal","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","baseRect","getCellRect","rangeRect","getCellRangeRect","parseFloat","toFixed","onSetInputAttrsInternal","doChangeValue","BUTTON_COLUMN_STATE_ID","getButtonColumnStateId","setReadonly","animate_1","CHECK_COLUMN_STATE_ID","getCheckColumnStateId","_state","block","elapsed","cellKey","toggleValue","onChange","animate","point","_e","selrange","pasteValue","doGetCellValue","onChangeReadOnlyInternal","BaseInputEditor_1","InlineInputElement_1","getInlineInputEditorStateId","globalElement","bindGridCount","attachInput","editor","InlineInputElement","element","attach","detachInput","gridFocus","detach","_classList","classList","_type","inputValue","_cell","_selected","setInputAttrs","InlineMenuElement_1","type_1","menu_items_1","getInlineMenuEditorStateId","attachMenu","InlineMenuElement","detachMenu","_options","normalizeToFn","CLICK_CELL","MOUSEOVER_CELL","getElement","cursor","MOUSEMOVE_CELL","MOUSEOUT_CELL","pasteOpt","_pasteDataToOptionValue","_textToOptionValue","getColumnType","hasOptions","normalizePasteValueStr","captionOpt","array","opt","label","MenuColumn","utils_2","RADIO_COLUMN_STATE_ID","getRadioColumnStateId","defaultGroupResolver","recordStartRow","recordRowCount","targetRow","_group","group","toBoolean","targets","actionCell","flag","SmallDialogInputElement_1","getSmallDialogInputEditorStateId","SmallDialogInputElement","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","getBooleanOptionOfRecord","val","exec","KEY_SPACE","acceptKeys","indexOf","keyboardOptions","moveCellOnEnter","EventHandler_1","dom_1","input_value_handler_1","KEY_TAB","CLASSNAME","createInputElement","add","_handler","EventHandler","_input","_bindInputEvents","_beforePropEditor","parentElement","getAttachCellsArea","setInputValue","_activeData","focus","selectionStart","selectionEnd","createTextRange","collapse","moveEnd","moveStart","tryWithOffEvents","_attaching","setTimeout","_isActive","stopPropagationOnly","stopPropagation","contains","getKeyCode","_onKeydownEnter","_onKeydownTab","onKeyDownMove","moveCellOnTab","KEY_UP","KEY_DOWN","KEY_ESC","ITEM_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","el","createMenuElement","attachElement","menu","optionToLi","html","tabIndex","dataset","valueindex","span","appendHtml","openMenu","empty","emptyItemEl","valueItemEl","focusEl","children","focusIndex","allHeight","offsetHeight","transformOrigin","menuClientRect","getBoundingClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","winMargin","closeMenu","_col","_row","disableFocus","_menu","_bindMenuEvents","Number","_doChangeValue","findPrevSiblingFocusable","findNextSiblingFocusable","shiftKey","isFocusable","items","querySelectorAll","INPUT_CLASSNAME","_focus","createDialogElement","bindProps","dialog","unbindProps","_dialog","_bindDialogEvents","errorMessage","activeData","_onInputValue","browser","IE","_beforeValue","_validate","res","onKeyupAndPress","_onInputValueChange","inputOnly","sign","once","BaseMessage","_messageElement","detachMessageElement","createMessageElementInternal","messageElement","_getMessageElement","move","_detach","drawCellMessageInternal","ErrorMessage","messageUtils","BaseMessage_1","ErrorMessageElement_1","RED_A100","ErrorMessageElement","_message","_info","hasFocusGrid","_ctx","drawExclamationMarkBox","InfoMessage","MessageElement_1","GREY_L2","MessageElement","ErrorMessage_1","InfoMessage_1","WarningMessage_1","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","error","warning","WarningMessage","normalizeMessage","original","toLowerCase","_attachInfo","_messageInstances","_bindGridEvent","messageInstances","instance","_getMessageInstanceOfMessage","drawCellMessage","attachMessageElement","moveMessageElement","onSelectMessage","setMessageData","_attach","newSel","_move","FOCUS_GRID","BLUR_GRID","WarningMessageElement_1","DEEP_ORANGE_A100","WarningMessageElement","MESSAGE_CLASSNAME","_rootElement","createMessageDomElement","rootElement","_attachCell","textContent","frozenRect","offsetWidth","drawInfomationMarkBox","boxRect","copy","fillRectWithState","MenuStyle","MultilineTextStyle","PercentCompleteBarStyle","IconStyle","ImageStyle","ButtonStyle","RadioStyle","CheckStyle","NumberStyle","Style","BaseStyle_1","ButtonStyle_1","CheckStyle_1","IconStyle_1","ImageStyle_1","MenuStyle_1","MultilineTextStyle_1","NumberStyle_1","PercentCompleteBarStyle_1","RadioStyle_1","Style_1","columnStyle","StyleClassDef","DEFAULT","EventTarget_1","STYLE_EVENT_TYPE","defaultStyle","_bgColor","doChangeStyle","EventTarget","BranchGraphStyle","DEFAULT_BRANCH_COLORS","_name","_branchColors","branchColors","_margin","margin","_circleSize","circleSize","_branchLineWidth","branchLineWidth","_mergeStyle","mergeStyle","defaults","buttonBgColor","_buttonBgColor","StdBaseStyle_1","_uncheckBgColor","_checkBgColor","_borderColor","StdBaseStyle","_imageSizing","imageSizing","appearance","_appearance","_lineHeight","_autoWrapText","_lineClamp","DEFAULT_BAR_COLOR","num","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","_checkColor","_uncheckBorderColor","_checkBorderColor","_textAlign","_textBaseline","_color","_font","_padding","_textOverflow","MultilineTextColumn","BranchGraphColumn","IconColumn","PercentCompleteBarColumn","ImageColumn","ButtonColumn","RadioColumn","CheckColumn","NumberColumn","Column","BranchGraphColumn_1","ButtonColumn_1","CheckColumn_1","Column_1","IconColumn_1","ImageColumn_1","MenuColumn_1","MultilineTextColumn_1","NumberColumn_1","PercentCompleteBarColumn_1","RadioColumn_1","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","BaseColumn","styleContents","COLUMN_FADEIN_STATE_ID","getColumnFadeinStateId","isFadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","configure","getFadeinState","cells","_generateFadeinPointAction","drawInternal","stateKey","opacity","cellState","globalAlpha","fadeinMgr","activeFadeins","margeAnimate","_fadeinWhenCallbackInPromise","getGridCanvasHelper","promise","Date","now","currentContext","toCurrentContext","time","actStyle","StyleClass","convertInternal","drawMessageInternal","_cellId","BaseColumn_1","BranchGraphStyle_1","getBranchGraphColumnStateId","getAllColumnData","callback","allData","dataIndex","BranchLine","fromIndex","toIndex","colorIndex","BranchPoint","commit","lines","tag","froms","tos","mergeLines","joinLine","timeline","branchIndex","reverse","j","tl","branch","from","to","branches","findBranchRootIndex","fromTargetIndex","branchTargetFromIndex","branchPoint","targetLine","merge","commitTag","commitMerge","fromTargetLine","pop","calcCommand","command","timelineData","commands","cmd","calcBranchesInfo","calcBranchXPoints","w","textWidth","measureText","renderMerge","upLineIndex","downLineIndex","branchXPoints","lineCap","upX","upRect","getCellRelativeRect","upY","bezierCurveTo","downX","downRect","downY","_start","_cache","cache","has","_value","upLineIndexKey","downLineIndexKey","line","pointIndex","sort","arc","PI","closePath","utils","_caption","clone","active","loadIcons","blur","offsetY","repeatArray","Infinity","_tagName","tagName","_className","className","_content","_iconWidth","iconWidth","isNaN","imgs_1","MAX_LRU_CACHE_SIZE","getImage","url","getCacheOrLoad","calcKeepAspectRatioSize","maxHeight","newWidth","newHeight","drawImage","normalize","_convertInternal","basePadding","textPadding","iconPadding","path","console","warn","split","multilineText","defaultFotmat","_format","format","Intl","NumberFormat","fmt","MARGIN","_min","_max","_formatter","formatter","svalue","str","endsWith","substr","rate","barMaxWidth","barTop","barLeft","barSize","argIcon","iconList","toNormarizeArray","MOUSEDOWN_CELL","MOUSEUP_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","CONTEXTMENU_CELL","RESIZE_COLUMN","hiDPI","NumberMap_1","Scrollable_1","isTouchEvent","getMouseButtons","cancelEvent","createRootElement","KEY_BS","KEY_END","KEY_HOME","KEY_LEFT","KEY_RIGHT","KEY_DEL","KEY_ALPHA_A","KEY_ALPHA_C","KEY_ALPHA_V","_vibrate","navigator","vibrate","_getTargetRowAt","absoluteY","internal","getTargetRowAtInternal","findBefore","startBottom","_getRowHeight","findAfter","candRow","defaultRowHeight","_getRowsHeight","_getTargetColAt","absoluteX","_getColWidth","_getTargetFrozenRowAt","scroll","_getTargetFrozenColAt","_getFrozenRowsRect","canvas","_getFrozenColsRect","_getCellDrawing","drawCells","_putCellDrawing","_removeCellDrawing","_drawCell","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","cellDrawing","dcContext","DrawCellContext","pCol","_delayMode","terminate","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","_getInitContext","_invalidateRect","_getVisibleRect","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","_toPxWidth","round","calcWidthContext","_adjustColWidth","orgWidth","limits","_getColWidthLimits","_applyColWidthLimits","_getColWidthDefine","colWidthsMap","defaultColWidth","limit","colWidthsLimit","minDef","maxDef","isAutoDefine","_calcAutoColWidthExpr","shortCircuit","fullWidth","sumMin","others","autoCount","hasLimitsOnAuto","def","expr","autoPx","strDefs","_colWidthDefineToPxWidth","_setColWidth","put","_storeAutoColWidthExprs","defaultColPxWidth","each","adj","getRowHeightInternal","rowHeightsMap","_setRowHeight","getRowsHeightInternal","h","_getScrollWidth","_getScrollHeight","getScrollHeightInternal","_onScroll","lastLeft","lastTop","moveX","scrollable","scrollLeft","moveY","scrollTop","abs","redrawRect","_onKeyDownMove","ctrlKey","metaKey","hmove","vmove","getMoveUpRowByKeyDownInternal","_moveFocusCell","getMoveDownRowByKeyDownInternal","getMoveLeftColByKeyDownInternal","getMoveRightColByKeyDownInternal","selectAllOnCtrlA","vDir","hDir","shiftKeyFlg","getOffsetInvalidateCells","extendRange","beforeRange","beforeRect","_setFocusCell","afterRange","afterRect","intersection","invalidateRect","_updatedSelection","focusControl","selCol","selRow","results","editMode","findIndex","storeInputStatus","setDefaultInputStatus","_getMouseAbstractPoint","evt","changedTouches","clientX","pageX","scrollX","clientY","pageY","scrollY","_bindEvents","getCellEventArgsSet","abstractPos","getCellAt","eventArgs","canResizeColumn","disableColumnResize","eventArgsSet","resizeCol","_getResizeColAt","columnResizer","cellSelector","hasListeners","doubleTapBefore","longTouchId","defaultPrevented","clearTimeout","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","related","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","enterCell","outCell","leaveCell","moving","lastMoving","onKeyDown","onScroll","copyRange","getCopyRangeInternal","copyValue","copyCellValue","strCellValue","onCopy","onPaste","rangeBoxValues","pasteCellEvent","onInput","onDelete","onFocus","focusedGrid","onBlur","abstractX","abstractY","inPoint","cellRect","_getScrollableVisibleRect","frozenColsWidth","frozenRowsHeight","_toRelativeRect","absoluteRect","BaseMouseDownMover","_events","_started","_moved","last","_mouseEndPoint","pt","events","mousemove","_mouseMove","mouseup","_mouseUp","touchmove","passive","touchend","touchcancel","_moveInternal","_upInternal","CellSelector","_getTargetCell","_bindMoveAndUp","oldCol","oldRow","newCol","newRow","makeVisibleCol","makeVisibleRow","ColumnResizer","_x","_preX","_invalidateAbsoluteLeft","_targetCol","pre","afterSize","setSafeInputValue","FocusControl","_scrollable","_isComposition","_compositionEnd","lastInputValue","inputClear","handleCompositionEnd","stopCellMove","fireKeyDownMove","deleteCellValueOnDel","Edge","isDescendantElement","dummyInput","pasteText","clipboardData","getData","types","setData","_keyDownMoveCallback","calcTop","getScrollBarSize","composition","atts","removeNames","att","_inputStatus","nodeName","removeName","inputStatus","Selection","_sel","_end","_wrapFireSelectedEvent","keepSelect","_setSelectCell","_isWraped","points","needChange","_layers","level","DrawLayer","addDraw","_level","_list","drawing","_rectFilter","_mode","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","rectFilter","_getRectInternal","_isOutOfRange","_toRelativeDrawRect","fRect","onTerminate","_onTerminate","protectedKey","initDocument","Scrollable","transform","alpha","NumberMap","cellTextOverflows","bindEventsInternal","cfg","config","setFocusRect","scrollHeight","scrollWidth","setScrollSize","maxwidth","minwidth","isFrozenStartCell","isFrozenEndCell","getCellsRect","isFrozenRow","isFrozenCol","frozen","getRowAt","getColAt","oldEditMode","resetInputStatus","setFocusCursor","cellsRect","invalidateTarget","_range","overflowText","disposable","disposables","_absoluteY","_startRow","_endRow","_updateGridRange","visibleTop","visibleLeft","nextId","listeners","listenerData","listener","FilterDataSource","DataSource_1","CachedDataSource_1","FilterDataSource_1","_setFieldCache","fCache","recCache","_rCache","_fCache","rowCache","isFieldAssessor","UPDATE_LENGTH","getValue","setPromiseBack","maybePromiseValue","promiseValue","fieldGet","fieldResult","ss","applyChainSafe","emptyFn","fieldSet","_getIndex","sortedIndexMap","mapIndex","_sortedIndexMap","_get","_length","_source","getOriginal","getOriginalField","hasOriginalField","setOriginalField","orderFn","v1","v2","sortPromise","rel","recordPromiseCallBackInternal","fieldPromiseCallBackInternal","_field","DataSourceIterator","_dataSource","_curIndex","_data","next","_getIndexData","nest","FilterData","dc","_owner","_dataSourceItr","_filter","_filterdList","_queues","filterdList","queues","indexQueue","_findIndex","timeout","_findIndexWithTimeout","testTimeout","dataSourceItr","movePrev","queue","_filterData","Inline","getWidth","breakWidth","itr","candidateIndex","chars","beforeWidth","charWidth","beforeContent","afterContent","_callback","fillTextRect","genChars","allWidth","candidate","genWords","Inline_1","_draw","_width","_arg","InlineIcon","_icon","letterSpacing","InlineImage","src","imageLeft","imageTop","imageWidth","imageHeight","_inlineImgPromise","_inlineImg","_src","_height","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","_loadImage","img","drawInlineImageRect","InlinePath2D","path2DManager","Path2D","getPath2D","_path","translate","InlineSvg","InlineImage_1","buildSvgDataUrl","svg","XMLSerializer","serializeToString","getSvgElement","parser","DOMParser","parseFromString","svgElem","elmWidth","getAttribute","elmHeight","numElmWidth","numElmHeight","iconOf","InlineIcon_1","InlinePath2D_1","InlineSvg_1","drawRegisteredIcon","drawWidth","drawHeight","isIconConstructorOption","isInlineImageConstructorOption","isInlineSvgConstructorOption","regedIcons","regedIcon","il","getInternal","symbolManager","ofCell","CheckHeaderAction","SortHeaderAction","CheckHeaderAction_1","SortHeaderAction_1","ImmutableSortHeaderAction","ImmutableCheckHeaderAction","SORT","headerAction","headerCell","sortMethod","CHECK_HEADER_STATE_ID","getCheckHeaderStateId","checked","getHeaderValue","_sort","fieldRow","_executeSort","inMouse","MultilineTextHeaderStyle","CheckHeaderStyle","SortHeaderStyle","CheckHeaderStyle_1","MultilineTextHeaderStyle_1","SortHeaderStyle_1","headerStyle","_sortArrowColor","MultilineTextHeader","CheckHeader","SortHeader","Header","BaseHeader","BaseHeader_1","CheckHeader_1","Header_1","MultilineTextHeader_1","SortHeader_1","inlineCheck","buildCheckBoxInline","arrowSize","icons_1","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","extend","_listeners","addEventListener","removeEventListener","clear","LRUCache","cacheSize","_map","_cacheSize","idx","remKey","shift","indexFirst","arr","elm","low","high","_keys","_vals","_sorted","keyFrom","keyTo","_left","_top","_right","_bottom","x0","x1","y0","y1","another","rect1","rect2","MAX_SCROLL","heightLimit","_p","_endPointElement","_update","relativeTop","domHeight","sbSize","vScrollRange","rScrollRange","cubicBezier","x2","y2","x3","y3","step","err","EASINGS","linear","easeIn","easeOut","easeInOut","raf","isNode","requestAnimationFrame","duration","easing","startedAt","easingFn","canceledFlg","createAnim","anim","TYPE_PAREN","TYPE_UNIT","TYPE_OPERATOR","TYPE_NUMBER","NODE_TYPE_UNIT","NODE_TYPE_BINARY_EXPRESSION","NODE_TYPE_NUMBER","TABULATION","CARRIAGE_RETURN","LINE_FEED","FORM_FEED","SPACE","PERCENT","FULL_STOP","DIGIT_0","DIGIT_9","LATIN_CAPITAL_A","LATIN_CAPITAL_Z","LATIN_SMALL_A","LATIN_SMALL_Z","isUpperLetter","cp","isLowerLetter","isLetter","isWhitespace","isDigit","isDot","isUnit","createError","tokenize","exp","tokens","len","charCodeAt","parseSign","parseNum","parseUnit","unit","PRECEDENCE","lex","buildBinaryExpNode","stack","op","nodeType","token","deep","closeIndex","beforeOp","parse","calcStr","calcNode","node","toPxInternal","ast","calcBasePosition","fontSizeCache","fontName","bk","paddingLeft","paddingRight","rgbMap","styleColorToRGB","dummy","position","defaultView","getComputedStyle","styleColor","colorToRGB0","hexToNum","hex","parseInt","createRGB","tripleHexToRGB","sextupleHexToRGB","r1","r2","g1","g2","b1","b2","testRGB","rateToByte","rgb","enableFocus","toNodeList","innerHTML","dom","arg","toNode","inner","disableBeforeTabIndex","previousSibling","nextSibling","loads","_testStr","fontFaceSet","legacy","testStr","ready","ratio","setRatio","devicePixelRatio","wh","scale","configurable","getIconProps","ICON_PROP_KEYS","quote","quoted","part","doms","props","tagProps","beforeStyle","getPropertyValue","clientWidth","isLiga","toPropArray","prop","toSimpleArray","iconProps","workData","normarize","isIconKey","loadImage","LRUCache_1","allCache","Image","onload","onerror","getCacheOrLoad0","cacheName","Path2DShim","PathCommandsParser_1","PathCommandsParser","_ops","CanvasRenderingContext2D","originalFill","apply","PathCommands","mag","sqrt","pow","dot","u","clamp","angle","acos","rotClockwise","cost","cos","sint","sin","rotCounterClockwise","midPoint","meanVec","pointMul","sum","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","xPrime2","rx2","ry2","lambda","factor","cPrime","x1UnitVector","x2UnitVector","theta","deltaTheta","rotate","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","Q","quadraticCurveTo","q","T","A","xAxisRotation","largeArcFlag","sweepFlag","PathCommands_1","pathTokens","builder","argsProvider","_commands","buildPush","arcTo","ellipse","numArgs","ops","subsequentCommand","fst","log","FontRuler","computeStyle","display","el_","FontRuler_1","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","activeCallback","inactiveCallback","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","lastResortFont","hasWebKitFallbackBug","widthsMatchLastResortWidths_","callbacks","cb","runner","HAS_WEBKIT_FALLBACK_BUG","match","userAgent","pathModule","upsideDown","ud","offsetX","xrate","yrate","path2d","sortArray","createArray","createArrayPromise","plist","setArrayField","compare","old","dummyPromise","catch","getScrollBarWidth","SCROLLBAR_SIZE","initDocumentInternal","initDocumentVar","global","random","cl","mem","getIgnoreCase","arrayFind","arrayFindIndex","predicate","analyzeUserAgent","Chrome","Firefox","Safari","ua","omits","defs","searchString","subjectString","isFinite","lastIndex","lastIndexOf","re","buttons","which","preventDefault","simple_header_layout_1","multi_layout_1","columns","normalizeLayout","seqId","LayoutObjectGrid","objects","objectGrid","objectMap","columnCount","rowLayout","_findStartCell","rowSpan","colSpan","rowIndex","objectGridRow","_getObjectGridRow","colIndex","_setWidthDataIfAbsent","_useColumnIndex","_columnWidths","_emptyDataCache","EmptyDataCache","hbLayouut","headerField","_body","colDef","_columnCount","widthDef","_d","bodyLayoutRow","recordIndex","layoutRow","_f","_g","_h","_j","_k","_columns","_headerCellIds","_headerObjects","_addHeaders","_headerObjectMap","roots","rowCells","_newRow","prev","newEmptyColumnData","newEmptyHeaderData","headers","rows","register","getIcons","tools","core","ListGrid_1","get_internal_1","defaultTheme","setDefault","getChoices","themes_1","registers","__importDefault","MATERIAL_DESIGN","BASIC","theme_1","BASIC_1","MATERIAL_DESIGN_1","Theme","builtin","defTheme","DEFAULT_BG_COLOR","cacheLinearGradient","getLinearGradient","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","FROZEN_ROWS_BG_COLOR","FROZEN_ROWS_BORDER_COLOR","BORDER_COLOR","getProp","superObj","defNames","superTheme","hasThemeProperty","hasProperty","strokeCircle","fillCircle","strokeRoundRect","fillRoundRect","roundRect","strokeRectLines","positions","preColor","pos1","pos2","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","boxSize","checkPoint","leftX","topY","size","leftWidth","rightWidth","leftLeftPos","leftTopPos","checkSize","backgroundColor","ox","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","BaseTooltip","detachTooltipElement","_tooltipElement","createTooltipElementInternal","tooltipElement","_getTooltipElement","Tooltip","BaseTooltip_1","TooltipElement_1","TooltipElement","Tooltip_1","TOOLTIP_INSTANCE_FACTORY","getTooltipInstanceInfo","getCellOverflowText","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","attachTooltipElement","moveTooltipElement","_isAttachCell","CONTENT_CLASSNAME","createTooltipDomElement"],"mappings":"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","file":"cheetahGrid.es5.js","sourcesContent":["(function(window){\n(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/content/svg/production/ic_add_48px.svg\":\n/*!*************************************************************************************************************************************!*\\\n  !*** ../node_modules/cheetah-grid-icon-svg-loader/lib!../node_modules/material-design-icons/content/svg/production/ic_add_48px.svg ***!\n  \\*************************************************************************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n\n/***/ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg\":\n/*!************************************************************************************************************************************!*\\\n  !*** ../node_modules/cheetah-grid-icon-svg-loader/lib!../node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg ***!\n  \\************************************************************************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n\n/***/ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\":\n/*!***************************************************************************************************************************************************!*\\\n  !*** ../node_modules/cheetah-grid-icon-svg-loader/lib!../node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg ***!\n  \\***************************************************************************************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n\n/***/ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\":\n/*!*************************************************************************************************************************************************!*\\\n  !*** ../node_modules/cheetah-grid-icon-svg-loader/lib!../node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg ***!\n  \\*************************************************************************************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};\n\n/***/ }),\n\n/***/ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg\":\n/*!*************************************************************************************************************************************!*\\\n  !*** ../node_modules/cheetah-grid-icon-svg-loader/lib!../node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg ***!\n  \\*************************************************************************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n\n/***/ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg\":\n/*!********************************************************************************************************************************************!*\\\n  !*** ../node_modules/cheetah-grid-icon-svg-loader/lib!../node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg ***!\n  \\********************************************************************************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n\n/***/ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg\":\n/*!******************************************************************************************************************************************!*\\\n  !*** ../node_modules/cheetah-grid-icon-svg-loader/lib!../node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg ***!\n  \\******************************************************************************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineInputElement.css\":\n/*!**************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/action/internal/InlineInputElement.css ***!\n  \\**************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineMenuElement.css\":\n/*!*************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/action/internal/InlineMenuElement.css ***!\n  \\*************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/SmallDialogInputElement.css\":\n/*!*******************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/action/internal/SmallDialogInputElement.css ***!\n  \\*******************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/ErrorMessageElement.css\":\n/*!****************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/message/internal/ErrorMessageElement.css ***!\n  \\****************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/MessageElement.css\":\n/*!***********************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/message/internal/MessageElement.css ***!\n  \\***********************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/WarningMessageElement.css\":\n/*!******************************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/columns/message/internal/WarningMessageElement.css ***!\n  \\******************************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/internal/style.css\":\n/*!**********************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/internal/style.css ***!\n  \\**********************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/tooltip/internal/TooltipElement.css\":\n/*!***************************************************************************************************************************************************!*\\\n  !*** ../node_modules/css-loader/dist/cjs.js??ref--5-1!../node_modules/postcss-loader/src??ref--5-2!../src/js/tooltip/internal/TooltipElement.css ***!\n  \\***************************************************************************************************************************************************/\n/*! exports provided: default */\n/*! ModuleConcatenation bailout: Module uses module.id */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../node_modules/css-loader/dist/runtime/api.js */ \"../node_modules/css-loader/dist/runtime/api.js\");\n/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);\n// Imports\n\nvar ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.i, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\n/* harmony default export */ __webpack_exports__[\"default\"] = (___CSS_LOADER_EXPORT___);\n\n\n/***/ }),\n\n/***/ \"../node_modules/css-loader/dist/runtime/api.js\":\n/*!******************************************************!*\\\n  !*** ../node_modules/css-loader/dist/runtime/api.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}\n\n/***/ }),\n\n/***/ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\":\n/*!*****************************************************************************!*\\\n  !*** ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js ***!\n  \\*****************************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce =  true ? __webpack_require__.nc : undefined;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};\n\n/***/ }),\n\n/***/ \"../node_modules/webpack/buildin/global.js\":\n/*!*************************************************!*\\\n  !*** ../node_modules/webpack/buildin/global.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports) {\n\nvar g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n\n\n/***/ }),\n\n/***/ \"../src/js/columns/action/internal/InlineInputElement.css\":\n/*!****************************************************************!*\\\n  !*** ../src/js/columns/action/internal/InlineInputElement.css ***!\n  \\****************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./InlineInputElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/action/internal/InlineMenuElement.css\":\n/*!***************************************************************!*\\\n  !*** ../src/js/columns/action/internal/InlineMenuElement.css ***!\n  \\***************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./InlineMenuElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/action/internal/SmallDialogInputElement.css\":\n/*!*********************************************************************!*\\\n  !*** ../src/js/columns/action/internal/SmallDialogInputElement.css ***!\n  \\*********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./SmallDialogInputElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/action/internal/SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/message/internal/ErrorMessageElement.css\":\n/*!******************************************************************!*\\\n  !*** ../src/js/columns/message/internal/ErrorMessageElement.css ***!\n  \\******************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./ErrorMessageElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/message/internal/MessageElement.css\":\n/*!*************************************************************!*\\\n  !*** ../src/js/columns/message/internal/MessageElement.css ***!\n  \\*************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./MessageElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/columns/message/internal/WarningMessageElement.css\":\n/*!********************************************************************!*\\\n  !*** ../src/js/columns/message/internal/WarningMessageElement.css ***!\n  \\********************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src??ref--5-2!./WarningMessageElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/columns/message/internal/WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/internal/style.css\":\n/*!************************************!*\\\n  !*** ../src/js/internal/style.css ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src??ref--5-2!./style.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/internal/style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"../src/js/tooltip/internal/TooltipElement.css\":\n/*!*****************************************************!*\\\n  !*** ../src/js/tooltip/internal/TooltipElement.css ***!\n  \\*****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar api = __webpack_require__(/*! ../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ \"../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = __webpack_require__(/*! !../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src??ref--5-2!./TooltipElement.css */ \"../node_modules/css-loader/dist/cjs.js?!../node_modules/postcss-loader/src/index.js?!../src/js/tooltip/internal/TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.i, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};\n\n/***/ }),\n\n/***/ \"./GridCanvasHelper.js\":\n/*!*****************************!*\\\n  !*** ./GridCanvasHelper.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.GridCanvasHelper = void 0;\n\nconst calc = __importStar(__webpack_require__(/*! ./internal/calc */ \"./internal/calc.js\"));\n\nconst canvashelper = __importStar(__webpack_require__(/*! ./tools/canvashelper */ \"./tools/canvashelper.js\"));\n\nconst fonts = __importStar(__webpack_require__(/*! ./internal/fonts */ \"./internal/fonts.js\"));\n\nconst inlineUtils = __importStar(__webpack_require__(/*! ./element/inlines */ \"./element/inlines.js\"));\n\nconst themes = __importStar(__webpack_require__(/*! ./themes */ \"./themes.js\"));\n\nconst canvases_1 = __webpack_require__(/*! ./internal/canvases */ \"./internal/canvases.js\");\n\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\n\nconst InlineDrawer_1 = __webpack_require__(/*! ./element/InlineDrawer */ \"./element/InlineDrawer.js\");\n\nconst Rect_1 = __webpack_require__(/*! ./internal/Rect */ \"./internal/Rect.js\");\n\nconst color_1 = __webpack_require__(/*! ./internal/color */ \"./internal/color.js\");\n\nconst {\n  toBoxArray\n} = utils_1.style;\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\n\nfunction invalidateCell(context, grid) {\n  const {\n    col,\n    row\n  } = context;\n  grid.invalidateCell(col, row);\n}\n\nfunction getColor(color, col, row, grid, context) {\n  return utils_1.getOrApply(color, {\n    col,\n    row,\n    grid,\n    context\n  });\n}\n\nfunction getFont(font, col, row, grid, context) {\n  if (font == null) {\n    return undefined;\n  }\n\n  return utils_1.getOrApply(font, {\n    col,\n    row,\n    grid,\n    context\n  });\n}\n\nfunction getThemeColor(grid, ...names) {\n  const gridThemeColor = utils_1.getChainSafe(grid.theme, ...names);\n\n  if (gridThemeColor == null) {\n    // use default theme\n    return utils_1.getChainSafe(themes.getDefault(), ...names);\n  }\n\n  if (typeof gridThemeColor !== \"function\") {\n    return gridThemeColor;\n  }\n\n  let defaultThemeColor; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  return args => {\n    const color = gridThemeColor(args);\n\n    if (color != null) {\n      // use grid theme\n      return color;\n    } // use default theme\n\n\n    defaultThemeColor = defaultThemeColor || utils_1.getChainSafe(themes.getDefault(), ...names);\n    return utils_1.getOrApply(defaultThemeColor, args); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  };\n}\n\nfunction testFontLoad(font, value, context, grid) {\n  if (font) {\n    if (!fonts.check(font, value)) {\n      fonts.load(font, value, () => invalidateCell(context, grid));\n      return false;\n    }\n  }\n\n  return true;\n}\n\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n  function drawInline(inline, offsetLeft, offsetRight) {\n    if (inline.canDraw()) {\n      ctx.save();\n\n      try {\n        ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n        ctx.font = inline.font() || ctx.font;\n        inline.draw({\n          ctx,\n          canvashelper,\n          rect,\n          offset,\n          offsetLeft,\n          offsetRight,\n          offsetTop,\n          offsetBottom\n        });\n      } finally {\n        ctx.restore();\n      }\n    } else {\n      inline.onReady(() => grid.invalidateCell(col, row)); //noop\n    }\n  }\n\n  if (inlines.length === 1) {\n    //1\n    const inline = inlines[0];\n    drawInline(inline, 0, 0);\n  } else {\n    const inlineWidths = inlines.map(inline => (inline.width({\n      ctx\n    }) || 0) - 0);\n    let offsetRight = inlineWidths.reduce((a, b) => a + b);\n    let offsetLeft = 0;\n    inlines.forEach((inline, index) => {\n      const inlineWidth = inlineWidths[index];\n      offsetRight -= inlineWidth;\n      drawInline(inline, offsetLeft, offsetRight);\n      offsetLeft += inlineWidth;\n    });\n  }\n}\n\nfunction buildInlines(icons, inline) {\n  return inlineUtils.buildInlines(icons, inline || \"\");\n}\n\nfunction inlineToString(inline) {\n  return inlineUtils.string(inline);\n}\n\nfunction getOverflowInline(textOverflow) {\n  if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\n    return INLINE_ELLIPSIS;\n  }\n\n  textOverflow = textOverflow.trim();\n\n  if (textOverflow.length === 1) {\n    return inlineUtils.of(textOverflow[0]);\n  }\n\n  return INLINE_ELLIPSIS;\n}\n\nfunction isAllowOverflow(textOverflow) {\n  return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\n}\n\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n  const maxWidth = width - 3;\n  /*buffer*/\n\n  let lineWidth = 0;\n\n  for (let i = 0; i < inlines.length; i++) {\n    const inline = inlines[i];\n    const inlineWidth = (inline.width({\n      ctx\n    }) || 0) - 0;\n\n    if (lineWidth + inlineWidth > maxWidth) {\n      return {\n        index: i,\n        lineWidth,\n        remWidth: maxWidth - lineWidth\n      };\n    }\n\n    lineWidth += inlineWidth;\n  }\n\n  return null;\n}\n\nfunction isOverflowInlines(ctx, inlines, width) {\n  return !!getOverflowInlinesIndex(ctx, inlines, width);\n}\n\nfunction breakWidthInlines(ctx, inlines, width) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\n  if (!indexData) {\n    return {\n      beforeInlines: inlines,\n      overflow: false,\n      afterInlines: []\n    };\n  }\n\n  const {\n    index,\n    remWidth\n  } = indexData;\n  const inline = inlines[index];\n  const beforeInlines = inlines.slice(0, index);\n  const afterInlines = [];\n\n  if (inline.canBreak()) {\n    let {\n      before,\n      after\n    } = inline.breakWord(ctx, remWidth);\n\n    if (!before && !beforeInlines.length) {\n      ({\n        before,\n        after\n      } = inline.breakAll(ctx, remWidth));\n    }\n\n    if (!before && !beforeInlines.length) {\n      // Always return one char\n      ({\n        before,\n        after\n      } = inline.splitIndex(1));\n    }\n\n    if (before) {\n      beforeInlines.push(before);\n    }\n\n    if (after) {\n      afterInlines.push(after);\n    }\n\n    afterInlines.push(...inlines.slice(index + 1));\n  } else {\n    if (!beforeInlines.length) {\n      // Always return one char\n      beforeInlines.push(inline);\n    }\n\n    afterInlines.push(...inlines.slice(beforeInlines.length));\n  }\n\n  return {\n    beforeInlines,\n    overflow: true,\n    afterInlines\n  };\n}\n\nfunction truncateInlines(ctx, inlines, width, option) {\n  const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n\n  if (!indexData) {\n    return {\n      inlines,\n      overflow: false\n    };\n  }\n\n  const {\n    index,\n    lineWidth\n  } = indexData;\n  const inline = inlines[index];\n  const overflowInline = getOverflowInline(option);\n  const ellipsisWidth = overflowInline.width({\n    ctx\n  });\n  const remWidth = width - lineWidth - ellipsisWidth;\n  const result = inlines.slice(0, index);\n\n  if (inline.canBreak()) {\n    const {\n      before\n    } = inline.breakAll(ctx, remWidth);\n\n    if (before) {\n      result.push(before);\n    }\n  }\n\n  result.push(overflowInline);\n  return {\n    inlines: result,\n    overflow: true\n  };\n}\n\nfunction _inlineRect(grid, ctx, inline, rect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  textOverflow,\n  icons\n}) {\n  //style\n  ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n  let inlines = buildInlines(icons, inline);\n\n  if (isAllowOverflow(textOverflow) && isOverflowInlines(ctx, inlines, rect.width)) {\n    const {\n      inlines: truncInlines,\n      overflow\n    } = truncateInlines(ctx, inlines, rect.width, textOverflow);\n    inlines = truncInlines;\n    grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n  } else {\n    grid.setCellOverflowText(col, row, false);\n  }\n\n  drawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n} // eslint-disable-next-line complexity\n\n\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, {\n  offset,\n  color,\n  textAlign,\n  textBaseline,\n  font,\n  lineHeight,\n  autoWrapText,\n  lineClamp,\n  textOverflow,\n  icons\n}) {\n  //style\n  ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  ctx.font = font || ctx.font;\n\n  if (lineClamp === \"auto\") {\n    const rectHeight = rect.height - offset * 2 - 2;\n    /*offset added by Inline#draw*/\n\n    lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n  }\n\n  let buildedMultiInlines;\n\n  if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n    const {\n      width\n    } = rect;\n    buildedMultiInlines = [];\n    const procLineClamp = lineClamp > 0 ? (inlines, hasNext) => {\n      if (buildedMultiInlines.length + 1 >= lineClamp) {\n        if (inlines.length === 0 && hasNext) {\n          buildedMultiInlines.push([getOverflowInline(textOverflow)]);\n          grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n        } else {\n          const {\n            inlines: truncInlines,\n            overflow\n          } = truncateInlines(ctx, inlines, width, textOverflow);\n          buildedMultiInlines.push(hasNext && !overflow ? truncInlines.concat([getOverflowInline(textOverflow)]) : truncInlines);\n\n          if (overflow || hasNext) {\n            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n          }\n        }\n\n        return false;\n      }\n\n      return true;\n    } : () => true;\n    const procLine = autoWrapText ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      while (inlines.length) {\n        if (!procLineClamp(inlines, hasNext)) {\n          return false;\n        }\n\n        const {\n          beforeInlines,\n          afterInlines\n        } = breakWidthInlines(ctx, inlines, width);\n        buildedMultiInlines.push(beforeInlines);\n        inlines = afterInlines;\n      }\n\n      return true;\n    } : isAllowOverflow(textOverflow) ? (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      const {\n        inlines: truncInlines,\n        overflow\n      } = truncateInlines(ctx, inlines, width, textOverflow);\n      buildedMultiInlines.push(truncInlines);\n\n      if (overflow) {\n        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n      }\n\n      return true;\n    } : (inlines, hasNext) => {\n      if (!procLineClamp(inlines, hasNext)) {\n        return false;\n      }\n\n      buildedMultiInlines.push(inlines);\n      return true;\n    };\n    grid.setCellOverflowText(col, row, false);\n\n    for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n      const inline = multiInlines[lineRow];\n      const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n\n      if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n        break;\n      }\n    }\n  } else {\n    grid.setCellOverflowText(col, row, false);\n    buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n  }\n\n  let paddingTop = 0;\n  let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n\n  if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\n    const em = canvases_1.getFontSize(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop += pad;\n    paddingBottom -= pad;\n  } else if (ctx.textBaseline === \"bottom\" || ctx.textBaseline === \"alphabetic\" || ctx.textBaseline === \"ideographic\") {\n    const em = canvases_1.getFontSize(ctx, ctx.font).height;\n    const pad = (lineHeight - em) / 2;\n    paddingTop -= pad;\n    paddingBottom += pad;\n  }\n\n  buildedMultiInlines.forEach(buildedInline => {\n    drawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n    paddingTop += lineHeight;\n    paddingBottom -= lineHeight;\n  });\n}\n\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\n  const startColorRGB = color_1.colorToRGB(startColor);\n  const endColorRGB = color_1.colorToRGB(endColor);\n\n  const getRGB = colorName => {\n    const start = startColorRGB[colorName];\n    const end = endColorRGB[colorName];\n\n    if (elapsedTime >= 1) {\n      return end;\n    }\n\n    if (elapsedTime <= 0) {\n      return start;\n    }\n\n    const diff = start - end;\n    return Math.ceil(start - diff * elapsedTime);\n  };\n\n  return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\n}\n\nfunction drawCheckbox(ctx, rect, col, row, check, helper, {\n  animElapsedTime = 1,\n  uncheckBgColor = helper.theme.checkbox.uncheckBgColor,\n  checkBgColor = helper.theme.checkbox.checkBgColor,\n  borderColor = helper.theme.checkbox.borderColor,\n  textAlign = \"center\",\n  textBaseline = \"middle\"\n}, positionOpt = {}) {\n  const boxWidth = canvashelper.measureCheckbox(ctx).width;\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1\n  /*+1*/\n  , boxWidth + 1\n  /*+1*/\n  , positionOpt);\n  uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n  checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n  borderColor = helper.getColor(borderColor, col, row, ctx);\n\n  if (0 < animElapsedTime && animElapsedTime < 1) {\n    uncheckBgColor = check ? uncheckBgColor : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n    checkBgColor = check ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime) : checkBgColor;\n  }\n\n  canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n    uncheckBgColor,\n    checkBgColor,\n    borderColor\n  });\n}\n\nfunction drawRadioButton(ctx, rect, col, row, check, helper, {\n  animElapsedTime = 1,\n  checkColor = helper.theme.radioButton.checkColor,\n  uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor,\n  checkBorderColor = helper.theme.radioButton.checkBorderColor,\n  uncheckBgColor = helper.theme.radioButton.uncheckBgColor,\n  checkBgColor = helper.theme.radioButton.checkBgColor,\n  textAlign = \"center\",\n  textBaseline = \"middle\"\n}, positionOpt = {}) {\n  const boxWidth = canvashelper.measureRadioButton(ctx).width;\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1\n  /*+1*/\n  , boxWidth + 1\n  /*+1*/\n  , positionOpt);\n  checkColor = helper.getColor(checkColor, col, row, ctx);\n  uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\n  checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\n  uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n  checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n  let borderColor = check ? checkBorderColor : uncheckBorderColor;\n  let bgColor = check ? checkBgColor : uncheckBgColor;\n\n  if (0 < animElapsedTime && animElapsedTime < 1) {\n    borderColor = check ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime) : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\n    bgColor = check ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime) : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n  }\n\n  canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\n    checkColor,\n    borderColor,\n    bgColor\n  });\n}\n\nclass ThemeResolver {\n  constructor(grid) {\n    this._checkbox = null;\n    this._radioButton = null;\n    this._button = null;\n    this._header = null;\n    this._grid = grid;\n  }\n\n  getThemeColor(...name) {\n    return getThemeColor(this._grid, ...name);\n  }\n\n  get font() {\n    return getThemeColor(this._grid, \"font\");\n  }\n\n  get underlayBackgroundColor() {\n    return getThemeColor(this._grid, \"underlayBackgroundColor\");\n  } // color\n\n\n  get color() {\n    return getThemeColor(this._grid, \"color\");\n  }\n\n  get frozenRowsColor() {\n    return getThemeColor(this._grid, \"frozenRowsColor\");\n  } // background\n\n\n  get defaultBgColor() {\n    return getThemeColor(this._grid, \"defaultBgColor\");\n  }\n\n  get frozenRowsBgColor() {\n    return getThemeColor(this._grid, \"frozenRowsBgColor\");\n  }\n\n  get selectionBgColor() {\n    return getThemeColor(this._grid, \"selectionBgColor\");\n  }\n\n  get highlightBgColor() {\n    return getThemeColor(this._grid, \"highlightBgColor\");\n  } // border\n\n\n  get borderColor() {\n    return getThemeColor(this._grid, \"borderColor\");\n  }\n\n  get frozenRowsBorderColor() {\n    return getThemeColor(this._grid, \"frozenRowsBorderColor\");\n  }\n\n  get highlightBorderColor() {\n    return getThemeColor(this._grid, \"highlightBorderColor\");\n  }\n\n  get checkbox() {\n    const grid = this._grid;\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getThemeColor(grid, \"checkbox\", \"uncheckBgColor\");\n      },\n\n      get checkBgColor() {\n        return getThemeColor(grid, \"checkbox\", \"checkBgColor\");\n      },\n\n      get borderColor() {\n        return getThemeColor(grid, \"checkbox\", \"borderColor\");\n      }\n\n    });\n  }\n\n  get radioButton() {\n    const grid = this._grid;\n    return this._radioButton || (this._radioButton = {\n      get checkColor() {\n        return getThemeColor(grid, \"radioButton\", \"checkColor\");\n      },\n\n      get uncheckBorderColor() {\n        return getThemeColor(grid, \"radioButton\", \"uncheckBorderColor\");\n      },\n\n      get checkBorderColor() {\n        return getThemeColor(grid, \"radioButton\", \"checkBorderColor\");\n      },\n\n      get uncheckBgColor() {\n        return getThemeColor(grid, \"radioButton\", \"uncheckBgColor\");\n      },\n\n      get checkBgColor() {\n        return getThemeColor(grid, \"radioButton\", \"checkBgColor\");\n      }\n\n    });\n  }\n\n  get button() {\n    const grid = this._grid;\n    return this._button || (this._button = {\n      get color() {\n        return getThemeColor(grid, \"button\", \"color\");\n      },\n\n      get bgColor() {\n        return getThemeColor(grid, \"button\", \"bgColor\");\n      }\n\n    });\n  }\n\n  get header() {\n    const grid = this._grid;\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getThemeColor(grid, \"header\", \"sortArrowColor\");\n      }\n\n    });\n  }\n\n}\n\nfunction strokeRect(ctx, color, left, top, width, height) {\n  if (!Array.isArray(color)) {\n    if (color) {\n      ctx.strokeStyle = color;\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    const borderColors = toBoxArray(color);\n    canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n  }\n}\n\nclass GridCanvasHelper {\n  constructor(grid) {\n    this._grid = grid;\n    this._theme = new ThemeResolver(grid);\n  }\n\n  createCalculator(context, font) {\n    return {\n      calcWidth(width) {\n        return calc.toPx(width, {\n          get full() {\n            const rect = context.getRect();\n            return rect.width;\n          },\n\n          get em() {\n            return canvases_1.getFontSize(context.getContext(), font).width;\n          }\n\n        });\n      },\n\n      calcHeight(height) {\n        return calc.toPx(height, {\n          get full() {\n            const rect = context.getRect();\n            return rect.height;\n          },\n\n          get em() {\n            return canvases_1.getFontSize(context.getContext(), font).height;\n          }\n\n        });\n      }\n\n    };\n  }\n\n  getColor(color, col, row, ctx) {\n    return getColor(color, col, row, this._grid, ctx);\n  }\n\n  toBoxArray(obj) {\n    return toBoxArray(obj);\n  }\n\n  toBoxPixelArray(value, context, font) {\n    if (typeof value === \"string\" || Array.isArray(value)) {\n      const calculator = this.createCalculator(context, font);\n      const box = toBoxArray(value);\n      return [calculator.calcHeight(box[0]), calculator.calcWidth(box[1]), calculator.calcHeight(box[2]), calculator.calcWidth(box[3])];\n    }\n\n    return toBoxArray(value);\n  }\n\n  get theme() {\n    return this._theme;\n  }\n\n  drawWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n\n    if (!drawRect) {\n      return;\n    }\n\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      ctx.beginPath();\n      ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height); //clip\n\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  drawBorderWithClip(context, draw) {\n    const drawRect = context.getDrawRect();\n\n    if (!drawRect) {\n      return;\n    }\n\n    const rect = context.getRect();\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      //clip\n      ctx.beginPath();\n      let clipLeft = drawRect.left;\n      let clipWidth = drawRect.width;\n\n      if (drawRect.left === rect.left) {\n        clipLeft += -1;\n        clipWidth += 1;\n      }\n\n      let clipTop = drawRect.top;\n      let clipHeight = drawRect.height;\n\n      if (drawRect.top === rect.top) {\n        clipTop += -1;\n        clipHeight += 1;\n      }\n\n      ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n      ctx.clip();\n      draw(ctx);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  text(text, context, {\n    padding,\n    offset = 2,\n    color,\n    textAlign = \"left\",\n    textBaseline = \"middle\",\n    font,\n    textOverflow = \"clip\",\n    icons\n  } = {}) {\n    let rect = context.getRect();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    this.drawWithClip(context, ctx => {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n\n      if (padding) {\n        const paddingNums = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + paddingNums[3];\n        const top = rect.top + paddingNums[0];\n        const width = rect.width - paddingNums[1] - paddingNums[3];\n        const height = rect.height - paddingNums[0] - paddingNums[2];\n        rect = new Rect_1.Rect(left, top, width, height);\n      }\n\n      _inlineRect(this._grid, ctx, text, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  multilineText(multilines, context, {\n    padding,\n    offset = 2,\n    color,\n    textAlign = \"left\",\n    textBaseline = \"middle\",\n    font,\n    lineHeight = \"1em\",\n    autoWrapText = false,\n    lineClamp = 0,\n    textOverflow = \"clip\",\n    icons\n  } = {}) {\n    let rect = context.getRect();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    this.drawWithClip(context, ctx => {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n\n      if (padding) {\n        const paddingNums = this.toBoxPixelArray(padding, context, font);\n        const left = rect.left + paddingNums[3];\n        const top = rect.top + paddingNums[0];\n        const width = rect.width - paddingNums[1] - paddingNums[3];\n        const height = rect.height - paddingNums[0] - paddingNums[2];\n        rect = new Rect_1.Rect(left, top, width, height);\n      }\n\n      const calculator = this.createCalculator(context, font);\n      lineHeight = calculator.calcHeight(lineHeight);\n\n      _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  fillText(text, x, y, context, {\n    color,\n    textAlign = \"left\",\n    textBaseline = \"top\",\n    font\n  } = {}) {\n    const {\n      col,\n      row\n    } = context;\n\n    if (!color) {\n      ({\n        color\n      } = this.theme); // header color\n\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell && isFrozenCell.row) {\n        color = this.theme.frozenRowsColor;\n      }\n    }\n\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n      ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n      ctx.textAlign = textAlign;\n      ctx.textBaseline = textBaseline;\n      ctx.font = font || ctx.font;\n      ctx.fillText(text, x, y);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  fillCell(context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    });\n  }\n\n  fillCellWithState(context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillCell(context, option);\n  }\n\n  fillRect(rect, context, {\n    fillColor = this.theme.defaultBgColor\n  } = {}) {\n    const ctx = context.getContext();\n    ctx.save();\n\n    try {\n      const {\n        col,\n        row\n      } = context;\n      ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height);\n      ctx.fill();\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  fillRectWithState(rect, context, option = {}) {\n    option.fillColor = this.getFillColorState(context, option);\n    this.fillRect(rect, context, option);\n  }\n\n  getFillColorState(context, option = {}) {\n    const sel = context.getSelection();\n    const {\n      col,\n      row\n    } = context;\n\n    if (!utils_1.cellEquals(sel.select, context) && utils_1.cellInRange(sel.range, col, row)) {\n      return this.theme.selectionBgColor;\n    }\n\n    if (option.fillColor) {\n      return option.fillColor;\n    }\n\n    if (utils_1.cellEquals(sel.select, context)) {\n      return this.theme.highlightBgColor;\n    }\n\n    const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      return this.theme.frozenRowsBgColor;\n    }\n\n    return this.theme.defaultBgColor;\n  }\n\n  border(context, {\n    borderColor = this.theme.borderColor,\n    lineWidth = 1\n  } = {}) {\n    const rect = context.getRect();\n    this.drawBorderWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      const borderColors = getColor(borderColor, col, row, this._grid, ctx);\n\n      if (lineWidth === 1) {\n        ctx.lineWidth = 1;\n        strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n      } else if (lineWidth === 2) {\n        ctx.lineWidth = 2;\n        strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n      } else {\n        ctx.lineWidth = lineWidth;\n        const startOffset = lineWidth / 2 - 1;\n        strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n      }\n    });\n  } // Unused in main\n\n\n  borderWithState(context, option = {}) {\n    const rect = context.getRect();\n    const sel = context.getSelection();\n    const {\n      col,\n      row\n    } = context; //\n\n    if (utils_1.cellEquals(sel.select, context)) {\n      option.borderColor = this.theme.highlightBorderColor;\n      option.lineWidth = 2;\n      this.border(context, option);\n    } else {\n      // header color\n      const isFrozenCell = this._grid.isFrozenCell(col, row);\n\n      if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n        option.borderColor = this.theme.frozenRowsBorderColor;\n      }\n\n      option.lineWidth = 1;\n      this.border(context, option); //\n\n      const sel = this._grid.selection.select;\n\n      if (sel.col + 1 === col && sel.row === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        });\n      } else if (sel.col === col && sel.row + 1 === row) {\n        //\n        this.drawBorderWithClip(context, ctx => {\n          const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        });\n      }\n    }\n  }\n\n  buildCheckBoxInline(check, context, option = {}) {\n    // eslint-disable-next-line @typescript-eslint/no-this-alias\n    const self = this;\n    const ctx = context.getContext();\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\n    return new InlineDrawer_1.InlineDrawer({\n      draw,\n      width: boxWidth + 3,\n      height: boxWidth + 1,\n      color: undefined\n    });\n\n    function draw({\n      ctx,\n      rect,\n      offset,\n      offsetLeft,\n      offsetRight,\n      offsetTop,\n      offsetBottom\n    }) {\n      const {\n        col,\n        row\n      } = context;\n      drawCheckbox(ctx, rect, col, row, check, self, option, {\n        offset: offset + 1,\n        padding: {\n          left: offsetLeft + 1,\n          right: offsetRight,\n          top: offsetTop,\n          bottom: offsetBottom\n        }\n      });\n    }\n  }\n\n  checkbox(check, context, option = {}) {\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      drawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n    });\n  }\n\n  radioButton(check, context, option = {}) {\n    this.drawWithClip(context, ctx => {\n      const {\n        col,\n        row\n      } = context;\n      drawRadioButton(ctx, context.getRect(), col, row, check, this, option);\n    });\n  }\n\n  button(caption, context, {\n    bgColor = this.theme.button.bgColor,\n    padding,\n    offset = 2,\n    color = this.theme.button.color,\n    textAlign = \"center\",\n    textBaseline = \"middle\",\n    shadow,\n    font,\n    textOverflow = \"clip\",\n    icons\n  } = {}) {\n    const rect = context.getRect();\n    this.drawWithClip(context, ctx => {\n      font = getFont(font, context.col, context.row, this._grid, ctx);\n      const {\n        col,\n        row\n      } = context;\n      const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n      const left = rect.left + paddingNums[3];\n      const top = rect.top + paddingNums[0];\n      const width = rect.width - paddingNums[1] - paddingNums[3];\n      const height = rect.height - paddingNums[0] - paddingNums[2];\n      bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\n      canvashelper.drawButton(ctx, left, top, width, height, {\n        bgColor,\n        radius: rect.height / 8,\n        // offset,\n        shadow\n      });\n\n      _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\n        offset,\n        color,\n        textAlign,\n        textBaseline,\n        font,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n  testFontLoad(font, value, context) {\n    return testFontLoad(font, value, context, this._grid);\n  }\n\n}\n\nexports.GridCanvasHelper = GridCanvasHelper;\n\n/***/ }),\n\n/***/ \"./ListGrid.js\":\n/*!*********************!*\\\n  !*** ./ListGrid.js ***!\n  \\*********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ListGrid = void 0;\n\nconst icons = __importStar(__webpack_require__(/*! ./internal/icons */ \"./internal/icons.js\"));\n\nconst themes = __importStar(__webpack_require__(/*! ./themes */ \"./themes.js\"));\n\nconst data_1 = __webpack_require__(/*! ./data */ \"./data.js\");\n\nconst layout_map_1 = __webpack_require__(/*! ./list-grid/layout-map */ \"./list-grid/layout-map/index.js\");\n\nconst MessageHandler_1 = __webpack_require__(/*! ./columns/message/MessageHandler */ \"./columns/message/MessageHandler.js\");\n\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\n\nconst style_1 = __webpack_require__(/*! ./columns/style */ \"./columns/style.js\");\n\nconst DrawGrid_1 = __webpack_require__(/*! ./core/DrawGrid */ \"./core/DrawGrid.js\");\n\nconst GridCanvasHelper_1 = __webpack_require__(/*! ./GridCanvasHelper */ \"./GridCanvasHelper.js\");\n\nconst style_2 = __webpack_require__(/*! ./header/style */ \"./header/style.js\");\n\nconst LG_EVENT_TYPE_1 = __webpack_require__(/*! ./list-grid/LG_EVENT_TYPE */ \"./list-grid/LG_EVENT_TYPE.js\");\n\nconst Rect_1 = __webpack_require__(/*! ./internal/Rect */ \"./internal/Rect.js\");\n\nconst TooltipHandler_1 = __webpack_require__(/*! ./tooltip/TooltipHandler */ \"./tooltip/TooltipHandler.js\"); //protected symbol\n\n\nconst symbolManager_1 = __webpack_require__(/*! ./internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst paste_utils_1 = __webpack_require__(/*! ./internal/paste-utils */ \"./internal/paste-utils.js\");\n/** @private */\n\n\nconst _ = symbolManager_1.getProtectedSymbol(); //private methods\n\n/** @private */\n\n\nfunction _getCellRange(grid, col, row) {\n  return grid[_].layoutMap.getCellRange(col, row);\n}\n/** @private */\n\n\nfunction _updateRect(grid, col, row, context) {\n  context.setRectFilter(rect => {\n    let {\n      left,\n      right,\n      top,\n      bottom\n    } = rect;\n\n    const {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    } = _getCellRange(grid, col, row);\n\n    for (let c = col - 1; c >= startCol; c--) {\n      left -= grid.getColWidth(c);\n    }\n\n    for (let c = col + 1; c <= endCol; c++) {\n      right += grid.getColWidth(c);\n    }\n\n    for (let r = row - 1; r >= startRow; r--) {\n      top -= grid.getRowHeight(r);\n    }\n\n    for (let r = row + 1; r <= endRow; r++) {\n      bottom += grid.getRowHeight(r);\n    }\n\n    return Rect_1.Rect.bounds(left, top, right, bottom);\n  });\n}\n/** @private */\n\n\nfunction _getCellValue(grid, col, row) {\n  if (row < grid[_].layoutMap.headerRowCount) {\n    const {\n      caption\n    } = grid[_].layoutMap.getHeader(col, row);\n\n    return typeof caption === \"function\" ? caption() : caption;\n  } else {\n    const {\n      field\n    } = grid[_].layoutMap.getBody(col, row);\n\n    return _getField(grid, field, row);\n  }\n}\n/** @private */\n\n\nfunction _setCellValue(grid, col, row, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n  if (row < grid[_].layoutMap.headerRowCount) {\n    // nop\n    return false;\n  } else {\n    const {\n      field\n    } = grid[_].layoutMap.getBody(col, row);\n\n    if (field == null) {\n      return false;\n    }\n\n    const index = _getRecordIndexByRow(grid, row);\n\n    return grid[_].dataSource.setField(index, field, value);\n  }\n}\n/** @private */\n\n\nfunction _getCellMessage(grid, col, row) {\n  if (row < grid[_].layoutMap.headerRowCount) {\n    return null;\n  } else {\n    const {\n      message\n    } = grid[_].layoutMap.getBody(col, row);\n\n    if (!message) {\n      return null;\n    }\n\n    if (!Array.isArray(message)) {\n      return _getField(grid, message, row);\n    }\n\n    const promises = [];\n\n    for (let index = 0; index < message.length; index++) {\n      const msg = _getField(grid, message[index], row);\n\n      if (utils_1.isPromise(msg)) {\n        promises.push(msg);\n      } else if (MessageHandler_1.hasMessage(msg)) {\n        return msg;\n      }\n    }\n\n    if (!promises.length) {\n      return null;\n    }\n\n    return new Promise((resolve, reject) => {\n      promises.forEach(p => {\n        p.then(msg => {\n          if (MessageHandler_1.hasMessage(msg)) {\n            resolve(msg);\n          }\n        }, reject);\n      });\n    });\n  }\n}\n\nfunction _getCellIcon0(grid, icon, row) {\n  if (Array.isArray(icon)) {\n    return icon.map(i => _getCellIcon0(grid, i, row));\n  }\n\n  if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\n    return _getField(grid, icon, row);\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  const retIcon = {}; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  const iconOpt = icon;\n  icons.iconPropKeys.forEach(k => {\n    if (iconOpt[k]) {\n      const f = _getField(grid, iconOpt[k], row);\n\n      if (f != null) {\n        retIcon[k] = f;\n      } else {\n        if (!_hasField(grid, iconOpt[k], row)) {\n          retIcon[k] = iconOpt[k];\n        }\n      }\n    }\n  });\n  return retIcon;\n}\n/** @private */\n\n\nfunction _getCellIcon(grid, col, row) {\n  const {\n    icon\n  } = grid[_].layoutMap.getBody(col, row);\n\n  if (icon == null) {\n    return null;\n  }\n\n  return _getCellIcon0(grid, icon, row);\n}\n/** @private */\n\n\nfunction _getField(grid, field, row) {\n  if (field == null) {\n    return null;\n  }\n\n  if (row < grid[_].layoutMap.headerRowCount) {\n    return null;\n  } else {\n    const index = _getRecordIndexByRow(grid, row);\n\n    return grid[_].dataSource.getField(index, field);\n  }\n}\n/** @private */\n\n\nfunction _hasField(grid, field, row) {\n  if (field == null) {\n    return false;\n  }\n\n  if (row < grid[_].layoutMap.headerRowCount) {\n    return false;\n  } else {\n    const index = _getRecordIndexByRow(grid, row);\n\n    return grid[_].dataSource.hasField(index, field);\n  }\n}\n/** @private */\n\n\nfunction _onDrawValue(grid, cellValue, context, {\n  col,\n  row\n}, style, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ndraw) {\n  const helper = grid[_].gridCanvasHelper;\n\n  const drawCellBg = ({\n    bgColor\n  } = {}) => {\n    const fillOpt = {\n      fillColor: bgColor\n    }; //cell\n\n    helper.fillCellWithState(context, fillOpt);\n  };\n\n  const drawCellBorder = () => {\n    if (context.col === grid.frozenColCount - 1) {\n      //\n      const rect = context.getRect();\n      helper.drawWithClip(context, ctx => {\n        const borderColor = context.row >= grid.frozenRowCount ? helper.theme.borderColor : helper.theme.frozenRowsBorderColor;\n        const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.right - 2.5, rect.top);\n          ctx.lineTo(rect.right - 2.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    }\n\n    _borderWithState(grid, helper, context);\n  };\n\n  const drawCellBase = ({\n    bgColor\n  } = {}) => {\n    drawCellBg({\n      bgColor\n    });\n    drawCellBorder();\n  };\n\n  const info = {\n    getRecord: () => grid.getRowRecord(row),\n    getIcon: () => _getCellIcon(grid, col, row),\n    getMessage: () => _getCellMessage(grid, col, row),\n    messageHandler: grid[_].messageHandler,\n    style,\n    drawCellBase,\n    drawCellBg,\n    drawCellBorder\n  };\n  return draw(cellValue, info, context, grid);\n}\n/** @private */\n\n\nfunction _borderWithState(grid, helper, context) {\n  const {\n    col,\n    row\n  } = context;\n  const sel = grid.selection.select;\n  const {\n    layoutMap\n  } = grid[_];\n  const rect = context.getRect();\n  const option = {};\n  const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\n  const selId = layoutMap.getCellId(sel.col, sel.row);\n\n  function isSelectCell(col, row) {\n    if (col === sel.col && row === sel.row) {\n      return true;\n    }\n\n    return selId != null && layoutMap.getCellId(col, row) === selId && layoutMap.getRecordIndexByRow(row) === selRecordIndex;\n  } //\n\n\n  if (isSelectCell(col, row)) {\n    option.borderColor = helper.theme.highlightBorderColor;\n    option.lineWidth = 2;\n    helper.border(context, option);\n  } else {\n    option.lineWidth = 1; // header color\n\n    const isFrozenCell = grid.isFrozenCell(col, row);\n\n    if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n      option.borderColor = helper.theme.frozenRowsBorderColor;\n    }\n\n    helper.border(context, option); //\n\n    if (col > 0 && isSelectCell(col - 1, row)) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n\n        if (borderColors[1]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[1];\n          ctx.beginPath();\n          ctx.moveTo(rect.left - 0.5, rect.top);\n          ctx.lineTo(rect.left - 0.5, rect.bottom);\n          ctx.stroke();\n        }\n      });\n    } else if (row > 0 && isSelectCell(col, row - 1)) {\n      //\n      helper.drawBorderWithClip(context, ctx => {\n        const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n\n        if (borderColors[0]) {\n          ctx.lineWidth = 1;\n          ctx.strokeStyle = borderColors[0];\n          ctx.beginPath();\n          ctx.moveTo(rect.left, rect.top - 0.5);\n          ctx.lineTo(rect.right, rect.top - 0.5);\n          ctx.stroke();\n        }\n      });\n    }\n  }\n}\n/** @private */\n\n\nfunction _refreshHeader(grid) {\n  var _a;\n\n  const protectedSpace = grid[_];\n\n  if (protectedSpace.headerEvents) {\n    protectedSpace.headerEvents.forEach(id => grid.unlisten(id));\n  }\n\n  const headerEvents = grid[_].headerEvents = [];\n  headerEvents.forEach(id => grid.unlisten(id));\n  let layoutMap;\n\n  if (protectedSpace.layout && (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\n    layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\n  } else {\n    layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_a = protectedSpace.header) !== null && _a !== void 0 ? _a : []);\n  }\n\n  layoutMap.headerObjects.forEach(cell => {\n    const ids = cell.headerType.bindGridEvent(grid, cell.id);\n    headerEvents.push(...ids);\n\n    if (cell.style) {\n      if (cell.style instanceof style_2.BaseStyle) {\n        const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n        headerEvents.push(id);\n      }\n    }\n\n    if (cell.action) {\n      const ids = cell.action.bindGridEvent(grid, cell.id);\n      headerEvents.push(...ids);\n    }\n  });\n  layoutMap.columnObjects.forEach(col => {\n    if (col.action) {\n      const ids = col.action.bindGridEvent(grid, col.id);\n      headerEvents.push(...ids);\n    }\n\n    if (col.columnType) {\n      const ids = col.columnType.bindGridEvent(grid, col.id);\n      headerEvents.push(...ids);\n    }\n\n    if (col.style) {\n      if (col.style instanceof style_1.BaseStyle) {\n        const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n          grid.invalidate();\n        });\n        headerEvents.push(id);\n      }\n    }\n  });\n\n  for (let col = 0; col < layoutMap.columnWidths.length; col++) {\n    const column = layoutMap.columnWidths[col];\n    const {\n      width,\n      minWidth,\n      maxWidth\n    } = column;\n\n    if (width && (width > 0 || typeof width === \"string\")) {\n      grid.setColWidth(col, width);\n    }\n\n    if (minWidth && (minWidth > 0 || typeof minWidth === \"string\")) {\n      grid.setMinColWidth(col, minWidth);\n    }\n\n    if (maxWidth && (maxWidth > 0 || typeof maxWidth === \"string\")) {\n      grid.setMaxColWidth(col, maxWidth);\n    }\n  }\n\n  const {\n    headerRowHeight\n  } = grid[_];\n\n  for (let row = 0; row < layoutMap.headerRowCount; row++) {\n    const height = Array.isArray(headerRowHeight) ? headerRowHeight[row] : headerRowHeight;\n\n    if (height && height > 0) {\n      grid.setRowHeight(row, height);\n    }\n  }\n\n  grid.colCount = layoutMap.colCount;\n\n  _refreshRowCount(grid);\n\n  grid.frozenRowCount = layoutMap.headerRowCount;\n}\n/** @private */\n\n\nfunction _refreshRowCount(grid) {\n  const {\n    layoutMap\n  } = grid[_];\n  grid.rowCount = grid[_].dataSource.length * layoutMap.bodyRowCount + layoutMap.headerRowCount;\n}\n/** @private */\n\n\nfunction _tryWithUpdateDataSource(grid, fn) {\n  const {\n    dataSourceEventIds\n  } = grid[_];\n\n  if (dataSourceEventIds) {\n    dataSourceEventIds.forEach(id => grid[_].handler.off(id));\n  }\n\n  fn(grid);\n  grid[_].dataSourceEventIds = [grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n    _refreshRowCount(grid);\n\n    grid.invalidate();\n  }), grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n    grid.invalidate();\n  })];\n}\n/** @private */\n\n\nfunction _setRecords(grid, records = []) {\n  _tryWithUpdateDataSource(grid, () => {\n    grid[_].records = records;\n    const newDataSource = grid[_].dataSource = data_1.CachedDataSource.ofArray(records);\n    grid.addDisposable(newDataSource);\n  });\n}\n/** @private */\n\n\nfunction _setDataSource(grid, dataSource) {\n  _tryWithUpdateDataSource(grid, () => {\n    if (dataSource) {\n      if (dataSource instanceof data_1.DataSource) {\n        grid[_].dataSource = dataSource;\n      } else {\n        const newDataSource = grid[_].dataSource = new data_1.CachedDataSource(dataSource);\n        grid.addDisposable(newDataSource);\n      }\n    } else {\n      grid[_].dataSource = data_1.DataSource.EMPTY;\n    }\n\n    grid[_].records = null;\n  });\n}\n/** @private */\n\n\nfunction _getRecordIndexByRow(grid, row) {\n  const {\n    layoutMap\n  } = grid[_];\n  return layoutMap.getRecordIndexByRow(row);\n}\n/** @private */\n\n\nfunction _onRangePaste(text, test = () => true) {\n  var _a;\n\n  const {\n    layoutMap\n  } = this[_];\n  const selectionRange = this.selection.range;\n  const {\n    start\n  } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n  const {\n    end\n  } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n  const values = paste_utils_1.parsePasteRangeBoxValues(text);\n  const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\n  const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\n  let hasEditable = false;\n  const actionColumnsBox = [];\n\n  for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n    const actionColumnsRow = [];\n    actionColumnsBox.push(actionColumnsRow);\n\n    for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n      const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n      actionColumnsRow[offsetCol] = body;\n\n      if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n        hasEditable = true;\n      }\n    }\n  }\n\n  if (!hasEditable) {\n    return;\n  }\n\n  const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n  const startRowOffset = start.row - startRow;\n  let duplicate = {};\n  let actionRow = startRowOffset;\n  let valuesRow = 0;\n\n  for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\n    let valuesCol = 0;\n\n    for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n      const {\n        action,\n        id\n      } = actionColumnsBox[actionRow][offsetCol];\n\n      if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n        duplicate[id] = true;\n        const col = start.col + offsetCol;\n        const row = start.row + offsetRow;\n        const cellValue = values.getCellValue(valuesCol, valuesRow);\n        utils_1.then(this.getRowRecord(row), record => {\n          utils_1.then(_getCellValue(this, col, row), oldValue => {\n            if (test({\n              grid: this,\n              record: record,\n              col,\n              row,\n              value: cellValue,\n              oldValue\n            })) {\n              action.onPasteCellRangeBox(this, {\n                col,\n                row\n              }, cellValue);\n            }\n          });\n        });\n      }\n\n      valuesCol++;\n\n      if (valuesCol >= values.colCount) {\n        valuesCol = 0;\n      }\n    }\n\n    actionRow++;\n\n    if (actionRow >= layoutMap.bodyRowCount) {\n      actionRow = 0;\n      duplicate = {};\n    }\n\n    valuesRow++;\n\n    if (valuesRow >= values.rowCount) {\n      valuesRow = 0;\n    }\n  }\n\n  const newEnd = {\n    col: start.col + pasteColCount - 1,\n    row: start.row + pasteRowCount - 1\n  };\n  this.selection.range = {\n    start,\n    end: newEnd\n  };\n  this.invalidateCellRange(this.selection.range);\n}\n/** @private */\n\n\nfunction _onRangeDelete() {\n  var _a;\n\n  const {\n    layoutMap\n  } = this[_];\n  const selectionRange = this.selection.range;\n  const {\n    start\n  } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n  const {\n    end\n  } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n  const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\n  const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\n  let hasEditable = false;\n  const actionColumnsBox = [];\n\n  for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n    const actionColumnsRow = [];\n    actionColumnsBox.push(actionColumnsRow);\n\n    for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n      const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n      actionColumnsRow[offsetCol] = body;\n\n      if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n        hasEditable = true;\n      }\n    }\n  }\n\n  if (!hasEditable) {\n    return;\n  }\n\n  const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n  const startRowOffset = start.row - startRow;\n  let duplicate = {};\n  let actionRow = startRowOffset;\n\n  for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\n    for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n      const {\n        action,\n        id\n      } = actionColumnsBox[actionRow][offsetCol];\n\n      if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n        duplicate[id] = true;\n        const col = start.col + offsetCol;\n        const row = start.row + offsetRow;\n        utils_1.then(this.getRowRecord(row), _record => {\n          utils_1.then(_getCellValue(this, col, row), _oldValue => {\n            action.onDeleteCellRangeBox(this, {\n              col,\n              row\n            });\n          });\n        });\n      }\n    }\n\n    actionRow++;\n\n    if (actionRow >= layoutMap.bodyRowCount) {\n      actionRow = 0;\n      duplicate = {};\n    }\n  }\n\n  this.invalidateCellRange(selectionRange);\n}\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @memberof cheetahGrid\n */\n\n\nclass ListGrid extends DrawGrid_1.DrawGrid {\n  /**\n   * constructor\n   *\n   * @constructor\n   * @param options Constructor options\n   */\n  constructor(options = {}) {\n    var _a;\n\n    super(utils_1.omit(options, [\"colCount\", \"rowCount\", \"frozenRowCount\"]));\n    this.disabled = false;\n    this.readOnly = false;\n    const protectedSpace = this[_];\n    protectedSpace.header = options.header || [];\n    protectedSpace.layout = options.layout || [];\n    protectedSpace.headerRowHeight = options.headerRowHeight || [];\n\n    if (options.dataSource) {\n      _setDataSource(this, options.dataSource);\n    } else {\n      _setRecords(this, options.records);\n    }\n\n    protectedSpace.allowRangePaste = (_a = options.allowRangePaste) !== null && _a !== void 0 ? _a : false;\n\n    _refreshHeader(this);\n\n    protectedSpace.sortState = {\n      col: -1,\n      row: -1,\n      order: undefined\n    };\n    protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\n    protectedSpace.theme = themes.of(options.theme);\n    protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n    protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\n    this.invalidate();\n    protectedSpace.handler.on(window, \"resize\", () => {\n      this.updateSize();\n      this.updateScroll();\n      this.invalidate();\n    });\n  }\n\n  static get EVENT_TYPE() {\n    return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\n  }\n  /**\n   * Dispose the grid instance.\n   * @returns {void}\n   */\n\n\n  dispose() {\n    const protectedSpace = this[_];\n    protectedSpace.messageHandler.dispose();\n    protectedSpace.tooltipHandler.dispose();\n    super.dispose();\n  }\n  /**\n   * Gets the define of the header.\n   */\n\n\n  get header() {\n    return this[_].header;\n  }\n  /**\n   * Sets the define of the header with the given data.\n   * <pre>\n   * column options\n   * -----\n   * caption: header caption\n   * field: field name\n   * width: column width\n   * minWidth: column min width\n   * maxWidth: column max width\n   * icon: icon name\n   * message: message key name\n   * columnType: column type\n   * action: column action\n   * style: column style\n   * headerType: header type\n   * headerStyle: header style\n   * headerAction: header action\n   * headerField: header field name\n   * sort: define sort setting\n   * -----\n   *\n   * multiline header\n   * -----\n   * caption: header caption\n   * columns: columns define\n   * -----\n   * </pre>\n   */\n\n\n  set header(header) {\n    this[_].header = header;\n\n    _refreshHeader(this);\n  }\n  /**\n   * Gets the define of the layout.\n   */\n\n\n  get layout() {\n    return this[_].layout;\n  }\n  /**\n   * Sets the define of the layout with the given data.\n   */\n\n\n  set layout(layout) {\n    this[_].layout = layout;\n\n    _refreshHeader(this);\n  }\n  /**\n   * Get the row count per record\n   */\n\n\n  get recordRowCount() {\n    return this[_].layoutMap.bodyRowCount;\n  }\n  /**\n   * Get the records.\n   */\n\n\n  get records() {\n    return this[_].records || null;\n  }\n  /**\n   * Set the records from given\n   */\n\n\n  set records(records) {\n    if (records == null) {\n      return;\n    }\n\n    _setRecords(this, records);\n\n    _refreshRowCount(this);\n\n    this.invalidate();\n  }\n  /**\n   * Get the data source.\n   */\n\n\n  get dataSource() {\n    return this[_].dataSource;\n  }\n  /**\n   * Set the data source from given\n   */\n\n\n  set dataSource(dataSource) {\n    _setDataSource(this, dataSource);\n\n    _refreshRowCount(this);\n\n    this.invalidate();\n  }\n  /**\n   * Get the theme.\n   */\n\n\n  get theme() {\n    return this[_].theme;\n  }\n  /**\n   * Set the theme from given\n   */\n\n\n  set theme(theme) {\n    this[_].theme = themes.of(theme);\n    this.invalidate();\n  }\n  /**\n   * If set to true to allow pasting of ranges.\n   */\n\n\n  get allowRangePaste() {\n    return this[_].allowRangePaste;\n  }\n\n  set allowRangePaste(allowRangePaste) {\n    this[_].allowRangePaste = allowRangePaste;\n  }\n  /**\n   * Get the font definition as a string.\n   * @override\n   */\n\n\n  get font() {\n    return super.font || this[_].gridCanvasHelper.theme.font;\n  }\n  /**\n   * Set the font definition with the given string.\n   * @override\n   */\n\n\n  set font(font) {\n    super.font = font;\n  }\n  /**\n   * Get the background color of the underlay.\n   * @override\n   */\n\n\n  get underlayBackgroundColor() {\n    return super.underlayBackgroundColor || this[_].gridCanvasHelper.theme.underlayBackgroundColor;\n  }\n  /**\n   * Set the background color of the underlay.\n   * @override\n   */\n\n\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    super.underlayBackgroundColor = underlayBackgroundColor;\n  }\n  /**\n   * Get the sort state.\n   */\n\n\n  get sortState() {\n    return this[_].sortState;\n  }\n  /**\n   * Sets the sort state.\n   * If `null` to set, the sort state is initialized.\n   */\n\n\n  set sortState(sortState) {\n    const oldState = this.sortState;\n    let oldField;\n\n    if (oldState.col >= 0 && oldState.row >= 0) {\n      oldField = this.getHeaderField(oldState.col, oldState.row);\n    }\n\n    const newState = this[_].sortState = sortState != null ? sortState : {\n      col: -1,\n      row: -1,\n      order: undefined\n    };\n    let newField;\n\n    if (newState.col >= 0 && newState.row >= 0) {\n      newField = this.getHeaderField(newState.col, newState.row);\n    } // bind header value\n\n\n    if (oldField != null && oldField !== newField) {\n      this.setHeaderValue(oldState.col, oldState.row, undefined);\n    }\n\n    if (newField != null) {\n      this.setHeaderValue(newState.col, newState.row, newState.order);\n    }\n  }\n  /**\n   * Get the header values.\n   */\n\n\n  get headerValues() {\n    return this[_].headerValues || (this[_].headerValues = new Map());\n  }\n  /**\n   * Sets the header values.\n   */\n\n\n  set headerValues(headerValues) {\n    this[_].headerValues = headerValues || new Map();\n  }\n  /**\n   * Get the field of the given column index.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index.\n   * @return {*} The field object.\n   */\n\n\n  getField(col, row) {\n    return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\n  }\n  /**\n   * Get the column define of the given column index.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index.\n   * @return {*} The column define object.\n   */\n\n\n  getColumnDefine(col, row) {\n    return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\n  }\n\n  getColumnType(col, row) {\n    return this[_].layoutMap.getBody(col, row).columnType;\n  }\n  /**\n   * Get the header field of the given header cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The header row index.\n   * @return {*} The field object.\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  getHeaderField(col, row) {\n    const hd = this[_].layoutMap.getHeader(col, row);\n\n    return hd.field;\n  }\n  /**\n   * Get the header define of the given header cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The header row index.\n   * @return {*} The header define object.\n   */\n\n\n  getHeaderDefine(col, row) {\n    const hd = this[_].layoutMap.getHeader(col, row);\n\n    return hd.define;\n  }\n  /**\n   * Get the record of the given row index.\n   * @param  {number} row The row index.\n   * @return {object} The record.\n   */\n\n\n  getRowRecord(row) {\n    if (row < this[_].layoutMap.headerRowCount) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      return undefined;\n    } else {\n      return this[_].dataSource.get(_getRecordIndexByRow(this, row));\n    }\n  }\n  /**\n   * Get the record index of the given row index.\n   * @param  {number} row The row index.\n   */\n\n\n  getRecordIndexByRow(row) {\n    return _getRecordIndexByRow(this, row);\n  }\n  /**\n   * Gets the row index starting at the given record index.\n   * @param  {number} index The record index.\n   */\n\n\n  getRecordStartRowByRecordIndex(index) {\n    return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\n  }\n  /**\n   * Get the column index of the given field.\n   * @param  {*} field The field.\n   * @return {number} The column index.\n   * @deprecated use `getCellRangeByField` instead\n   */\n\n\n  getColumnIndexByField(field) {\n    var _a;\n\n    const range = this.getCellRangeByField(field, 0);\n    return (_a = range === null || range === void 0 ? void 0 : range.start.col) !== null && _a !== void 0 ? _a : null;\n  }\n  /**\n   * Get the column index of the given field.\n   * @param  {*} field The field.\n   * @param  {number} index The record index\n   * @return {number} The column index.\n   */\n\n\n  getCellRangeByField(field, index) {\n    const {\n      layoutMap\n    } = this[_];\n    const colObj = layoutMap.columnObjects.find(col => col.field === field);\n\n    if (colObj) {\n      const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\n      const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\n      return {\n        start: {\n          col: layoutRange.start.col,\n          row: startRow + layoutRange.start.row\n        },\n        end: {\n          col: layoutRange.end.col,\n          row: startRow + layoutRange.end.row\n        }\n      };\n    }\n\n    return null;\n  }\n  /**\n   * Focus the cell.\n   * @param  {*} field The field.\n   * @param  {number} index The record index\n   * @return {void}\n   */\n\n\n  focusGridCell(field, index) {\n    var _a;\n\n    const {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    } = this.selection.range;\n    const newFocus = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n\n    if (newFocus == null) {\n      return;\n    }\n\n    this.focusCell(newFocus.col, newFocus.row);\n    this.selection.select = newFocus;\n    this.invalidateGridRect(startCol, startRow, endCol, endRow);\n    this.invalidateCell(newFocus.col, newFocus.row);\n  }\n  /**\n   * Scroll to where cell is visible.\n   * @param  {*} field The field.\n   * @param  {number} index The record index\n   * @return {void}\n   */\n\n\n  makeVisibleGridCell(field, index) {\n    var _a, _b, _c;\n\n    const cell = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n    this.makeVisibleCell((_b = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _b !== void 0 ? _b : 0, (_c = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _c !== void 0 ? _c : this[_].layoutMap.headerRowCount);\n  }\n\n  getGridCanvasHelper() {\n    return this[_].gridCanvasHelper;\n  }\n  /**\n   * Get cell range information for a given cell.\n   * @param {number} col column index of the cell\n   * @param {number} row row index of the cell\n   * @returns {object} cell range info\n   */\n\n\n  getCellRange(col, row) {\n    return _getCellRange(this, col, row);\n  }\n  /**\n   * Get header range information for a given cell.\n   * @param {number} col column index of the cell\n   * @param {number} row row index of the cell\n   * @returns {object} cell range info\n   * @deprecated use `getCellRange` instead\n   */\n\n\n  getHeaderCellRange(col, row) {\n    return this.getCellRange(col, row);\n  }\n\n  getCopyCellValue(col, row, range) {\n    var _a;\n\n    const cellRange = _getCellRange(this, col, row);\n\n    const startCol = range ? Math.max(range.start.col, cellRange.start.col) : cellRange.start.col;\n    const startRow = range ? Math.max(range.start.row, cellRange.start.row) : cellRange.start.row;\n\n    if (startCol !== col || startRow !== row) {\n      return \"\";\n    }\n\n    const value = _getCellValue(this, col, row);\n\n    if (row < this[_].layoutMap.headerRowCount) {\n      return value;\n    }\n\n    const columnData = this[_].layoutMap.getBody(col, row);\n\n    return (_a = columnData.columnType.getCopyCellValue(value, this, {\n      col,\n      row\n    })) !== null && _a !== void 0 ? _a : value;\n  }\n\n  onDrawCell(col, row, context) {\n    const {\n      layoutMap\n    } = this[_];\n    let draw;\n    let style;\n\n    if (row < layoutMap.headerRowCount) {\n      const hd = layoutMap.getHeader(col, row);\n      draw = hd.headerType.onDrawCell;\n      ({\n        style\n      } = hd);\n\n      _updateRect(this, col, row, context);\n    } else {\n      const column = layoutMap.getBody(col, row);\n      draw = column.columnType.onDrawCell;\n      ({\n        style\n      } = column);\n\n      _updateRect(this, col, row, context);\n    }\n\n    const cellValue = _getCellValue(this, col, row);\n\n    return _onDrawValue(this, cellValue, context, {\n      col,\n      row\n    }, style, draw);\n  }\n\n  doGetCellValue(col, row, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  valueCallback) {\n    if (row < this[_].layoutMap.headerRowCount) {\n      // nop\n      return false;\n    } else {\n      const value = _getCellValue(this, col, row);\n\n      if (utils_1.isPromise(value)) {\n        //\n        return false;\n      }\n\n      valueCallback(value);\n    }\n\n    return true;\n  }\n\n  doChangeValue(col, row, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  changeValueCallback) {\n    if (row < this[_].layoutMap.headerRowCount) {\n      // nop\n      return false;\n    } else {\n      const record = this.getRowRecord(row);\n\n      if (utils_1.isPromise(record)) {\n        //\n        return false;\n      }\n\n      const before = _getCellValue(this, col, row);\n\n      if (utils_1.isPromise(before)) {\n        //\n        return false;\n      }\n\n      const after = changeValueCallback(before);\n\n      if (after === undefined) {\n        return false;\n      }\n\n      return utils_1.then(_setCellValue(this, col, row, after), ret => {\n        if (ret) {\n          const {\n            field\n          } = this[_].layoutMap.getBody(col, row);\n\n          this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\n            col,\n            row,\n            record: record,\n            field: field,\n            value: after,\n            oldValue: before\n          });\n        }\n\n        return ret;\n      });\n    }\n  }\n\n  doSetPasteValue(text, test) {\n    _onRangePaste.call(this, text, test);\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  getHeaderValue(col, row) {\n    const field = this.getHeaderField(col, row);\n    return this.headerValues.get(field);\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  setHeaderValue(col, row, newValue) {\n    const field = this.getHeaderField(col, row);\n    const oldValue = this.headerValues.get(field);\n    this.headerValues.set(field, newValue);\n    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\n      col,\n      row,\n      field,\n      value: newValue,\n      oldValue\n    });\n  }\n\n  getLayoutCellId(col, row) {\n    return this[_].layoutMap.getCellId(col, row);\n  }\n\n  bindEventsInternal() {\n    const grid = this;\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, e => {\n      const range = _getCellRange(this, e.col, e.row);\n\n      const {\n        start: {\n          col: startCol,\n          row: startRow\n        },\n        end: {\n          col: endCol,\n          row: endRow\n        }\n      } = range;\n\n      if (startCol !== endCol || startRow !== endRow) {\n        this.invalidateCellRange(range);\n      }\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, e => {\n      if (!this[_].allowRangePaste) {\n        return;\n      }\n\n      const {\n        start,\n        end\n      } = this.selection.range;\n\n      if (!e.multi && utils_1.cellEquals(start, end)) {\n        return;\n      }\n\n      const {\n        layoutMap\n      } = this[_];\n\n      if (start.row < layoutMap.headerRowCount) {\n        return;\n      }\n\n      utils_1.event.cancel(e.event);\n\n      _onRangePaste.call(this, e.normalizeValue);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, e => {\n      const {\n        start\n      } = this.selection.range;\n      const {\n        layoutMap\n      } = this[_];\n\n      if (start.row < layoutMap.headerRowCount) {\n        return;\n      }\n\n      utils_1.event.cancel(e.event);\n\n      _onRangeDelete.call(this);\n    });\n  }\n\n  getMoveLeftColByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      start: {\n        col: startCol\n      }\n    } = _getCellRange(this, col, row);\n\n    col = startCol;\n    return super.getMoveLeftColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveRightColByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      end: {\n        col: endCol\n      }\n    } = _getCellRange(this, col, row);\n\n    col = endCol;\n    return super.getMoveRightColByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveUpRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      start: {\n        row: startRow\n      }\n    } = _getCellRange(this, col, row);\n\n    row = startRow;\n    return super.getMoveUpRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getMoveDownRowByKeyDownInternal({\n    col,\n    row\n  }) {\n    const {\n      end: {\n        row: endRow\n      }\n    } = _getCellRange(this, col, row);\n\n    row = endRow;\n    return super.getMoveDownRowByKeyDownInternal({\n      col,\n      row\n    });\n  }\n\n  getOffsetInvalidateCells() {\n    return 1;\n  }\n\n  getCopyRangeInternal(range) {\n    const {\n      start\n    } = this.getCellRange(range.start.col, range.start.row);\n    const {\n      end\n    } = this.getCellRange(range.end.col, range.end.row);\n    return {\n      start,\n      end\n    };\n  }\n\n  fireListeners(type, ...event) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return super.fireListeners(type, ...event);\n  }\n\n}\n\nexports.ListGrid = ListGrid;\n\n/***/ }),\n\n/***/ \"./columns.js\":\n/*!********************!*\\\n  !*** ./columns.js ***!\n  \\********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.style = exports.type = exports.action = void 0;\n\nconst action = __importStar(__webpack_require__(/*! ./columns/action */ \"./columns/action.js\"));\n\nexports.action = action;\n\nconst style = __importStar(__webpack_require__(/*! ./columns/style */ \"./columns/style.js\"));\n\nexports.style = style;\n\nconst type = __importStar(__webpack_require__(/*! ./columns/type */ \"./columns/type.js\"));\n\nexports.type = type;\n\n/***/ }),\n\n/***/ \"./columns/action.js\":\n/*!***************************!*\\\n  !*** ./columns/action.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\n\nconst Action_1 = __webpack_require__(/*! ./action/Action */ \"./columns/action/Action.js\");\n\nObject.defineProperty(exports, \"Action\", {\n  enumerable: true,\n  get: function () {\n    return Action_1.Action;\n  }\n});\n\nconst BaseAction_1 = __webpack_require__(/*! ./action/BaseAction */ \"./columns/action/BaseAction.js\");\n\nObject.defineProperty(exports, \"BaseAction\", {\n  enumerable: true,\n  get: function () {\n    return BaseAction_1.BaseAction;\n  }\n});\n\nconst ButtonAction_1 = __webpack_require__(/*! ./action/ButtonAction */ \"./columns/action/ButtonAction.js\");\n\nObject.defineProperty(exports, \"ButtonAction\", {\n  enumerable: true,\n  get: function () {\n    return ButtonAction_1.ButtonAction;\n  }\n});\n\nconst CheckEditor_1 = __webpack_require__(/*! ./action/CheckEditor */ \"./columns/action/CheckEditor.js\");\n\nObject.defineProperty(exports, \"CheckEditor\", {\n  enumerable: true,\n  get: function () {\n    return CheckEditor_1.CheckEditor;\n  }\n});\n\nconst Editor_1 = __webpack_require__(/*! ./action/Editor */ \"./columns/action/Editor.js\");\n\nObject.defineProperty(exports, \"Editor\", {\n  enumerable: true,\n  get: function () {\n    return Editor_1.Editor;\n  }\n});\n\nconst InlineInputEditor_1 = __webpack_require__(/*! ./action/InlineInputEditor */ \"./columns/action/InlineInputEditor.js\");\n\nObject.defineProperty(exports, \"InlineInputEditor\", {\n  enumerable: true,\n  get: function () {\n    return InlineInputEditor_1.InlineInputEditor;\n  }\n});\n\nconst InlineMenuEditor_1 = __webpack_require__(/*! ./action/InlineMenuEditor */ \"./columns/action/InlineMenuEditor.js\");\n\nObject.defineProperty(exports, \"InlineMenuEditor\", {\n  enumerable: true,\n  get: function () {\n    return InlineMenuEditor_1.InlineMenuEditor;\n  }\n});\n\nconst RadioEditor_1 = __webpack_require__(/*! ./action/RadioEditor */ \"./columns/action/RadioEditor.js\");\n\nObject.defineProperty(exports, \"RadioEditor\", {\n  enumerable: true,\n  get: function () {\n    return RadioEditor_1.RadioEditor;\n  }\n});\n\nconst SmallDialogInputEditor_1 = __webpack_require__(/*! ./action/SmallDialogInputEditor */ \"./columns/action/SmallDialogInputEditor.js\");\n\nObject.defineProperty(exports, \"SmallDialogInputEditor\", {\n  enumerable: true,\n  get: function () {\n    return SmallDialogInputEditor_1.SmallDialogInputEditor;\n  }\n}); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\n  get disabled() {\n    return this._disabled;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\n  get disabled() {\n    return this._disabled;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\n  get disabled() {\n    return this._disabled;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n}\n\nexports.ACTIONS = {\n  CHECK: new ImmutableCheckEditor(),\n  INPUT: new ImmutableInputEditor(),\n  RADIO: new ImmutableRadioEditor()\n};\n\nfunction of(columnAction) {\n  if (!columnAction) {\n    return undefined;\n  } else if (typeof columnAction === \"string\") {\n    const key = columnAction.toUpperCase();\n    return exports.ACTIONS[key] || of(null);\n  } else {\n    return columnAction;\n  }\n}\n\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./columns/action/Action.js\":\n/*!**********************************!*\\\n  !*** ./columns/action/Action.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Action = void 0;\n\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./columns/action/actionBind.js\");\n\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./columns/action/BaseAction.js\");\n\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\n\nclass Action extends BaseAction_1.BaseAction {\n  constructor(option = {}) {\n    super(option);\n\n    this._action = option.action || (() => {});\n  }\n\n  get editable() {\n    return false;\n  }\n\n  get action() {\n    return this._action;\n  }\n\n  set action(action) {\n    this._action = action;\n  }\n\n  clone() {\n    return new Action(this);\n  }\n\n  getState(_grid) {\n    return {};\n  }\n\n  bindGridEvent(grid, cellId) {\n    const state = this.getState(grid);\n\n    const action = cell => {\n      if (action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n        return;\n      }\n\n      const record = grid.getRowRecord(cell.row);\n\n      this._action(record, cell);\n    };\n\n    return [...actionBind_1.bindCellClickAction(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...actionBind_1.bindCellKeyAction(grid, cellId, {\n      action\n    })];\n  }\n\n  onPasteCellRangeBox() {// noop\n  }\n\n  onDeleteCellRangeBox() {// noop\n  }\n\n}\n\nexports.Action = Action;\n\n/***/ }),\n\n/***/ \"./columns/action/BaseAction.js\":\n/*!**************************************!*\\\n  !*** ./columns/action/BaseAction.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseAction = void 0;\n\nclass BaseAction {\n  constructor(option = {}) {\n    this._disabled = option.disabled || false;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  set disabled(disabled) {\n    this._disabled = disabled;\n    this.onChangeDisabledInternal();\n  }\n\n  onChangeDisabledInternal() {// abstruct\n  }\n\n}\n\nexports.BaseAction = BaseAction;\n\n/***/ }),\n\n/***/ \"./columns/action/BaseInputEditor.js\":\n/*!*******************************************!*\\\n  !*** ./columns/action/BaseInputEditor.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseInputEditor = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass BaseInputEditor extends Editor_1.Editor {\n  constructor(option = {}) {\n    super(option);\n  }\n\n  bindGridEvent(grid, cellId) {\n    const open = cell => {\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n        return false;\n      }\n\n      this.onOpenCellInternal(grid, cell);\n      return true;\n    };\n\n    const input = (cell, value) => {\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n        return;\n      }\n\n      this.onInputCellInternal(grid, cell, value);\n    };\n\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n\n    return [grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      input({\n        col: e.col,\n        row: e.row\n      }, e.value);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n\n      const selectionRange = grid.selection.range;\n\n      if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      utils_1.event.cancel(e.event);\n      input({\n        col: e.col,\n        row: e.row\n      }, e.normalizeValue);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      open({\n        col: e.col,\n        row: e.row\n      });\n      utils_1.event.cancel(e.event);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n      if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n        return;\n      }\n\n      const sel = grid.selection.select;\n\n      if (!isTarget(sel.col, sel.row)) {\n        return;\n      }\n\n      if (open({\n        col: sel.col,\n        row: sel.row\n      })) {\n        e.stopCellMoving();\n      }\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, e => {\n      this.onChangeSelectCellInternal(grid, {\n        col: e.col,\n        row: e.row\n      }, e.selected);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n      this.onGridScrollInternal(grid);\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return false;\n      }\n\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n        return false;\n      }\n\n      return true;\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n        return;\n      }\n\n      const range = grid.getCellRange(cell.col, cell.row);\n\n      if (range.start.col !== range.end.col || range.start.row !== range.end.row) {\n        const {\n          input\n        } = cell;\n        const baseRect = grid.getCellRect(cell.col, cell.row);\n        const rangeRect = grid.getCellRangeRect(range);\n        input.style.top = `${(parseFloat(input.style.top) + (rangeRect.top - baseRect.top)).toFixed()}px`;\n        input.style.left = `${(parseFloat(input.style.left) + (rangeRect.left - baseRect.left)).toFixed()}px`;\n        input.style.width = `${rangeRect.width.toFixed()}px`;\n        input.style.height = `${rangeRect.height.toFixed()}px`;\n      }\n\n      this.onSetInputAttrsInternal(grid, {\n        col: cell.col,\n        row: cell.row\n      }, cell.input);\n    })];\n  }\n\n  onPasteCellRangeBox(grid, cell, value) {\n    if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n      return;\n    }\n\n    grid.doChangeValue(cell.col, cell.row, () => value);\n  }\n\n  onDeleteCellRangeBox(grid, cell) {\n    if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n      return;\n    }\n\n    grid.doChangeValue(cell.col, cell.row, () => \"\");\n  }\n\n}\n\nexports.BaseInputEditor = BaseInputEditor;\n\n/***/ }),\n\n/***/ \"./columns/action/ButtonAction.js\":\n/*!****************************************!*\\\n  !*** ./columns/action/ButtonAction.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonAction = void 0;\n\nconst Action_1 = __webpack_require__(/*! ./Action */ \"./columns/action/Action.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\n\nclass ButtonAction extends Action_1.Action {\n  getState(grid) {\n    let state = grid[BUTTON_COLUMN_STATE_ID];\n\n    if (!state) {\n      state = {};\n      utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\n    }\n\n    return state;\n  }\n\n}\n\nexports.ButtonAction = ButtonAction;\n\n/***/ }),\n\n/***/ \"./columns/action/CheckEditor.js\":\n/*!***************************************!*\\\n  !*** ./columns/action/CheckEditor.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckEditor = void 0;\n\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./columns/action/actionBind.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\n\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\n\nclass CheckEditor extends Editor_1.Editor {\n  clone() {\n    return new CheckEditor(this);\n  }\n\n  bindGridEvent(grid, cellId) {\n    let _state = grid[CHECK_COLUMN_STATE_ID];\n\n    if (!_state) {\n      _state = {\n        block: {},\n        elapsed: {}\n      };\n      utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\n    }\n\n    const state = _state;\n\n    const action = cell => {\n      const range = grid.getCellRange(cell.col, cell.row);\n      const cellKey = `${range.start.col}:${range.start.row}`;\n\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) || state.block[cellKey]) {\n        return;\n      }\n\n      const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n\n      if (ret) {\n        const onChange = () => {\n          // checkbox animation\n          animate_1.animate(200, point => {\n            if (point === 1) {\n              delete state.elapsed[cellKey];\n            } else {\n              state.elapsed[cellKey] = point;\n            }\n\n            grid.invalidateCellRange(range);\n          });\n        };\n\n        if (utils_1.isPromise(ret)) {\n          state.block[cellKey] = true;\n          ret.then(() => {\n            delete state.block[cellKey];\n            onChange();\n          });\n        } else {\n          onChange();\n        }\n      }\n    };\n\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n\n    return [...actionBind_1.bindCellClickAction(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...actionBind_1.bindCellKeyAction(grid, cellId, {\n      action: _e => {\n        const selrange = grid.selection.range;\n        const {\n          col\n        } = grid.selection.select;\n\n        for (let {\n          row\n        } = selrange.start; row <= selrange.end.row; row++) {\n          if (!isTarget(col, row)) {\n            continue;\n          }\n\n          action({\n            col,\n            row\n          });\n        }\n      }\n    }), // paste value\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n\n      const selectionRange = grid.selection.range;\n\n      if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      const pasteValue = e.normalizeValue.trim();\n      grid.doGetCellValue(e.col, e.row, value => {\n        const newValue = action_utils_1.toggleValue(value);\n\n        if (`${newValue}`.trim() === pasteValue) {\n          utils_1.event.cancel(e.event);\n          action({\n            col: e.col,\n            row: e.row\n          });\n        }\n      });\n    })];\n  }\n\n  onPasteCellRangeBox(grid, cell, value) {\n    if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n      return;\n    }\n\n    const pasteValue = value.trim();\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      const newValue = action_utils_1.toggleValue(value);\n\n      if (`${newValue}`.trim() === pasteValue) {\n        grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n      }\n    });\n  }\n\n  onDeleteCellRangeBox() {// noop\n  }\n\n}\n\nexports.CheckEditor = CheckEditor;\n\n/***/ }),\n\n/***/ \"./columns/action/Editor.js\":\n/*!**********************************!*\\\n  !*** ./columns/action/Editor.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Editor = void 0;\n\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./columns/action/BaseAction.js\");\n\nclass Editor extends BaseAction_1.BaseAction {\n  constructor(option = {}) {\n    super(option);\n    this._readOnly = option.readOnly || false;\n  }\n\n  get editable() {\n    return true;\n  }\n\n  get readOnly() {\n    return this._readOnly;\n  }\n\n  set readOnly(readOnly) {\n    this._readOnly = readOnly;\n    this.onChangeReadOnlyInternal();\n  }\n\n  onChangeReadOnlyInternal() {// abstruct\n  }\n\n}\n\nexports.Editor = Editor;\n\n/***/ }),\n\n/***/ \"./columns/action/InlineInputEditor.js\":\n/*!*********************************************!*\\\n  !*** ./columns/action/InlineInputEditor.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineInputEditor = void 0;\n\nconst BaseInputEditor_1 = __webpack_require__(/*! ./BaseInputEditor */ \"./columns/action/BaseInputEditor.js\");\n\nconst InlineInputElement_1 = __webpack_require__(/*! ./internal/InlineInputElement */ \"./columns/action/internal/InlineInputElement.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst _ = symbolManager_1.getInlineInputEditorStateId();\n\nfunction getState(grid) {\n  let state = grid[_];\n\n  if (!state) {\n    state = {};\n    utils_1.obj.setReadonly(grid, _, state);\n  }\n\n  return state;\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachInput(grid, cell, editor, value) {\n  const state = getState(grid);\n\n  if (!globalElement) {\n    globalElement = new InlineInputElement_1.InlineInputElement();\n  }\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n          globalElement = null;\n          state.element = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nfunction doChangeValue(_grid) {\n  if (globalElement) {\n    globalElement.doChangeValue();\n  }\n}\n\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n\n  get classList() {\n    if (!this._classList) {\n      return undefined;\n    }\n\n    return Array.isArray(this._classList) ? this._classList : [this._classList];\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(type) {\n    this._type = type;\n  }\n\n  clone() {\n    return new InlineInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n\n  onChangeSelectCellInternal(grid, _cell, _selected) {\n    doChangeValue(grid);\n    detachInput();\n  }\n\n  onGridScrollInternal(grid) {\n    doChangeValue(grid);\n    detachInput(true);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onSetInputAttrsInternal(grid, _cell, input) {\n    InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\n  }\n\n}\n\nexports.InlineInputEditor = InlineInputEditor;\n\n/***/ }),\n\n/***/ \"./columns/action/InlineMenuEditor.js\":\n/*!********************************************!*\\\n  !*** ./columns/action/InlineMenuEditor.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineMenuEditor = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\n\nconst InlineMenuElement_1 = __webpack_require__(/*! ./internal/InlineMenuElement */ \"./columns/action/internal/InlineMenuElement.js\");\n\nconst type_1 = __webpack_require__(/*! ../type */ \"./columns/type.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst menu_items_1 = __webpack_require__(/*! ../../internal/menu-items */ \"./internal/menu-items.js\");\n\nconst _ = symbolManager_1.getInlineMenuEditorStateId();\n\nfunction getState(grid) {\n  let state = grid[_];\n\n  if (!state) {\n    state = {};\n    utils_1.obj.setReadonly(grid, _, state);\n  }\n\n  return state;\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachMenu(grid, cell, editor, value, record) {\n  const state = getState(grid);\n\n  if (!globalElement) {\n    globalElement = new InlineMenuElement_1.InlineMenuElement();\n  }\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n          globalElement = null;\n          state.element = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value, record);\n}\n\nfunction detachMenu(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\n\nclass InlineMenuEditor extends Editor_1.Editor {\n  constructor(option = {}) {\n    super(option);\n    this._classList = option.classList;\n    this._options = menu_items_1.normalizeToFn(option.options);\n  }\n\n  dispose() {// noop\n  }\n\n  get classList() {\n    if (!this._classList) {\n      return undefined;\n    }\n\n    return Array.isArray(this._classList) ? this._classList : [this._classList];\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  set options(options) {\n    this._options = menu_items_1.normalizeToFn(options);\n  }\n\n  clone() {\n    return new InlineMenuEditor(this);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachMenu(true);\n  }\n\n  bindGridEvent(grid, cellId) {\n    const open = cell => {\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n        return false;\n      }\n\n      grid.doGetCellValue(cell.col, cell.row, value => {\n        const record = grid.getRowRecord(cell.row);\n\n        if (utils_1.isPromise(record)) {\n          return;\n        }\n\n        attachMenu(grid, cell, this, value, record);\n      });\n      return true;\n    };\n\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n\n    return [grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, cell => {\n      if (!isTarget(cell.col, cell.row)) {\n        return;\n      }\n\n      open({\n        col: cell.col,\n        row: cell.row\n      });\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n      if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n        return;\n      }\n\n      const sel = grid.selection.select;\n\n      if (!isTarget(sel.col, sel.row)) {\n        return;\n      }\n\n      if (open({\n        col: sel.col,\n        row: sel.row\n      })) {\n        e.stopCellMoving();\n      }\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, _e => {\n      detachMenu();\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n      detachMenu(true);\n    }), // mouse move\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) || action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = \"pointer\";\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) || action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n        return;\n      }\n\n      if (!grid.getElement().style.cursor) {\n        grid.getElement().style.cursor = \"pointer\";\n      }\n    }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      grid.getElement().style.cursor = \"\";\n    }), // paste value\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n\n      const selectionRange = grid.selection.range;\n\n      if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) || action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n        return;\n      }\n\n      const record = grid.getRowRecord(e.row);\n\n      if (utils_1.isPromise(record)) {\n        return;\n      }\n\n      const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\n\n      if (pasteOpt) {\n        utils_1.event.cancel(e.event);\n        utils_1.then(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\n          const range = grid.getCellRange(e.col, e.row);\n          grid.invalidateCellRange(range);\n        });\n      }\n    })];\n  }\n\n  onPasteCellRangeBox(grid, cell, value) {\n    if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n      return;\n    }\n\n    const record = grid.getRowRecord(cell.row);\n\n    if (utils_1.isPromise(record)) {\n      return;\n    }\n\n    const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\n\n    if (pasteOpt) {\n      grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n    }\n  }\n\n  onDeleteCellRangeBox(grid, cell) {\n    if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n      return;\n    }\n\n    const record = grid.getRowRecord(cell.row);\n\n    if (utils_1.isPromise(record)) {\n      return;\n    }\n\n    const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\n\n    if (pasteOpt) {\n      grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n    }\n  }\n\n  _pasteDataToOptionValue(value, grid, cell, record) {\n    const options = this._options(record);\n\n    const pasteOpt = _textToOptionValue(value, options);\n\n    if (pasteOpt) {\n      return pasteOpt;\n    }\n\n    const columnType = grid.getColumnType(cell.col, cell.row);\n\n    if (hasOptions(columnType)) {\n      // Find with caption.\n      const pasteValue = normalizePasteValueStr(value);\n      const captionOpt = utils_1.array.find(columnType.options, opt => normalizePasteValueStr(opt.label) === pasteValue);\n\n      if (captionOpt) {\n        return _textToOptionValue(captionOpt.value, options);\n      }\n    }\n\n    return undefined;\n  }\n\n}\n\nexports.InlineMenuEditor = InlineMenuEditor;\n\nfunction _textToOptionValue(value, options) {\n  const pasteValue = normalizePasteValueStr(value);\n  const pasteOpt = utils_1.array.find(options, opt => normalizePasteValueStr(opt.value) === pasteValue);\n\n  if (pasteOpt) {\n    return pasteOpt;\n  }\n\n  return undefined;\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction normalizePasteValueStr(value) {\n  if (value == null) {\n    return \"\";\n  }\n\n  return `${value}`.trim();\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction hasOptions(columnType) {\n  if (columnType instanceof type_1.MenuColumn) {\n    return true;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  if (Array.isArray(columnType.options)) {\n    return true;\n  }\n\n  return false;\n}\n\n/***/ }),\n\n/***/ \"./columns/action/RadioEditor.js\":\n/*!***************************************!*\\\n  !*** ./columns/action/RadioEditor.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadioEditor = void 0;\n\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./columns/action/actionBind.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst action_utils_1 = __webpack_require__(/*! ./action-utils */ \"./columns/action/action-utils.js\");\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst Editor_1 = __webpack_require__(/*! ./Editor */ \"./columns/action/Editor.js\");\n\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_2 = __webpack_require__(/*! ../utils */ \"./columns/utils/index.js\");\n\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nconst defaultGroupResolver = ({\n  grid,\n  col,\n  row\n}) => {\n  const cellId = grid.getLayoutCellId(col, row);\n  const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n  const offsetRow = row - recordStartRow;\n  const result = [];\n  const {\n    rowCount,\n    recordRowCount\n  } = grid;\n\n  for (let targetRow = grid.frozenRowCount + offsetRow; targetRow < rowCount; targetRow += recordRowCount) {\n    if (grid.getLayoutCellId(col, targetRow) === cellId) {\n      result.push({\n        col,\n        row: targetRow\n      });\n    }\n  }\n\n  return result;\n};\n\nclass RadioEditor extends Editor_1.Editor {\n  constructor(option = {}) {\n    super(option);\n    this._group = option.group || defaultGroupResolver;\n  }\n\n  clone() {\n    return new RadioEditor(this);\n  }\n\n  get group() {\n    return this._group;\n  }\n\n  set group(group) {\n    this._group = group;\n  }\n\n  bindGridEvent(grid, cellId) {\n    let _state = grid[RADIO_COLUMN_STATE_ID];\n\n    if (!_state) {\n      _state = {\n        block: {},\n        elapsed: {}\n      };\n      utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\n    }\n\n    const state = _state;\n\n    const action = cell => {\n      this._action(grid, cell);\n    };\n\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n\n    return [...actionBind_1.bindCellClickAction(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...actionBind_1.bindCellKeyAction(grid, cellId, {\n      action\n    }), // paste value\n    grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, e => {\n      if (e.multi) {\n        // ignore multi cell values\n        return;\n      }\n\n      const selectionRange = grid.selection.range;\n\n      if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n        // ignore multi paste values\n        return;\n      }\n\n      if (!isTarget(e.col, e.row)) {\n        return;\n      }\n\n      const pasteValue = e.normalizeValue.trim();\n\n      if (!utils_2.toBoolean(pasteValue)) {\n        return;\n      }\n\n      utils_1.event.cancel(e.event);\n      action({\n        col: e.col,\n        row: e.row\n      });\n    })];\n  }\n\n  onPasteCellRangeBox(grid, cell, value) {\n    if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n      return;\n    }\n\n    const pasteValue = value.trim();\n\n    if (!utils_2.toBoolean(pasteValue)) {\n      return;\n    }\n\n    this._action(grid, {\n      col: cell.col,\n      row: cell.row\n    });\n  }\n\n  onDeleteCellRangeBox() {// noop\n  }\n\n  _action(grid, cell) {\n    const state = grid[RADIO_COLUMN_STATE_ID];\n    const range = grid.getCellRange(cell.col, cell.row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n\n    if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) || state.block[cellKey]) {\n      return;\n    }\n\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      if (utils_2.toBoolean(value)) {\n        return;\n      }\n\n      const targets = this._group({\n        grid,\n        col: cell.col,\n        row: cell.row\n      });\n\n      targets.forEach(({\n        col,\n        row\n      }) => {\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) || action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) || state.block[cellKey]) {\n          return;\n        }\n\n        actionCell(grid, col, row, col === cell.col && row === cell.row);\n      });\n    });\n  }\n\n}\n\nexports.RadioEditor = RadioEditor;\n\nfunction actionCell(grid, col, row, flag) {\n  grid.doGetCellValue(col, row, value => {\n    if (utils_2.toBoolean(value) === flag) {\n      return;\n    }\n\n    const state = grid[RADIO_COLUMN_STATE_ID];\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\n\n    if (ret) {\n      const onChange = () => {\n        // checkbox animation\n        animate_1.animate(200, point => {\n          if (point === 1) {\n            delete state.elapsed[cellKey];\n          } else {\n            state.elapsed[cellKey] = point;\n          }\n\n          grid.invalidateCellRange(range);\n        });\n      };\n\n      if (utils_1.isPromise(ret)) {\n        state.block[cellKey] = true;\n        ret.then(() => {\n          delete state.block[cellKey];\n          onChange();\n        });\n      } else {\n        onChange();\n      }\n    }\n  });\n}\n\n/***/ }),\n\n/***/ \"./columns/action/SmallDialogInputEditor.js\":\n/*!**************************************************!*\\\n  !*** ./columns/action/SmallDialogInputEditor.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SmallDialogInputEditor = void 0;\n\nconst BaseInputEditor_1 = __webpack_require__(/*! ./BaseInputEditor */ \"./columns/action/BaseInputEditor.js\");\n\nconst SmallDialogInputElement_1 = __webpack_require__(/*! ./internal/SmallDialogInputElement */ \"./columns/action/internal/SmallDialogInputElement.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst _ = symbolManager_1.getSmallDialogInputEditorStateId();\n\nfunction getState(grid) {\n  let state = grid[_];\n\n  if (!state) {\n    state = {};\n    utils_1.obj.setReadonly(grid, _, state);\n  }\n\n  return state;\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nlet globalElement = null;\nlet bindGridCount = 0;\n\nfunction attachInput(grid, cell, editor, value) {\n  const state = getState(grid);\n\n  if (!globalElement) {\n    globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\n  }\n\n  if (!state.element) {\n    state.element = globalElement;\n    bindGridCount++;\n    grid.addDisposable({\n      dispose() {\n        bindGridCount--;\n\n        if (!bindGridCount) {\n          globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n          globalElement = null;\n          state.element = null;\n        }\n      }\n\n    });\n  }\n\n  globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\n\nfunction detachInput(gridFocus) {\n  if (globalElement) {\n    globalElement.detach(gridFocus);\n  }\n}\n\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\n  constructor(option = {}) {\n    super(option);\n    this._helperText = option.helperText;\n    this._inputValidator = option.inputValidator;\n    this._validator = option.validator;\n    this._classList = option.classList;\n    this._type = option.type;\n  }\n\n  dispose() {//noop\n  }\n\n  get classList() {\n    if (!this._classList) {\n      return undefined;\n    }\n\n    return Array.isArray(this._classList) ? this._classList : [this._classList];\n  }\n\n  set classList(classList) {\n    this._classList = classList;\n  }\n\n  get type() {\n    return this._type;\n  }\n\n  set type(type) {\n    this._type = type;\n  }\n\n  get helperText() {\n    return this._helperText;\n  }\n\n  get inputValidator() {\n    return this._inputValidator;\n  }\n\n  get validator() {\n    return this._validator;\n  }\n\n  clone() {\n    return new SmallDialogInputEditor(this);\n  }\n\n  onInputCellInternal(grid, cell, inputValue) {\n    attachInput(grid, cell, this, inputValue);\n  }\n\n  onOpenCellInternal(grid, cell) {\n    grid.doGetCellValue(cell.col, cell.row, value => {\n      attachInput(grid, cell, this, value);\n    });\n  }\n\n  onChangeSelectCellInternal(_grid, _cell, _selected) {\n    // cancel input\n    detachInput();\n  }\n\n  onGridScrollInternal(_grid) {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeDisabledInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onChangeReadOnlyInternal() {\n    // cancel input\n    detachInput(true);\n  }\n\n  onSetInputAttrsInternal(grid, _cell, input) {\n    SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\n  }\n\n}\n\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\n\n/***/ }),\n\n/***/ \"./columns/action/action-utils.js\":\n/*!****************************************!*\\\n  !*** ./columns/action/action-utils.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nfunction isDisabledRecord(option, grid, row) {\n  if (grid.disabled) {\n    return true;\n  }\n\n  return getBooleanOptionOfRecord(option, grid, row);\n}\n\nexports.isDisabledRecord = isDisabledRecord;\n\nfunction isReadOnlyRecord(option, grid, row) {\n  if (grid.readOnly) {\n    return true;\n  }\n\n  return getBooleanOptionOfRecord(option, grid, row);\n}\n\nexports.isReadOnlyRecord = isReadOnlyRecord;\n\nfunction toggleValue(val) {\n  if (typeof val === \"number\") {\n    if (val === 0) {\n      return 1;\n    } else {\n      return 0;\n    }\n  } else if (typeof val === \"string\") {\n    if (val === \"false\") {\n      return \"true\";\n    } else if (val === \"off\") {\n      return \"on\";\n    } else if (/^0+$/.exec(val)) {\n      return val.replace(/^(0*)0$/, \"$11\");\n    } else if (val === \"true\") {\n      return \"false\";\n    } else if (val === \"on\") {\n      return \"off\";\n    } else if (/^0*1$/.exec(val)) {\n      return val.replace(/^(0*)1$/, \"$10\");\n    }\n  }\n\n  return !val;\n}\n\nexports.toggleValue = toggleValue;\n\nfunction getBooleanOptionOfRecord(option, grid, row) {\n  if (typeof option === \"function\") {\n    const record = grid.getRowRecord(row);\n\n    if (utils_1.isPromise(record)) {\n      return true;\n    }\n\n    return !!option(record);\n  }\n\n  return !!option;\n}\n\n/***/ }),\n\n/***/ \"./columns/action/actionBind.js\":\n/*!**************************************!*\\\n  !*** ./columns/action/actionBind.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\n\nfunction bindCellClickAction(grid, cellId, {\n  action,\n  mouseOver,\n  mouseOut\n}) {\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n\n  return [// click\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n      return;\n    }\n\n    action({\n      col: e.col,\n      row: e.row\n    });\n  }), // mouse move\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n      return;\n    }\n\n    if (mouseOver) {\n      if (!mouseOver({\n        col: e.col,\n        row: e.row\n      })) {\n        return;\n      }\n    }\n\n    grid.getElement().style.cursor = \"pointer\";\n  }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (mouseOut) {\n      mouseOut({\n        col: e.col,\n        row: e.row\n      });\n    }\n\n    grid.getElement().style.cursor = \"\";\n  })];\n}\n\nexports.bindCellClickAction = bindCellClickAction;\n\nfunction bindCellKeyAction(grid, cellId, {\n  action,\n  acceptKeys = []\n}) {\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n\n  acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\n  return [// enter key down\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n    var _a;\n\n    if (acceptKeys.indexOf(e.keyCode) === -1) {\n      return;\n    }\n\n    if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n      // When moving with the enter key, no action is taken with the enter key.\n      return;\n    }\n\n    const sel = grid.selection.select;\n\n    if (!isTarget(sel.col, sel.row)) {\n      return;\n    }\n\n    if (utils_1.isPromise(grid.getRowRecord(sel.row))) {\n      return;\n    }\n\n    action({\n      col: sel.col,\n      row: sel.row\n    });\n    utils_1.event.cancel(e.event);\n  })];\n}\n\nexports.bindCellKeyAction = bindCellKeyAction;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/InlineInputElement.js\":\n/*!*******************************************************!*\\\n  !*** ./columns/action/internal/InlineInputElement.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineInputElement = void 0;\n\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\n\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../../internal/utils */ \"./internal/utils.js\");\n\nconst input_value_handler_1 = __webpack_require__(/*! ./input-value-handler */ \"./columns/action/internal/input-value-handler.js\");\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst CLASSNAME = \"cheetah-grid__inline-input\";\n\nfunction createInputElement() {\n  __webpack_require__(/*! @/columns/action/internal/InlineInputElement.css */ \"../src/js/columns/action/internal/InlineInputElement.css\");\n\n  return dom_1.createElement(\"input\", {\n    classList: CLASSNAME\n  });\n}\n\nfunction setInputAttrs(editor, _grid, input) {\n  const {\n    classList,\n    type\n  } = editor;\n\n  if (classList) {\n    input.classList.add(...classList);\n  }\n\n  input.type = type || \"\";\n}\n\nclass InlineInputElement {\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    this._input = createInputElement();\n\n    this._bindInputEvents();\n  }\n\n  static setInputAttrs(editor, grid, input) {\n    setInputAttrs(editor, grid, input);\n  }\n\n  dispose() {\n    var _a;\n\n    const input = this._input;\n    this.detach();\n\n    this._handler.dispose();\n\n    delete this._input;\n    this._beforePropEditor = null;\n    (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n  }\n\n  attach(grid, editor, col, row, value) {\n    const input = this._input;\n    const handler = this._handler;\n\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n\n      if (classList) {\n        input.classList.remove(...classList);\n      }\n    }\n\n    input.style.font = grid.font || \"16px sans-serif\";\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    input.style.top = `${rect.top.toFixed()}px`;\n    input.style.left = `${rect.left.toFixed()}px`;\n    input.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(input);\n    setInputAttrs(editor, grid, input);\n    input_value_handler_1.setInputValue(input, value);\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n    this._beforePropEditor = editor;\n\n    const focus = () => {\n      input.focus();\n      const end = input.value.length;\n\n      try {\n        if (typeof input.selectionStart !== \"undefined\") {\n          input.selectionStart = end;\n          input.selectionEnd = end;\n          return;\n        }\n      } catch (e) {//ignore\n      } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n      if (document.selection) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const range = input.createTextRange();\n        range.collapse();\n        range.moveEnd(\"character\", end);\n        range.moveStart(\"character\", end);\n        range.select();\n      }\n    };\n\n    handler.tryWithOffEvents(input, \"blur\", () => {\n      focus();\n    });\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const input = this._input;\n\n      this._handler.tryWithOffEvents(input, \"blur\", () => {\n        var _a;\n\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n      });\n\n      const range = grid.getCellRange(col, row);\n      grid.invalidateCellRange(range);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n  }\n\n  doChangeValue() {\n    if (!this._isActive()) {\n      return;\n    }\n\n    const input = this._input;\n    const {\n      value\n    } = input;\n    const {\n      grid,\n      col,\n      row\n    } = this._activeData;\n    grid.doChangeValue(col, row, () => value);\n  }\n\n  _isActive() {\n    const input = this._input;\n\n    if (!input || !input.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindInputEvents() {\n    const handler = this._handler;\n    const input = this._input;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(input, \"click\", stopPropagationOnly);\n    handler.on(input, \"mousedown\", stopPropagationOnly);\n    handler.on(input, \"touchstart\", stopPropagationOnly);\n    handler.on(input, \"dblclick\", stopPropagationOnly);\n    handler.on(input, \"compositionstart\", _e => {\n      input.classList.add(\"composition\");\n    });\n    handler.on(input, \"compositionend\", _e => {\n      input.classList.remove(\"composition\");\n    });\n    handler.on(input, \"keydown\", e => {\n      if (input.classList.contains(\"composition\")) {\n        return;\n      }\n\n      const keyCode = utils_1.event.getKeyCode(e);\n\n      if (keyCode === KEY_ENTER) {\n        this._onKeydownEnter(e);\n      } else if (keyCode === KEY_TAB) {\n        this._onKeydownTab(e);\n      }\n    });\n    handler.on(input, \"blur\", _e => {\n      this.doChangeValue();\n      this.detach();\n    });\n  }\n\n  _onKeydownEnter(e) {\n    var _a;\n\n    if (!this._isActive() || this._attaching) {\n      return;\n    }\n\n    const {\n      grid\n    } = this._activeData;\n    this.doChangeValue();\n    this.detach(true);\n    utils_1.event.cancel(e);\n\n    if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n      grid.onKeyDownMove(e);\n    }\n  }\n\n  _onKeydownTab(e) {\n    var _a;\n\n    if (!this._isActive()) {\n      return;\n    }\n\n    const {\n      grid\n    } = this._activeData;\n\n    if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\n      return;\n    }\n\n    this.doChangeValue();\n    this.detach(true);\n    grid.onKeyDownMove(e);\n  }\n\n}\n\nexports.InlineInputElement = InlineInputElement;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/InlineMenuElement.js\":\n/*!******************************************************!*\\\n  !*** ./columns/action/internal/InlineMenuElement.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineMenuElement = void 0;\n\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\n\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../../internal/utils */ \"./internal/utils.js\");\n\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\n\nfunction findItemParents(target) {\n  let el = target;\n\n  while (el && !el.classList.contains(ITEM_CLASSNAME)) {\n    el = el.parentElement;\n\n    if (!el || el.classList.contains(CLASSNAME)) {\n      return null;\n    }\n  }\n\n  return el;\n}\n\nfunction createMenuElement() {\n  __webpack_require__(/*! @/columns/action/internal/InlineMenuElement.css */ \"../src/js/columns/action/internal/InlineMenuElement.css\");\n\n  return dom_1.createElement(\"ul\", {\n    classList: CLASSNAME\n  });\n}\n\nfunction attachElement(element, rect, menu) {\n  menu.style.top = `${rect.top.toFixed()}px`;\n  menu.style.left = `${rect.left.toFixed()}px`;\n  menu.style.width = `${rect.width.toFixed()}px`;\n  menu.style.lineHeight = `${rect.height.toFixed()}px`;\n  element.appendChild(menu);\n}\n\nfunction optionToLi({\n  classList,\n  label,\n  value,\n  html\n}, index) {\n  const item = dom_1.createElement(\"li\", {\n    classList: ITEM_CLASSNAME\n  });\n  item.tabIndex = 0;\n  item.dataset.valueindex = `${index}`;\n\n  if (classList) {\n    item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n  }\n\n  if (label) {\n    const span = dom_1.createElement(\"span\", {\n      text: label\n    });\n    item.appendChild(span);\n  } else if (html) {\n    dom_1.appendHtml(item, html);\n  }\n\n  if (value === \"\" || value == null) {\n    item.classList.add(EMPTY_ITEM_CLASSNAME);\n  }\n\n  return item;\n}\n\nfunction openMenu(grid, editor, col, row, value, options, menu) {\n  const {\n    classList\n  } = editor;\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  dom_1.empty(menu);\n  menu.style.font = grid.font || \"16px sans-serif\";\n  let emptyItemEl = null;\n  let valueItemEl = null;\n  options.forEach((option, i) => {\n    const item = optionToLi(option, i);\n    menu.appendChild(item);\n\n    if (option.value === value) {\n      valueItemEl = item;\n      item.dataset.select = \"select\";\n    }\n\n    if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n      emptyItemEl = item;\n    }\n  });\n  const focusEl = valueItemEl || emptyItemEl || menu.children[0];\n\n  if (classList) {\n    menu.classList.add(...classList);\n  }\n\n  const children = Array.prototype.slice.call(menu.children, 0);\n  const focusIndex = children.indexOf(focusEl);\n  const {\n    element,\n    rect\n  } = grid.getAttachCellsArea(grid.getCellRange(col, row)); // Cover the right line\n\n  rect.width++; // append for calculation\n\n  attachElement(element, rect, menu); // Make the selection item at the middle\n\n  let offset = 0;\n  let allHeight = 0;\n\n  for (let i = 0; i < children.length; i++) {\n    const {\n      offsetHeight\n    } = children[i];\n\n    if (i < focusIndex) {\n      offset += offsetHeight;\n    }\n\n    allHeight += offsetHeight;\n  }\n\n  rect.offsetTop(-offset);\n  menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n  attachElement(element, rect, menu); // Control not to overflow the screen range\n\n  const menuClientRect = menu.getBoundingClientRect();\n  const scaleDiff = (allHeight - menuClientRect.height) / 2;\n  const orgMenuTop = menuClientRect.top - scaleDiff;\n  let menuTop = orgMenuTop;\n  const menuBottom = menuTop + allHeight;\n  const winBottom = window.innerHeight;\n  const winMargin = 20;\n\n  if (menuBottom > winBottom - winMargin) {\n    const diff = menuBottom - winBottom + winMargin;\n    menuTop -= diff;\n  }\n\n  if (menuTop < 0\n  /*winTop*/\n  + winMargin) {\n    menuTop = winMargin;\n  }\n\n  if (menuTop !== orgMenuTop) {\n    rect.offsetTop(-(orgMenuTop - menuTop)); // re update\n\n    attachElement(element, rect, menu);\n  }\n\n  if (focusEl) {\n    focusEl.focus();\n  }\n\n  menu.classList.remove(HIDDEN_CLASSNAME);\n  menu.classList.add(SHOWN_CLASSNAME);\n}\n\nfunction closeMenu(_grid, _col, _row, menu) {\n  menu.classList.remove(SHOWN_CLASSNAME);\n  menu.classList.add(HIDDEN_CLASSNAME);\n  dom_1.disableFocus(menu);\n}\n\nclass InlineMenuElement {\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    this._menu = createMenuElement();\n\n    this._bindMenuEvents();\n  }\n\n  dispose() {\n    var _a;\n\n    const menu = this._menu;\n    this.detach();\n\n    this._handler.dispose();\n\n    delete this._menu;\n    this._beforePropEditor = null;\n    (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\n  }\n\n  attach(grid, editor, col, row, value, record) {\n    const menu = this._menu;\n\n    if (this._beforePropEditor) {\n      const {\n        classList\n      } = this._beforePropEditor;\n\n      if (classList) {\n        menu.classList.remove(...classList);\n      }\n    }\n\n    const options = editor.options(record);\n    openMenu(grid, editor, col, row, value, options, menu);\n    this._activeData = {\n      grid,\n      col,\n      row,\n      editor,\n      options\n    };\n    this._beforePropEditor = editor;\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const menu = this._menu;\n      closeMenu(grid, col, row, menu);\n      const range = grid.getCellRange(col, row);\n      grid.invalidateCellRange(range);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n  }\n\n  _doChangeValue(valueindex) {\n    if (!this._isActive()) {\n      return;\n    }\n\n    const {\n      grid,\n      col,\n      row,\n      options\n    } = this._activeData;\n    const option = options[Number(valueindex)];\n\n    if (option) {\n      const {\n        value\n      } = option;\n      grid.doChangeValue(col, row, () => value);\n    }\n  }\n\n  _isActive() {\n    const menu = this._menu;\n\n    if (!menu || !menu.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindMenuEvents() {\n    const handler = this._handler;\n    const menu = this._menu;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(menu, \"mousedown\", stopPropagationOnly);\n    handler.on(menu, \"touchstart\", stopPropagationOnly);\n    handler.on(menu, \"dblclick\", stopPropagationOnly);\n    handler.on(menu, \"click\", e => {\n      e.stopPropagation();\n      const item = findItemParents(e.target);\n\n      if (!item) {\n        return;\n      }\n\n      const {\n        valueindex\n      } = item.dataset;\n\n      this._doChangeValue(valueindex || \"\");\n\n      this.detach(true);\n    });\n    handler.on(menu, \"keydown\", e => {\n      const item = findItemParents(e.target);\n\n      if (!item) {\n        return;\n      }\n\n      const keyCode = utils_1.event.getKeyCode(e);\n\n      if (keyCode === KEY_ENTER) {\n        this._onKeydownEnter(menu, item, e);\n      } else if (keyCode === KEY_ESC) {\n        this.detach(true);\n        utils_1.event.cancel(e);\n      } else if (keyCode === KEY_UP) {\n        const n = dom_1.findPrevSiblingFocusable(item);\n\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      } else if (keyCode === KEY_DOWN) {\n        const n = dom_1.findNextSiblingFocusable(item);\n\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      } else if (keyCode === KEY_TAB) {\n        this._onKeydownTab(menu, item, e);\n      }\n    });\n  }\n\n  _onKeydownEnter(_menu, item, e) {\n    var _a;\n\n    const grid = this._isActive() ? this._activeData.grid : null;\n    const {\n      valueindex\n    } = item.dataset;\n\n    this._doChangeValue(valueindex || \"\");\n\n    this.detach(true);\n    utils_1.event.cancel(e);\n\n    if (grid) {\n      if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n        grid.onKeyDownMove(e);\n      }\n    }\n  }\n\n  _onKeydownTab(menu, item, e) {\n    var _a;\n\n    if (this._isActive()) {\n      const {\n        grid\n      } = this._activeData;\n\n      if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\n        const {\n          valueindex\n        } = item.dataset;\n\n        this._doChangeValue(valueindex || \"\");\n\n        this.detach(true);\n        grid.onKeyDownMove(e);\n        return;\n      }\n    }\n\n    if (!e.shiftKey) {\n      if (!dom_1.findNextSiblingFocusable(item)) {\n        let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n\n        if (!dom_1.isFocusable(n)) {\n          n = dom_1.findNextSiblingFocusable(n);\n        }\n\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      }\n    } else {\n      if (!dom_1.findPrevSiblingFocusable(item)) {\n        const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n        let n = items[items.length - 1];\n\n        if (!dom_1.isFocusable(n)) {\n          n = dom_1.findPrevSiblingFocusable(n);\n        }\n\n        if (n) {\n          n.focus();\n          utils_1.event.cancel(e);\n        }\n      }\n    }\n  }\n\n}\n\nexports.InlineMenuElement = InlineMenuElement;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/SmallDialogInputElement.js\":\n/*!************************************************************!*\\\n  !*** ./columns/action/internal/SmallDialogInputElement.js ***!\n  \\************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SmallDialogInputElement = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../../../internal/utils */ \"./internal/utils.js\");\n\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\n\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\n\nconst input_value_handler_1 = __webpack_require__(/*! ./input-value-handler */ \"./columns/action/internal/input-value-handler.js\");\n\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\n\nfunction _focus(input, handler) {\n  const focus = () => {\n    input.focus();\n    const end = input.value.length;\n\n    try {\n      if (typeof input.selectionStart !== \"undefined\") {\n        input.selectionStart = end;\n        input.selectionEnd = end;\n        return;\n      }\n    } catch (e) {//ignore\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    if (document.selection) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const range = input.createTextRange();\n      range.collapse();\n      range.moveEnd(\"character\", end);\n      range.moveStart(\"character\", end);\n      range.select();\n    }\n  };\n\n  handler.tryWithOffEvents(input, \"blur\", () => {\n    focus();\n  });\n}\n\nfunction createDialogElement() {\n  __webpack_require__(/*! @/columns/action/internal/SmallDialogInputElement.css */ \"../src/js/columns/action/internal/SmallDialogInputElement.css\");\n\n  const element = dom_1.createElement(\"div\", {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const input = dom_1.createElement(\"input\", {\n    classList: INPUT_CLASSNAME\n  });\n  input.readOnly = true;\n  input.tabIndex = -1;\n  element.appendChild(input);\n  return element;\n}\n\nfunction bindProps(grid, dialog, input, editor) {\n  const {\n    classList,\n    helperText\n  } = editor;\n\n  if (classList) {\n    dialog.classList.add(...classList);\n  }\n\n  if (helperText && typeof helperText !== \"function\") {\n    dialog.dataset.helperText = helperText;\n  }\n\n  setInputAttrs(editor, grid, input);\n}\n\nfunction unbindProps(_grid, dialog, input, editor) {\n  const {\n    classList\n  } = editor;\n\n  if (classList) {\n    dialog.classList.remove(...classList);\n  }\n\n  delete dialog.dataset.helperText;\n  input.type = \"\";\n}\n\nfunction setInputAttrs(editor, _grid, input) {\n  const {\n    type\n  } = editor;\n  input.type = type || \"\";\n}\n\nclass SmallDialogInputElement {\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    this._dialog = createDialogElement();\n    this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n\n    this._bindDialogEvents();\n  }\n\n  static setInputAttrs(editor, grid, input) {\n    setInputAttrs(editor, grid, input);\n  }\n\n  dispose() {\n    const dialog = this._dialog;\n    this.detach();\n\n    this._handler.dispose();\n\n    delete this._dialog;\n    delete this._input;\n    this._beforePropEditor = null;\n\n    if (dialog.parentElement) {\n      dialog.parentElement.removeChild(dialog);\n    }\n  }\n\n  attach(grid, editor, col, row, value) {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n\n    if (this._beforePropEditor) {\n      unbindProps(grid, dialog, input, this._beforePropEditor);\n    }\n\n    delete dialog.dataset.errorMessage;\n    dialog.classList.remove(SHOWN_CLASSNAME);\n    dialog.classList.add(HIDDEN_CLASSNAME);\n    input.readOnly = true;\n    input.tabIndex = 0;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    dialog.style.top = `${rect.top.toFixed()}px`;\n    dialog.style.left = `${rect.left.toFixed()}px`;\n    dialog.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n    element.appendChild(dialog);\n    input_value_handler_1.setInputValue(input, value);\n    input.style.font = grid.font || \"16px sans-serif\";\n    const activeData = {\n      grid,\n      col,\n      row,\n      editor\n    };\n\n    this._onInputValue(input, activeData);\n\n    if (!utils_1.browser.IE) {\n      _focus(input, handler);\n    } else {\n      // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\n      setTimeout(() => _focus(input, handler));\n    }\n\n    dialog.classList.add(SHOWN_CLASSNAME);\n    dialog.classList.remove(HIDDEN_CLASSNAME);\n    input.readOnly = false;\n    bindProps(grid, dialog, input, editor);\n    this._activeData = activeData;\n    this._beforePropEditor = editor;\n    this._attaching = true;\n    setTimeout(() => {\n      delete this._attaching;\n    });\n  }\n\n  detach(gridFocus) {\n    if (this._isActive()) {\n      const dialog = this._dialog;\n      const input = this._input;\n      dialog.classList.remove(SHOWN_CLASSNAME);\n      dialog.classList.add(HIDDEN_CLASSNAME);\n      input.readOnly = true;\n      input.tabIndex = -1;\n      const {\n        grid,\n        col,\n        row\n      } = this._activeData;\n      const range = grid.getCellRange(col, row);\n      grid.invalidateCellRange(range);\n\n      if (gridFocus) {\n        grid.focus();\n      }\n    }\n\n    this._activeData = null;\n    this._beforeValue = null;\n  }\n\n  _doChangeValue() {\n    if (!this._isActive()) {\n      return false;\n    }\n\n    const input = this._input;\n    const {\n      value\n    } = input;\n    return utils_1.then(this._validate(value), res => {\n      if (res && value === input.value) {\n        const {\n          grid,\n          col,\n          row\n        } = this._activeData;\n        grid.doChangeValue(col, row, () => value);\n        return true;\n      }\n\n      return false;\n    });\n  }\n\n  _isActive() {\n    const dialog = this._dialog;\n\n    if (!dialog || !dialog.parentElement) {\n      return false;\n    }\n\n    if (!this._activeData) {\n      return false;\n    }\n\n    return true;\n  }\n\n  _bindDialogEvents() {\n    const handler = this._handler;\n    const dialog = this._dialog;\n    const input = this._input;\n\n    const stopPropagationOnly = e => e.stopPropagation(); // grid\n\n\n    handler.on(dialog, \"click\", stopPropagationOnly);\n    handler.on(dialog, \"dblclick\", stopPropagationOnly);\n    handler.on(dialog, \"mousedown\", stopPropagationOnly);\n    handler.on(dialog, \"touchstart\", stopPropagationOnly);\n    handler.on(input, \"compositionstart\", _e => {\n      input.classList.add(\"composition\");\n    });\n    handler.on(input, \"compositionend\", _e => {\n      input.classList.remove(\"composition\");\n\n      this._onInputValue(input);\n    });\n\n    const onKeyupAndPress = _e => {\n      if (input.classList.contains(\"composition\")) {\n        return;\n      }\n\n      this._onInputValue(input);\n    };\n\n    handler.on(input, \"keyup\", onKeyupAndPress);\n    handler.on(input, \"keypress\", onKeyupAndPress);\n    handler.on(input, \"keydown\", e => {\n      if (input.classList.contains(\"composition\")) {\n        return;\n      }\n\n      const keyCode = utils_1.event.getKeyCode(e);\n\n      if (keyCode === KEY_ESC) {\n        this.detach(true);\n        utils_1.event.cancel(e);\n      } else if (keyCode === KEY_ENTER) {\n        this._onKeydownEnter(e);\n      } else {\n        this._onInputValue(input);\n      }\n    });\n  }\n\n  _onKeydownEnter(e) {\n    if (this._attaching) {\n      return;\n    }\n\n    const input = this._input;\n    const {\n      value\n    } = input;\n    utils_1.then(this._doChangeValue(), r => {\n      var _a;\n\n      if (r && value === input.value) {\n        const grid = this._isActive() ? this._activeData.grid : null;\n        this.detach(true);\n\n        if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n          grid.onKeyDownMove(e);\n        }\n      }\n    });\n    utils_1.event.cancel(e);\n  }\n\n  _onInputValue(input, activeData) {\n    const before = this._beforeValue;\n    const {\n      value\n    } = input;\n\n    if (before !== value) {\n      this._onInputValueChange(value, activeData);\n    }\n\n    this._beforeValue = value;\n  }\n\n  _onInputValueChange(after, activeData) {\n    activeData = activeData || this._activeData;\n    const dialog = this._dialog;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = activeData;\n\n    if (typeof editor.helperText === \"function\") {\n      const helperText = editor.helperText(after, {\n        grid,\n        col,\n        row\n      });\n\n      if (helperText) {\n        dialog.dataset.helperText = helperText;\n      } else {\n        delete dialog.dataset.helperText;\n      }\n    }\n\n    if (\"errorMessage\" in dialog.dataset) {\n      this._validate(after, true);\n    }\n  }\n\n  _validate(value, inputOnly) {\n    const dialog = this._dialog;\n    const input = this._input;\n    const {\n      grid,\n      col,\n      row,\n      editor\n    } = this._activeData;\n    let message = \"\";\n\n    if (editor.inputValidator) {\n      message = editor.inputValidator(value, {\n        grid,\n        col,\n        row\n      });\n    }\n\n    return utils_1.then(message, message => {\n      if (!message && editor.validator && !inputOnly) {\n        message = editor.validator(value, {\n          grid,\n          col,\n          row\n        });\n      }\n\n      return utils_1.then(message, message => {\n        if (message && value === input.value) {\n          dialog.dataset.errorMessage = message;\n        } else {\n          delete dialog.dataset.errorMessage;\n        }\n\n        return !message;\n      });\n    });\n  }\n\n}\n\nexports.SmallDialogInputElement = SmallDialogInputElement;\n\n/***/ }),\n\n/***/ \"./columns/action/internal/input-value-handler.js\":\n/*!********************************************************!*\\\n  !*** ./columns/action/internal/input-value-handler.js ***!\n  \\********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.setInputValue = void 0;\n\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\n\nfunction setInputValue(input, value) {\n  const sign = input.type === \"number\" && value === \"-\";\n\n  if (sign) {\n    // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\n    input.type = \"\";\n    let handler = new EventHandler_1.EventHandler();\n\n    const dispose = () => {\n      if (handler) {\n        handler.dispose();\n        handler = null;\n      }\n    };\n\n    handler.once(input, \"input\", _e => {\n      input.type = \"number\";\n      dispose();\n    });\n    handler.once(input, \"blur\", _e => {\n      dispose();\n    });\n  }\n\n  input.value = value !== null && value !== void 0 ? value : \"\";\n}\n\nexports.setInputValue = setInputValue;\n\n/***/ }),\n\n/***/ \"./columns/message/BaseMessage.js\":\n/*!****************************************!*\\\n  !*** ./columns/message/BaseMessage.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseMessage = void 0;\n\nclass BaseMessage {\n  constructor(grid) {\n    this._messageElement = null;\n    this._grid = grid;\n  }\n\n  dispose() {\n    this.detachMessageElement();\n\n    if (this._messageElement) {\n      this._messageElement.dispose();\n    }\n\n    this._messageElement = null;\n  }\n\n  _getMessageElement() {\n    return this._messageElement || (this._messageElement = this.createMessageElementInternal());\n  }\n\n  attachMessageElement(col, row, message) {\n    const messageElement = this._getMessageElement();\n\n    messageElement.attach(this._grid, col, row, message);\n  }\n\n  moveMessageElement(col, row) {\n    const messageElement = this._getMessageElement();\n\n    messageElement.move(this._grid, col, row);\n  }\n\n  detachMessageElement() {\n    const messageElement = this._getMessageElement();\n\n    messageElement._detach();\n  }\n\n  drawCellMessage(message, context, style, helper, grid, info) {\n    this.drawCellMessageInternal(message, context, style, helper, grid, info);\n  }\n\n}\n\nexports.BaseMessage = BaseMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/ErrorMessage.js\":\n/*!*****************************************!*\\\n  !*** ./columns/message/ErrorMessage.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorMessage = void 0;\n\nconst messageUtils = __importStar(__webpack_require__(/*! ./messageUtils */ \"./columns/message/messageUtils.js\"));\n\nconst BaseMessage_1 = __webpack_require__(/*! ./BaseMessage */ \"./columns/message/BaseMessage.js\");\n\nconst ErrorMessageElement_1 = __webpack_require__(/*! ./internal/ErrorMessageElement */ \"./columns/message/internal/ErrorMessageElement.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst RED_A100 = \"#ff8a80\";\n\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\n  createMessageElementInternal() {\n    return new ErrorMessageElement_1.ErrorMessageElement();\n  }\n\n  drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      select\n    } = context.getSelection();\n\n    if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) || !grid.hasFocusGrid()) {\n      helper.drawBorderWithClip(context, _ctx => {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: RED_A100,\n          color: bgColor\n        }, helper);\n      });\n    }\n  }\n\n}\n\nexports.ErrorMessage = ErrorMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/InfoMessage.js\":\n/*!****************************************!*\\\n  !*** ./columns/message/InfoMessage.js ***!\n  \\****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InfoMessage = void 0;\n\nconst messageUtils = __importStar(__webpack_require__(/*! ./messageUtils */ \"./columns/message/messageUtils.js\"));\n\nconst BaseMessage_1 = __webpack_require__(/*! ./BaseMessage */ \"./columns/message/BaseMessage.js\");\n\nconst MessageElement_1 = __webpack_require__(/*! ./internal/MessageElement */ \"./columns/message/internal/MessageElement.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst GREY_L2 = \"#e0e0e0\";\n\nclass InfoMessage extends BaseMessage_1.BaseMessage {\n  createMessageElementInternal() {\n    return new MessageElement_1.MessageElement();\n  }\n\n  drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      select\n    } = context.getSelection();\n\n    if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) || !grid.hasFocusGrid()) {\n      helper.drawBorderWithClip(context, _ctx => {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: GREY_L2,\n          color: bgColor\n        }, helper);\n      });\n    }\n  }\n\n}\n\nexports.InfoMessage = InfoMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/MessageHandler.js\":\n/*!*******************************************!*\\\n  !*** ./columns/message/MessageHandler.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageHandler = exports.hasMessage = void 0;\n\nconst ErrorMessage_1 = __webpack_require__(/*! ./ErrorMessage */ \"./columns/message/ErrorMessage.js\");\n\nconst InfoMessage_1 = __webpack_require__(/*! ./InfoMessage */ \"./columns/message/InfoMessage.js\");\n\nconst LG_EVENT_TYPE_1 = __webpack_require__(/*! ../../list-grid/LG_EVENT_TYPE */ \"./list-grid/LG_EVENT_TYPE.js\");\n\nconst WarningMessage_1 = __webpack_require__(/*! ./WarningMessage */ \"./columns/message/WarningMessage.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst EMPTY_MESSAGE = {\n  type: \"error\",\n  message: null\n};\nconst MESSAGE_INSTANCE_FACTORY = {\n  error(grid) {\n    return new ErrorMessage_1.ErrorMessage(grid);\n  },\n\n  info(grid) {\n    return new InfoMessage_1.InfoMessage(grid);\n  },\n\n  warning(grid) {\n    return new WarningMessage_1.WarningMessage(grid);\n  }\n\n};\n\nfunction normalizeMessage(message) {\n  if (!message || utils_1.isPromise(message)) {\n    return EMPTY_MESSAGE;\n  }\n\n  if (typeof message === \"string\") {\n    return {\n      type: \"error\",\n      message,\n      original: message\n    };\n  }\n\n  const type = message.type || \"error\";\n\n  if (type && type in MESSAGE_INSTANCE_FACTORY) {\n    return {\n      type: type.toLowerCase(),\n      message: message.message,\n      original: message\n    };\n  }\n\n  return {\n    type: \"error\",\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    message: `${message}`,\n    original: message\n  };\n}\n\nfunction hasMessage(message) {\n  return !!normalizeMessage(message).message;\n}\n\nexports.hasMessage = hasMessage;\n\nclass MessageHandler {\n  constructor(grid, getMessage) {\n    this._attachInfo = null;\n    this._grid = grid;\n    this._messageInstances = {};\n\n    this._bindGridEvent(grid, getMessage);\n  }\n\n  dispose() {\n    var _a;\n\n    const messageInstances = this._messageInstances;\n\n    for (const k in messageInstances) {\n      (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n\n    delete this._messageInstances;\n    delete this._attachInfo;\n  }\n\n  drawCellMessage(message, context, style, helper, grid, info) {\n    if (!hasMessage(message)) {\n      return;\n    }\n\n    const instance = this._getMessageInstanceOfMessage(message);\n\n    instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\n  }\n\n  _attach(col, row, message) {\n    const info = this._attachInfo;\n\n    const instance = this._getMessageInstanceOfMessage(message);\n\n    if (info && info.instance !== instance) {\n      info.instance.detachMessageElement();\n    }\n\n    instance.attachMessageElement(col, row, normalizeMessage(message));\n    this._attachInfo = {\n      col,\n      row,\n      instance\n    };\n  }\n\n  _move(col, row) {\n    const info = this._attachInfo;\n\n    if (!info || info.col !== col || info.row !== row) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.moveMessageElement(col, row);\n  }\n\n  _detach() {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.detachMessageElement();\n    this._attachInfo = null;\n  }\n\n  _bindGridEvent(grid, getMessage) {\n    const onSelectMessage = sel => {\n      const setMessageData = msg => {\n        if (!hasMessage(msg)) {\n          this._detach();\n        } else {\n          this._attach(sel.col, sel.row, msg);\n        }\n      };\n\n      const message = getMessage(sel.col, sel.row);\n\n      if (utils_1.isPromise(message)) {\n        this._detach();\n\n        message.then(msg => {\n          const newSel = grid.selection.select;\n\n          if (newSel.col !== sel.col || newSel.row !== sel.row) {\n            return;\n          }\n\n          setMessageData(msg);\n        });\n        return;\n      }\n\n      setMessageData(message);\n    };\n\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, e => {\n      if (!e.selected) {\n        return;\n      }\n\n      if (e.before.col === e.col && e.before.row === e.row) {\n        return;\n      }\n\n      onSelectMessage(e);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n      const sel = grid.selection.select;\n\n      this._move(sel.col, sel.row);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, e => {\n      const sel = grid.selection.select;\n\n      if (sel.col !== e.col || sel.row !== e.row) {\n        return;\n      }\n\n      onSelectMessage(e);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, _e => {\n      const sel = grid.selection.select;\n      onSelectMessage(sel);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, _e => {\n      this._detach();\n    });\n  }\n\n  _getMessageInstanceOfMessage(message) {\n    const messageInstances = this._messageInstances;\n    const {\n      type\n    } = normalizeMessage(message);\n    return messageInstances[type] || (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid));\n  }\n\n}\n\nexports.MessageHandler = MessageHandler;\n\n/***/ }),\n\n/***/ \"./columns/message/WarningMessage.js\":\n/*!*******************************************!*\\\n  !*** ./columns/message/WarningMessage.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WarningMessage = void 0;\n\nconst messageUtils = __importStar(__webpack_require__(/*! ./messageUtils */ \"./columns/message/messageUtils.js\"));\n\nconst BaseMessage_1 = __webpack_require__(/*! ./BaseMessage */ \"./columns/message/BaseMessage.js\");\n\nconst WarningMessageElement_1 = __webpack_require__(/*! ./internal/WarningMessageElement */ \"./columns/message/internal/WarningMessageElement.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\n\nclass WarningMessage extends BaseMessage_1.BaseMessage {\n  createMessageElementInternal() {\n    return new WarningMessageElement_1.WarningMessageElement();\n  }\n\n  drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n    const {\n      bgColor\n    } = style;\n    const {\n      select\n    } = context.getSelection();\n\n    if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) || !grid.hasFocusGrid()) {\n      helper.drawBorderWithClip(context, _ctx => {\n        messageUtils.drawExclamationMarkBox(context, {\n          bgColor: DEEP_ORANGE_A100,\n          color: bgColor\n        }, helper);\n      });\n    }\n  }\n\n}\n\nexports.WarningMessage = WarningMessage;\n\n/***/ }),\n\n/***/ \"./columns/message/internal/ErrorMessageElement.js\":\n/*!*********************************************************!*\\\n  !*** ./columns/message/internal/ErrorMessageElement.js ***!\n  \\*********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ErrorMessageElement = void 0;\n\nconst MessageElement_1 = __webpack_require__(/*! ./MessageElement */ \"./columns/message/internal/MessageElement.js\");\n\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\n  constructor() {\n    super();\n\n    __webpack_require__(/*! @/columns/message/internal/ErrorMessageElement.css */ \"../src/js/columns/message/internal/ErrorMessageElement.css\");\n\n    this._rootElement.classList.add(CLASSNAME);\n\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n\n}\n\nexports.ErrorMessageElement = ErrorMessageElement;\n\n/***/ }),\n\n/***/ \"./columns/message/internal/MessageElement.js\":\n/*!****************************************************!*\\\n  !*** ./columns/message/internal/MessageElement.js ***!\n  \\****************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MessageElement = void 0;\n\nconst EventHandler_1 = __webpack_require__(/*! ../../../internal/EventHandler */ \"./internal/EventHandler.js\");\n\nconst dom_1 = __webpack_require__(/*! ../../../internal/dom */ \"./internal/dom.js\");\n\nconst CLASSNAME = \"cheetah-grid__message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createMessageDomElement() {\n  __webpack_require__(/*! @/columns/message/internal/MessageElement.css */ \"../src/js/columns/message/internal/MessageElement.css\");\n\n  const rootElement = dom_1.createElement(\"div\", {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = dom_1.createElement(\"span\", {\n    classList: [MESSAGE_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\n\nclass MessageElement {\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    const rootElement = this._rootElement = createMessageDomElement();\n    this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n  }\n\n  dispose() {\n    this.detach();\n\n    this._handler.dispose();\n\n    delete this._rootElement;\n    delete this._messageElement;\n  }\n\n  attach(grid, col, row, message) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = message.message;\n    } else {\n      this._detach();\n    }\n  }\n\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  _detach() {\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      offsetHeight,\n      offsetWidth\n    } = element;\n\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${left.toFixed()}px`;\n    rootElement.style.width = `${width.toFixed()}px`;\n\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n\n    return true;\n  }\n\n}\n\nexports.MessageElement = MessageElement;\n\n/***/ }),\n\n/***/ \"./columns/message/internal/WarningMessageElement.js\":\n/*!***********************************************************!*\\\n  !*** ./columns/message/internal/WarningMessageElement.js ***!\n  \\***********************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.WarningMessageElement = void 0;\n\nconst MessageElement_1 = __webpack_require__(/*! ./MessageElement */ \"./columns/message/internal/MessageElement.js\");\n\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\n\nclass WarningMessageElement extends MessageElement_1.MessageElement {\n  constructor() {\n    super();\n\n    __webpack_require__(/*! @/columns/message/internal/WarningMessageElement.css */ \"../src/js/columns/message/internal/WarningMessageElement.css\");\n\n    this._rootElement.classList.add(CLASSNAME);\n\n    this._messageElement.classList.add(MESSAGE_CLASSNAME);\n  }\n\n}\n\nexports.WarningMessageElement = WarningMessageElement;\n\n/***/ }),\n\n/***/ \"./columns/message/messageUtils.js\":\n/*!*****************************************!*\\\n  !*** ./columns/message/messageUtils.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawInfomationMarkBox = exports.drawExclamationMarkBox = void 0;\n\nconst Rect_1 = __webpack_require__(/*! ../../internal/Rect */ \"./internal/Rect.js\");\n\nfunction drawExclamationMarkBox(context, style, helper) {\n  const {\n    bgColor,\n    color\n  } = style;\n  const ctx = context.getContext();\n  const rect = context.getRect(); // draw box\n\n  ctx.fillStyle = bgColor;\n  const boxRect = rect.copy();\n  boxRect.left = boxRect.right - 24;\n  ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1); // draw exclamation mark\n\n  const fillColor = color;\n  const height = 20;\n  const width = height / 5;\n  const left = boxRect.left + (boxRect.width - width) / 2;\n  const top = boxRect.top + (boxRect.height - height) / 2;\n  helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5 * 3), context, {\n    fillColor\n  });\n  helper.fillRectWithState(new Rect_1.Rect(left, top + height / 5 * 4, width, height / 5), context, {\n    fillColor\n  });\n}\n\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\n\nfunction drawInfomationMarkBox(context, style, helper) {\n  const {\n    bgColor,\n    color\n  } = style;\n  const ctx = context.getContext();\n  const rect = context.getRect(); // draw box\n\n  ctx.fillStyle = bgColor;\n  const boxRect = rect.copy();\n  boxRect.left = boxRect.right - 24;\n  ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1); // draw i mark\n\n  const fillColor = color;\n  const height = 20;\n  const width = height / 5;\n  const left = boxRect.left + (boxRect.width - width) / 2;\n  const top = boxRect.top + (boxRect.height - height) / 2;\n  helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\n    fillColor\n  });\n  helper.fillRectWithState(new Rect_1.Rect(left, top + height / 5 * 2, width, height / 5 * 3), context, {\n    fillColor\n  });\n}\n\nexports.drawInfomationMarkBox = drawInfomationMarkBox;\n\n/***/ }),\n\n/***/ \"./columns/style.js\":\n/*!**************************!*\\\n  !*** ./columns/style.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\n\nconst BaseStyle_1 = __webpack_require__(/*! ./style/BaseStyle */ \"./columns/style/BaseStyle.js\");\n\nObject.defineProperty(exports, \"BaseStyle\", {\n  enumerable: true,\n  get: function () {\n    return BaseStyle_1.BaseStyle;\n  }\n});\n\nconst ButtonStyle_1 = __webpack_require__(/*! ./style/ButtonStyle */ \"./columns/style/ButtonStyle.js\");\n\nObject.defineProperty(exports, \"ButtonStyle\", {\n  enumerable: true,\n  get: function () {\n    return ButtonStyle_1.ButtonStyle;\n  }\n});\n\nconst CheckStyle_1 = __webpack_require__(/*! ./style/CheckStyle */ \"./columns/style/CheckStyle.js\");\n\nObject.defineProperty(exports, \"CheckStyle\", {\n  enumerable: true,\n  get: function () {\n    return CheckStyle_1.CheckStyle;\n  }\n});\n\nconst IconStyle_1 = __webpack_require__(/*! ./style/IconStyle */ \"./columns/style/IconStyle.js\");\n\nObject.defineProperty(exports, \"IconStyle\", {\n  enumerable: true,\n  get: function () {\n    return IconStyle_1.IconStyle;\n  }\n});\n\nconst ImageStyle_1 = __webpack_require__(/*! ./style/ImageStyle */ \"./columns/style/ImageStyle.js\");\n\nObject.defineProperty(exports, \"ImageStyle\", {\n  enumerable: true,\n  get: function () {\n    return ImageStyle_1.ImageStyle;\n  }\n});\n\nconst MenuStyle_1 = __webpack_require__(/*! ./style/MenuStyle */ \"./columns/style/MenuStyle.js\");\n\nObject.defineProperty(exports, \"MenuStyle\", {\n  enumerable: true,\n  get: function () {\n    return MenuStyle_1.MenuStyle;\n  }\n});\n\nconst MultilineTextStyle_1 = __webpack_require__(/*! ./style/MultilineTextStyle */ \"./columns/style/MultilineTextStyle.js\");\n\nObject.defineProperty(exports, \"MultilineTextStyle\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextStyle_1.MultilineTextStyle;\n  }\n});\n\nconst NumberStyle_1 = __webpack_require__(/*! ./style/NumberStyle */ \"./columns/style/NumberStyle.js\");\n\nObject.defineProperty(exports, \"NumberStyle\", {\n  enumerable: true,\n  get: function () {\n    return NumberStyle_1.NumberStyle;\n  }\n});\n\nconst PercentCompleteBarStyle_1 = __webpack_require__(/*! ./style/PercentCompleteBarStyle */ \"./columns/style/PercentCompleteBarStyle.js\");\n\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", {\n  enumerable: true,\n  get: function () {\n    return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\n  }\n});\n\nconst RadioStyle_1 = __webpack_require__(/*! ./style/RadioStyle */ \"./columns/style/RadioStyle.js\");\n\nObject.defineProperty(exports, \"RadioStyle\", {\n  enumerable: true,\n  get: function () {\n    return RadioStyle_1.RadioStyle;\n  }\n});\n\nconst Style_1 = __webpack_require__(/*! ./style/Style */ \"./columns/style/Style.js\");\n\nObject.defineProperty(exports, \"Style\", {\n  enumerable: true,\n  get: function () {\n    return Style_1.Style;\n  }\n});\nconst {\n  EVENT_TYPE\n} = BaseStyle_1.BaseStyle;\nexports.EVENT_TYPE = EVENT_TYPE;\n\nfunction of(columnStyle, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nrecord, StyleClassDef = Style_1.Style) {\n  if (columnStyle) {\n    if (columnStyle instanceof BaseStyle_1.BaseStyle) {\n      return columnStyle;\n    } else if (typeof columnStyle === \"function\") {\n      return of(columnStyle(record), record, StyleClassDef);\n    } else if (record && columnStyle in record) {\n      return of(record[columnStyle], record, StyleClassDef);\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    return new StyleClassDef(columnStyle);\n  } else {\n    return StyleClassDef.DEFAULT;\n  }\n}\n\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./columns/style/BaseStyle.js\":\n/*!************************************!*\\\n  !*** ./columns/style/BaseStyle.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseStyle = void 0;\n\nconst EventTarget_1 = __webpack_require__(/*! ../../core/EventTarget */ \"./core/EventTarget.js\");\n\nconst STYLE_EVENT_TYPE = {\n  CHANGE_STYLE: \"change_style\"\n};\nlet defaultStyle;\n\nclass BaseStyle extends EventTarget_1.EventTarget {\n  constructor({\n    bgColor\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n  }\n\n  static get EVENT_TYPE() {\n    return STYLE_EVENT_TYPE;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n\n  get bgColor() {\n    return this._bgColor;\n  }\n\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n\n  doChangeStyle() {\n    this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\n  }\n\n  clone() {\n    return new BaseStyle(this);\n  }\n\n}\n\nexports.BaseStyle = BaseStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/BranchGraphStyle.js\":\n/*!*******************************************!*\\\n  !*** ./columns/style/BranchGraphStyle.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BranchGraphStyle = void 0;\n\nconst BaseStyle_1 = __webpack_require__(/*! ./BaseStyle */ \"./columns/style/BaseStyle.js\");\n\nlet defaultStyle;\n\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\n  switch (index % 3) {\n    case 0:\n      return \"#979797\";\n\n    case 1:\n      return \"#008fb5\";\n\n    case 2:\n      return \"#f1c109\";\n\n    default:\n  }\n\n  return \"#979797\";\n};\n\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\n  constructor(style = {}) {\n    super(style);\n    this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n    this._margin = style.margin || 4;\n    this._circleSize = style.circleSize || 16;\n    this._branchLineWidth = style.branchLineWidth || 4;\n    this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BranchGraphStyle();\n  }\n\n  get branchColors() {\n    return this._branchColors;\n  }\n\n  set branchColors(branchColors) {\n    this._branchColors = branchColors;\n    this.doChangeStyle();\n  }\n\n  get margin() {\n    return this._margin;\n  }\n\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n\n  get circleSize() {\n    return this._circleSize;\n  }\n\n  set circleSize(circleSize) {\n    this._circleSize = circleSize;\n    this.doChangeStyle();\n  }\n\n  get branchLineWidth() {\n    return this._branchLineWidth;\n  }\n\n  set branchLineWidth(branchLineWidth) {\n    this._branchLineWidth = branchLineWidth;\n    this.doChangeStyle();\n  }\n\n  get mergeStyle() {\n    return this._mergeStyle;\n  }\n\n  set mergeStyle(mergeStyle) {\n    this._mergeStyle = mergeStyle;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new BranchGraphStyle(this);\n  }\n\n}\n\nexports.BranchGraphStyle = BranchGraphStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/ButtonStyle.js\":\n/*!**************************************!*\\\n  !*** ./columns/style/ButtonStyle.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass ButtonStyle extends Style_1.Style {\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      buttonBgColor\n    } = style;\n    this._buttonBgColor = buttonBgColor;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ButtonStyle();\n  }\n\n  get buttonBgColor() {\n    return this._buttonBgColor;\n  }\n\n  set buttonBgColor(buttonBgColor) {\n    this._buttonBgColor = buttonBgColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new ButtonStyle(this);\n  }\n\n}\n\nexports.ButtonStyle = ButtonStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/CheckStyle.js\":\n/*!*************************************!*\\\n  !*** ./columns/style/CheckStyle.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckStyle = void 0;\n\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      uncheckBgColor,\n      checkBgColor,\n      borderColor\n    } = style;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n    this._borderColor = borderColor;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new CheckStyle();\n  }\n\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n\n  get borderColor() {\n    return this._borderColor;\n  }\n\n  set borderColor(borderColor) {\n    this._borderColor = borderColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new CheckStyle(this);\n  }\n\n}\n\nexports.CheckStyle = CheckStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/IconStyle.js\":\n/*!************************************!*\\\n  !*** ./columns/style/IconStyle.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IconStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass IconStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new IconStyle();\n  }\n\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textAlign: \"center\"\n    }));\n  }\n\n  clone() {\n    return new IconStyle(this);\n  }\n\n}\n\nexports.IconStyle = IconStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/ImageStyle.js\":\n/*!*************************************!*\\\n  !*** ./columns/style/ImageStyle.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageStyle = void 0;\n\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textAlign: \"center\"\n    }));\n    this._imageSizing = style.imageSizing;\n    this._margin = style.margin || 4;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new ImageStyle();\n  }\n\n  get imageSizing() {\n    return this._imageSizing;\n  }\n\n  set imageSizing(imageSizing) {\n    this._imageSizing = imageSizing;\n    this.doChangeStyle();\n  }\n\n  get margin() {\n    return this._margin;\n  }\n\n  set margin(margin) {\n    this._margin = margin;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new ImageStyle(this);\n  }\n\n}\n\nexports.ImageStyle = ImageStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/MenuStyle.js\":\n/*!************************************!*\\\n  !*** ./columns/style/MenuStyle.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MenuStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\n\nlet defaultStyle;\n\nclass MenuStyle extends Style_1.Style {\n  constructor(style = {}) {\n    super(style);\n    const {\n      appearance\n    } = style;\n    this._appearance = appearance;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MenuStyle();\n  }\n\n  get appearance() {\n    return this._appearance || \"menulist-button\";\n  }\n\n  set appearance(appearance) {\n    this._appearance = appearance;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new MenuStyle(this);\n  }\n\n}\n\nexports.MenuStyle = MenuStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/MultilineTextStyle.js\":\n/*!*********************************************!*\\\n  !*** ./columns/style/MultilineTextStyle.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass MultilineTextStyle extends Style_1.Style {\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textBaseline: \"top\"\n    }));\n    this._lineHeight = style.lineHeight || \"1em\";\n    this._autoWrapText = style.autoWrapText || false;\n    this._lineClamp = style.lineClamp;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MultilineTextStyle();\n  }\n\n  clone() {\n    return new MultilineTextStyle(this);\n  }\n\n  get lineHeight() {\n    return this._lineHeight;\n  }\n\n  set lineHeight(lineHeight) {\n    this._lineHeight = lineHeight;\n    this.doChangeStyle();\n  }\n\n  get lineClamp() {\n    return this._lineClamp;\n  }\n\n  set lineClamp(lineClamp) {\n    this._lineClamp = lineClamp;\n    this.doChangeStyle();\n  }\n\n  get autoWrapText() {\n    return this._autoWrapText;\n  }\n\n  set autoWrapText(autoWrapText) {\n    this._autoWrapText = autoWrapText;\n    this.doChangeStyle();\n  }\n\n}\n\nexports.MultilineTextStyle = MultilineTextStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/NumberStyle.js\":\n/*!**************************************!*\\\n  !*** ./columns/style/NumberStyle.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NumberStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass NumberStyle extends Style_1.Style {\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new NumberStyle();\n  }\n\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textAlign: \"right\"\n    }));\n  }\n\n  clone() {\n    return new NumberStyle(this);\n  }\n\n}\n\nexports.NumberStyle = NumberStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/PercentCompleteBarStyle.js\":\n/*!**************************************************!*\\\n  !*** ./columns/style/PercentCompleteBarStyle.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PercentCompleteBarStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./columns/style/Style.js\");\n\nlet defaultStyle;\n\nconst DEFAULT_BAR_COLOR = num => {\n  if (num > 80) {\n    return \"#20a8d8\";\n  }\n\n  if (num > 50) {\n    return \"#4dbd74\";\n  }\n\n  if (num > 20) {\n    return \"#ffc107\";\n  }\n\n  return \"#f86c6b\";\n};\n\nclass PercentCompleteBarStyle extends Style_1.Style {\n  constructor(style = {}) {\n    super(style);\n    this._barColor = style.barColor || DEFAULT_BAR_COLOR;\n    this._barBgColor = style.barBgColor || \"#f0f3f5\";\n    this._barHeight = style.barHeight || 3;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new PercentCompleteBarStyle();\n  }\n\n  get barColor() {\n    return this._barColor;\n  }\n\n  set barColor(barColor) {\n    this._barColor = barColor;\n    this.doChangeStyle();\n  }\n\n  get barBgColor() {\n    return this._barBgColor;\n  }\n\n  set barBgColor(barBgColor) {\n    this._barBgColor = barBgColor;\n    this.doChangeStyle();\n  }\n\n  get barHeight() {\n    return this._barHeight;\n  }\n\n  set barHeight(barHeight) {\n    this._barHeight = barHeight;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new PercentCompleteBarStyle(this);\n  }\n\n}\n\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/RadioStyle.js\":\n/*!*************************************!*\\\n  !*** ./columns/style/RadioStyle.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadioStyle = void 0;\n\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      checkColor,\n      uncheckBorderColor,\n      checkBorderColor,\n      uncheckBgColor,\n      checkBgColor\n    } = style;\n    this._checkColor = checkColor;\n    this._uncheckBorderColor = uncheckBorderColor;\n    this._checkBorderColor = checkBorderColor;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new RadioStyle();\n  }\n\n  get checkColor() {\n    return this._checkColor;\n  }\n\n  set checkColor(checkColor) {\n    this._checkColor = checkColor;\n    this.doChangeStyle();\n  }\n\n  get uncheckBorderColor() {\n    return this._uncheckBorderColor;\n  }\n\n  set uncheckBorderColor(uncheckBorderColor) {\n    this._uncheckBorderColor = uncheckBorderColor;\n    this.doChangeStyle();\n  }\n\n  get checkBorderColor() {\n    return this._checkBorderColor;\n  }\n\n  set checkBorderColor(checkBorderColor) {\n    this._checkBorderColor = checkBorderColor;\n    this.doChangeStyle();\n  }\n\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new RadioStyle(this);\n  }\n\n}\n\nexports.RadioStyle = RadioStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/StdBaseStyle.js\":\n/*!***************************************!*\\\n  !*** ./columns/style/StdBaseStyle.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StdBaseStyle = void 0;\n\nconst BaseStyle_1 = __webpack_require__(/*! ./BaseStyle */ \"./columns/style/BaseStyle.js\");\n\nlet defaultStyle;\n\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || \"left\";\n    this._textBaseline = style.textBaseline || \"middle\";\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n\n  get textAlign() {\n    return this._textAlign;\n  }\n\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n\n  get textBaseline() {\n    return this._textBaseline;\n  }\n\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new StdBaseStyle(this);\n  }\n\n}\n\nexports.StdBaseStyle = StdBaseStyle;\n\n/***/ }),\n\n/***/ \"./columns/style/Style.js\":\n/*!********************************!*\\\n  !*** ./columns/style/Style.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Style = void 0;\n\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./columns/style/StdBaseStyle.js\");\n\nlet defaultStyle;\n\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._padding = style.padding;\n    this._textOverflow = style.textOverflow || \"clip\";\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n\n  get font() {\n    return this._font;\n  }\n\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n\n  get padding() {\n    return this._padding;\n  }\n\n  set padding(padding) {\n    this._padding = padding;\n    this.doChangeStyle();\n  }\n\n  get textOverflow() {\n    return this._textOverflow;\n  }\n\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new Style(this);\n  }\n\n}\n\nexports.Style = Style;\n\n/***/ }),\n\n/***/ \"./columns/type.js\":\n/*!*************************!*\\\n  !*** ./columns/type.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\n\nconst BranchGraphColumn_1 = __webpack_require__(/*! ./type/BranchGraphColumn */ \"./columns/type/BranchGraphColumn.js\");\n\nObject.defineProperty(exports, \"BranchGraphColumn\", {\n  enumerable: true,\n  get: function () {\n    return BranchGraphColumn_1.BranchGraphColumn;\n  }\n});\n\nconst ButtonColumn_1 = __webpack_require__(/*! ./type/ButtonColumn */ \"./columns/type/ButtonColumn.js\");\n\nObject.defineProperty(exports, \"ButtonColumn\", {\n  enumerable: true,\n  get: function () {\n    return ButtonColumn_1.ButtonColumn;\n  }\n});\n\nconst CheckColumn_1 = __webpack_require__(/*! ./type/CheckColumn */ \"./columns/type/CheckColumn.js\");\n\nObject.defineProperty(exports, \"CheckColumn\", {\n  enumerable: true,\n  get: function () {\n    return CheckColumn_1.CheckColumn;\n  }\n});\n\nconst Column_1 = __webpack_require__(/*! ./type/Column */ \"./columns/type/Column.js\");\n\nObject.defineProperty(exports, \"Column\", {\n  enumerable: true,\n  get: function () {\n    return Column_1.Column;\n  }\n});\n\nconst IconColumn_1 = __webpack_require__(/*! ./type/IconColumn */ \"./columns/type/IconColumn.js\");\n\nObject.defineProperty(exports, \"IconColumn\", {\n  enumerable: true,\n  get: function () {\n    return IconColumn_1.IconColumn;\n  }\n});\n\nconst ImageColumn_1 = __webpack_require__(/*! ./type/ImageColumn */ \"./columns/type/ImageColumn.js\");\n\nObject.defineProperty(exports, \"ImageColumn\", {\n  enumerable: true,\n  get: function () {\n    return ImageColumn_1.ImageColumn;\n  }\n});\n\nconst MenuColumn_1 = __webpack_require__(/*! ./type/MenuColumn */ \"./columns/type/MenuColumn.js\");\n\nObject.defineProperty(exports, \"MenuColumn\", {\n  enumerable: true,\n  get: function () {\n    return MenuColumn_1.MenuColumn;\n  }\n});\n\nconst MultilineTextColumn_1 = __webpack_require__(/*! ./type/MultilineTextColumn */ \"./columns/type/MultilineTextColumn.js\");\n\nObject.defineProperty(exports, \"MultilineTextColumn\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextColumn_1.MultilineTextColumn;\n  }\n});\n\nconst NumberColumn_1 = __webpack_require__(/*! ./type/NumberColumn */ \"./columns/type/NumberColumn.js\");\n\nObject.defineProperty(exports, \"NumberColumn\", {\n  enumerable: true,\n  get: function () {\n    return NumberColumn_1.NumberColumn;\n  }\n});\n\nconst PercentCompleteBarColumn_1 = __webpack_require__(/*! ./type/PercentCompleteBarColumn */ \"./columns/type/PercentCompleteBarColumn.js\");\n\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", {\n  enumerable: true,\n  get: function () {\n    return PercentCompleteBarColumn_1.PercentCompleteBarColumn;\n  }\n});\n\nconst RadioColumn_1 = __webpack_require__(/*! ./type/RadioColumn */ \"./columns/type/RadioColumn.js\");\n\nObject.defineProperty(exports, \"RadioColumn\", {\n  enumerable: true,\n  get: function () {\n    return RadioColumn_1.RadioColumn;\n  }\n});\nconst TYPES = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DEFAULT: new Column_1.Column(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  NUMBER: new NumberColumn_1.NumberColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  CHECK: new CheckColumn_1.CheckColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  RADIO: new RadioColumn_1.RadioColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  BUTTON: new ButtonColumn_1.ButtonColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  IMAGE: new ImageColumn_1.ImageColumn(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn()\n};\n\nfunction of( // eslint-disable-next-line @typescript-eslint/no-explicit-any\ncolumnType // eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n  if (!columnType) {\n    return TYPES.DEFAULT;\n  } else if (typeof columnType === \"string\") {\n    const key = columnType.toUpperCase();\n    return TYPES[key] || of(null);\n  } else {\n    return columnType;\n  }\n}\n\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./columns/type/BaseColumn.js\":\n/*!************************************!*\\\n  !*** ./columns/type/BaseColumn.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseColumn = void 0;\n\nconst styleContents = __importStar(__webpack_require__(/*! ../style */ \"./columns/style.js\"));\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst BaseStyle_1 = __webpack_require__(/*! ../style/BaseStyle */ \"./columns/style/BaseStyle.js\");\n\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst {\n  setReadonly\n} = utils_1.obj;\nconst COLUMN_FADEIN_STATE_ID = symbolManager_1.getColumnFadeinStateId();\n\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n  if (column.fadeinWhenCallbackInPromise != null) {\n    return column.fadeinWhenCallbackInPromise;\n  }\n\n  return !!grid.configure(\"fadeinWhenCallbackInPromise\");\n}\n\nfunction getFadeinState(grid) {\n  let state = grid[COLUMN_FADEIN_STATE_ID];\n\n  if (!state) {\n    state = {\n      cells: {}\n    };\n    setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\n  }\n\n  return state;\n}\n\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n  return point => {\n    const state = getFadeinState(grid);\n    const stateKey = `${row}:${col}`;\n\n    if (point === 1) {\n      delete state.cells[stateKey];\n    } else {\n      state.cells[stateKey] = {\n        opacity: point\n      };\n    }\n\n    drawCellBase();\n    drawInternal();\n    const cellState = state.cells[stateKey];\n\n    if (cellState) {\n      //\n      const ctx = context.getContext();\n      ctx.globalAlpha = 1 - cellState.opacity;\n\n      try {\n        drawCellBase();\n      } finally {\n        ctx.globalAlpha = 1;\n      }\n    }\n  };\n}\n\nconst fadeinMgr = {\n  animate(grid, col, row, context, drawInternal, drawCellBase) {\n    // fadein animation\n    const state = getFadeinState(grid);\n    const activeFadeins = [_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase)];\n    state.activeFadeins = activeFadeins;\n    animate_1.animate(500, point => {\n      activeFadeins.forEach(f => f(point));\n\n      if (point === 1) {\n        delete state.activeFadeins;\n      }\n    });\n  },\n\n  margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n    const state = getFadeinState(grid);\n\n    if (state.activeFadeins) {\n      state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n    } else {\n      drawInternal();\n    }\n  }\n\n};\n\nclass BaseColumn {\n  constructor(option) {\n    this.onDrawCell = this.onDrawCell.bind(this); //\n    //Promisecallback\n\n    this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\n  }\n\n  get fadeinWhenCallbackInPromise() {\n    return this._fadeinWhenCallbackInPromise;\n  }\n\n  get StyleClass() {\n    return BaseStyle_1.BaseStyle;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    var _a;\n\n    const {\n      style,\n      getRecord,\n      drawCellBase\n    } = info;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase();\n    const record = getRecord();\n    let promise;\n\n    if (utils_1.isPromise(record)) {\n      promise = record;\n    } else if (utils_1.isPromise(cellValue)) {\n      promise = cellValue;\n    } else {\n      const msg = info.getMessage();\n\n      if (utils_1.isPromise(msg)) {\n        promise = msg;\n      }\n    } //\n\n\n    if (promise) {\n      const start = Date.now();\n      return Promise.all([record, cellValue, promise.then(() => cellValue).then(() => info.getMessage())]).then(({\n        0: record,\n        1: val,\n        2: message\n      }) => {\n        const currentContext = context.toCurrentContext();\n        const drawRect = currentContext.getDrawRect();\n\n        if (!drawRect) {\n          return;\n        }\n\n        const time = Date.now() - start;\n\n        const drawInternal = () => {\n          const currentContext = context.toCurrentContext();\n          const drawRect = currentContext.getDrawRect();\n\n          if (!drawRect) {\n            return;\n          }\n\n          const actStyle = styleContents.of(style, record, this.StyleClass);\n          this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n          this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\n        };\n\n        if (!isFadeinWhenCallbackInPromise(this, grid)) {\n          drawInternal(); //\n        } else {\n          const {\n            col,\n            row\n          } = context;\n\n          if (time < 80) {\n            //80msPromiseCallback\n            fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n          } else {\n            //\n            fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n          }\n        }\n      });\n    } else {\n      const actStyle = styleContents.of(style, record, this.StyleClass);\n      this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n      this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info); //\n\n      const {\n        col,\n        row\n      } = context;\n      const stateKey = `${col}:${row}`;\n      const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\n\n      if (cellState) {\n        const ctx = context.getContext();\n        ctx.globalAlpha = 1 - cellState.opacity;\n\n        try {\n          drawCellBase();\n        } finally {\n          ctx.globalAlpha = 1;\n        }\n      }\n\n      return undefined;\n    }\n  }\n\n  convertInternal(value) {\n    return value != null ? value : \"\";\n  }\n\n  drawMessageInternal(message, context, style, helper, grid, info) {\n    info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\n  }\n\n  bindGridEvent(_grid, _cellId) {\n    return [];\n  }\n\n  getCopyCellValue(value, _grid, _cell) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return value;\n  }\n\n}\n\nexports.BaseColumn = BaseColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/BranchGraphColumn.js\":\n/*!*******************************************!*\\\n  !*** ./columns/type/BranchGraphColumn.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BranchGraphColumn = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\n\nconst BranchGraphStyle_1 = __webpack_require__(/*! ../style/BranchGraphStyle */ \"./columns/style/BranchGraphStyle.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst _ = symbolManager_1.getBranchGraphColumnStateId();\n\nfunction getAllColumnData(grid, field, callback) {\n  const {\n    dataSource\n  } = grid;\n  const allData = [];\n  let promise;\n\n  for (let index = 0; index < dataSource.length; index++) {\n    const data = dataSource.getField(index, field);\n\n    if (utils_1.isPromise(data)) {\n      const dataIndex = allData.length;\n      allData.push(undefined);\n\n      if (!promise) {\n        promise = data.then(d => {\n          allData[dataIndex] = d;\n        });\n      } else {\n        promise = promise.then(() => data).then(d => {\n          allData[dataIndex] = d;\n        });\n      }\n    } else {\n      allData.push(data);\n    }\n  }\n\n  if (promise) {\n    promise.then(() => callback(allData));\n  } else {\n    callback(allData);\n  }\n}\n\nclass BranchLine {\n  constructor({\n    fromIndex,\n    toIndex,\n    colorIndex,\n    point\n  }) {\n    this.fromIndex = fromIndex;\n    this.toIndex = toIndex;\n    this.colorIndex = colorIndex;\n    this.point = point;\n  }\n\n}\n\nclass BranchPoint {\n  constructor({\n    index,\n    commit = false,\n    lines = [],\n    tag\n  }) {\n    this.index = index;\n    this.commit = commit;\n    this.lines = lines;\n    this.tag = tag;\n  }\n\n  static mergeLines(lines) {\n    const result = lines.filter(l => l.fromIndex != null && l.toIndex != null);\n    const froms = lines.filter(l => l.fromIndex != null && l.toIndex == null);\n    const tos = lines.filter(l => l.fromIndex == null && l.toIndex != null);\n    froms.forEach(f => {\n      for (let i = 0; i < tos.length; i++) {\n        const t = tos[i];\n\n        if (t.point) {\n          continue;\n        }\n\n        if (f.colorIndex === t.colorIndex) {\n          f.toIndex = t.toIndex;\n          tos.splice(i, 1);\n          break;\n        }\n      }\n\n      result.push(f);\n    });\n    return result.concat(tos);\n  }\n\n  static merge(a, b) {\n    if (!a) {\n      return b;\n    }\n\n    return new BranchPoint({\n      index: a.index,\n      commit: a.commit || b.commit,\n      lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n      tag: a.tag || b.tag\n    });\n  }\n\n}\n\nfunction joinLine(timeline, branchIndex) {\n  const reverse = [...timeline].reverse();\n\n  for (let i = 0; i < reverse.length; i++) {\n    const f = reverse[i][branchIndex];\n\n    if (f) {\n      f.lines = BranchPoint.mergeLines(f.lines.concat([new BranchLine({\n        toIndex: branchIndex,\n        colorIndex: branchIndex\n      })]));\n\n      for (let j = 0; j < i; j++) {\n        const tl = reverse[j];\n        tl[branchIndex] = new BranchPoint({\n          index: branchIndex,\n          lines: [new BranchLine({\n            fromIndex: branchIndex,\n            toIndex: branchIndex,\n            colorIndex: branchIndex\n          })]\n        });\n      }\n\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction branch({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = from != null ? branches.indexOf(from) : -1;\n  let toIndex = branches.indexOf(to);\n\n  if (toIndex < 0) {\n    toIndex = branches.length;\n    branches.push(to);\n  }\n\n  function findBranchRootIndex() {\n    for (let index = timeline.length - 1; index >= 0; index--) {\n      const tl = timeline[index];\n      const from = tl[fromIndex];\n\n      if (from && from.commit) {\n        return index;\n      }\n    }\n\n    return -1;\n  }\n\n  if (fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex\n    });\n  } else {\n    const fromTargetIndex = findBranchRootIndex();\n\n    if (fromTargetIndex === -1) {\n      return null;\n    }\n\n    const branchTargetFromIndex = fromTargetIndex + 1;\n    const branchPoint = new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        fromIndex,\n        colorIndex: toIndex\n      })]\n    });\n    let point;\n    let result = null;\n\n    if (branchTargetFromIndex < timeline.length) {\n      const targetLine = timeline[branchTargetFromIndex];\n      point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n    } else {\n      point = branchPoint;\n      result = branchPoint;\n    }\n\n    const from = timeline[fromTargetIndex][fromIndex];\n    from.lines = BranchPoint.mergeLines(from.lines.concat([new BranchLine({\n      toIndex,\n      colorIndex: toIndex,\n      point\n    })]));\n    return result;\n  }\n}\n\nfunction commit({\n  timeline,\n  branches\n}, name) {\n  const index = branches.indexOf(name);\n\n  if (index < 0) {\n    return null;\n  }\n\n  const result = new BranchPoint({\n    index,\n    commit: true\n  });\n\n  if (joinLine(timeline, index)) {\n    result.lines = BranchPoint.mergeLines(result.lines.concat([new BranchLine({\n      fromIndex: index,\n      colorIndex: index\n    })]));\n  }\n\n  return result;\n}\n\nfunction commitTag({\n  branches\n}, name, tag) {\n  let index = branches.indexOf(name);\n\n  if (index < 0) {\n    index = branches.length;\n    branches.push(name);\n  }\n\n  return new BranchPoint({\n    index,\n    tag\n  });\n}\n\nfunction commitMerge({\n  timeline,\n  branches\n}, from, to) {\n  const fromIndex = branches.indexOf(from);\n  const toIndex = branches.indexOf(to);\n\n  if (toIndex < 0 || fromIndex < 0) {\n    return new BranchPoint({\n      index: toIndex,\n      commit: true\n    });\n  }\n\n  const result = new BranchPoint({\n    index: toIndex,\n    commit: true,\n    lines: [new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    }), new BranchLine({\n      fromIndex: toIndex,\n      colorIndex: toIndex\n    })]\n  });\n  const froms = [...timeline];\n  const fromTargetLine = froms.pop();\n\n  if (fromTargetLine) {\n    fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n      index: toIndex,\n      lines: [new BranchLine({\n        toIndex,\n        colorIndex: fromIndex\n      })]\n    }));\n  }\n\n  if (joinLine(froms, fromIndex) && fromTargetLine) {\n    fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([new BranchLine({\n      fromIndex,\n      colorIndex: fromIndex\n    })]));\n  }\n\n  joinLine(timeline, toIndex);\n  return result;\n}\n\nfunction calcCommand(info, command) {\n  const {\n    timeline\n  } = info;\n  const timelineData = []; // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n\n  const commands = Array.isArray(command) ? command : [command];\n  commands.forEach(cmd => {\n    if (!cmd) {\n      return;\n    }\n\n    let point;\n\n    if (cmd.command === \"branch\") {\n      const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\n      const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n      point = branch(info, from, to);\n    } else if (cmd.command === \"commit\") {\n      const {\n        branch\n      } = cmd;\n      point = commit(info, branch);\n    } else if (cmd.command === \"merge\") {\n      const {\n        from,\n        to\n      } = cmd.branch;\n      point = commitMerge(info, from, to);\n    } else if (cmd.command === \"tag\") {\n      const {\n        branch,\n        tag\n      } = cmd;\n      point = commitTag(info, branch, tag);\n    }\n\n    if (point && point.index > -1) {\n      timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n    }\n  });\n  timeline.push(timelineData);\n}\n\nfunction calcBranchesInfo(start, grid, field) {\n  const result = {\n    branches: [],\n    timeline: []\n  };\n  getAllColumnData(grid, field, data => {\n    if (start !== \"top\") {\n      data = [...data].reverse();\n    }\n\n    data.forEach(command => {\n      calcCommand(result, command);\n    });\n  });\n  return result;\n}\n\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n  let w = Math.max(width / branches.length + 1, 5);\n  timeline.forEach(tl => {\n    tl.forEach((p, index) => {\n      if (index <= 0) {\n        // \n        return;\n      }\n\n      if (p.tag) {\n        const textWidth = ctx.measureText(p.tag).width;\n\n        if (w * index + radius * 2 + 4 + textWidth > width) {\n          w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n        }\n      }\n    });\n  });\n  const result = [];\n  let x = left;\n  branches.forEach(() => {\n    result.push(Math.ceil(x + radius));\n    x += w;\n  });\n  return result;\n}\n\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, {\n  branchXPoints,\n  // margin,\n  branchColors,\n  branchLineWidth,\n  mergeStyle\n}, {\n  // width,\n  col,\n  row,\n  branches\n}) {\n  if (upLineIndex != null || downLineIndex != null) {\n    ctx.strokeStyle = utils_1.getOrApply(branchColors, branches[colorIndex], colorIndex);\n    ctx.lineWidth = branchLineWidth;\n    ctx.lineCap = \"round\";\n    ctx.beginPath();\n\n    if (upLineIndex != null) {\n      const upX = branchXPoints[upLineIndex];\n      const upRect = grid.getCellRelativeRect(col, row - 1);\n      const upY = upRect.top + upRect.height / 2;\n      ctx.moveTo(upX, upY);\n\n      if (mergeStyle === \"bezier\") {\n        ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n      } else {\n        ctx.lineTo(x, y);\n      }\n    } else {\n      ctx.moveTo(x, y);\n    }\n\n    if (downLineIndex != null) {\n      const downX = branchXPoints[downLineIndex];\n      const downRect = grid.getCellRelativeRect(col, row + 1);\n      const downY = downRect.top + downRect.height / 2;\n\n      if (mergeStyle === \"bezier\") {\n        ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n      } else {\n        ctx.lineTo(downX, downY);\n      }\n    }\n\n    ctx.stroke();\n  }\n}\n/**\n * BranchGraphColumn\n *\n * Data commands\n * - mastar branch or orphan branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * ```\n *\n * - commit\n *\n * ```js\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * ```\n *\n * - branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * ```\n *\n * - merge\n *\n * ```js\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * ```\n *\n * - tag\n *\n * ```js\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * ```\n *\n * @memberof cheetahGrid.columns.type\n */\n\n\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._start = option.start || \"bottom\";\n    this._cache = option.cache != null ? option.cache : false;\n  }\n\n  get StyleClass() {\n    return BranchGraphStyle_1.BranchGraphStyle;\n  }\n\n  clearCache(grid) {\n    delete grid[_];\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    if (this._cache) {\n      const state = grid[_] || (grid[_] = new Map());\n      const {\n        col,\n        row\n      } = context;\n      const field = grid.getField(col, row);\n\n      if (!state.has(field)) {\n        state.set(field, calcBranchesInfo(this._start, grid, field));\n      }\n    }\n\n    return super.onDrawCell(cellValue, info, context, grid);\n  }\n\n  clone() {\n    return new BranchGraphColumn(this);\n  }\n\n  drawInternal(_value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    var _a, _b;\n\n    const {\n      col,\n      row\n    } = context;\n    const field = grid.getField(col, row);\n    const {\n      timeline,\n      branches\n    } = (_b = this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\n    const {\n      upLineIndexKey,\n      downLineIndexKey\n    } = this._start !== \"top\" ? {\n      upLineIndexKey: \"toIndex\",\n      downLineIndexKey: \"fromIndex\"\n    } : {\n      upLineIndexKey: \"fromIndex\",\n      downLineIndexKey: \"toIndex\"\n    };\n    const data = this._start !== \"top\" ? timeline[timeline.length - (row - grid.frozenRowCount) - 1] : timeline[row - grid.frozenRowCount];\n    const {\n      branchColors,\n      branchLineWidth,\n      circleSize,\n      mergeStyle,\n      margin,\n      bgColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const rect = context.getRect();\n    const radius = circleSize / 2;\n    const width = rect.width - margin * 2;\n    helper.drawWithClip(context, ctx => {\n      ctx.textAlign = \"left\";\n      ctx.textBaseline = \"middle\";\n      const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n      const y = rect.top + rect.height / 2; // draw join lines\n\n      data.map((point, index) => point ? point.lines.map(line => ({\n        colorIndex: line.colorIndex,\n        upLineIndex: line[upLineIndexKey],\n        downLineIndex: line[downLineIndexKey],\n        pointIndex: index\n      })) : []).reduce((p, c) => p.concat(c), []) // flatMap\n      // order of overlap\n      .sort((a, b) => b.colorIndex - a.colorIndex).forEach(line => {\n        const x = branchXPoints[line.pointIndex];\n        renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n          margin,\n          branchXPoints,\n          branchLineWidth,\n          branchColors,\n          mergeStyle\n        }, {\n          width,\n          col,\n          row,\n          branches\n        });\n      }); // draw commit points\n\n      data.forEach((p, index) => {\n        if (p && p.commit) {\n          const x = branchXPoints[index];\n          ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n          ctx.beginPath();\n          ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n          ctx.fill();\n          ctx.closePath();\n        }\n      }); // draw tags\n\n      data.forEach((p, index) => {\n        if (p && p.tag) {\n          ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n          ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n        }\n      });\n    });\n  }\n\n}\n\nexports.BranchGraphColumn = BranchGraphColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/ButtonColumn.js\":\n/*!**************************************!*\\\n  !*** ./columns/type/ButtonColumn.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ButtonColumn = void 0;\n\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\n\nconst ButtonStyle_1 = __webpack_require__(/*! ../style/ButtonStyle */ \"./columns/style/ButtonStyle.js\");\n\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\n\nclass ButtonColumn extends Column_1.Column {\n  constructor(option = {}) {\n    super(option);\n    this._caption = option.caption;\n  }\n\n  get StyleClass() {\n    return ButtonStyle_1.ButtonStyle;\n  }\n\n  get caption() {\n    return this._caption;\n  }\n\n  withCaption(caption) {\n    const c = this.clone();\n    c._caption = caption;\n    return c;\n  }\n\n  clone() {\n    return new ButtonColumn(this);\n  }\n\n  convertInternal(value) {\n    return this._caption || super.convertInternal(value);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      bgColor,\n      color,\n      buttonBgColor,\n      font,\n      padding,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.testFontLoad(font, value, context);\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    let active = false;\n    const state = grid[BUTTON_COLUMN_STATE_ID];\n\n    if (state) {\n      if (state.mouseActiveCell && utils_1.cellInRange(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\n        active = true;\n      } else {\n        const {\n          select\n        } = context.getSelection();\n\n        if (utils_1.cellInRange(range, select.col, select.row)) {\n          active = true;\n        }\n      }\n    }\n\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.button(value, context, {\n        textAlign,\n        textBaseline,\n        bgColor: buttonBgColor,\n        color,\n        font,\n        padding,\n        shadow: active ? {\n          color: \"rgba(0, 0, 0, 0.48)\",\n          blur: 6,\n          offsetY: 3\n        } : {},\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nexports.ButtonColumn = ButtonColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/CheckColumn.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/CheckColumn.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckColumn = void 0;\n\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\n\nconst CheckStyle_1 = __webpack_require__(/*! ../style/CheckStyle */ \"./columns/style/CheckStyle.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_1 = __webpack_require__(/*! ../utils */ \"./columns/utils/index.js\");\n\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\n\nclass CheckColumn extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return CheckStyle_1.CheckStyle;\n  }\n\n  clone() {\n    return new CheckColumn(this);\n  }\n\n  convertInternal(value) {\n    return utils_1.toBoolean(value);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    var _a;\n\n    const {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor,\n      bgColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n    const opt = {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor\n    };\n\n    if (elapsed != null) {\n      opt.animElapsedTime = elapsed;\n    }\n\n    helper.checkbox(value, context, opt);\n  }\n\n}\n\nexports.CheckColumn = CheckColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/Column.js\":\n/*!********************************!*\\\n  !*** ./columns/type/Column.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Column = void 0;\n\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\n\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\n\nconst Style_1 = __webpack_require__(/*! ../style/Style */ \"./columns/style/Style.js\");\n\nclass Column extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return Style_1.Style;\n  }\n\n  clone() {\n    return new Column(this);\n  }\n\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.testFontLoad(font, value, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.text(value, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nexports.Column = Column;\n\n/***/ }),\n\n/***/ \"./columns/type/IconColumn.js\":\n/*!************************************!*\\\n  !*** ./columns/type/IconColumn.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.IconColumn = void 0;\n\nconst icons = __importStar(__webpack_require__(/*! ../../internal/icons */ \"./internal/icons.js\"));\n\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\n\nconst IconStyle_1 = __webpack_require__(/*! ../style/IconStyle */ \"./columns/style/IconStyle.js\");\n\nfunction repeatArray(val, count) {\n  if (count === Infinity) {\n    count = 0;\n  }\n\n  const a = [];\n\n  for (let i = 0; i < count; i++) {\n    a.push(val);\n  }\n\n  return a;\n}\n\nclass IconColumn extends Column_1.Column {\n  constructor(option = {}) {\n    super(option);\n    this._tagName = option.tagName || \"i\";\n    this._className = option.className;\n    this._content = option.content;\n    this._name = option.name;\n    this._iconWidth = option.iconWidth;\n  }\n\n  get StyleClass() {\n    return IconStyle_1.IconStyle;\n  }\n\n  clone() {\n    return new IconColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {\n    const num = Number(value);\n\n    if (!isNaN(num)) {\n      const icon = {};\n      icons.iconPropKeys.forEach(k => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        icon[k] = style[k];\n      });\n      icon.className = this._className;\n      icon.tagName = this._tagName;\n\n      if (this._content) {\n        icon.content = this._content;\n      }\n\n      icon.name = this._name;\n\n      if (this._iconWidth) {\n        icon.width = this._iconWidth;\n      }\n\n      info.getIcon = () => repeatArray(icon, num);\n    } else {\n      info.getIcon = () => null;\n    }\n\n    super.drawInternal(\"\", context, style, helper, grid, info);\n  }\n\n}\n\nexports.IconColumn = IconColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/ImageColumn.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/ImageColumn.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ImageColumn = void 0;\n\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\n\nconst ImageStyle_1 = __webpack_require__(/*! ../style/ImageStyle */ \"./columns/style/ImageStyle.js\");\n\nconst canvases_1 = __webpack_require__(/*! ../../internal/canvases */ \"./internal/canvases.js\");\n\nconst imgs_1 = __webpack_require__(/*! ../../internal/imgs */ \"./internal/imgs.js\");\n\nconst MAX_LRU_CACHE_SIZE = 50;\n\nfunction getImage(url) {\n  return imgs_1.getCacheOrLoad(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\n}\n\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n  let newWidth = width;\n  let newHeight = height;\n\n  if (newWidth > maxWidth) {\n    newWidth = maxWidth;\n    newHeight = newWidth * height / width;\n  }\n\n  if (newHeight > maxHeight) {\n    newHeight = maxHeight;\n    newWidth = newHeight * width / height;\n  }\n\n  return {\n    width: newWidth,\n    height: newHeight\n  };\n}\n\nclass ImageColumn extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return ImageStyle_1.ImageStyle;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    return super.onDrawCell(getImage(cellValue), info, context, grid);\n  }\n\n  clone() {\n    return new ImageColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase\n  }) {\n    if (value) {\n      const {\n        textAlign,\n        textBaseline,\n        margin,\n        bgColor\n      } = style;\n\n      if (bgColor) {\n        drawCellBase({\n          bgColor\n        });\n      }\n\n      helper.drawWithClip(context, ctx => {\n        ctx.textAlign = textAlign;\n        ctx.textBaseline = textBaseline;\n        const rect = context.getRect();\n\n        if (style.imageSizing === \"keep-aspect-ratio\") {\n          const {\n            width,\n            height\n          } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n          const pos = canvases_1.calcStartPosition(ctx, rect, width, height, {\n            offset: margin\n          });\n          ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n        } else {\n          ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n        }\n      });\n    }\n  }\n\n}\n\nexports.ImageColumn = ImageColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/MenuColumn.js\":\n/*!************************************!*\\\n  !*** ./columns/type/MenuColumn.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MenuColumn = void 0;\n\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\n\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\n\nconst MenuStyle_1 = __webpack_require__(/*! ../style/MenuStyle */ \"./columns/style/MenuStyle.js\");\n\nconst menu_items_1 = __webpack_require__(/*! ../../internal/menu-items */ \"./internal/menu-items.js\");\n\nclass MenuColumn extends BaseColumn_1.BaseColumn {\n  constructor(option = {}) {\n    super(option);\n    this._options = menu_items_1.normalize(option.options);\n  }\n\n  get StyleClass() {\n    return MenuStyle_1.MenuStyle;\n  }\n\n  clone() {\n    return new MenuColumn(this);\n  }\n\n  get options() {\n    return this._options;\n  }\n\n  withOptions(options) {\n    const c = this.clone();\n    c._options = menu_items_1.normalize(options);\n    return c;\n  }\n\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      font,\n      bgColor,\n      padding,\n      textOverflow,\n      appearance\n    } = style;\n    let {\n      color\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const text = this._convertInternal(value);\n\n    helper.testFontLoad(font, text, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n      const textPadding = basePadding.slice(0);\n      textPadding[1] += 26; // icon padding\n\n      const iconPadding = basePadding.slice(0);\n      iconPadding[1] += 8;\n\n      if (color == null && (value == null || value === \"\")) {\n        color = \"rgba(0, 0, 0, .38)\";\n      }\n\n      helper.text(text, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding: textPadding,\n        textOverflow,\n        icons\n      });\n\n      if (appearance === \"menulist-button\") {\n        // draw dropdown arrow icon\n        helper.text(\"\", context, {\n          textAlign: \"right\",\n          textBaseline,\n          color,\n          font,\n          icons: [{\n            path: \"M0 2 5 7 10 2z\",\n            width: 10,\n            color: \"rgba(0, 0, 0, .54)\"\n          }],\n          padding: iconPadding\n        });\n      } else if (appearance !== \"none\") {\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        console.warn(`unsupported appearance:${appearance}`);\n      }\n    });\n  }\n\n  convertInternal(value) {\n    return value;\n  }\n\n  _convertInternal(value) {\n    const options = this._options;\n\n    for (let i = 0; i < options.length; i++) {\n      const option = options[i];\n\n      if (option.value === value) {\n        value = option.label;\n        break;\n      }\n    }\n\n    return super.convertInternal(value);\n  }\n\n  getCopyCellValue(value) {\n    return this._convertInternal(value);\n  }\n\n}\n\nexports.MenuColumn = MenuColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/MultilineTextColumn.js\":\n/*!*********************************************!*\\\n  !*** ./columns/type/MultilineTextColumn.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextColumn = void 0;\n\nconst utils = __importStar(__webpack_require__(/*! ./columnUtils */ \"./columns/type/columnUtils.js\"));\n\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\n\nconst MultilineTextStyle_1 = __webpack_require__(/*! ../style/MultilineTextStyle */ \"./columns/style/MultilineTextStyle.js\");\n\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\n  constructor(option = {}) {\n    super(option);\n  }\n\n  get StyleClass() {\n    return MultilineTextStyle_1.MultilineTextStyle;\n  }\n\n  clone() {\n    return new MultilineTextColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase,\n    getIcon\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      padding,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const multilines = value.replace(/\\r?\\n/g, \"\\n\").replace(/\\r/g, \"\\n\").split(\"\\n\");\n    helper.testFontLoad(font, value, context);\n    utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n      helper.multilineText(multilines, context, {\n        textAlign,\n        textBaseline,\n        color,\n        font,\n        padding,\n        lineHeight,\n        autoWrapText,\n        lineClamp,\n        textOverflow,\n        icons\n      });\n    });\n  }\n\n}\n\nexports.MultilineTextColumn = MultilineTextColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/NumberColumn.js\":\n/*!**************************************!*\\\n  !*** ./columns/type/NumberColumn.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NumberColumn = void 0;\n\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\n\nconst NumberStyle_1 = __webpack_require__(/*! ../style/NumberStyle */ \"./columns/style/NumberStyle.js\");\n\nlet defaultFotmat;\n\nclass NumberColumn extends Column_1.Column {\n  constructor(option = {}) {\n    super(option);\n    this._format = option.format;\n  }\n\n  static get defaultFotmat() {\n    return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n  }\n\n  static set defaultFotmat(fmt) {\n    defaultFotmat = fmt;\n  }\n\n  get StyleClass() {\n    return NumberStyle_1.NumberStyle;\n  }\n\n  clone() {\n    return new NumberColumn(this);\n  }\n\n  get format() {\n    return this._format;\n  }\n\n  withFormat(format) {\n    const c = this.clone();\n    c._format = format;\n    return c;\n  }\n\n  convertInternal(value) {\n    const num = Number(value);\n\n    if (isNaN(num)) {\n      return super.convertInternal(value);\n    }\n\n    const format = this._format || NumberColumn.defaultFotmat;\n    return format.format(num);\n  }\n\n}\n\nexports.NumberColumn = NumberColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/PercentCompleteBarColumn.js\":\n/*!**************************************************!*\\\n  !*** ./columns/type/PercentCompleteBarColumn.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PercentCompleteBarColumn = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst Column_1 = __webpack_require__(/*! ./Column */ \"./columns/type/Column.js\");\n\nconst PercentCompleteBarStyle_1 = __webpack_require__(/*! ../style/PercentCompleteBarStyle */ \"./columns/style/PercentCompleteBarStyle.js\");\n\nconst MARGIN = 2;\n\nclass PercentCompleteBarColumn extends Column_1.Column {\n  constructor(option = {}) {\n    super(option);\n    this._min = option.min || 0;\n    this._max = option.max || this._min + 100;\n\n    this._formatter = option.formatter || (v => v);\n  }\n\n  get StyleClass() {\n    return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\n  }\n\n  clone() {\n    return new PercentCompleteBarColumn(this);\n  }\n\n  drawInternal(value, context, style, helper, grid, info) {\n    super.drawInternal(this._formatter(value), context, style, helper, grid, info);\n    const {\n      barColor,\n      barBgColor,\n      barHeight\n    } = style;\n    let svalue = `${value}`;\n\n    if (utils_1.str.endsWith(svalue, \"%\")) {\n      svalue = svalue.substr(0, svalue.length - 1);\n    }\n\n    const num = Number(svalue);\n\n    if (isNaN(num)) {\n      return;\n    }\n\n    const rate = num < this._min ? 0 : num > this._max ? 1 : (num - this._min) / (this._max - this._min);\n    helper.drawWithClip(context, ctx => {\n      const rect = context.getRect();\n      const barMaxWidth = rect.width - MARGIN * 2 - 1;\n      /**/\n\n      const barTop = rect.bottom - MARGIN - barHeight - 1;\n      /**/\n\n      const barLeft = rect.left + MARGIN;\n      ctx.fillStyle = utils_1.getOrApply(barBgColor, rate * 100) || \"#f0f3f5\";\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n      ctx.fill();\n      const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n      ctx.fillStyle = utils_1.getOrApply(barColor, rate * 100) || \"#20a8d8\";\n      ctx.beginPath();\n      ctx.rect(barLeft, barTop, barSize, barHeight);\n      ctx.fill();\n    });\n  }\n\n}\n\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/RadioColumn.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/RadioColumn.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.RadioColumn = void 0;\n\nconst BaseColumn_1 = __webpack_require__(/*! ./BaseColumn */ \"./columns/type/BaseColumn.js\");\n\nconst RadioStyle_1 = __webpack_require__(/*! ../style/RadioStyle */ \"./columns/style/RadioStyle.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_1 = __webpack_require__(/*! ../utils */ \"./columns/utils/index.js\");\n\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId();\n\nclass RadioColumn extends BaseColumn_1.BaseColumn {\n  get StyleClass() {\n    return RadioStyle_1.RadioStyle;\n  }\n\n  clone() {\n    return new RadioColumn(this);\n  }\n\n  convertInternal(value) {\n    return utils_1.toBoolean(value);\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    var _a;\n\n    const {\n      textAlign,\n      textBaseline,\n      checkColor,\n      uncheckBorderColor,\n      checkBorderColor,\n      uncheckBgColor,\n      checkBgColor,\n      bgColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n    const opt = {\n      textAlign,\n      textBaseline,\n      checkColor,\n      uncheckBorderColor,\n      checkBorderColor,\n      uncheckBgColor,\n      checkBgColor\n    };\n\n    if (elapsed != null) {\n      opt.animElapsedTime = elapsed;\n    }\n\n    helper.radioButton(value, context, opt);\n  }\n\n}\n\nexports.RadioColumn = RadioColumn;\n\n/***/ }),\n\n/***/ \"./columns/type/columnUtils.js\":\n/*!*************************************!*\\\n  !*** ./columns/type/columnUtils.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.loadIcons = void 0;\n\nconst icons = __importStar(__webpack_require__(/*! ../../internal/icons */ \"./internal/icons.js\"));\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nfunction loadIcons( // eslint-disable-next-line @typescript-eslint/no-explicit-any\nicon, context, helper, callback) {\n  let argIcon = undefined;\n\n  if (icon) {\n    if (utils_1.isPromise(icon)) {\n      icon.then(i => {\n        loadIcons(i, context.toCurrentContext(), helper, callback);\n      });\n    } else {\n      const iconList = icons.toNormarizeArray(icon);\n      iconList.forEach(i => {\n        if (i.font && i.content) {\n          helper.testFontLoad(i.font, i.content, context);\n        }\n      });\n      argIcon = iconList;\n    }\n  }\n\n  callback(argIcon, context);\n}\n\nexports.loadIcons = loadIcons;\n\n/***/ }),\n\n/***/ \"./columns/utils/index.js\":\n/*!********************************!*\\\n  !*** ./columns/utils/index.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toBoolean = void 0;\n\nfunction toBoolean(val) {\n  if (typeof val === \"string\") {\n    if (val === \"false\") {\n      return false;\n    } else if (val === \"off\") {\n      return false;\n    } else if (/^0+$/.exec(val)) {\n      return false;\n    }\n  }\n\n  return Boolean(val);\n}\n\nexports.toBoolean = toBoolean;\n\n/***/ }),\n\n/***/ \"./core.js\":\n/*!*****************!*\\\n  !*** ./core.js ***!\n  \\*****************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\n\nconst DrawGrid_1 = __webpack_require__(/*! ./core/DrawGrid */ \"./core/DrawGrid.js\");\n\nObject.defineProperty(exports, \"DrawGrid\", {\n  enumerable: true,\n  get: function () {\n    return DrawGrid_1.DrawGrid;\n  }\n});\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ./core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nObject.defineProperty(exports, \"EVENT_TYPE\", {\n  enumerable: true,\n  get: function () {\n    return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\n  }\n});\n\n/***/ }),\n\n/***/ \"./core/DG_EVENT_TYPE.js\":\n/*!*******************************!*\\\n  !*** ./core/DG_EVENT_TYPE.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DG_EVENT_TYPE = void 0;\n/**\n * DrawGrid event types\n * @classdesc cheetahGrid.core.EVENT_TYPE\n * @memberof cheetahGrid.core\n */\n\nexports.DG_EVENT_TYPE = {\n  CLICK_CELL: \"click_cell\",\n  DBLCLICK_CELL: \"dblclick_cell\",\n  DBLTAP_CELL: \"dbltap_cell\",\n  MOUSEDOWN_CELL: \"mousedown_cell\",\n  MOUSEUP_CELL: \"mouseup_cell\",\n  SELECTED_CELL: \"selected_cell\",\n  KEYDOWN: \"keydown\",\n  MOUSEMOVE_CELL: \"mousemove_cell\",\n  MOUSEENTER_CELL: \"mouseenter_cell\",\n  MOUSELEAVE_CELL: \"mouseleave_cell\",\n  MOUSEOVER_CELL: \"mouseover_cell\",\n  MOUSEOUT_CELL: \"mouseout_cell\",\n  CONTEXTMENU_CELL: \"contextmenu_cell\",\n  INPUT_CELL: \"input_cell\",\n  PASTE_CELL: \"paste_cell\",\n  DELETE_CELL: \"delete_cell\",\n  EDITABLEINPUT_CELL: \"editableinput_cell\",\n  MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\n  RESIZE_COLUMN: \"resize_column\",\n  SCROLL: \"scroll\",\n  FOCUS_GRID: \"focus_grid\",\n  BLUR_GRID: \"blur_grid\"\n};\n\n/***/ }),\n\n/***/ \"./core/DrawGrid.js\":\n/*!**************************!*\\\n  !*** ./core/DrawGrid.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DrawGrid = void 0;\n\nconst calc = __importStar(__webpack_require__(/*! ../internal/calc */ \"./internal/calc.js\"));\n\nconst hiDPI = __importStar(__webpack_require__(/*! ../internal/hiDPI */ \"./internal/hiDPI.js\"));\n\nconst style = __importStar(__webpack_require__(/*! ../internal/style */ \"./internal/style.js\"));\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ./DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst EventHandler_1 = __webpack_require__(/*! ../internal/EventHandler */ \"./internal/EventHandler.js\");\n\nconst EventTarget_1 = __webpack_require__(/*! ./EventTarget */ \"./core/EventTarget.js\");\n\nconst NumberMap_1 = __webpack_require__(/*! ../internal/NumberMap */ \"./internal/NumberMap.js\");\n\nconst Rect_1 = __webpack_require__(/*! ../internal/Rect */ \"./internal/Rect.js\");\n\nconst Scrollable_1 = __webpack_require__(/*! ../internal/Scrollable */ \"./internal/Scrollable.js\");\n\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\"); //protected symbol\n\n\nconst symbolManager_1 = __webpack_require__(/*! ../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst paste_utils_1 = __webpack_require__(/*! ../internal/paste-utils */ \"./internal/paste-utils.js\");\n\nconst {\n  /** @private */\n  isTouchEvent,\n\n  /** @private */\n  getMouseButtons,\n\n  /** @private */\n  getKeyCode,\n\n  /** @private */\n  cancel: cancelEvent\n} = utils_1.event;\n/** @private */\n\nconst _ = symbolManager_1.getProtectedSymbol();\n/** @private */\n\n\nfunction createRootElement() {\n  const element = document.createElement(\"div\");\n  element.classList.add(\"cheetah-grid\");\n  return element;\n}\n/** @private */\n\n\nconst KEY_BS = 8;\n/** @private */\n\nconst KEY_TAB = 9;\n/** @private */\n\nconst KEY_ENTER = 13;\n/** @private */\n\nconst KEY_END = 35;\n/** @private */\n\nconst KEY_HOME = 36;\n/** @private */\n\nconst KEY_LEFT = 37;\n/** @private */\n\nconst KEY_UP = 38;\n/** @private */\n\nconst KEY_RIGHT = 39;\n/** @private */\n\nconst KEY_DOWN = 40;\n/** @private */\n\nconst KEY_DEL = 46;\n/** @private */\n\nconst KEY_ALPHA_A = 65;\n/** @private */\n\nconst KEY_ALPHA_C = 67;\n/** @private */\n\nconst KEY_ALPHA_V = 86; //private methods\n\n/** @private */\n\nfunction _vibrate(e) {\n  if (navigator.vibrate && isTouchEvent(e)) {\n    navigator.vibrate(50);\n  }\n}\n/** @private */\n\n\nfunction _getTargetRowAt(absoluteY) {\n  const internal = this.getTargetRowAtInternal(absoluteY);\n\n  if (internal != null) {\n    return internal;\n  }\n\n  const findBefore = (startRow, startBottom) => {\n    let bottom = startBottom;\n\n    for (let row = startRow; row >= 0; row--) {\n      const height = _getRowHeight.call(this, row);\n\n      const top = bottom - height;\n\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n\n      bottom = top;\n    }\n\n    return null;\n  };\n\n  const findAfter = (startRow, startBottom) => {\n    let top = startBottom - _getRowHeight.call(this, startRow);\n\n    const {\n      rowCount\n    } = this[_];\n\n    for (let row = startRow; row < rowCount; row++) {\n      const height = _getRowHeight.call(this, row);\n\n      const bottom = top + height;\n\n      if (top <= absoluteY && absoluteY < bottom) {\n        return {\n          top,\n          row\n        };\n      }\n\n      top = bottom;\n    }\n\n    return null;\n  };\n\n  const candRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\n\n  const bottom = _getRowsHeight.call(this, 0, candRow);\n\n  if (absoluteY >= bottom) {\n    return findAfter(candRow, bottom);\n  } else {\n    return findBefore(candRow, bottom);\n  }\n}\n/** @private */\n\n\nfunction _getTargetColAt(grid, absoluteX) {\n  let left = 0;\n  const {\n    colCount\n  } = grid[_];\n\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    const right = left + width;\n\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n\n    left = right;\n  }\n\n  return null;\n}\n/** @private */\n\n\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n\n  let {\n    top\n  } = grid[_].scroll;\n  const rowCount = grid[_].frozenRowCount;\n\n  for (let row = 0; row < rowCount; row++) {\n    const height = _getRowHeight.call(grid, row);\n\n    const bottom = top + height;\n\n    if (bottom > absoluteY) {\n      return {\n        top,\n        row\n      };\n    }\n\n    top = bottom;\n  }\n\n  return null;\n}\n/** @private */\n\n\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n\n  let {\n    left\n  } = grid[_].scroll;\n  const colCount = grid[_].frozenColCount;\n\n  for (let col = 0; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    const right = left + width;\n\n    if (right > absoluteX) {\n      return {\n        left,\n        col\n      };\n    }\n\n    left = right;\n  }\n\n  return null;\n}\n/** @private */\n\n\nfunction _getFrozenRowsRect(grid) {\n  if (!grid[_].frozenRowCount) {\n    return null;\n  }\n\n  const {\n    top\n  } = grid[_].scroll;\n  let height = 0;\n  const rowCount = grid[_].frozenRowCount;\n\n  for (let row = 0; row < rowCount; row++) {\n    height += _getRowHeight.call(grid, row);\n  }\n\n  return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n}\n/** @private */\n\n\nfunction _getFrozenColsRect(grid) {\n  if (!grid[_].frozenColCount) {\n    return null;\n  }\n\n  const {\n    left\n  } = grid[_].scroll;\n  let width = 0;\n  const colCount = grid[_].frozenColCount;\n\n  for (let col = 0; col < colCount; col++) {\n    width += _getColWidth(grid, col);\n  }\n\n  return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n}\n/** @private */\n\n\nfunction _getCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return null;\n  }\n\n  return grid[_].drawCells[row][col];\n}\n/** @private */\n\n\nfunction _putCellDrawing(grid, col, row, context) {\n  if (!grid[_].drawCells[row]) {\n    grid[_].drawCells[row] = {};\n  }\n\n  grid[_].drawCells[row][col] = context;\n}\n/** @private */\n\n\nfunction _removeCellDrawing(grid, col, row) {\n  if (!grid[_].drawCells[row]) {\n    return;\n  }\n\n  delete grid[_].drawCells[row][col];\n\n  if (Object.keys(grid[_].drawCells[row]).length === 0) {\n    delete grid[_].drawCells[row];\n  }\n}\n/** @private */\n\n\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n  const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n  const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n\n  if (drawRect.height > 0 && drawRect.width > 0) {\n    ctx.save();\n\n    try {\n      const cellDrawing = _getCellDrawing(this, col, row);\n\n      if (cellDrawing) {\n        cellDrawing.cancel();\n      }\n\n      const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\n      const p = this.onDrawCell(col, row, dcContext);\n\n      if (utils_1.isPromise(p)) {\n        //\n        _putCellDrawing(this, col, row, dcContext);\n\n        const pCol = col;\n\n        dcContext._delayMode(this, () => {\n          _removeCellDrawing(this, pCol, row);\n        });\n\n        p.then(() => {\n          dcContext.terminate();\n        });\n      }\n    } finally {\n      ctx.restore();\n    }\n  }\n}\n/** @private */\n\n\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n  const {\n    colCount\n  } = grid[_];\n\n  const drawOuter = (col, absoluteLeft) => {\n    //\n    if (col >= colCount - 1 && grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n      const outerLeft = absoluteLeft - visibleRect.left;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n      ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n\n  let skipAbsoluteLeft = 0;\n\n  if (initFrozenCol) {\n    let absoluteLeft = initFrozenCol.left;\n    const count = grid[_].frozenColCount;\n\n    for (let {\n      col\n    } = initFrozenCol; col < count; col++) {\n      const width = _getColWidth(grid, col);\n\n      _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n\n      absoluteLeft += width;\n\n      if (drawRight <= absoluteLeft) {\n        //\n        drawOuter(col, absoluteLeft);\n        return;\n      }\n    }\n\n    skipAbsoluteLeft = absoluteLeft;\n  }\n\n  let absoluteLeft = initCol.left;\n\n  for (let {\n    col\n  } = initCol; col < colCount; col++) {\n    const width = _getColWidth(grid, col);\n\n    _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n\n    absoluteLeft += width;\n\n    if (drawRight <= absoluteLeft) {\n      //\n      drawOuter(col, absoluteLeft);\n      return;\n    }\n  }\n\n  drawOuter(colCount - 1, absoluteLeft);\n}\n/** @private */\n\n\nfunction _getInitContext() {\n  return this._getInitContext();\n}\n/** @private */\n\n\nfunction _invalidateRect(grid, drawRect) {\n  const visibleRect = _getVisibleRect(grid);\n\n  const {\n    rowCount\n  } = grid[_];\n\n  const ctx = _getInitContext.call(grid);\n\n  const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\n    top: _getRowsHeight.call(grid, 0, rowCount - 1),\n    row: rowCount\n  };\n  const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n    left: _getColsWidth(grid, 0, grid[_].colCount - 1),\n    col: grid[_].colCount\n  };\n  const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n  const drawRight = Math.min(visibleRect.right, drawRect.right);\n\n  const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n\n  const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n\n  const drawLayers = new DrawLayers();\n\n  const drawOuter = (row, absoluteTop) => {\n    //\n    if (row >= rowCount - 1 && grid[_].canvas.height > absoluteTop - visibleRect.top) {\n      const outerTop = absoluteTop - visibleRect.top;\n      ctx.save();\n      ctx.beginPath();\n      ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n      ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n      ctx.fill();\n      ctx.restore();\n    }\n  };\n\n  let skipAbsoluteTop = 0;\n\n  if (initFrozenRow) {\n    let absoluteTop = initFrozenRow.top;\n    const count = grid[_].frozenRowCount;\n\n    for (let {\n      row\n    } = initFrozenRow; row < count; row++) {\n      const height = _getRowHeight.call(grid, row);\n\n      _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n\n      absoluteTop += height;\n\n      if (drawBottom <= absoluteTop) {\n        //\n        drawOuter(row, absoluteTop);\n        drawLayers.draw(ctx);\n        return;\n      }\n    }\n\n    skipAbsoluteTop = absoluteTop;\n  }\n\n  let absoluteTop = initRow.top;\n\n  for (let {\n    row\n  } = initRow; row < rowCount; row++) {\n    const height = _getRowHeight.call(grid, row); //\n\n\n    _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n\n    absoluteTop += height;\n\n    if (drawBottom <= absoluteTop) {\n      //\n      drawOuter(row, absoluteTop);\n      drawLayers.draw(ctx);\n      return;\n    }\n  }\n\n  drawOuter(rowCount - 1, absoluteTop);\n  drawLayers.draw(ctx);\n}\n/** @private */\n\n\nfunction _toPxWidth(grid, width) {\n  return Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n/** @private */\n\n\nfunction _adjustColWidth(grid, col, orgWidth) {\n  const limits = _getColWidthLimits(grid, col);\n\n  return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\n}\n/** @private */\n\n\nfunction _applyColWidthLimits(limits, orgWidth) {\n  if (!limits) {\n    return orgWidth;\n  }\n\n  if (limits.min) {\n    if (limits.min > orgWidth) {\n      return limits.min;\n    }\n  }\n\n  if (limits.max) {\n    if (limits.max < orgWidth) {\n      return limits.max;\n    }\n  }\n\n  return orgWidth;\n}\n/**\n * Gets the definition of the column width.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {string|number} width definition\n * @private\n */\n\n\nfunction _getColWidthDefine(grid, col) {\n  const width = grid[_].colWidthsMap.get(col);\n\n  if (width) {\n    return width;\n  }\n\n  return grid.defaultColWidth;\n}\n/**\n * Gets the column width limits.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {object|null} the column width limits\n * @private\n */\n\n\nfunction _getColWidthLimits(grid, col) {\n  const limit = grid[_].colWidthsLimit[col];\n\n  if (!limit) {\n    return null;\n  }\n\n  const result = {};\n\n  if (limit.min) {\n    result.min = _toPxWidth(grid, limit.min);\n    result.minDef = limit.min;\n  }\n\n  if (limit.max) {\n    result.max = _toPxWidth(grid, limit.max);\n    result.maxDef = limit.max;\n  }\n\n  return result;\n}\n/**\n * Checks if the given width definition is `auto`.\n * @param {string|number} width width definition to check\n * @returns {boolean} `true ` if the given width definition is `auto`\n * @private\n */\n\n\nfunction isAutoDefine(width) {\n  return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\n}\n/**\n * Creates a formula to calculate the auto width.\n * @param {DrawGrid} grid grid instance\n * @returns {string} formula\n * @private\n */\n\n\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\n  const fullWidth = grid[_].calcWidthContext.full;\n  let sumMin = 0;\n  const others = [];\n  let autoCount = 0;\n  const hasLimitsOnAuto = [];\n\n  for (let col = 0; col < grid[_].colCount; col++) {\n    const def = _getColWidthDefine(grid, col);\n\n    const limits = _getColWidthLimits(grid, col);\n\n    if (isAutoDefine(def)) {\n      if (limits) {\n        hasLimitsOnAuto.push(limits);\n\n        if (limits.min) {\n          sumMin += limits.min;\n        }\n      }\n\n      autoCount++;\n    } else {\n      let expr = def;\n\n      if (limits) {\n        const orgWidth = _toPxWidth(grid, expr);\n\n        const newWidth = _applyColWidthLimits(limits, orgWidth);\n\n        if (orgWidth !== newWidth) {\n          expr = `${newWidth}px`;\n        }\n\n        sumMin += newWidth;\n      }\n\n      others.push(expr);\n    }\n\n    if (shortCircuit && sumMin > fullWidth) {\n      // Returns 0px because it has consumed the full width.\n      return \"0px\";\n    }\n  }\n\n  if (hasLimitsOnAuto.length && others.length) {\n    const autoPx = (fullWidth - _toPxWidth(grid, `calc(${others.map(c => typeof c === \"number\" ? `${c}px` : c).join(\" + \")})`)) / autoCount;\n    hasLimitsOnAuto.forEach(limits => {\n      if (limits.min && autoPx < limits.min) {\n        others.push(limits.minDef);\n        autoCount--;\n      } else if (limits.max && limits.max < autoPx) {\n        others.push(limits.maxDef);\n        autoCount--;\n      }\n    });\n\n    if (shortCircuit && autoCount <= 0) {\n      return `${autoPx}px`;\n    }\n  }\n\n  if (others.length) {\n    const strDefs = [];\n    let num = 0;\n    others.forEach(c => {\n      if (typeof c === \"number\") {\n        num += c;\n      } else {\n        strDefs.push(c);\n      }\n    });\n    strDefs.push(`${num}px`);\n    return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\n  } else {\n    return `${100 / autoCount}%`;\n  }\n}\n/**\n * Calculate the pixels of width from the definition of width.\n * @param {DrawGrid} grid grid instance\n * @param {string|number} width width definition\n * @returns {number} the pixels of width\n * @private\n */\n\n\nfunction _colWidthDefineToPxWidth(grid, width) {\n  if (isAutoDefine(width)) {\n    return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\n  }\n\n  return _toPxWidth(grid, width);\n}\n/** @private */\n\n\nfunction _getColWidth(grid, col) {\n  const width = _getColWidthDefine(grid, col);\n\n  return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\n}\n/** @private */\n\n\nfunction _setColWidth(grid, col, width) {\n  grid[_].colWidthsMap.put(col, width);\n}\n/**\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\n * @param {DrawGrid} grid grid instance\n * @returns {void}\n * @private\n */\n\n\nfunction _storeAutoColWidthExprs(grid) {\n  let expr = null;\n\n  for (let col = 0; col < grid[_].colCount; col++) {\n    const def = _getColWidthDefine(grid, col);\n\n    if (isAutoDefine(def)) {\n      _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\n    }\n  }\n}\n/** @private */\n\n\nfunction _getColsWidth(grid, startCol, endCol) {\n  const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\n\n  const colCount = endCol - startCol + 1;\n  let w = defaultColPxWidth * colCount;\n\n  grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n    w += _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) - defaultColPxWidth;\n  });\n\n  for (let col = startCol; col <= endCol; col++) {\n    if (grid[_].colWidthsMap.has(col)) {\n      continue;\n    }\n\n    const adj = _adjustColWidth(grid, col, defaultColPxWidth);\n\n    if (adj !== defaultColPxWidth) {\n      w += adj - defaultColPxWidth;\n    }\n  }\n\n  return w;\n}\n/** @private */\n\n\nfunction _getRowHeight(row) {\n  const internal = this.getRowHeightInternal(row);\n\n  if (internal != null) {\n    return internal;\n  }\n\n  const height = this[_].rowHeightsMap.get(row);\n\n  if (height) {\n    return height;\n  }\n\n  return this[_].defaultRowHeight;\n}\n/** @private */\n\n\nfunction _setRowHeight(grid, row, height) {\n  grid[_].rowHeightsMap.put(row, height);\n}\n/** @private */\n\n\nfunction _getRowsHeight(startRow, endRow) {\n  const internal = this.getRowsHeightInternal(startRow, endRow);\n\n  if (internal != null) {\n    return internal;\n  }\n\n  const rowCount = endRow - startRow + 1;\n  let h = this[_].defaultRowHeight * rowCount;\n\n  this[_].rowHeightsMap.each(startRow, endRow, height => {\n    h += height - this[_].defaultRowHeight;\n  });\n\n  return h;\n}\n/** @private */\n\n\nfunction _getScrollWidth(grid) {\n  return _getColsWidth(grid, 0, grid[_].colCount - 1);\n}\n/** @private */\n\n\nfunction _getScrollHeight(row) {\n  const internal = this.getScrollHeightInternal(row);\n\n  if (internal != null) {\n    return internal;\n  }\n\n  let h = this[_].defaultRowHeight * this[_].rowCount;\n\n  this[_].rowHeightsMap.each(0, this[_].rowCount - 1, height => {\n    h += height - this[_].defaultRowHeight;\n  });\n\n  return h;\n}\n/** @private */\n\n\nfunction _onScroll(grid, _e) {\n  const lastLeft = grid[_].scroll.left;\n  const lastTop = grid[_].scroll.top;\n  const moveX = grid[_].scrollable.scrollLeft - lastLeft;\n  const moveY = grid[_].scrollable.scrollTop - lastTop; //\n\n  grid[_].scroll = {\n    left: grid[_].scrollable.scrollLeft,\n    top: grid[_].scrollable.scrollTop\n  };\n\n  const visibleRect = _getVisibleRect(grid);\n\n  if (Math.abs(moveX) >= visibleRect.width || Math.abs(moveY) >= visibleRect.height) {\n    //\n    _invalidateRect(grid, visibleRect);\n  } else {\n    //\n    grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n\n    if (moveX !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n\n      if (moveX < 0) {\n        redrawRect.width = -moveX;\n\n        if (grid[_].frozenColCount > 0) {\n          //\n          const frozenRect = _getFrozenColsRect(grid);\n\n          redrawRect.width += frozenRect.width;\n        }\n      } else if (moveX > 0) {\n        redrawRect.left = redrawRect.right - moveX;\n      } //\n\n\n      _invalidateRect(grid, redrawRect);\n\n      if (moveX > 0) {\n        if (grid[_].frozenColCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenColsRect(grid));\n        }\n      }\n    }\n\n    if (moveY !== 0) {\n      //\n      const redrawRect = visibleRect.copy();\n\n      if (moveY < 0) {\n        redrawRect.height = -moveY;\n\n        if (grid[_].frozenRowCount > 0) {\n          //\n          const frozenRect = _getFrozenRowsRect(grid);\n\n          redrawRect.height += frozenRect.height;\n        }\n      } else if (moveY > 0) {\n        redrawRect.top = redrawRect.bottom - moveY;\n      } //\n\n\n      _invalidateRect(grid, redrawRect);\n\n      if (moveY > 0) {\n        if (grid[_].frozenRowCount > 0) {\n          //\n          _invalidateRect(grid, _getFrozenRowsRect(grid));\n        }\n      }\n    }\n  }\n}\n/** @private */\n// eslint-disable-next-line complexity\n\n\nfunction _onKeyDownMove(e) {\n  var _a, _b, _c;\n\n  const {\n    shiftKey\n  } = e;\n  const keyCode = getKeyCode(e);\n  const focusCell = shiftKey ? this.selection.focus : this.selection.select;\n\n  if (keyCode === KEY_LEFT) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, null, \"W\");\n    } else {\n      if (!hmove.call(this, \"W\")) {\n        return;\n      }\n    }\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_UP) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"N\", null);\n    } else {\n      if (!vmove.call(this, \"N\")) {\n        return;\n      }\n    }\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_RIGHT) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, null, \"E\");\n    } else {\n      if (!hmove.call(this, \"E\")) {\n        return;\n      }\n    }\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_DOWN) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"S\", null);\n    } else {\n      if (!vmove.call(this, \"S\")) {\n        return;\n      }\n    }\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_HOME) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"N\", \"W\");\n    } else {\n      move(this, null, \"W\");\n    }\n\n    cancelEvent(e);\n  } else if (keyCode === KEY_END) {\n    if (e.ctrlKey || e.metaKey) {\n      move(this, \"S\", \"E\");\n    } else {\n      move(this, null, \"E\");\n    }\n\n    cancelEvent(e);\n  } else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\n    if (shiftKey) {\n      if (!hmove.call(this, \"W\", false)) {\n        const row = this.getMoveUpRowByKeyDownInternal(focusCell);\n\n        if (0 > row) {\n          return;\n        }\n\n        _moveFocusCell.call(this, this.colCount - 1, row, false);\n      }\n    } else {\n      if (!hmove.call(this, \"E\", false)) {\n        const row = this.getMoveDownRowByKeyDownInternal(focusCell);\n\n        if (this.rowCount <= row) {\n          return;\n        }\n\n        _moveFocusCell.call(this, 0, row, false);\n      }\n    }\n\n    cancelEvent(e);\n  } else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\n    if (shiftKey) {\n      if (!vmove.call(this, \"N\", false)) {\n        const col = this.getMoveLeftColByKeyDownInternal(focusCell);\n\n        if (0 > col) {\n          return;\n        }\n\n        _moveFocusCell.call(this, col, this.rowCount - 1, false);\n      }\n    } else {\n      if (!vmove.call(this, \"S\", false)) {\n        const col = this.getMoveRightColByKeyDownInternal(focusCell);\n\n        if (this.colCount <= col) {\n          return;\n        }\n\n        _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\n      }\n    }\n\n    cancelEvent(e);\n  } else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) && keyCode === KEY_ALPHA_A && (e.ctrlKey || e.metaKey)) {\n    this.selection.range = {\n      start: {\n        col: 0,\n        row: 0\n      },\n      end: {\n        col: this.colCount - 1,\n        row: this.rowCount - 1\n      }\n    };\n    this.invalidate();\n    cancelEvent(e);\n  }\n\n  function move(grid, vDir, hDir) {\n    const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\n    const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\n\n    _moveFocusCell.call(grid, col, row, shiftKey);\n  }\n\n  function vmove(vDir, shiftKeyFlg = shiftKey) {\n    let row;\n\n    if (vDir === \"S\") {\n      row = this.getMoveDownRowByKeyDownInternal(focusCell);\n\n      if (this.rowCount <= row) {\n        return false;\n      }\n    } else {\n      row = this.getMoveUpRowByKeyDownInternal(focusCell);\n\n      if (row < 0) {\n        return false;\n      }\n    }\n\n    const {\n      col\n    } = focusCell;\n\n    _moveFocusCell.call(this, col, row, shiftKeyFlg);\n\n    return true;\n  }\n\n  function hmove(hDir, shiftKeyFlg = shiftKey) {\n    let col;\n\n    if (hDir === \"E\") {\n      col = this.getMoveRightColByKeyDownInternal(focusCell);\n\n      if (this.colCount <= col) {\n        return false;\n      }\n    } else {\n      col = this.getMoveLeftColByKeyDownInternal(focusCell);\n\n      if (col < 0) {\n        return false;\n      }\n    }\n\n    const {\n      row\n    } = focusCell;\n\n    _moveFocusCell.call(this, col, row, shiftKeyFlg);\n\n    return true;\n  }\n}\n/** @private */\n\n\nfunction _moveFocusCell(col, row, shiftKey) {\n  const offset = this.getOffsetInvalidateCells();\n\n  function extendRange(range) {\n    if (offset > 0) {\n      range.start.col -= offset;\n      range.start.row -= offset;\n      range.end.col += offset;\n      range.end.row += offset;\n    }\n\n    return range;\n  }\n\n  const beforeRange = extendRange(this.selection.range);\n  const beforeRect = this.getCellRangeRect(beforeRange);\n\n  this.selection._setFocusCell(col, row, shiftKey);\n\n  this.makeVisibleCell(col, row);\n  this.focusCell(col, row);\n  const afterRange = extendRange(this.selection.range);\n  const afterRect = this.getCellRangeRect(afterRange);\n\n  if (afterRect.intersection(beforeRect)) {\n    const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\n\n    _invalidateRect(this, invalidateRect);\n  } else {\n    _invalidateRect(this, beforeRect);\n\n    _invalidateRect(this, afterRect);\n  }\n}\n/** @private */\n\n\nfunction _updatedSelection() {\n  const {\n    focusControl\n  } = this[_];\n  const {\n    col: selCol,\n    row: selRow\n  } = this[_].selection.select;\n  const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\n    col: selCol,\n    row: selRow\n  });\n  const editMode = utils_1.array.findIndex(results, v => !!v) >= 0;\n  focusControl.editMode = editMode;\n\n  if (editMode) {\n    focusControl.storeInputStatus();\n    focusControl.setDefaultInputStatus();\n    this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\n      col: selCol,\n      row: selRow,\n      input: focusControl.input\n    });\n  }\n}\n/** @private */\n\n\nfunction _getMouseAbstractPoint(grid, evt) {\n  let e;\n\n  if (isTouchEvent(evt)) {\n    e = evt.changedTouches[0];\n  } else {\n    e = evt;\n  }\n\n  const clientX = e.clientX || e.pageX + window.scrollX;\n  const clientY = e.clientY || e.pageY + window.scrollY;\n\n  const rect = grid[_].canvas.getBoundingClientRect();\n\n  if (rect.right <= clientX) {\n    return null;\n  }\n\n  if (rect.bottom <= clientY) {\n    return null;\n  }\n\n  const x = clientX - rect.left + grid[_].scroll.left;\n  const y = clientY - rect.top + grid[_].scroll.top;\n  return {\n    x,\n    y\n  };\n}\n/** @private */\n\n\nfunction _bindEvents() {\n  // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\n  const grid = this;\n  const {\n    handler,\n    element,\n    scrollable\n  } = grid[_];\n\n  const getCellEventArgsSet = e => {\n    const abstractPos = _getMouseAbstractPoint(grid, e);\n\n    if (!abstractPos) {\n      return {};\n    }\n\n    const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\n    if (cell.col < 0 || cell.row < 0) {\n      return {\n        abstractPos,\n        cell\n      };\n    }\n\n    const eventArgs = {\n      col: cell.col,\n      row: cell.row,\n      event: e\n    };\n    return {\n      abstractPos,\n      cell,\n      eventArgs\n    };\n  };\n\n  const canResizeColumn = col => {\n    if (grid[_].disableColumnResize) {\n      return false;\n    }\n\n    const limit = grid[_].colWidthsLimit[col];\n\n    if (!limit || !limit.min || !limit.max) {\n      return true;\n    }\n\n    return limit.max !== limit.min;\n  };\n\n  handler.on(element, \"mousedown\", e => {\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs\n    } = eventArgsSet;\n\n    if (!abstractPos) {\n      return;\n    }\n\n    if (eventArgs) {\n      const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n\n      if (utils_1.array.findIndex(results, v => !v) >= 0) {\n        return;\n      }\n    }\n\n    if (getMouseButtons(e) !== 1) {\n      return;\n    }\n\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      //\n      grid[_].columnResizer.start(resizeCol, e);\n    } else {\n      //\n      grid[_].cellSelector.start(e);\n    }\n  });\n  handler.on(element, \"mouseup\", e => {\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (eventArgs) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\n    }\n  });\n  let doubleTapBefore = null;\n  let longTouchId = null;\n  handler.on(element, \"touchstart\", e => {\n    if (!doubleTapBefore) {\n      doubleTapBefore = getCellEventArgsSet(e).eventArgs;\n      setTimeout(() => {\n        doubleTapBefore = null;\n      }, 350);\n    } else {\n      const {\n        eventArgs\n      } = getCellEventArgsSet(e);\n\n      if (eventArgs && eventArgs.col === doubleTapBefore.col && eventArgs.row === doubleTapBefore.row) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\n      }\n\n      doubleTapBefore = null;\n\n      if (e.defaultPrevented) {\n        return;\n      }\n    }\n\n    longTouchId = setTimeout(() => {\n      //\n      longTouchId = null;\n\n      const abstractPos = _getMouseAbstractPoint(grid, e);\n\n      if (!abstractPos) {\n        return;\n      }\n\n      const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n\n      if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n        //\n        grid[_].columnResizer.start(resizeCol, e);\n      } else {\n        //\n        grid[_].cellSelector.start(e);\n      }\n    }, 500);\n  });\n\n  function cancel(_e) {\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n      longTouchId = null;\n    }\n  }\n\n  handler.on(element, \"touchcancel\", cancel);\n  handler.on(element, \"touchmove\", cancel);\n  handler.on(element, \"touchend\", e => {\n    if (longTouchId) {\n      clearTimeout(longTouchId);\n\n      grid[_].cellSelector.select(e);\n\n      longTouchId = null;\n    }\n  });\n  let isMouseover = false;\n  let mouseEnterCell = null;\n  let mouseOverCell = null;\n\n  function onMouseenterCell(cell, related) {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\n      col: cell.col,\n      row: cell.row,\n      related\n    });\n    mouseEnterCell = cell;\n  }\n\n  function onMouseleaveCell(related) {\n    const beforeMouseCell = mouseEnterCell;\n    mouseEnterCell = null;\n\n    if (beforeMouseCell) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row,\n        related\n      });\n    }\n\n    return beforeMouseCell || undefined;\n  }\n\n  function onMouseoverCell(cell, related) {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\n      col: cell.col,\n      row: cell.row,\n      related\n    });\n    mouseOverCell = cell;\n  }\n\n  function onMouseoutCell(related) {\n    const beforeMouseCell = mouseOverCell;\n    mouseOverCell = null;\n\n    if (beforeMouseCell) {\n      grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\n        col: beforeMouseCell.col,\n        row: beforeMouseCell.row,\n        related\n      });\n    }\n\n    return beforeMouseCell || undefined;\n  }\n\n  const scrollElement = scrollable.getElement();\n  handler.on(scrollElement, \"mouseover\", _e => {\n    isMouseover = true;\n  });\n  handler.on(scrollElement, \"mouseout\", _e => {\n    isMouseover = false;\n    onMouseoutCell();\n  });\n  handler.on(element, \"mouseleave\", _e => {\n    onMouseleaveCell();\n  });\n  handler.on(element, \"mousemove\", e => {\n    const eventArgsSet = getCellEventArgsSet(e);\n    const {\n      abstractPos,\n      eventArgs\n    } = eventArgsSet;\n\n    if (eventArgs) {\n      const beforeMouseCell = mouseEnterCell;\n\n      if (beforeMouseCell) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n\n        if (beforeMouseCell.col !== eventArgs.col || beforeMouseCell.row !== eventArgs.row) {\n          const enterCell = {\n            col: eventArgs.col,\n            row: eventArgs.row\n          };\n          const outCell = onMouseoutCell(enterCell);\n          const leaveCell = onMouseleaveCell(enterCell);\n          onMouseenterCell(enterCell, leaveCell);\n\n          if (isMouseover) {\n            onMouseoverCell(enterCell, outCell);\n          }\n        } else if (isMouseover && !mouseOverCell) {\n          onMouseoverCell({\n            col: eventArgs.col,\n            row: eventArgs.row\n          });\n        }\n      } else {\n        const enterCell = {\n          col: eventArgs.col,\n          row: eventArgs.row\n        };\n        onMouseenterCell(enterCell);\n\n        if (isMouseover) {\n          onMouseoverCell(enterCell);\n        }\n\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n      }\n    } else {\n      onMouseoutCell();\n      onMouseleaveCell();\n    }\n\n    if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n      return;\n    }\n\n    const {\n      style\n    } = element;\n\n    if (!abstractPos) {\n      if (style.cursor === \"col-resize\") {\n        style.cursor = \"\";\n      }\n\n      return;\n    }\n\n    const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n\n    if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n      style.cursor = \"col-resize\";\n    } else {\n      if (style.cursor === \"col-resize\") {\n        style.cursor = \"\";\n      }\n    }\n  });\n  handler.on(element, \"click\", e => {\n    if (grid[_].columnResizer.lastMoving(e) || grid[_].cellSelector.lastMoving(e)) {\n      return;\n    }\n\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (!eventArgs) {\n      return;\n    }\n\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\n  });\n  handler.on(element, \"contextmenu\", e => {\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (!eventArgs) {\n      return;\n    }\n\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\n  });\n  handler.on(element, \"dblclick\", e => {\n    if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\n      return;\n    }\n\n    const {\n      eventArgs\n    } = getCellEventArgsSet(e);\n\n    if (!eventArgs) {\n      return;\n    }\n\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n  });\n\n  grid[_].focusControl.onKeyDown(evt => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\n  });\n\n  grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\n  });\n\n  scrollable.onScroll(e => {\n    _onScroll(grid, e);\n\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, {\n      event: e\n    });\n  });\n\n  grid[_].focusControl.onKeyDownMove(e => {\n    _onKeyDownMove.call(grid, e);\n  });\n\n  grid.listen(\"copydata\", range => {\n    const copyRange = grid.getCopyRangeInternal(range);\n    let copyValue = \"\";\n\n    for (let {\n      row\n    } = copyRange.start; row <= copyRange.end.row; row++) {\n      for (let {\n        col\n      } = copyRange.start; col <= copyRange.end.col; col++) {\n        const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\n\n        if (typeof Promise !== \"undefined\" && copyCellValue instanceof Promise) {//\n        } else {\n          // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n          const strCellValue = `${copyCellValue}`;\n\n          if (/^\\[object .*\\]$/.exec(strCellValue)) {//object \n          } else {\n            copyValue += strCellValue;\n          }\n        }\n\n        if (col < copyRange.end.col) {\n          copyValue += \"\\t\";\n        }\n      }\n\n      copyValue += \"\\n\";\n    }\n\n    return copyValue;\n  });\n\n  grid[_].focusControl.onCopy(_e => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), r => r != null));\n\n  grid[_].focusControl.onPaste(({\n    value,\n    event\n  }) => {\n    const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizeValue); // is multi cell values\n\n    let rangeBoxValues = null;\n    const pasteCellEvent = {\n      col,\n      row,\n      value,\n      normalizeValue,\n      multi,\n\n      get rangeBoxValues() {\n        return rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : rangeBoxValues = paste_utils_1.parsePasteRangeBoxValues(normalizeValue);\n      },\n\n      event\n    };\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\n  });\n\n  grid[_].focusControl.onInput(value => {\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, {\n      col,\n      row,\n      value\n    });\n  });\n\n  grid[_].focusControl.onDelete(event => {\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, {\n      col,\n      row,\n      event\n    });\n  });\n\n  grid[_].focusControl.onFocus(e => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\n    grid[_].focusedGrid = true;\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.invalidateCell(col, row);\n  });\n\n  grid[_].focusControl.onBlur(e => {\n    grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\n    grid[_].focusedGrid = false;\n    const {\n      col,\n      row\n    } = grid[_].selection.select;\n    grid.invalidateCell(col, row);\n  });\n}\n/** @private */\n\n\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n  if (grid[_].frozenRowCount <= 0) {\n    return -1;\n  }\n\n  const frozenRect = _getFrozenRowsRect(grid);\n\n  if (!frozenRect.inPoint(abstractX, abstractY)) {\n    return -1;\n  }\n\n  const cell = grid.getCellAt(abstractX, abstractY);\n  const cellRect = grid.getCellRect(cell.col, cell.row);\n\n  if (abstractX < cellRect.left + offset) {\n    return cell.col - 1;\n  }\n\n  if (cellRect.right - offset < abstractX) {\n    return cell.col;\n  }\n\n  return -1;\n}\n/** @private */\n\n\nfunction _getVisibleRect(grid) {\n  const {\n    scroll: {\n      left,\n      top\n    },\n    canvas: {\n      width,\n      height\n    }\n  } = grid[_];\n  return new Rect_1.Rect(left, top, width, height);\n}\n/** @private */\n\n\nfunction _getScrollableVisibleRect(grid) {\n  let frozenColsWidth = 0;\n\n  if (grid[_].frozenColCount > 0) {\n    //\n    const frozenRect = _getFrozenColsRect(grid);\n\n    frozenColsWidth = frozenRect.width;\n  }\n\n  let frozenRowsHeight = 0;\n\n  if (grid[_].frozenRowCount > 0) {\n    //\n    const frozenRect = _getFrozenRowsRect(grid);\n\n    frozenRowsHeight = frozenRect.height;\n  }\n\n  return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n}\n/** @private */\n\n\nfunction _toRelativeRect(grid, absoluteRect) {\n  const rect = absoluteRect.copy();\n\n  const visibleRect = _getVisibleRect(grid);\n\n  rect.offsetLeft(-visibleRect.left);\n  rect.offsetTop(-visibleRect.top);\n  return rect;\n} //end private methods\n//\n//\n//\n//\n\n/**\n * managing mouse down moving\n * @private\n */\n\n\nclass BaseMouseDownMover {\n  constructor(grid) {\n    this._grid = grid;\n    this._handler = new EventHandler_1.EventHandler();\n    this._events = {};\n    this._started = false;\n    this._moved = false;\n  }\n\n  moving(_e) {\n    return !!this._started;\n  }\n\n  lastMoving(e) {\n    // mouseupclick\n    if (this.moving(e)) {\n      return true;\n    }\n\n    const last = this._mouseEndPoint;\n\n    if (!last) {\n      return false;\n    }\n\n    const pt = _getMouseAbstractPoint(this._grid, e);\n\n    return pt != null && pt.x === last.x && pt.y === last.y;\n  }\n\n  _bindMoveAndUp(e) {\n    const events = this._events;\n    const handler = this._handler;\n\n    if (!isTouchEvent(e)) {\n      events.mousemove = handler.on(document.body, \"mousemove\", e => this._mouseMove(e));\n      events.mouseup = handler.on(document.body, \"mouseup\", e => this._mouseUp(e));\n    } else {\n      events.touchmove = handler.on(document.body, \"touchmove\", e => this._mouseMove(e), {\n        passive: false\n      });\n      events.touchend = handler.on(document.body, \"touchend\", e => this._mouseUp(e));\n      events.touchcancel = handler.on(document.body, \"touchcancel\", e => this._mouseUp(e));\n    }\n\n    this._started = true;\n    this._moved = false;\n  }\n\n  _mouseMove(e) {\n    if (!isTouchEvent(e)) {\n      if (getMouseButtons(e) !== 1) {\n        this._mouseUp(e);\n\n        return;\n      }\n    }\n\n    this._moved = this._moveInternal(e) || this._moved\n    /*calculation on after*/\n    ;\n    cancelEvent(e);\n  }\n\n  _moveInternal(_e) {\n    //protected\n    return false;\n  }\n\n  _mouseUp(e) {\n    const events = this._events;\n    const handler = this._handler;\n    handler.off(events.mousemove);\n    handler.off(events.touchmove);\n    handler.off(events.mouseup);\n    handler.off(events.touchend); // handler.off(this._events.mouseleave);\n\n    handler.off(events.touchcancel);\n    this._started = false;\n\n    this._upInternal(e); // mouseupclick\n\n\n    if (this._moved) {\n      //\n      this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n      setTimeout(() => {\n        this._mouseEndPoint = null;\n      }, 10);\n    }\n  }\n\n  _upInternal(_e) {//protected\n  }\n\n  dispose() {\n    this._handler.dispose();\n  }\n\n}\n/**\n * managing cell selection operation with mouse\n * @private\n */\n\n\nclass CellSelector extends BaseMouseDownMover {\n  start(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return;\n    }\n\n    _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n\n    this._bindMoveAndUp(e);\n\n    this._cell = cell;\n    cancelEvent(e);\n\n    _vibrate(e);\n  }\n\n  select(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return;\n    }\n\n    _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n\n    this._cell = cell;\n  }\n\n  _moveInternal(e) {\n    const cell = this._getTargetCell(e);\n\n    if (!cell) {\n      return false;\n    }\n\n    const {\n      col: oldCol,\n      row: oldRow\n    } = this._cell;\n    const {\n      col: newCol,\n      row: newRow\n    } = cell;\n\n    if (oldCol === newCol && oldRow === newRow) {\n      return false;\n    }\n\n    const grid = this._grid;\n\n    _moveFocusCell.call(grid, newCol, newRow, true); //make visible\n\n\n    const makeVisibleCol = (() => {\n      if (newCol < oldCol && 0 < newCol) {\n        // move left\n        return newCol - 1;\n      } else if (oldCol < newCol && newCol + 1 < grid.colCount) {\n        // move right\n        return newCol + 1;\n      }\n\n      return newCol;\n    })();\n\n    const makeVisibleRow = (() => {\n      if (newRow < oldRow && 0 < newRow) {\n        // move up\n        return newRow - 1;\n      } else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\n        // move down\n        return newRow + 1;\n      }\n\n      return newRow;\n    })();\n\n    if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\n      grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n    }\n\n    this._cell = cell;\n    return true;\n  }\n\n  _getTargetCell(e) {\n    const grid = this._grid;\n\n    const abstractPos = _getMouseAbstractPoint(grid, e);\n\n    if (!abstractPos) {\n      return null;\n    }\n\n    const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n\n    if (cell.col < 0 || cell.row < 0) {\n      return null;\n    }\n\n    return cell;\n  }\n\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\n\n\nclass ColumnResizer extends BaseMouseDownMover {\n  constructor(grid) {\n    super(grid);\n    this._x = -1;\n    this._preX = -1;\n    this._invalidateAbsoluteLeft = -1;\n    this._targetCol = -1;\n  }\n\n  start(col, e) {\n    let pageX;\n\n    if (!isTouchEvent(e)) {\n      ({\n        pageX\n      } = e);\n    } else {\n      ({\n        pageX\n      } = e.changedTouches[0]);\n    }\n\n    this._x = pageX;\n    this._preX = 0;\n\n    this._bindMoveAndUp(e);\n\n    this._targetCol = col;\n    this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n    cancelEvent(e);\n\n    _vibrate(e);\n  }\n\n  _moveInternal(e) {\n    const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n    const x = pageX - this._x;\n    const moveX = x - this._preX;\n    this._preX = x;\n\n    const pre = this._grid.getColWidth(this._targetCol);\n\n    let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n\n    if (afterSize < 10 && moveX < 0) {\n      afterSize = 10;\n    }\n\n    _storeAutoColWidthExprs(this._grid);\n\n    _setColWidth(this._grid, this._targetCol, afterSize);\n\n    const rect = _getVisibleRect(this._grid);\n\n    rect.left = this._invalidateAbsoluteLeft;\n\n    _invalidateRect(this._grid, rect);\n\n    this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\n      col: this._targetCol\n    });\n\n    return true;\n  }\n\n  _upInternal(_e) {\n    const grid = this._grid;\n\n    if (grid.updateScroll()) {\n      grid.invalidate();\n    }\n  }\n\n}\n/** @private */\n\n\nfunction setSafeInputValue(input, value) {\n  const {\n    type\n  } = input;\n  input.type = \"\";\n  input.value = value;\n\n  if (type) {\n    input.type = type;\n  }\n}\n/**\n * Manage focus\n * @private\n */\n\n\nclass FocusControl extends EventTarget_1.EventTarget {\n  constructor(grid, parentElement, scrollable) {\n    super();\n    this._grid = grid;\n    this._scrollable = scrollable;\n    const handler = this._handler = new EventHandler_1.EventHandler();\n    const input = this._input = document.createElement(\"input\");\n    input.classList.add(\"grid-focus-control\");\n    input.readOnly = true;\n    parentElement.appendChild(input);\n    handler.on(input, \"compositionstart\", _e => {\n      input.classList.add(\"composition\");\n      input.style.font = grid.font || \"16px sans-serif\";\n      this._isComposition = true;\n\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n\n      grid.focus();\n    });\n    let lastInputValue;\n\n    const inputClear = () => {\n      lastInputValue = input.value;\n\n      if (this._isComposition) {\n        return;\n      }\n\n      if (lastInputValue !== \"\") {\n        setSafeInputValue(input, \"\");\n      }\n    };\n\n    const handleCompositionEnd = () => {\n      this._isComposition = false;\n      input.classList.remove(\"composition\");\n      input.style.font = \"\";\n      const {\n        value\n      } = input;\n      inputClear();\n\n      if (!input.readOnly) {\n        this.fireListeners(\"input\", value);\n      }\n\n      if (this._compositionEnd) {\n        clearTimeout(this._compositionEnd);\n        delete this._compositionEnd;\n      }\n    };\n\n    handler.on(input, \"compositionend\", _e => {\n      this._compositionEnd = setTimeout(handleCompositionEnd, 1);\n    });\n    handler.on(input, \"keypress\", e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      if (!input.readOnly && e.key && e.key.length === 1) {\n        if (e.ctrlKey || e.metaKey) {\n          if (e.key === \"c\") {//copy! for Firefox & Safari\n          } else if (e.key === \"v\") {//paste! for Firefox & Safari\n          }\n        } else {\n          if (e.key === \" \") {\n            // Since the full-width space cannot be determined, it is processed by \"input\".\n            return;\n          }\n\n          this.fireListeners(\"input\", e.key);\n          cancelEvent(e);\n        }\n      }\n\n      inputClear();\n    });\n    handler.on(input, \"keydown\", e => {\n      var _a;\n\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n          cancelEvent(e);\n        }\n\n        return;\n      }\n\n      const keyCode = getKeyCode(e);\n      let stopCellMove = false;\n      const evt = {\n        keyCode,\n        event: e,\n\n        stopCellMoving() {\n          stopCellMove = true;\n        }\n\n      };\n      this.fireListeners(\"keydown\", evt);\n\n      if (!input.readOnly && lastInputValue) {\n        // for Safari\n        this.fireListeners(\"input\", lastInputValue);\n      }\n\n      if (!stopCellMove) this.fireKeyDownMove(keyCode, e);\n\n      if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) && (keyCode === KEY_DEL || keyCode === KEY_BS)) {\n        this.fireListeners(\"delete\", e);\n      }\n\n      inputClear();\n    });\n    handler.on(input, \"keyup\", _e => {\n      if (this._isComposition) {\n        if (this._compositionEnd) {\n          handleCompositionEnd();\n        }\n      }\n\n      inputClear();\n    });\n    handler.on(input, \"input\", e => {\n      if (e.data === \" \" || e.data === \"\") {\n        // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\n        this.fireListeners(\"input\", e.data);\n      }\n\n      inputClear();\n    });\n\n    if (utils_1.browser.IE) {\n      handler.on(document, \"keydown\", e => {\n        if (e.target !== input) {\n          return;\n        }\n\n        const keyCode = getKeyCode(e);\n\n        if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n          // When text is not selected copy-event is not emit, on IE.\n          setSafeInputValue(input, \"dummy\");\n          input.select();\n          setTimeout(() => {\n            setSafeInputValue(input, \"\");\n          }, 100);\n        } else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\n          // When input is read-only paste-event is not emit, on IE.\n          if (input.readOnly) {\n            input.readOnly = false;\n            setTimeout(() => {\n              input.readOnly = true;\n              setSafeInputValue(input, \"\");\n            }, 10);\n          }\n        }\n      });\n    }\n\n    if (utils_1.browser.Edge) {\n      handler.once(document, \"keydown\", e => {\n        var _a;\n\n        if (!utils_1.isDescendantElement(parentElement, e.target)) {\n          return;\n        } // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\n\n\n        const dummyInput = document.createElement(\"input\");\n        grid.getElement().appendChild(dummyInput);\n        dummyInput.focus();\n        input.focus();\n        (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\n      });\n    }\n\n    handler.on(document, \"paste\", e => {\n      if (!utils_1.isDescendantElement(parentElement, e.target)) {\n        return;\n      }\n\n      let pasteText = undefined;\n\n      if (utils_1.browser.IE) {\n        // IE\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        pasteText = window.clipboardData.getData(\"Text\");\n      } else {\n        const {\n          clipboardData\n        } = e;\n\n        if (clipboardData.items) {\n          // Chrome & Firefox & Edge\n          pasteText = clipboardData.getData(\"text/plain\");\n        } else {\n          // Safari\n          if (-1 !== Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\n            pasteText = clipboardData.getData(\"Text\");\n          }\n        }\n      }\n\n      if (pasteText != null && pasteText.length) {\n        this.fireListeners(\"paste\", {\n          value: pasteText,\n          event: e\n        });\n      }\n    });\n    handler.on(document, \"copy\", e => {\n      if (this._isComposition) {\n        return;\n      }\n\n      if (!utils_1.isDescendantElement(parentElement, e.target)) {\n        return;\n      }\n\n      setSafeInputValue(input, \"\");\n      const data = utils_1.array.find(this.fireListeners(\"copy\"), r => r != null);\n\n      if (data != null) {\n        cancelEvent(e);\n\n        if (utils_1.browser.IE) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          window.clipboardData.setData(\"Text\", data); // IE\n        } else {\n          e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\n        }\n      }\n    });\n    handler.on(input, \"focus\", e => {\n      this.fireListeners(\"focus\", e);\n    });\n    handler.on(input, \"blur\", e => {\n      this.fireListeners(\"blur\", e);\n    });\n  }\n\n  fireKeyDownMove(keyCode, e) {\n    var _a, _b, _c;\n\n    const fn = this._keyDownMoveCallback;\n\n    if (!fn) {\n      return;\n    }\n\n    if (this._isComposition) {\n      return;\n    }\n\n    if (keyCode === KEY_LEFT || keyCode === KEY_UP || keyCode === KEY_RIGHT || keyCode === KEY_DOWN || keyCode === KEY_HOME || keyCode === KEY_END) {\n      fn(e);\n    } else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\n      fn(e);\n    } else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\n      fn(e);\n    } else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) && keyCode === KEY_ALPHA_A && (e.ctrlKey || e.metaKey)) {\n      fn(e);\n    }\n  }\n\n  onKeyDownMove(fn) {\n    this._keyDownMoveCallback = fn;\n  }\n\n  onKeyDown(fn) {\n    return this.listen(\"keydown\", fn);\n  }\n\n  onInput(fn) {\n    return this.listen(\"input\", fn);\n  }\n\n  onDelete(fn) {\n    return this.listen(\"delete\", fn);\n  }\n\n  onCopy(fn) {\n    return this.listen(\"copy\", fn);\n  }\n\n  onPaste(fn) {\n    return this.listen(\"paste\", fn);\n  }\n\n  onFocus(fn) {\n    return this.listen(\"focus\", fn);\n  }\n\n  onBlur(fn) {\n    return this.listen(\"blur\", fn);\n  }\n\n  focus() {\n    // this._input.value = '';\n    this._input.focus();\n  }\n\n  setFocusRect(rect) {\n    const input = this._input;\n\n    const top = this._scrollable.calcTop(rect.top);\n\n    input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n\n    input.style.left = `${rect.left.toFixed()}px`;\n    input.style.width = `${rect.width.toFixed()}px`;\n    input.style.height = `${rect.height.toFixed()}px`;\n  }\n\n  get editMode() {\n    return !this._input.readOnly;\n  }\n\n  set editMode(editMode) {\n    this._input.readOnly = !editMode;\n  }\n\n  resetInputStatus() {\n    var _a;\n\n    const el = this._input;\n\n    if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\n      return;\n    }\n\n    const composition = el.classList.contains(\"composition\");\n    const atts = el.attributes;\n    const removeNames = [];\n\n    for (let i = 0, n = atts.length; i < n; i++) {\n      const att = atts[i];\n\n      if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(att.nodeName))) {\n        removeNames.push(att.name);\n      }\n    }\n\n    removeNames.forEach(removeName => {\n      el.removeAttribute(removeName);\n    });\n\n    for (const name in this._inputStatus) {\n      el.setAttribute(name, this._inputStatus[name]);\n    }\n\n    if (composition) {\n      el.classList.add(\"composition\");\n      el.style.font = this._grid.font || \"16px sans-serif\";\n    } else {\n      el.classList.remove(\"composition\");\n    }\n\n    el.classList.remove(\"grid-focus-control--stored-status\");\n  }\n\n  storeInputStatus() {\n    const el = this._input;\n\n    if (el.classList.contains(\"grid-focus-control--stored-status\")) {\n      return;\n    }\n\n    const inputStatus = this._inputStatus = {};\n    const atts = el.attributes;\n\n    for (let i = 0, n = atts.length; i < n; i++) {\n      const att = atts[i];\n      inputStatus[att.name] = att.value;\n    }\n\n    el.classList.add(\"grid-focus-control--stored-status\");\n  }\n\n  setDefaultInputStatus() {// \n    // this._input.style.font = this._grid.font || '16px sans-serif';\n  }\n\n  get input() {\n    return this._input;\n  }\n\n  dispose() {\n    super.dispose();\n\n    this._handler.dispose();\n  }\n\n}\n/**\n * Selected area management\n */\n\n\nclass Selection extends EventTarget_1.EventTarget {\n  constructor(grid) {\n    super();\n    this._grid = grid;\n    this._sel = {\n      col: 0,\n      row: 0\n    };\n    this._focus = {\n      col: 0,\n      row: 0\n    };\n    this._start = {\n      col: 0,\n      row: 0\n    };\n    this._end = {\n      col: 0,\n      row: 0\n    };\n  }\n\n  get range() {\n    const start = this._start;\n    const end = this._end;\n    const startCol = Math.min(start.col, end.col);\n    const startRow = Math.min(start.row, end.row);\n    const endCol = Math.max(start.col, end.col);\n    const endRow = Math.max(start.row, end.row);\n    return {\n      start: {\n        col: startCol,\n        row: startRow\n      },\n      end: {\n        col: endCol,\n        row: endRow\n      }\n    };\n  }\n\n  set range(range) {\n    const startCol = Math.min(range.start.col, range.end.col);\n    const startRow = Math.min(range.start.row, range.end.row);\n    const endCol = Math.max(range.start.col, range.end.col);\n    const endRow = Math.max(range.start.row, range.end.row);\n\n    this._wrapFireSelectedEvent(() => {\n      this._sel = {\n        col: startCol,\n        row: startRow\n      };\n      this._focus = {\n        col: startCol,\n        row: startRow\n      };\n      this._start = {\n        col: startCol,\n        row: startRow\n      };\n      this._end = {\n        col: endCol,\n        row: endRow\n      };\n\n      _updatedSelection.call(this._grid);\n    });\n  }\n\n  get focus() {\n    const {\n      col,\n      row\n    } = this._focus;\n    return {\n      col,\n      row\n    };\n  }\n\n  get select() {\n    const {\n      col,\n      row\n    } = this._sel;\n    return {\n      col,\n      row\n    };\n  }\n\n  set select(cell) {\n    this._wrapFireSelectedEvent(() => {\n      const {\n        col = 0,\n        row = 0\n      } = cell;\n\n      this._setSelectCell(col, row);\n\n      this._setFocusCell(col, row, true);\n\n      _updatedSelection.call(this._grid);\n    });\n  }\n\n  _setSelectCell(col, row) {\n    this._wrapFireSelectedEvent(() => {\n      this._sel = {\n        col,\n        row\n      };\n      this._start = {\n        col,\n        row\n      };\n    });\n  }\n\n  _setFocusCell(col, row, keepSelect) {\n    this._wrapFireSelectedEvent(() => {\n      if (!keepSelect) {\n        this._setSelectCell(col, row);\n      }\n\n      this._focus = {\n        col,\n        row\n      };\n      this._end = {\n        col,\n        row\n      };\n    });\n  }\n\n  _wrapFireSelectedEvent(callback) {\n    if (this._isWraped) {\n      callback();\n    } else {\n      this._isWraped = true;\n\n      try {\n        const before = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: false,\n          after: null\n        };\n        callback();\n        const after = {\n          col: this._sel.col,\n          row: this._sel.row,\n          selected: true,\n          before: {\n            col: before.col,\n            row: before.row\n          }\n        };\n        before.after = {\n          col: after.col,\n          row: after.row\n        };\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\n      } finally {\n        this._isWraped = false;\n      }\n    }\n  }\n\n  _updateGridRange() {\n    const {\n      rowCount,\n      colCount\n    } = this._grid;\n    const points = [this._sel, this._focus, this._start, this._end];\n    let needChange = false;\n\n    for (let i = 0; i < points.length; i++) {\n      if (colCount <= points[i].col || rowCount <= points[i].row) {\n        needChange = true;\n        break;\n      }\n    }\n\n    if (!needChange) {\n      return false;\n    }\n\n    this._wrapFireSelectedEvent(() => {\n      points.forEach(p => {\n        p.col = Math.min(colCount - 1, p.col);\n        p.row = Math.min(rowCount - 1, p.row);\n      });\n    });\n\n    return true;\n  }\n\n}\n/**\n * This class manages the drawing process for each layer\n */\n\n/** @private */\n\n\nclass DrawLayers {\n  constructor() {\n    this._layers = {};\n  }\n\n  addDraw(level, fn) {\n    const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n    l.addDraw(fn);\n  }\n\n  draw(ctx) {\n    const list = [];\n\n    for (const k in this._layers) {\n      list.push(this._layers[k]);\n    }\n\n    list.sort((a, b) => a.level - b.level);\n    list.forEach(l => l.draw(ctx));\n  }\n\n}\n/** @private */\n\n\nclass DrawLayer {\n  constructor(level) {\n    this._level = level;\n    this._list = [];\n  }\n\n  get level() {\n    return this._level;\n  }\n\n  addDraw(fn) {\n    this._list.push(fn);\n  }\n\n  draw(ctx) {\n    this._list.forEach(fn => {\n      ctx.save();\n\n      try {\n        fn(ctx);\n      } finally {\n        ctx.restore();\n      }\n    });\n  }\n\n}\n/**\n * Context of cell drawing\n * @private\n */\n\n\nclass DrawCellContext {\n  //  private _grid: any;\n  //  private _onTerminate: any;\n\n  /**\n   * constructor\n   * @param {number} col index of column\n   * @param {number} row index of row\n   * @param {CanvasRenderingContext2D} ctx context\n   * @param {Rect} rect rect of cell area\n   * @param {Rect} drawRect rect of drawing area\n   * @param {boolean} drawing `true` if drawing is in progress\n   * @param {object} selection the selection\n   * @param {Array} drawLayers array of draw layers\n   * @private\n   */\n  constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n    this._rectFilter = null;\n    this._col = col;\n    this._row = row;\n    this._mode = 0;\n    this._ctx = ctx;\n    this._rect = rect;\n    this._drawRect = drawRect;\n    this._drawing = drawing;\n    this._selection = selection;\n    this._drawLayers = drawLayers;\n    this._childContexts = [];\n  }\n\n  get drawing() {\n    if (this._mode === 0) {\n      return this._drawing;\n    } else {\n      return true;\n    }\n  }\n\n  get row() {\n    return this._row;\n  }\n\n  get col() {\n    return this._col;\n  }\n\n  cancel() {\n    this._cancel = true;\n\n    this._childContexts.forEach(ctx => {\n      ctx.cancel();\n    });\n  }\n  /**\n   * select status.\n   * @return {object} select status\n   */\n\n\n  getSelection() {\n    return {\n      select: this._selection.select,\n      range: this._selection.range\n    };\n  }\n  /**\n   * Canvas context.\n   * @return {CanvasRenderingContext2D} Canvas context.\n   */\n\n\n  getContext() {\n    if (this._mode === 0) {\n      return this._ctx;\n    } else {\n      return _getInitContext.call(this._grid);\n    }\n  }\n  /**\n   * Rectangle of cell.\n   * @return {Rect} rect Rectangle of cell.\n   */\n\n\n  getRect() {\n    const rectFilter = this._rectFilter;\n    return rectFilter ? rectFilter(this._getRectInternal()) : this._getRectInternal();\n  }\n\n  setRectFilter(rectFilter) {\n    this._rectFilter = rectFilter;\n  }\n  /**\n   * Rectangle of Drawing range.\n   * @return {Rect} Rectangle of Drawing range.\n   */\n\n\n  getDrawRect() {\n    if (this._cancel) {\n      return null;\n    }\n\n    if (this._mode === 0) {\n      return this._drawRect;\n    } else {\n      if (this._isOutOfRange()) {\n        return null;\n      }\n\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n\n      return this._toRelativeDrawRect(absoluteRect);\n    }\n  }\n\n  _isOutOfRange() {\n    const {\n      colCount,\n      rowCount\n    } = this._grid;\n    return colCount <= this._col || rowCount <= this._row;\n  }\n  /**\n   * get Context of current state\n   * @return {DrawCellContext} current DrawCellContext.\n   */\n\n\n  toCurrentContext() {\n    if (this._mode === 0) {\n      return this;\n    } else {\n      const absoluteRect = this._grid.getCellRect(this._col, this._row);\n\n      const rect = _toRelativeRect(this._grid, absoluteRect);\n\n      const drawRect = this._isOutOfRange() ? null : this._toRelativeDrawRect(absoluteRect);\n      const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers); // toCurrentContext  toCurrentContext\n\n      context.toCurrentContext = this.toCurrentContext.bind(this);\n\n      this._childContexts.push(context);\n\n      if (this._cancel) {\n        context.cancel();\n      }\n\n      context._rectFilter = this._rectFilter;\n      return context;\n    }\n  }\n\n  addLayerDraw(level, fn) {\n    this._drawLayers.addDraw(level, fn);\n  }\n\n  _toRelativeDrawRect(absoluteRect) {\n    const visibleRect = _getVisibleRect(this._grid);\n\n    let rect = absoluteRect.copy();\n\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n\n    const grid = this._grid;\n    const isFrozenCell = grid.isFrozenCell(this._col, this._row);\n\n    if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n      const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\n      rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n    }\n\n    if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n      const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\n      rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n    }\n\n    if (!rect.intersection(visibleRect)) {\n      return null;\n    }\n\n    rect.offsetLeft(-visibleRect.left);\n    rect.offsetTop(-visibleRect.top);\n    return rect;\n  }\n\n  _delayMode(grid, onTerminate) {\n    this._mode = 1;\n    this._ctx = null;\n    this._rect = null;\n    this._drawRect = null;\n    this._grid = grid;\n    this._onTerminate = onTerminate;\n  }\n  /**\n   * terminate\n   * @return {void}\n   */\n\n\n  terminate() {\n    var _a;\n\n    if (this._mode !== 0) {\n      (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\n    }\n  }\n\n  _getRectInternal() {\n    if (this._mode === 0) {\n      return this._rect;\n    } else {\n      if (this._rect) {\n        return this._rect;\n      }\n\n      return this._grid.getCellRelativeRect(this._col, this._row);\n    }\n  }\n\n}\n/** @private */\n\n\nconst protectedKey = _;\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid.core\n */\n\nclass DrawGrid extends EventTarget_1.EventTarget {\n  constructor(options = {}) {\n    super();\n    const {\n      rowCount = 10,\n      colCount = 10,\n      frozenColCount = 0,\n      frozenRowCount = 0,\n      defaultRowHeight = 40,\n      defaultColWidth = 80,\n      font,\n      underlayBackgroundColor,\n      keyboardOptions,\n      parentElement,\n      disableColumnResize\n    } = options;\n    const protectedSpace = this[_] = {};\n    style.initDocument();\n    protectedSpace.element = createRootElement();\n    protectedSpace.scrollable = new Scrollable_1.Scrollable();\n    protectedSpace.handler = new EventHandler_1.EventHandler();\n    protectedSpace.selection = new Selection(this);\n    protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable);\n    protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\n    protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\n      alpha: false\n    });\n    protectedSpace.rowCount = rowCount;\n    protectedSpace.colCount = colCount;\n    protectedSpace.frozenColCount = frozenColCount;\n    protectedSpace.frozenRowCount = frozenRowCount;\n    protectedSpace.defaultRowHeight = defaultRowHeight;\n    protectedSpace.defaultColWidth = defaultColWidth;\n    protectedSpace.font = font;\n    protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\n    protectedSpace.keyboardOptions = keyboardOptions;\n    protectedSpace.disableColumnResize = disableColumnResize; /////\n\n    protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\n    protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\n    protectedSpace.colWidthsLimit = {};\n    protectedSpace.calcWidthContext = {\n      _: protectedSpace,\n\n      get full() {\n        return this._.canvas.width;\n      },\n\n      get em() {\n        return canvases_1.getFontSize(this._.context, this._.font).width;\n      }\n\n    };\n    protectedSpace.columnResizer = new ColumnResizer(this);\n    protectedSpace.cellSelector = new CellSelector(this);\n    protectedSpace.drawCells = {};\n    protectedSpace.cellTextOverflows = {};\n    protectedSpace.focusedGrid = false;\n    protectedSpace.element.appendChild(protectedSpace.canvas);\n    protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\n    protectedSpace.scroll = {\n      left: 0,\n      top: 0\n    };\n    this.updateScroll();\n\n    if (parentElement) {\n      parentElement.appendChild(protectedSpace.element);\n      this.updateSize();\n    } else {\n      this.updateSize();\n    }\n\n    _bindEvents.call(this);\n\n    this.bindEventsInternal();\n  }\n\n  static get EVENT_TYPE() {\n    return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\n  }\n  /**\n   * Get root element.\n   * @returns {HTMLElement} root element\n   */\n\n\n  getElement() {\n    return this[_].element;\n  }\n  /**\n   * Get canvas element.\n   */\n\n\n  get canvas() {\n    return this[_].canvas;\n  }\n  /**\n   * Focus the grid.\n   * @return {void}\n   */\n\n\n  focus() {\n    const {\n      col,\n      row\n    } = this[_].selection.select;\n    this.focusCell(col, row);\n  }\n\n  hasFocusGrid() {\n    return this[_].focusedGrid;\n  }\n  /**\n   * Get the selection instance.\n   */\n\n\n  get selection() {\n    return this[_].selection;\n  }\n  /**\n   * Get the number of rows.\n   */\n\n\n  get rowCount() {\n    return this[_].rowCount;\n  }\n  /**\n   * Set the number of rows.\n   */\n\n\n  set rowCount(rowCount) {\n    this[_].rowCount = rowCount;\n    this.updateScroll();\n\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.setFocusCursor(col, row);\n    }\n  }\n  /**\n   * Get the number of columns.\n   */\n\n\n  get colCount() {\n    return this[_].colCount;\n  }\n  /**\n   * Set the number of columns.\n   */\n\n\n  set colCount(colCount) {\n    this[_].colCount = colCount;\n    this.updateScroll();\n\n    if (this[_].selection._updateGridRange()) {\n      const {\n        col,\n        row\n      } = this[_].selection.focus;\n      this.makeVisibleCell(col, row);\n      this.setFocusCursor(col, row);\n    }\n  }\n  /**\n   * Get the number of frozen columns.\n   */\n\n\n  get frozenColCount() {\n    return this[_].frozenColCount;\n  }\n  /**\n   * Set the number of frozen columns.\n   */\n\n\n  set frozenColCount(frozenColCount) {\n    this[_].frozenColCount = frozenColCount;\n  }\n  /**\n   * Get the number of frozen rows.\n   */\n\n\n  get frozenRowCount() {\n    return this[_].frozenRowCount;\n  }\n  /**\n   * Set the number of frozen rows.\n   */\n\n\n  set frozenRowCount(frozenRowCount) {\n    this[_].frozenRowCount = frozenRowCount;\n  }\n  /**\n   * Get the default row height.\n   *\n   */\n\n\n  get defaultRowHeight() {\n    return this[_].defaultRowHeight;\n  }\n  /**\n   * Set the default row height.\n   */\n\n\n  set defaultRowHeight(defaultRowHeight) {\n    this[_].defaultRowHeight = defaultRowHeight;\n  }\n  /**\n   * Get the default column width.\n   */\n\n\n  get defaultColWidth() {\n    return this[_].defaultColWidth;\n  }\n  /**\n   * Set the default column width.\n   */\n\n\n  set defaultColWidth(defaultColWidth) {\n    this[_].defaultColWidth = defaultColWidth;\n  }\n  /**\n   * Get the font definition as a string.\n   */\n\n\n  get font() {\n    return this[_].font;\n  }\n  /**\n   * Set the font definition with the given string.\n   */\n\n\n  set font(font) {\n    this[_].font = font;\n  }\n  /**\n   * Get the background color of the underlay.\n   */\n\n\n  get underlayBackgroundColor() {\n    return this[_].underlayBackgroundColor;\n  }\n  /**\n   * Set the background color of the underlay.\n   */\n\n\n  set underlayBackgroundColor(underlayBackgroundColor) {\n    this[_].underlayBackgroundColor = underlayBackgroundColor;\n  }\n\n  get keyboardOptions() {\n    var _a;\n\n    return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\n  }\n\n  set keyboardOptions(keyboardOptions) {\n    this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  configure(name, value) {\n    const cfg = this[_].config || (this[_].config = {});\n\n    if (value != null) {\n      cfg[name] = value;\n    }\n\n    return cfg[name];\n  }\n  /**\n   * Apply the changed size.\n   * @return {void}\n   */\n\n\n  updateSize() {\n    //\n    const {\n      canvas\n    } = this[_];\n    canvas.style.width = \"\";\n    canvas.style.height = \"\";\n    const width = Math.floor(canvas.offsetWidth || canvas.parentElement.offsetWidth - style.getScrollBarSize()\n    /*for legacy*/\n    );\n    const height = Math.floor(canvas.offsetHeight || canvas.parentElement.offsetHeight - style.getScrollBarSize()\n    /*for legacy*/\n    );\n    canvas.width = width;\n    canvas.height = height; //style\n\n    canvas.style.width = `${width}px`;\n    canvas.style.height = `${height}px`;\n    const sel = this[_].selection.select;\n\n    this[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n  }\n  /**\n   * Apply the changed scroll size.\n   * @return {boolean} `true` if there was a change in the scroll size\n   */\n\n\n  updateScroll() {\n    const {\n      scrollable\n    } = this[_];\n\n    const newHeight = _getScrollHeight.call(this);\n\n    const newWidth = _getScrollWidth(this);\n\n    if (newHeight === scrollable.scrollHeight && newWidth === scrollable.scrollWidth) {\n      return false;\n    }\n\n    scrollable.setScrollSize(newWidth, newHeight);\n    this[_].scroll = {\n      left: scrollable.scrollLeft,\n      top: scrollable.scrollTop\n    };\n    return true;\n  }\n  /**\n   * Get the row height of the given the row index.\n   * @param  {number} row The row index\n   * @return {number} The row height\n   */\n\n\n  getRowHeight(row) {\n    return _getRowHeight.call(this, row);\n  }\n  /**\n   * Set the row height of the given the row index.\n   * @param  {number} row The row index\n   * @param  {number} height The row height\n   * @return {void}\n   */\n\n\n  setRowHeight(row, height) {\n    _setRowHeight(this, row, height);\n  }\n  /**\n   * Get the column width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column width\n   */\n\n\n  getColWidth(col) {\n    return _getColWidth(this, col);\n  }\n  /**\n   * Set the column widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} width The column width\n   * @return {void}\n   */\n\n\n  setColWidth(col, width) {\n    _setColWidth(this, col, width);\n  }\n  /**\n   * Get the column max width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column max width\n   */\n\n\n  getMaxColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.max || undefined;\n  }\n  /**\n   * Set the column max widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} maxwidth The column max width\n   * @return {void}\n   */\n\n\n  setMaxColWidth(col, maxwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    obj.max = maxwidth;\n  }\n  /**\n   * Get the column min width of the given the column index.\n   * @param  {number} col The column index\n   * @return {number} The column min width\n   */\n\n\n  getMinColWidth(col) {\n    const obj = this[_].colWidthsLimit[col];\n    return obj && obj.min || undefined;\n  }\n  /**\n   * Set the column min widtht of the given the column index.\n   * @param  {number} col The column index\n   * @param  {number} minwidth The column min width\n   * @return {void}\n   */\n\n\n  setMinColWidth(col, minwidth) {\n    const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n    obj.min = minwidth;\n  }\n  /**\n   * Get the rect of the cell.\n   * @param {number} col index of column, of the cell\n   * @param {number} row index of row, of the cell\n   * @returns {Rect} the rect of the cell.\n   */\n\n\n  getCellRect(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n\n    let absoluteLeft = _getColsWidth(this, 0, col - 1);\n\n    const width = _getColWidth(this, col);\n\n    if (isFrozenCell && isFrozenCell.col) {\n      absoluteLeft += this[_].scroll.left;\n    }\n\n    let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\n\n    const height = _getRowHeight.call(this, row);\n\n    if (isFrozenCell && isFrozenCell.row) {\n      absoluteTop += this[_].scroll.top;\n    }\n\n    return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n  }\n  /**\n   * Get the relative rectangle of the cell.\n   * @param {number} col index of column, of the cell\n   * @param {number} row index of row, of the cell\n   * @returns {Rect} the rect of the cell.\n   */\n\n\n  getCellRelativeRect(col, row) {\n    return _toRelativeRect(this, this.getCellRect(col, row));\n  }\n  /**\n   * Get the rectangle of the cells area.\n   * @param {number} startCol index of the starting column, of the cell\n   * @param {number} startRow index of the starting row, of the cell\n   * @param {number} endCol index of the ending column, of the cell\n   * @param {number} endRow index of the ending row, of the cell\n   * @returns {Rect} the rect of the cells.\n   */\n\n\n  getCellsRect(startCol, startRow, endCol, endRow) {\n    const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n    const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n\n    let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\n    let width = _getColsWidth(this, startCol, endCol);\n\n    if (isFrozenStartCell && isFrozenStartCell.col) {\n      const scrollLeft = this[_].scroll.left;\n      absoluteLeft += scrollLeft;\n\n      if (!isFrozenEndCell || !isFrozenEndCell.col) {\n        width -= scrollLeft;\n        width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n      }\n    }\n\n    let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n\n    let height = _getRowsHeight.call(this, startRow, endRow);\n\n    if (isFrozenStartCell && isFrozenStartCell.row) {\n      const scrollTop = this[_].scroll.top;\n      absoluteTop += scrollTop;\n\n      if (!isFrozenEndCell || !isFrozenEndCell.row) {\n        height -= scrollTop;\n        height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n      }\n    }\n\n    return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n  }\n\n  getCellRangeRect(range) {\n    return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\n  }\n\n  isFrozenCell(col, row) {\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = this[_];\n    const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\n    const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\n\n    if (isFrozenRow || isFrozenCol) {\n      return {\n        row: isFrozenRow,\n        col: isFrozenCol\n      };\n    } else {\n      return null;\n    }\n  }\n\n  getRowAt(absoluteY) {\n    const frozen = _getTargetFrozenRowAt(this, absoluteY);\n\n    if (frozen) {\n      return frozen.row;\n    }\n\n    const row = _getTargetRowAt.call(this, absoluteY);\n\n    return row ? row.row : -1;\n  }\n\n  getColAt(absoluteX) {\n    const frozen = _getTargetFrozenColAt(this, absoluteX);\n\n    if (frozen) {\n      return frozen.col;\n    }\n\n    const col = _getTargetColAt(this, absoluteX);\n\n    return col ? col.col : -1;\n  }\n\n  getCellAt(absoluteX, absoluteY) {\n    return {\n      row: this.getRowAt(absoluteY),\n      col: this.getColAt(absoluteX)\n    };\n  }\n  /**\n   * Scroll to where cell is visible.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {void}\n   */\n\n\n  makeVisibleCell(col, row) {\n    const isFrozenCell = this.isFrozenCell(col, row);\n\n    if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n      return;\n    }\n\n    const rect = this.getCellRect(col, row);\n\n    const visibleRect = _getScrollableVisibleRect(this);\n\n    if (visibleRect.contains(rect)) {\n      return;\n    }\n\n    const {\n      scrollable\n    } = this[_];\n\n    if (!isFrozenCell || !isFrozenCell.col) {\n      if (rect.left < visibleRect.left) {\n        scrollable.scrollLeft -= visibleRect.left - rect.left;\n      } else if (visibleRect.right < rect.right) {\n        scrollable.scrollLeft -= visibleRect.right - rect.right;\n      }\n    }\n\n    if (!isFrozenCell || !isFrozenCell.row) {\n      if (rect.top < visibleRect.top) {\n        scrollable.scrollTop -= visibleRect.top - rect.top;\n      } else if (visibleRect.bottom < rect.bottom) {\n        scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n      }\n    }\n  }\n  /**\n   * Moves the focus cursor to the given cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {void}\n   */\n\n\n  setFocusCursor(col, row) {\n    const {\n      focusControl\n    } = this[_];\n    const oldEditMode = focusControl.editMode;\n    focusControl.setFocusRect(this.getCellRect(col, row));\n\n    _updatedSelection.call(this);\n\n    if (oldEditMode && !focusControl.editMode) {\n      focusControl.resetInputStatus();\n    }\n  }\n  /**\n   * Focus the cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {void}\n   */\n\n\n  focusCell(col, row) {\n    this.setFocusCursor(col, row); // Failure occurs in IE if focus is not last\n\n    this[_].focusControl.focus();\n  }\n  /**\n   * Redraws the range of the given cell.\n   * @param  {number} col The column index of cell.\n   * @param  {number} row The row index of cell.\n   * @return {void}\n   */\n\n\n  invalidateCell(col, row) {\n    this.invalidateGridRect(col, row);\n  }\n  /**\n   * Redraws the range of the given cells.\n   * @param {number} startCol index of the starting column, of the cell\n   * @param {number} startRow index of the starting row, of the cell\n   * @param {number} endCol index of the ending column, of the cell\n   * @param {number} endRow index of the ending row, of the cell\n   * @return {void}\n   */\n\n\n  invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n    const offset = this.getOffsetInvalidateCells();\n\n    if (offset > 0) {\n      startCol -= offset;\n      startRow -= offset;\n      endCol += offset;\n      endRow += offset;\n    }\n\n    const visibleRect = _getVisibleRect(this);\n\n    const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n    const invalidateTarget = visibleRect.intersection(cellsRect);\n\n    if (invalidateTarget) {\n      const {\n        frozenColCount,\n        frozenRowCount\n      } = this[_];\n\n      if (frozenColCount > 0 && endCol >= frozenColCount) {\n        const frozenRect = _getFrozenColsRect(this);\n\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\n        }\n      }\n\n      if (frozenRowCount > 0 && endRow >= frozenRowCount) {\n        const frozenRect = _getFrozenRowsRect(this);\n\n        if (frozenRect.intersection(invalidateTarget)) {\n          invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n        }\n      }\n\n      _invalidateRect(this, invalidateTarget);\n    }\n  }\n\n  invalidateCellRange(range) {\n    this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\n  }\n  /**\n   * Redraws the whole grid.\n   * @return {void}\n   */\n\n\n  invalidate() {\n    const visibleRect = _getVisibleRect(this);\n\n    _invalidateRect(this, visibleRect);\n  }\n  /**\n   * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\n   * @returns {number}\n   */\n\n\n  get visibleRowCount() {\n    const {\n      frozenRowCount\n    } = this;\n\n    const visibleRect = _getVisibleRect(this);\n\n    const visibleTop = frozenRowCount > 0 ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1) : visibleRect.top;\n\n    const initRow = _getTargetRowAt.call(this, visibleTop);\n\n    if (!initRow) {\n      return 0;\n    }\n\n    const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n\n    let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n\n    let count = 0;\n    const {\n      rowCount\n    } = this;\n\n    for (let row = startRow; row < rowCount; row++) {\n      const height = _getRowHeight.call(this, row);\n\n      const bottom = absoluteTop + height;\n\n      if (visibleRect.bottom < bottom) {\n        break;\n      }\n\n      count++;\n      absoluteTop = bottom;\n    }\n\n    return count;\n  }\n  /**\n   * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\n   * @returns {number}\n   */\n\n\n  get visibleColCount() {\n    const {\n      frozenColCount\n    } = this;\n\n    const visibleRect = _getVisibleRect(this);\n\n    const visibleLeft = frozenColCount > 0 ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1) : visibleRect.left;\n\n    const initCol = _getTargetColAt(this, visibleLeft);\n\n    if (!initCol) {\n      return 0;\n    }\n\n    const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n\n    let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n\n    let count = 0;\n    const {\n      colCount\n    } = this;\n\n    for (let col = startCol; col < colCount; col++) {\n      const width = _getColWidth(this, col);\n\n      const right = absoluteLeft + width;\n\n      if (visibleRect.right < right) {\n        break;\n      }\n\n      count++;\n      absoluteLeft = right;\n    }\n\n    return count;\n  }\n  /**\n   * Get the index of the first row in the scrollable region that is visible.\n   * @returns {number}\n   */\n\n\n  get topRow() {\n    const {\n      frozenRowCount\n    } = this;\n\n    const visibleRect = _getVisibleRect(this);\n\n    const visibleTop = frozenRowCount > 0 ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1) : visibleRect.top;\n\n    const initRow = _getTargetRowAt.call(this, visibleTop);\n\n    if (!initRow) {\n      return 0;\n    }\n\n    return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n  }\n  /**\n   * Get the index of the first column in the scrollable region that is visible.\n   * @returns {number}\n   */\n\n\n  get leftCol() {\n    const {\n      frozenColCount\n    } = this;\n\n    const visibleRect = _getVisibleRect(this);\n\n    const visibleLeft = frozenColCount > 0 ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1) : visibleRect.left;\n\n    const initCol = _getTargetColAt(this, visibleLeft);\n\n    if (!initCol) {\n      return 0;\n    }\n\n    return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n  }\n  /**\n   * gets or sets the number of pixels that an element's content is scrolled vertically\n   */\n\n\n  get scrollTop() {\n    return this[_].scrollable.scrollTop;\n  }\n\n  set scrollTop(scrollTop) {\n    this[_].scrollable.scrollTop = scrollTop;\n  }\n  /**\n   * gets or sets the number of pixels that an element's content is scrolled from its left edge\n   */\n\n\n  get scrollLeft() {\n    return this[_].scrollable.scrollLeft;\n  }\n\n  set scrollLeft(scrollLeft) {\n    this[_].scrollable.scrollLeft = scrollLeft;\n  }\n  /**\n   * Get the value of cell with the copy action.\n   * <p>\n   * Please implement\n   * </p>\n   *\n   * @protected\n   * @param col Column index of cell.\n   * @param row Row index of cell.\n   * @param range Copy range.\n   * @return {string} the value of cell\n   */\n\n\n  getCopyCellValue(_col, _row, _range) {//Please implement get cell value!!\n  }\n  /**\n   * Get the overflowed text in the cell rectangle, from the given cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @return {string | null} The text overflowing the cell rect.\n   */\n\n\n  getCellOverflowText(col, row) {\n    const key = `${col}:${row}`;\n    return this[_].cellTextOverflows[key] || null;\n  }\n  /**\n   * Set the overflowed text in the cell rectangle, to the given cell.\n   * @param  {number} col The column index.\n   * @param  {number} row The row index\n   * @param  {string} overflowText The overflowed text in the cell rectangle.\n   * @return {void}\n   */\n\n\n  setCellOverflowText(col, row, overflowText) {\n    const key = `${col}:${row}`;\n\n    if (overflowText) {\n      this[_].cellTextOverflows[key] = typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\n    } else {\n      delete this[_].cellTextOverflows[key];\n    }\n  }\n\n  addDisposable(disposable) {\n    if (!disposable || !disposable.dispose || typeof disposable.dispose !== \"function\") {\n      throw new Error(\"not disposable!\");\n    }\n\n    const disposables = this[_].disposables = this[_].disposables || [];\n    disposables.push(disposable);\n  }\n  /**\n   * Dispose the grid instance.\n   * @returns {void}\n   */\n\n\n  dispose() {\n    super.dispose();\n    const protectedSpace = this[_];\n    protectedSpace.handler.dispose();\n    protectedSpace.scrollable.dispose();\n    protectedSpace.focusControl.dispose();\n    protectedSpace.columnResizer.dispose();\n    protectedSpace.cellSelector.dispose();\n\n    if (protectedSpace.disposables) {\n      protectedSpace.disposables.forEach(disposable => disposable.dispose());\n      protectedSpace.disposables = null;\n    }\n\n    const {\n      parentElement\n    } = protectedSpace.element;\n\n    if (parentElement) {\n      parentElement.removeChild(protectedSpace.element);\n    }\n  }\n\n  getAttachCellsArea(range) {\n    return {\n      element: this.getElement(),\n      rect: _toRelativeRect(this, this.getCellRangeRect(range))\n    };\n  }\n\n  onKeyDownMove(evt) {\n    _onKeyDownMove.call(this, evt);\n  }\n\n  bindEventsInternal() {//nop\n  }\n\n  getTargetRowAtInternal(_absoluteY) {// \n  }\n\n  getRowsHeightInternal(_startRow, _endRow) {// \n  }\n\n  getRowHeightInternal(_row) {// \n  }\n\n  getScrollHeightInternal(_row) {// \n  }\n\n  getMoveLeftColByKeyDownInternal({\n    col\n  }) {\n    return col - 1;\n  }\n\n  getMoveRightColByKeyDownInternal({\n    col\n  }) {\n    return col + 1;\n  }\n\n  getMoveUpRowByKeyDownInternal({\n    row\n  }) {\n    return row - 1;\n  }\n\n  getMoveDownRowByKeyDownInternal({\n    row\n  }) {\n    return row + 1;\n  }\n\n  getOffsetInvalidateCells() {\n    return 0;\n  }\n\n  getCopyRangeInternal(range) {\n    return range;\n  }\n\n  _getInitContext() {\n    const ctx = this[_].context; //\n\n    ctx.fillStyle = \"white\";\n    ctx.strokeStyle = \"black\";\n    ctx.textAlign = \"left\";\n    ctx.textBaseline = \"top\";\n    ctx.lineWidth = 1;\n    ctx.font = this.font || \"16px sans-serif\";\n    return ctx;\n  }\n\n  fireListeners(type, ...event) {\n    return super.fireListeners(type, ...event);\n  }\n\n}\n\nexports.DrawGrid = DrawGrid;\n\n/***/ }),\n\n/***/ \"./core/EventTarget.js\":\n/*!*****************************!*\\\n  !*** ./core/EventTarget.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _a;\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventTarget = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../internal/symbolManager */ \"./internal/symbolManager.js\"); //private symbol\n\n/** @private */\n\n\nconst _ = symbolManager_1.get();\n/** @private */\n\n\nlet nextId = 1;\n/**\n * event target.\n */\n\nclass EventTarget {\n  constructor() {\n    this[_a] = {\n      listeners: {},\n      listenerData: {}\n    };\n  }\n  /**\n   * Adds an event listener.\n   * @param  {string} type The event type id.\n   * @param  {function} listener Callback method.\n   * @return {number} unique id for the listener.\n   */\n\n\n  listen(type, listener) {\n    const list = this[_].listeners[type] || (this[_].listeners[type] = []);\n    list.push(listener);\n    const id = nextId++;\n    this[_].listenerData[id] = {\n      type,\n      listener,\n      remove: () => {\n        delete this[_].listenerData[id];\n        const index = list.indexOf(listener);\n        list.splice(index, 1);\n\n        if (!this[_].listeners[type].length) {\n          delete this[_].listeners[type];\n        }\n      }\n    };\n    return id;\n  }\n  /**\n   * Removes an event listener which was added with listen() by the id returned by listen().\n   * @param  {number} id the id returned by listen().\n   * @return {void}\n   */\n\n\n  unlisten(id) {\n    if (!this[_]) {\n      return;\n    }\n\n    this[_].listenerData[id].remove();\n  }\n\n  addEventListener(type, listener) {\n    this.listen(type, listener);\n  }\n\n  removeEventListener(type, listener) {\n    if (!this[_]) {\n      return;\n    }\n\n    utils_1.each(this[_].listenerData, (obj, id) => {\n      if (obj.type === type && obj.listener === listener) {\n        this.unlisten(id);\n      }\n    });\n  }\n\n  hasListeners(type) {\n    if (!this[_]) {\n      return false;\n    }\n\n    return !!this[_].listeners[type];\n  }\n  /**\n   * Fires all registered listeners\n   * @param  {string}    type The type of the listeners to fire.\n   * @param  {...*} args fire arguments\n   * @return {*} the result of the last listener\n   */\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  fireListeners(type, ...args) {\n    if (!this[_]) {\n      return [];\n    }\n\n    const list = this[_].listeners[type];\n\n    if (!list) {\n      return [];\n    }\n\n    return list.map(listener => listener.call(this, ...args)).filter(r => r != null);\n  }\n\n  dispose() {\n    delete this[_];\n  }\n\n}\n\nexports.EventTarget = EventTarget;\n_a = _;\n\n/***/ }),\n\n/***/ \"./data.js\":\n/*!*****************!*\\\n  !*** ./data.js ***!\n  \\*****************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\n\nconst DataSource_1 = __webpack_require__(/*! ./data/DataSource */ \"./data/DataSource.js\");\n\nObject.defineProperty(exports, \"DataSource\", {\n  enumerable: true,\n  get: function () {\n    return DataSource_1.DataSource;\n  }\n});\n\nconst CachedDataSource_1 = __webpack_require__(/*! ./data/CachedDataSource */ \"./data/CachedDataSource.js\");\n\nObject.defineProperty(exports, \"CachedDataSource\", {\n  enumerable: true,\n  get: function () {\n    return CachedDataSource_1.CachedDataSource;\n  }\n});\n\nconst FilterDataSource_1 = __webpack_require__(/*! ./data/FilterDataSource */ \"./data/FilterDataSource.js\");\n\nObject.defineProperty(exports, \"FilterDataSource\", {\n  enumerable: true,\n  get: function () {\n    return FilterDataSource_1.FilterDataSource;\n  }\n});\n\n/***/ }),\n\n/***/ \"./data/CachedDataSource.js\":\n/*!**********************************!*\\\n  !*** ./data/CachedDataSource.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CachedDataSource = void 0;\n\nconst DataSource_1 = __webpack_require__(/*! ./DataSource */ \"./data/DataSource.js\");\n/** @private */\n\n\nfunction _setFieldCache( // eslint-disable-next-line @typescript-eslint/no-explicit-any\nfCache, index, field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n  const recCache = fCache[index] || (fCache[index] = new Map());\n  recCache.set(field, value);\n}\n/**\n * grid data source for caching Promise data\n *\n * @classdesc cheetahGrid.data.CachedDataSource\n * @memberof cheetahGrid.data\n */\n\n\nclass CachedDataSource extends DataSource_1.DataSource {\n  constructor(opt) {\n    super(opt);\n    this._rCache = {};\n    this._fCache = {};\n  }\n\n  static get EVENT_TYPE() {\n    return DataSource_1.DataSource.EVENT_TYPE;\n  }\n\n  static ofArray(array) {\n    return new CachedDataSource({\n      get: index => array[index],\n      length: array.length,\n      source: array\n    });\n  }\n\n  getOriginal(index) {\n    if (this._rCache && this._rCache[index]) {\n      return this._rCache[index];\n    }\n\n    return super.getOriginal(index);\n  }\n\n  getOriginalField(index, field) {\n    const rowCache = this._fCache && this._fCache[index];\n\n    if (rowCache) {\n      const cache = rowCache.get(field);\n\n      if (cache) {\n        return cache;\n      }\n    }\n\n    return super.getOriginalField(index, field);\n  }\n\n  setOriginalField(index, field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    const fCache = this._fCache;\n\n    if (fCache && fCache[index]) {\n      delete fCache[index]; // clear row cache\n    }\n\n    return super.setOriginalField(index, field, value);\n  }\n\n  clearCache() {\n    if (this._rCache) {\n      this._rCache = {};\n    }\n\n    if (this._fCache) {\n      this._fCache = {};\n    }\n  }\n\n  fieldPromiseCallBackInternal(index, field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    _setFieldCache(this._fCache, index, field, value);\n  }\n\n  recordPromiseCallBackInternal(index, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  record) {\n    this._rCache[index] = record;\n  }\n\n  dispose() {\n    super.dispose();\n  }\n\n}\n\nexports.CachedDataSource = CachedDataSource;\n\n/***/ }),\n\n/***/ \"./data/DataSource.js\":\n/*!****************************!*\\\n  !*** ./data/DataSource.js ***!\n  \\****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.DataSource = void 0;\n\nconst sort = __importStar(__webpack_require__(/*! ../internal/sort */ \"./internal/sort.js\"));\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nconst EventTarget_1 = __webpack_require__(/*! ../core/EventTarget */ \"./core/EventTarget.js\");\n/** @private */\n\n\nfunction isFieldAssessor(field) {\n  if (utils_1.obj.isObject(field)) {\n    const a = field;\n\n    if (a.get && a.set) {\n      return true;\n    }\n  }\n\n  return false;\n}\n/** @private */\n\n\nconst EVENT_TYPE = {\n  UPDATE_LENGTH: \"update_length\",\n  UPDATED_LENGTH: \"updated_length\",\n  UPDATED_ORDER: \"updated_order\"\n};\n/** @private */\n\nfunction getValue(value, setPromiseBack) {\n  const maybePromiseValue = utils_1.getOrApply(value);\n\n  if (utils_1.isPromise(maybePromiseValue)) {\n    const promiseValue = maybePromiseValue.then(r => {\n      setPromiseBack(r);\n      return r;\n    }); //\n\n    setPromiseBack(promiseValue);\n    return promiseValue;\n  } else {\n    return maybePromiseValue;\n  }\n}\n/** @private */\n\n\nfunction getField(record, field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nsetPromiseBack) {\n  if (record == null) {\n    return undefined;\n  }\n\n  if (utils_1.isPromise(record)) {\n    return record.then(r => getField(r, field, setPromiseBack));\n  }\n\n  const fieldGet = isFieldAssessor(field) ? field.get : field;\n\n  if (fieldGet in record) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fieldResult = record[fieldGet]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    return getValue(fieldResult, setPromiseBack);\n  }\n\n  if (typeof fieldGet === \"function\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fieldResult = fieldGet(record);\n    return getValue(fieldResult, setPromiseBack);\n  } // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\n\n  const ss = `${fieldGet}`.split(\".\");\n\n  if (ss.length <= 1) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fieldResult = record[fieldGet];\n    return getValue(fieldResult, setPromiseBack);\n  }\n\n  const fieldResult = utils_1.applyChainSafe(record, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\n  return getValue(fieldResult, setPromiseBack);\n}\n/** @private */\n\n\nfunction setField(record, field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n  if (record == null) {\n    return false;\n  }\n\n  const fieldSet = isFieldAssessor(field) ? field.set : field;\n\n  if (fieldSet in record) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    record[fieldSet] = value;\n  } else if (typeof fieldSet === \"function\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return fieldSet(record, value);\n  } else if (typeof fieldSet === \"string\") {\n    const ss = `${fieldSet}`.split(\".\"); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    let obj = record;\n    const {\n      length\n    } = ss;\n\n    for (let i = 0; i < length; i++) {\n      const f = ss[i];\n\n      if (i === length - 1) {\n        obj[f] = value;\n      } else {\n        obj = obj[f] || (obj[f] = {});\n      }\n    }\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    record[fieldSet] = value;\n  }\n\n  return true;\n}\n/** @private */\n\n\nfunction _getIndex(sortedIndexMap, index) {\n  if (!sortedIndexMap) {\n    return index;\n  }\n\n  const mapIndex = sortedIndexMap[index];\n  return mapIndex != null ? mapIndex : index;\n}\n/**\n * grid data source\n *\n * @classdesc cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\n\n\nclass DataSource extends EventTarget_1.EventTarget {\n  constructor(obj) {\n    var _a;\n\n    super();\n    this._sortedIndexMap = null; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\n    this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\n    this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\n  }\n\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static ofArray(array) {\n    return new DataSource({\n      get: index => array[index],\n      length: array.length,\n      source: array\n    });\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  get source() {\n    return this._source;\n  }\n\n  get(index) {\n    return this.getOriginal(_getIndex(this._sortedIndexMap, index));\n  }\n\n  getField(index, field) {\n    return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  hasField(index, field) {\n    return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\n  }\n\n  setField(index, field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\n  }\n\n  sort(field, order) {\n    const sortedIndexMap = new Array(this._length);\n    const orderFn = order !== \"desc\" ? (v1, v2) => v1 === v2 ? 0 : v1 > v2 ? 1 : -1 : (v1, v2) => v1 === v2 ? 0 : v1 < v2 ? 1 : -1;\n    return sort.sortPromise(index => sortedIndexMap[index] != null ? sortedIndexMap[index] : sortedIndexMap[index] = index, (index, rel) => {\n      sortedIndexMap[index] = rel;\n    }, this._length, orderFn, index => this.getOriginalField(index, field)).then(() => {\n      this._sortedIndexMap = sortedIndexMap;\n      this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n    });\n  }\n\n  get length() {\n    return this._length;\n  }\n\n  set length(length) {\n    if (this._length === length) {\n      return;\n    }\n\n    const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n\n    if (utils_1.array.findIndex(results, v => !v) >= 0) {\n      return;\n    }\n\n    this._length = length;\n    this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n  }\n\n  get dataSource() {\n    return this;\n  }\n\n  dispose() {\n    super.dispose();\n  }\n\n  getOriginal(index) {\n    return getValue(this._get(index), val => {\n      this.recordPromiseCallBackInternal(index, val);\n    });\n  }\n\n  getOriginalField(index, field) {\n    if (field == null) {\n      return undefined;\n    }\n\n    const record = this.getOriginal(index);\n    return getField(record, field, val => {\n      this.fieldPromiseCallBackInternal(index, field, val);\n    });\n  }\n\n  hasOriginalField(index, field) {\n    if (field == null) {\n      return false;\n    }\n\n    if (typeof field === \"function\") {\n      return true;\n    }\n\n    const record = this.getOriginal(index);\n    return Boolean(record && field in record);\n  }\n\n  setOriginalField(index, field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  value) {\n    if (field == null) {\n      return false;\n    }\n\n    const record = this.getOriginal(index);\n\n    if (utils_1.isPromise(record)) {\n      return record.then(r => setField(r, field, value));\n    }\n\n    return setField(record, field, value);\n  }\n\n  fieldPromiseCallBackInternal(_index, _field, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  _value) {//\n  }\n\n  recordPromiseCallBackInternal(_index, _record) {//\n  }\n\n}\n\nexports.DataSource = DataSource; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nDataSource.EMPTY = new DataSource({\n  get() {\n    /*noop */\n  },\n\n  length: 0\n});\n\n/***/ }),\n\n/***/ \"./data/FilterDataSource.js\":\n/*!**********************************!*\\\n  !*** ./data/FilterDataSource.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FilterDataSource = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nconst DataSource_1 = __webpack_require__(/*! ./DataSource */ \"./data/DataSource.js\");\n\nconst EventHandler_1 = __webpack_require__(/*! ../internal/EventHandler */ \"./internal/EventHandler.js\");\n/** @private */\n\n\nclass DataSourceIterator {\n  constructor(dataSource) {\n    this._dataSource = dataSource;\n    this._curIndex = -1;\n    this._data = [];\n  }\n\n  hasNext() {\n    const next = this._curIndex + 1;\n    return this._dataSource.length > next;\n  }\n\n  next() {\n    const next = this._curIndex + 1;\n\n    const data = this._getIndexData(next);\n\n    this._curIndex = next;\n    return data;\n  }\n\n  movePrev() {\n    this._curIndex--;\n  }\n\n  _getIndexData(index, nest) {\n    const dataSource = this._dataSource;\n    const data = this._data;\n\n    if (index < data.length) {\n      return data[index];\n    }\n\n    if (dataSource.length <= index) {\n      return undefined;\n    }\n\n    const record = this._dataSource.get(index);\n\n    data[index] = record;\n\n    if (utils_1.isPromise(record)) {\n      record.then(val => {\n        data[index] = val;\n      });\n\n      if (!nest) {\n        for (let i = 1; i <= 100; i++) {\n          this._getIndexData(index + i, true);\n        }\n      }\n    }\n\n    return record;\n  }\n\n}\n/** @private */\n\n\nclass FilterData {\n  constructor(dc, original, filter) {\n    this._cancel = false;\n    this._owner = dc;\n    this._dataSourceItr = new DataSourceIterator(original);\n    this._filter = filter;\n    this._filterdList = [];\n    this._queues = [];\n  }\n\n  get(index) {\n    if (this._cancel) {\n      return undefined;\n    }\n\n    const filterdList = this._filterdList;\n\n    if (index < filterdList.length) {\n      return filterdList[index];\n    }\n\n    const queues = this._queues;\n    const indexQueue = queues[index];\n\n    if (indexQueue) {\n      return indexQueue;\n    }\n\n    return queues[index] || this._findIndex(index);\n  }\n\n  cancel() {\n    this._cancel = true;\n  }\n\n  _findIndex(index) {\n    if (window.Promise) {\n      const timeout = Date.now() + 100;\n      let count = 0;\n      return this._findIndexWithTimeout(index, () => {\n        count++;\n\n        if (count >= 100) {\n          count = 0;\n          return timeout < Date.now();\n        }\n\n        return false;\n      });\n    }\n\n    return this._findIndexWithTimeout(index, () => false);\n  }\n\n  _findIndexWithTimeout(index, testTimeout) {\n    const filterdList = this._filterdList;\n    const filter = this._filter;\n    const dataSourceItr = this._dataSourceItr;\n    const queues = this._queues;\n\n    while (dataSourceItr.hasNext()) {\n      if (this._cancel) {\n        return undefined;\n      }\n\n      const record = dataSourceItr.next();\n\n      if (utils_1.isPromise(record)) {\n        dataSourceItr.movePrev();\n        const queue = record.then(_value => {\n          queues[index] = null;\n          return this.get(index);\n        });\n        queues[index] = queue;\n        return queue;\n      }\n\n      if (filter(record)) {\n        filterdList.push(record);\n\n        if (index < filterdList.length) {\n          return filterdList[index];\n        }\n      }\n\n      if (testTimeout()) {\n        const promise = new Promise(resolve => {\n          setTimeout(() => {\n            resolve();\n          }, 300);\n        });\n        const queue = promise.then(() => {\n          queues[index] = null;\n          return this.get(index);\n        });\n        queues[index] = queue;\n        return queue;\n      }\n    }\n\n    const dc = this._owner;\n    dc.length = filterdList.length;\n    return undefined;\n  }\n\n}\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @memberof cheetahGrid.data\n */\n\n\nclass FilterDataSource extends DataSource_1.DataSource {\n  constructor(dataSource, filter) {\n    super(dataSource);\n    this._filterData = null;\n    this._dataSource = dataSource;\n    this.filter = filter;\n    const handler = this._handler = new EventHandler_1.EventHandler();\n    handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n      // reset\n      // eslint-disable-next-line no-self-assign\n      this.filter = this.filter;\n    });\n    utils_1.each(DataSource_1.DataSource.EVENT_TYPE, type => {\n      handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\n    });\n  }\n\n  static get EVENT_TYPE() {\n    return DataSource_1.DataSource.EVENT_TYPE;\n  }\n\n  get filter() {\n    var _a;\n\n    return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\n  }\n\n  set filter(filter) {\n    if (this._filterData) {\n      this._filterData.cancel();\n    }\n\n    this._filterData = filter ? new FilterData(this, this._dataSource, filter) : null;\n    this.length = this._dataSource.length;\n  }\n\n  getOriginal(index) {\n    if (!this._filterData) {\n      return super.getOriginal(index);\n    }\n\n    return this._filterData.get(index);\n  }\n\n  sort(field, order) {\n    return this._dataSource.sort(field, order);\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  get source() {\n    return this._dataSource.source;\n  }\n\n  get dataSource() {\n    return this._dataSource;\n  }\n\n  dispose() {\n    this._handler.dispose();\n\n    super.dispose();\n  }\n\n}\n\nexports.FilterDataSource = FilterDataSource;\n\n/***/ }),\n\n/***/ \"./element/Inline.js\":\n/*!***************************!*\\\n  !*** ./element/Inline.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Inline = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nfunction getWidth(ctx, content) {\n  return ctx.measureText(content).width;\n}\n\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n  const chars = [];\n  let ret = itr.next();\n\n  for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n    chars.push(ret);\n  }\n\n  let beforeWidth = getWidth(ctx, chars.join(\"\"));\n\n  if (beforeWidth > width) {\n    while (chars.length) {\n      const c = chars.pop();\n      beforeWidth -= getWidth(ctx, c || \"\");\n\n      if (beforeWidth <= width) {\n        break;\n      }\n    }\n  } else if (beforeWidth < width) {\n    while (ret !== null) {\n      const charWidth = getWidth(ctx, ret);\n\n      if (beforeWidth + charWidth > width) {\n        break;\n      }\n\n      chars.push(ret);\n      beforeWidth += charWidth;\n      ret = itr.next();\n    }\n  }\n\n  const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\n  const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\n  return {\n    before: beforeContent ? new Inline(beforeContent) : null,\n    after: afterContent ? new Inline(afterContent) : null\n  };\n}\n\nclass Inline {\n  constructor(content) {\n    this._content = content != null ? content : \"\";\n  }\n\n  width({\n    ctx\n  }) {\n    return getWidth(ctx, this._content);\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return null;\n  }\n\n  canDraw() {\n    return true;\n  } // eslint-disable-next-line @typescript-eslint/no-empty-function\n\n\n  onReady(_callback) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft,\n        right: offsetRight,\n        top: offsetTop,\n        bottom: offsetBottom\n      }\n    });\n  }\n\n  canBreak() {\n    return !!this._content;\n  }\n\n  splitIndex(index) {\n    const content = this._content;\n    const itr = utils_1.str.genChars(content);\n    const chars = [];\n    let ret = itr.next();\n\n    for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n      chars.push(ret);\n    }\n\n    const beforeContent = chars.join(\"\");\n    const afterContent = content.slice(beforeContent.length);\n    return {\n      before: beforeContent ? new Inline(beforeContent) : null,\n      after: afterContent ? new Inline(afterContent) : null\n    };\n  }\n\n  breakWord(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = utils_1.str.genWords(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n\n  breakAll(ctx, width) {\n    const content = this._content;\n    const allWidth = this.width({\n      ctx\n    });\n    const candidate = Math.floor(this._content.length * width / allWidth);\n    const itr = utils_1.str.genChars(content);\n    return breakWidth(ctx, content, itr, candidate, width);\n  }\n\n  toString() {\n    return this._content;\n  }\n\n}\n\nexports.Inline = Inline;\n\n/***/ }),\n\n/***/ \"./element/InlineDrawer.js\":\n/*!*********************************!*\\\n  !*** ./element/InlineDrawer.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineDrawer = void 0;\n\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\n\nclass InlineDrawer extends Inline_1.Inline {\n  constructor({\n    draw,\n    width,\n    // height,\n    color\n  }) {\n    super();\n    this._draw = draw;\n    this._width = width; // this._height = height;\n\n    this._color = color;\n  }\n\n  width(_arg) {\n    return this._width;\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    var _a;\n\n    return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n  }\n\n  canDraw() {\n    return true;\n  } // eslint-disable-next-line @typescript-eslint/no-empty-function\n\n\n  onReady(_callback) {}\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    this._draw({\n      ctx,\n      canvashelper,\n      rect,\n      offset,\n      offsetLeft,\n      offsetRight,\n      offsetTop,\n      offsetBottom\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return \"\";\n  }\n\n}\n\nexports.InlineDrawer = InlineDrawer;\n\n/***/ }),\n\n/***/ \"./element/InlineIcon.js\":\n/*!*******************************!*\\\n  !*** ./element/InlineIcon.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineIcon = void 0;\n\nconst fonts = __importStar(__webpack_require__(/*! ../internal/fonts */ \"./internal/fonts.js\"));\n\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\n\nclass InlineIcon extends Inline_1.Inline {\n  constructor(icon) {\n    super();\n    this._icon = icon || {};\n  }\n\n  width({\n    ctx\n  }) {\n    const icon = this._icon;\n\n    if (icon.width) {\n      return icon.width;\n    }\n\n    if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\n      ctx.save();\n      ctx.canvas.style.letterSpacing = \"normal\";\n\n      try {\n        ctx.font = icon.font || ctx.font;\n        return ctx.measureText(icon.content || \"\").width;\n      } finally {\n        ctx.canvas.style.letterSpacing = \"\";\n        ctx.restore();\n      }\n    }\n\n    return 0; //unknown\n  }\n\n  font() {\n    var _a;\n\n    return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\n  }\n\n  color() {\n    var _a;\n\n    return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\n  }\n\n  canDraw() {\n    const icon = this._icon;\n    return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\n  }\n\n  onReady(callback) {\n    const icon = this._icon;\n\n    if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\n      fonts.load(icon.font, icon.content || \"\", callback);\n    }\n  }\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    const icon = this._icon;\n\n    if (icon.content) {\n      ctx.canvas.style.letterSpacing = \"normal\";\n\n      try {\n        // eslint-disable-next-line no-self-assign\n        ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\n\n        canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n          offset: offset + 1,\n          padding: {\n            left: offsetLeft,\n            right: offsetRight,\n            top: offsetTop,\n            bottom: offsetBottom\n          }\n        });\n      } finally {\n        ctx.canvas.style.letterSpacing = \"\";\n      }\n    }\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return \"\";\n  }\n\n}\n\nexports.InlineIcon = InlineIcon;\n\n/***/ }),\n\n/***/ \"./element/InlineImage.js\":\n/*!********************************!*\\\n  !*** ./element/InlineImage.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineImage = void 0;\n\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\n\nconst imgs_1 = __webpack_require__(/*! ../internal/imgs */ \"./internal/imgs.js\");\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nclass InlineImage extends Inline_1.Inline {\n  constructor({\n    src,\n    width,\n    height,\n    imageLeft,\n    imageTop,\n    imageWidth,\n    imageHeight\n  }) {\n    super();\n    this._inlineImgPromise = null;\n    this._inlineImg = null;\n    this._src = src;\n    this._width = width;\n    this._height = height;\n    this._imageLeft = imageLeft;\n    this._imageTop = imageTop;\n    this._imageWidth = imageWidth;\n    this._imageHeight = imageHeight;\n    this._onloaded = [];\n\n    if (utils_1.isPromise(src)) {\n      src.then(s => {\n        this._src = s;\n\n        this._loadImage(s);\n      });\n    } else {\n      this._loadImage(src);\n    }\n  }\n\n  _loadImage(src) {\n    const img = this._inlineImgPromise = imgs_1.getCacheOrLoad(\"InlineImage\", 50, src);\n\n    if (utils_1.isPromise(img)) {\n      img.then(i => {\n        this._inlineImg = i;\n\n        this._onloaded.forEach(fn => fn());\n      });\n    } else {\n      this._inlineImg = img;\n    }\n  }\n\n  width(_arg) {\n    var _a, _b;\n\n    return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    return null;\n  }\n\n  canDraw() {\n    return !!this._inlineImg;\n  }\n\n  onReady(callback) {\n    if (utils_1.isPromise(this._src) || utils_1.isPromise(this._inlineImgPromise)) {\n      this._onloaded.push(() => callback());\n    }\n  }\n\n  draw({\n    ctx,\n    canvashelper,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    const img = this._inlineImg;\n    canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n      offset: offset + 1,\n      padding: {\n        left: offsetLeft,\n        right: offsetRight,\n        top: offsetTop,\n        bottom: offsetBottom\n      }\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return \"\";\n  }\n\n}\n\nexports.InlineImage = InlineImage;\n\n/***/ }),\n\n/***/ \"./element/InlinePath2D.js\":\n/*!*********************************!*\\\n  !*** ./element/InlinePath2D.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlinePath2D = void 0;\n\nconst path2DManager = __importStar(__webpack_require__(/*! ../internal/path2DManager */ \"./internal/path2DManager.js\"));\n\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\n\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\");\n\nclass InlinePath2D extends Inline_1.Inline {\n  constructor({\n    path,\n    width,\n    height,\n    color\n  }) {\n    super(); // IEPath2Dpolyfill\n\n    const Path2D = path2DManager.getPath2D();\n    this._path = new Path2D(path);\n    this._width = width;\n    this._height = height;\n    this._color = color;\n  }\n\n  width(_arg) {\n    return this._width;\n  }\n\n  font() {\n    return null;\n  }\n\n  color() {\n    var _a;\n\n    return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n  }\n\n  canDraw() {\n    return true;\n  } // eslint-disable-next-line @typescript-eslint/no-empty-function\n\n\n  onReady(_callback) {}\n\n  draw({\n    ctx,\n    rect,\n    offset,\n    offsetLeft,\n    offsetRight,\n    offsetTop,\n    offsetBottom\n  }) {\n    offset++;\n    const padding = {\n      left: offsetLeft,\n      right: offsetRight,\n      top: offsetTop,\n      bottom: offsetBottom\n    };\n    ctx.save();\n\n    try {\n      ctx.beginPath();\n      ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n      ctx.clip(); //\n\n      const pos = canvases_1.calcStartPosition(ctx, rect, this._width, this._height, {\n        offset,\n        padding\n      });\n      ctx.translate(pos.x, pos.y);\n      ctx.fill(this._path);\n    } finally {\n      ctx.restore();\n    }\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return \"\";\n  }\n\n}\n\nexports.InlinePath2D = InlinePath2D;\n\n/***/ }),\n\n/***/ \"./element/InlineSvg.js\":\n/*!******************************!*\\\n  !*** ./element/InlineSvg.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.InlineSvg = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nconst InlineImage_1 = __webpack_require__(/*! ./InlineImage */ \"./element/InlineImage.js\");\n\nfunction buildSvgDataUrl(svg) {\n  const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\n  const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n\n  return url;\n}\n\nfunction getSvgElement(svg) {\n  if (typeof svg === \"string\") {\n    const parser = new DOMParser();\n    return parser.parseFromString(svg, \"image/svg+xml\").children[0];\n  } else {\n    return svg;\n  }\n}\n\nclass InlineSvg extends InlineImage_1.InlineImage {\n  constructor({\n    svg,\n    width,\n    height\n  }) {\n    var _a, _b;\n\n    const svgElem = utils_1.then(svg, getSvgElement);\n    const elmWidth = !utils_1.isPromise(svgElem) ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined : undefined;\n    const elmHeight = !utils_1.isPromise(svgElem) ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined : undefined;\n    const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\n    const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\n    super({\n      src: utils_1.then(svg, buildSvgDataUrl),\n      width: width || numElmWidth,\n      height: height || numElmHeight,\n      imageWidth: numElmWidth,\n      imageHeight: numElmHeight\n    });\n  }\n\n  canBreak() {\n    return false;\n  }\n\n  toString() {\n    return \"\";\n  }\n\n}\n\nexports.InlineSvg = InlineSvg;\n\n/***/ }),\n\n/***/ \"./element/inlines.js\":\n/*!****************************!*\\\n  !*** ./element/inlines.js ***!\n  \\****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\n\nconst icons = __importStar(__webpack_require__(/*! ../icons */ \"./icons.js\"));\n\nconst path2DManager = __importStar(__webpack_require__(/*! ../internal/path2DManager */ \"./internal/path2DManager.js\"));\n\nconst Inline_1 = __webpack_require__(/*! ./Inline */ \"./element/Inline.js\");\n\nconst InlineDrawer_1 = __webpack_require__(/*! ./InlineDrawer */ \"./element/InlineDrawer.js\");\n\nconst InlineIcon_1 = __webpack_require__(/*! ./InlineIcon */ \"./element/InlineIcon.js\");\n\nconst InlineImage_1 = __webpack_require__(/*! ./InlineImage */ \"./element/InlineImage.js\");\n\nconst InlinePath2D_1 = __webpack_require__(/*! ./InlinePath2D */ \"./element/InlinePath2D.js\");\n\nconst InlineSvg_1 = __webpack_require__(/*! ./InlineSvg */ \"./element/InlineSvg.js\");\n\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\");\n\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = canvases_1.calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n      offset,\n      padding\n    });\n    path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n  } finally {\n    ctx.restore();\n  }\n}\n\nfunction isIconConstructorOption(icon) {\n  if (icon.font && icon.content) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInlineImageConstructorOption(icon) {\n  if (icon.src) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction isInlineSvgConstructorOption(icon) {\n  if (icon.path) {\n    return true;\n  }\n\n  return false;\n}\n\nfunction iconOf(icon) {\n  if (icon instanceof Inline_1.Inline) {\n    return icon;\n  }\n\n  if (!icon) {\n    return null;\n  }\n\n  if (isIconConstructorOption(icon)) {\n    return new InlineIcon_1.InlineIcon(icon);\n  }\n\n  if (isInlineImageConstructorOption(icon)) {\n    return new InlineImage_1.InlineImage({\n      src: icon.src,\n      width: icon.width,\n      height: icon.width\n    });\n  }\n\n  if (icon.svg) {\n    return new InlineSvg_1.InlineSvg({\n      svg: icon.svg,\n      width: icon.width,\n      height: icon.width\n    });\n  }\n\n  if (isInlineSvgConstructorOption(icon)) {\n    return new InlinePath2D_1.InlinePath2D({\n      path: icon.path,\n      width: icon.width,\n      height: icon.width,\n      color: icon.color\n    });\n  }\n\n  const regedIcons = icons.get();\n\n  if (icon.name && regedIcons[icon.name]) {\n    const regedIcon = regedIcons[icon.name];\n    const width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n    return new InlineDrawer_1.InlineDrawer({\n      draw({\n        ctx,\n        rect,\n        offset,\n        offsetLeft,\n        offsetRight,\n        offsetTop,\n        offsetBottom\n      }) {\n        drawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n          offset: offset + 1,\n          padding: {\n            left: offsetLeft,\n            right: offsetRight,\n            top: offsetTop,\n            bottom: offsetBottom\n          }\n        });\n      },\n\n      width,\n      height: width,\n      color: icon.color\n    });\n  }\n\n  return new InlineIcon_1.InlineIcon(icon);\n}\n\nexports.iconOf = iconOf;\n\nfunction of(content) {\n  if (content == null) {\n    return null;\n  }\n\n  if (content instanceof Inline_1.Inline) {\n    return content;\n  }\n\n  return new Inline_1.Inline(content);\n}\n\nexports.of = of;\n\nfunction buildInlines(icons, inline) {\n  const result = [];\n\n  if (icons) {\n    result.push(...icons.map(icon => iconOf(icon)).filter(i => i != null));\n  }\n\n  if (Array.isArray(inline) // && inline.filter(il => il instanceof Inline).length <- ?\n  ) {\n      result.push(...inline.map(il => of(il)).filter(i => i != null));\n    } else {\n    const il = of(inline);\n\n    if (il) {\n      result.push(il);\n    }\n  }\n\n  return result;\n}\n\nexports.buildInlines = buildInlines;\n\nfunction string(inline) {\n  return buildInlines(undefined, inline).join(\"\");\n}\n\nexports.string = string;\n\n/***/ }),\n\n/***/ \"./get-internal.js\":\n/*!*************************!*\\\n  !*** ./get-internal.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getInternal = void 0;\n\nfunction getInternal() {\n  console.warn(\"use internal!!\");\n  return {\n    color: __webpack_require__(/*! ./internal/color */ \"./internal/color.js\"),\n    sort: __webpack_require__(/*! ./internal/sort */ \"./internal/sort.js\"),\n    calc: __webpack_require__(/*! ./internal/calc */ \"./internal/calc.js\"),\n    symbolManager: __webpack_require__(/*! ./internal/symbolManager */ \"./internal/symbolManager.js\"),\n    path2DManager: __webpack_require__(/*! ./internal/path2DManager */ \"./internal/path2DManager.js\")\n  };\n}\n\nexports.getInternal = getInternal;\n\n/***/ }),\n\n/***/ \"./header/action.js\":\n/*!**************************!*\\\n  !*** ./header/action.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\n\nconst BaseAction_1 = __webpack_require__(/*! ./action/BaseAction */ \"./header/action/BaseAction.js\");\n\nObject.defineProperty(exports, \"BaseAction\", {\n  enumerable: true,\n  get: function () {\n    return BaseAction_1.BaseAction;\n  }\n});\n\nconst CheckHeaderAction_1 = __webpack_require__(/*! ./action/CheckHeaderAction */ \"./header/action/CheckHeaderAction.js\");\n\nObject.defineProperty(exports, \"CheckHeaderAction\", {\n  enumerable: true,\n  get: function () {\n    return CheckHeaderAction_1.CheckHeaderAction;\n  }\n});\n\nconst SortHeaderAction_1 = __webpack_require__(/*! ./action/SortHeaderAction */ \"./header/action/SortHeaderAction.js\");\n\nObject.defineProperty(exports, \"SortHeaderAction\", {\n  enumerable: true,\n  get: function () {\n    return SortHeaderAction_1.SortHeaderAction;\n  }\n});\n\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\n  get disabled() {\n    return this._disabled;\n  }\n\n}\n\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\n  get disabled() {\n    return this._disabled;\n  }\n\n}\n\nexports.ACTIONS = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  SORT: new ImmutableSortHeaderAction(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  CHECK: new ImmutableCheckHeaderAction()\n};\n\nfunction of(headerAction) {\n  if (!headerAction) {\n    return undefined;\n  } else if (typeof headerAction === \"string\") {\n    const key = headerAction.toUpperCase();\n    return exports.ACTIONS[key] || of(null);\n  } else {\n    return headerAction;\n  }\n}\n\nexports.of = of;\n\nfunction ofCell(headerCell) {\n  if (headerCell.sort) {\n    if (typeof headerCell.sort === \"function\") {\n      const sortMethod = headerCell.sort; // 0.9.0 Backward compatibility\n\n      const sort = ({\n        order,\n        col,\n        grid\n      }) => sortMethod.call(headerCell, order, col, grid);\n\n      return new ImmutableSortHeaderAction({\n        sort\n      });\n    }\n\n    return exports.ACTIONS.SORT;\n  }\n\n  return of(headerCell.headerAction);\n}\n\nexports.ofCell = ofCell;\n\n/***/ }),\n\n/***/ \"./header/action/BaseAction.js\":\n/*!*************************************!*\\\n  !*** ./header/action/BaseAction.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseAction = void 0;\n\nclass BaseAction {\n  constructor(option = {}) {\n    this._disabled = !!option.disabled || false;\n  }\n\n  get disabled() {\n    return this._disabled;\n  }\n\n  set disabled(disabled) {\n    this._disabled = disabled;\n    this.onChangeDisabledInternal();\n  }\n\n  clone() {\n    return new BaseAction(this);\n  }\n\n  bindGridEvent(_grid, _cellId) {\n    return [];\n  }\n\n  onChangeDisabledInternal() {// impl\n  }\n\n}\n\nexports.BaseAction = BaseAction;\n\n/***/ }),\n\n/***/ \"./header/action/CheckHeaderAction.js\":\n/*!********************************************!*\\\n  !*** ./header/action/CheckHeaderAction.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckHeaderAction = void 0;\n\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./header/action/actionBind.js\");\n\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./header/action/BaseAction.js\");\n\nconst animate_1 = __webpack_require__(/*! ../../internal/animate */ \"./internal/animate.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId();\n\nfunction getState(grid) {\n  let state = grid[CHECK_HEADER_STATE_ID];\n\n  if (!state) {\n    state = {\n      elapsed: {},\n      block: {}\n    };\n    utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n  }\n\n  return state;\n}\n\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\n  clone() {\n    return new CheckHeaderAction(this);\n  }\n\n  bindGridEvent(grid, cellId) {\n    const state = getState(grid);\n\n    const action = ({\n      col,\n      row\n    }) => {\n      const range = grid.getCellRange(col, row);\n      const cellKey = `${range.start.col}:${range.start.row}`;\n\n      if (this.disabled || state.block[cellKey]) {\n        return;\n      }\n\n      const checked = grid.getHeaderValue(range.start.col, range.start.row);\n      grid.setHeaderValue(range.start.col, range.start.row, !checked);\n\n      const onChange = () => {\n        // checkbox animation\n        animate_1.animate(200, point => {\n          if (point === 1) {\n            delete state.elapsed[cellKey];\n          } else {\n            state.elapsed[cellKey] = point;\n          }\n\n          grid.invalidateCellRange(range);\n        });\n      };\n\n      onChange();\n    };\n\n    return [...actionBind_1.bindCellClickAction(grid, cellId, {\n      action,\n      mouseOver: e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        state.mouseActiveCell = {\n          col: e.col,\n          row: e.row\n        };\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n        return true;\n      },\n      mouseOut: e => {\n        delete state.mouseActiveCell;\n        const range = grid.getCellRange(e.col, e.row);\n        grid.invalidateCellRange(range);\n      }\n    }), ...actionBind_1.bindCellKeyAction(grid, cellId, {\n      action\n    })];\n  }\n\n}\n\nexports.CheckHeaderAction = CheckHeaderAction;\n\n/***/ }),\n\n/***/ \"./header/action/SortHeaderAction.js\":\n/*!*******************************************!*\\\n  !*** ./header/action/SortHeaderAction.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortHeaderAction = void 0;\n\nconst BaseAction_1 = __webpack_require__(/*! ./BaseAction */ \"./header/action/BaseAction.js\");\n\nconst actionBind_1 = __webpack_require__(/*! ./actionBind */ \"./header/action/actionBind.js\");\n\nclass SortHeaderAction extends BaseAction_1.BaseAction {\n  constructor(option = {}) {\n    var _a;\n\n    super(option);\n    this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\n  }\n\n  get sort() {\n    return this._sort;\n  }\n\n  set sort(sort) {\n    this._sort = sort;\n    this.onChangeDisabledInternal();\n  }\n\n  clone() {\n    return new SortHeaderAction(this);\n  }\n\n  _executeSort(newState, grid) {\n    if (typeof this._sort === \"function\") {\n      this._sort({\n        order: newState.order || \"asc\",\n        col: newState.col,\n        row: newState.row,\n        grid\n      });\n    } else {\n      const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\n      const field = grid.getField(newState.col, fieldRow);\n\n      if (field == null) {\n        return;\n      }\n\n      grid.dataSource.sort(field, newState.order || \"asc\");\n    }\n  }\n\n  bindGridEvent(grid, cellId) {\n    function isTarget(col, row) {\n      return grid.getLayoutCellId(col, row) === cellId;\n    }\n\n    const action = cell => {\n      if (this.disabled) {\n        return;\n      }\n\n      const state = grid.sortState;\n      let newState;\n      const range = grid.getCellRange(cell.col, cell.row);\n\n      if (isTarget(state.col, cell.row)) {\n        newState = {\n          col: range.start.col,\n          row: range.start.row,\n          order: state.order === \"asc\" ? \"desc\" : \"asc\"\n        };\n      } else {\n        newState = {\n          col: range.start.col,\n          row: range.start.row,\n          order: \"asc\"\n        };\n      }\n\n      grid.sortState = newState;\n\n      this._executeSort(newState, grid);\n\n      grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n    };\n\n    return [...actionBind_1.bindCellClickAction(grid, cellId, {\n      action,\n      mouseOver: _e => {\n        if (this.disabled) {\n          return false;\n        }\n\n        return true;\n      }\n    })];\n  }\n\n}\n\nexports.SortHeaderAction = SortHeaderAction;\n\n/***/ }),\n\n/***/ \"./header/action/actionBind.js\":\n/*!*************************************!*\\\n  !*** ./header/action/actionBind.js ***!\n  \\*************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst KEY_ENTER = 13;\n\nfunction bindCellClickAction(grid, cellId, {\n  action,\n  mouseOver,\n  mouseOut\n}) {\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n\n  let inMouse;\n  return [// click\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n\n    action({\n      col: e.col,\n      row: e.row\n    });\n  }), // mouse move\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (mouseOver) {\n      if (!mouseOver({\n        col: e.col,\n        row: e.row\n      })) {\n        return;\n      }\n    }\n\n    grid.getElement().style.cursor = \"pointer\";\n    inMouse = true;\n  }), //MOUSEENTER'col-resize'move\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (inMouse && !grid.getElement().style.cursor) {\n      grid.getElement().style.cursor = \"pointer\";\n    }\n  }), grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n    if (!isTarget(e.col, e.row)) {\n      return;\n    }\n\n    if (mouseOut) {\n      mouseOut({\n        col: e.col,\n        row: e.row\n      });\n    }\n\n    grid.getElement().style.cursor = \"\";\n    inMouse = false;\n  })];\n}\n\nexports.bindCellClickAction = bindCellClickAction;\n\nfunction bindCellKeyAction(grid, cellId, {\n  action,\n  acceptKeys = []\n}) {\n  acceptKeys = [...acceptKeys, KEY_ENTER];\n\n  function isTarget(col, row) {\n    return grid.getLayoutCellId(col, row) === cellId;\n  }\n\n  return [// enter key down\n  grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, e => {\n    var _a;\n\n    if (acceptKeys.indexOf(e.keyCode) === -1) {\n      return;\n    }\n\n    if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n      // When moving with the enter key, no action is taken with the enter key.\n      return;\n    }\n\n    const sel = grid.selection.select;\n\n    if (!isTarget(sel.col, sel.row)) {\n      return;\n    }\n\n    action({\n      col: sel.col,\n      row: sel.row\n    });\n    utils_1.event.cancel(e.event);\n  })];\n}\n\nexports.bindCellKeyAction = bindCellKeyAction;\n\n/***/ }),\n\n/***/ \"./header/style.js\":\n/*!*************************!*\\\n  !*** ./header/style.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\n\nconst BaseStyle_1 = __webpack_require__(/*! ./style/BaseStyle */ \"./header/style/BaseStyle.js\");\n\nObject.defineProperty(exports, \"BaseStyle\", {\n  enumerable: true,\n  get: function () {\n    return BaseStyle_1.BaseStyle;\n  }\n});\n\nconst CheckHeaderStyle_1 = __webpack_require__(/*! ./style/CheckHeaderStyle */ \"./header/style/CheckHeaderStyle.js\");\n\nObject.defineProperty(exports, \"CheckHeaderStyle\", {\n  enumerable: true,\n  get: function () {\n    return CheckHeaderStyle_1.CheckHeaderStyle;\n  }\n});\n\nconst MultilineTextHeaderStyle_1 = __webpack_require__(/*! ./style/MultilineTextHeaderStyle */ \"./header/style/MultilineTextHeaderStyle.js\");\n\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\n  }\n});\n\nconst SortHeaderStyle_1 = __webpack_require__(/*! ./style/SortHeaderStyle */ \"./header/style/SortHeaderStyle.js\");\n\nObject.defineProperty(exports, \"SortHeaderStyle\", {\n  enumerable: true,\n  get: function () {\n    return SortHeaderStyle_1.SortHeaderStyle;\n  }\n});\n\nconst Style_1 = __webpack_require__(/*! ./style/Style */ \"./header/style/Style.js\");\n\nObject.defineProperty(exports, \"Style\", {\n  enumerable: true,\n  get: function () {\n    return Style_1.Style;\n  }\n});\n\nfunction of(headerStyle, StyleClass) {\n  if (headerStyle) {\n    if (headerStyle instanceof Style_1.Style) {\n      return headerStyle;\n    } else if (typeof headerStyle === \"function\") {\n      return of(headerStyle(), StyleClass);\n    }\n\n    return new StyleClass(headerStyle);\n  } else {\n    return StyleClass.DEFAULT;\n  }\n}\n\nexports.of = of;\n\n/***/ }),\n\n/***/ \"./header/style/BaseStyle.js\":\n/*!***********************************!*\\\n  !*** ./header/style/BaseStyle.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseStyle = void 0;\n\nconst EventTarget_1 = __webpack_require__(/*! ../../core/EventTarget */ \"./core/EventTarget.js\");\n\nconst EVENT_TYPE = {\n  CHANGE_STYLE: \"change_style\"\n};\nlet defaultStyle;\n\nclass BaseStyle extends EventTarget_1.EventTarget {\n  constructor({\n    bgColor\n  } = {}) {\n    super();\n    this._bgColor = bgColor;\n  }\n\n  static get EVENT_TYPE() {\n    return EVENT_TYPE;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new BaseStyle();\n  }\n\n  get bgColor() {\n    return this._bgColor;\n  }\n\n  set bgColor(bgColor) {\n    this._bgColor = bgColor;\n    this.doChangeStyle();\n  }\n\n  doChangeStyle() {\n    this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n  }\n\n  clone() {\n    return new BaseStyle(this);\n  }\n\n}\n\nexports.BaseStyle = BaseStyle;\n\n/***/ }),\n\n/***/ \"./header/style/CheckHeaderStyle.js\":\n/*!******************************************!*\\\n  !*** ./header/style/CheckHeaderStyle.js ***!\n  \\******************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckHeaderStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./header/style/Style.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nlet defaultStyle;\n\nclass CheckHeaderStyle extends Style_1.Style {\n  constructor(style = {}) {\n    super(utils_1.defaults(style, {\n      textAlign: \"center\"\n    }));\n    const {\n      uncheckBgColor,\n      checkBgColor,\n      borderColor\n    } = style;\n    this._uncheckBgColor = uncheckBgColor;\n    this._checkBgColor = checkBgColor;\n    this._borderColor = borderColor;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new CheckHeaderStyle();\n  }\n\n  get uncheckBgColor() {\n    return this._uncheckBgColor;\n  }\n\n  set uncheckBgColor(uncheckBgColor) {\n    this._uncheckBgColor = uncheckBgColor;\n    this.doChangeStyle();\n  }\n\n  get checkBgColor() {\n    return this._checkBgColor;\n  }\n\n  set checkBgColor(checkBgColor) {\n    this._checkBgColor = checkBgColor;\n    this.doChangeStyle();\n  }\n\n  get borderColor() {\n    return this._borderColor;\n  }\n\n  set borderColor(borderColor) {\n    this._borderColor = borderColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new CheckHeaderStyle(this);\n  }\n\n}\n\nexports.CheckHeaderStyle = CheckHeaderStyle;\n\n/***/ }),\n\n/***/ \"./header/style/MultilineTextHeaderStyle.js\":\n/*!**************************************************!*\\\n  !*** ./header/style/MultilineTextHeaderStyle.js ***!\n  \\**************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextHeaderStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./header/style/Style.js\");\n\nlet defaultStyle;\n\nclass MultilineTextHeaderStyle extends Style_1.Style {\n  constructor(style = {}) {\n    super(style);\n    this._lineHeight = style.lineHeight || \"1em\";\n    this._autoWrapText = style.autoWrapText || false;\n    this._lineClamp = style.lineClamp;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new MultilineTextHeaderStyle();\n  }\n\n  clone() {\n    return new MultilineTextHeaderStyle(this);\n  }\n\n  get lineHeight() {\n    return this._lineHeight;\n  }\n\n  set lineHeight(lineHeight) {\n    this._lineHeight = lineHeight;\n    this.doChangeStyle();\n  }\n\n  get lineClamp() {\n    return this._lineClamp;\n  }\n\n  set lineClamp(lineClamp) {\n    this._lineClamp = lineClamp;\n    this.doChangeStyle();\n  }\n\n  get autoWrapText() {\n    return this._autoWrapText;\n  }\n\n  set autoWrapText(autoWrapText) {\n    this._autoWrapText = autoWrapText;\n    this.doChangeStyle();\n  }\n\n}\n\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\n\n/***/ }),\n\n/***/ \"./header/style/SortHeaderStyle.js\":\n/*!*****************************************!*\\\n  !*** ./header/style/SortHeaderStyle.js ***!\n  \\*****************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortHeaderStyle = void 0;\n\nconst Style_1 = __webpack_require__(/*! ./Style */ \"./header/style/Style.js\");\n\nlet defaultStyle;\n\nclass SortHeaderStyle extends Style_1.Style {\n  constructor(style = {}) {\n    super(style);\n    this._sortArrowColor = style.sortArrowColor;\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new SortHeaderStyle();\n  }\n\n  get sortArrowColor() {\n    return this._sortArrowColor;\n  }\n\n  set sortArrowColor(sortArrowColor) {\n    this._sortArrowColor = sortArrowColor;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new SortHeaderStyle(this);\n  }\n\n}\n\nexports.SortHeaderStyle = SortHeaderStyle;\n\n/***/ }),\n\n/***/ \"./header/style/StdBaseStyle.js\":\n/*!**************************************!*\\\n  !*** ./header/style/StdBaseStyle.js ***!\n  \\**************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.StdBaseStyle = void 0;\n\nconst BaseStyle_1 = __webpack_require__(/*! ./BaseStyle */ \"./header/style/BaseStyle.js\");\n\nlet defaultStyle;\n\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n  constructor(style = {}) {\n    super(style);\n    this._textAlign = style.textAlign || \"left\";\n    this._textBaseline = style.textBaseline || \"middle\";\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new StdBaseStyle();\n  }\n\n  get textAlign() {\n    return this._textAlign;\n  }\n\n  set textAlign(textAlign) {\n    this._textAlign = textAlign;\n    this.doChangeStyle();\n  }\n\n  get textBaseline() {\n    return this._textBaseline;\n  }\n\n  set textBaseline(textBaseline) {\n    this._textBaseline = textBaseline;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new StdBaseStyle(this);\n  }\n\n}\n\nexports.StdBaseStyle = StdBaseStyle;\n\n/***/ }),\n\n/***/ \"./header/style/Style.js\":\n/*!*******************************!*\\\n  !*** ./header/style/Style.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Style = void 0;\n\nconst StdBaseStyle_1 = __webpack_require__(/*! ./StdBaseStyle */ \"./header/style/StdBaseStyle.js\");\n\nlet defaultStyle;\n\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n  constructor(style = {}) {\n    super(style);\n    this._color = style.color;\n    this._font = style.font;\n    this._textOverflow = style.textOverflow || \"ellipsis\";\n  }\n\n  static get DEFAULT() {\n    return defaultStyle ? defaultStyle : defaultStyle = new Style();\n  }\n\n  get color() {\n    return this._color;\n  }\n\n  set color(color) {\n    this._color = color;\n    this.doChangeStyle();\n  }\n\n  get font() {\n    return this._font;\n  }\n\n  set font(font) {\n    this._font = font;\n    this.doChangeStyle();\n  }\n\n  get textOverflow() {\n    return this._textOverflow;\n  }\n\n  set textOverflow(textOverflow) {\n    this._textOverflow = textOverflow;\n    this.doChangeStyle();\n  }\n\n  clone() {\n    return new Style(this);\n  }\n\n}\n\nexports.Style = Style;\n\n/***/ }),\n\n/***/ \"./header/type.js\":\n/*!************************!*\\\n  !*** ./header/type.js ***!\n  \\************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\n\nconst BaseHeader_1 = __webpack_require__(/*! ./type/BaseHeader */ \"./header/type/BaseHeader.js\");\n\nObject.defineProperty(exports, \"BaseHeader\", {\n  enumerable: true,\n  get: function () {\n    return BaseHeader_1.BaseHeader;\n  }\n});\n\nconst CheckHeader_1 = __webpack_require__(/*! ./type/CheckHeader */ \"./header/type/CheckHeader.js\");\n\nObject.defineProperty(exports, \"CheckHeader\", {\n  enumerable: true,\n  get: function () {\n    return CheckHeader_1.CheckHeader;\n  }\n});\n\nconst Header_1 = __webpack_require__(/*! ./type/Header */ \"./header/type/Header.js\");\n\nObject.defineProperty(exports, \"Header\", {\n  enumerable: true,\n  get: function () {\n    return Header_1.Header;\n  }\n});\n\nconst MultilineTextHeader_1 = __webpack_require__(/*! ./type/MultilineTextHeader */ \"./header/type/MultilineTextHeader.js\");\n\nObject.defineProperty(exports, \"MultilineTextHeader\", {\n  enumerable: true,\n  get: function () {\n    return MultilineTextHeader_1.MultilineTextHeader;\n  }\n});\n\nconst SortHeader_1 = __webpack_require__(/*! ./type/SortHeader */ \"./header/type/SortHeader.js\");\n\nObject.defineProperty(exports, \"SortHeader\", {\n  enumerable: true,\n  get: function () {\n    return SortHeader_1.SortHeader;\n  }\n});\nconst TYPES = {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  DEFAULT: new Header_1.Header(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  SORT: new SortHeader_1.SortHeader(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  CHECK: new CheckHeader_1.CheckHeader(),\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader()\n};\n\nfunction of(headerType) {\n  if (!headerType) {\n    return TYPES.DEFAULT;\n  } else if (typeof headerType === \"string\") {\n    const key = headerType.toUpperCase();\n    return TYPES[key] || of(null);\n  } else {\n    return headerType;\n  }\n}\n\nexports.of = of;\n\nfunction ofCell(headerCell) {\n  if (headerCell.sort) {\n    return TYPES.SORT;\n  }\n\n  return of(headerCell.headerType);\n}\n\nexports.ofCell = ofCell;\n\n/***/ }),\n\n/***/ \"./header/type/BaseHeader.js\":\n/*!***********************************!*\\\n  !*** ./header/type/BaseHeader.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseHeader = void 0;\n\nconst styleContents = __importStar(__webpack_require__(/*! ../style */ \"./header/style.js\"));\n\nconst BaseStyle_1 = __webpack_require__(/*! ../style/BaseStyle */ \"./header/style/BaseStyle.js\");\n\nclass BaseHeader {\n  constructor(_options = {}) {\n    this.onDrawCell = this.onDrawCell.bind(this); //\n  }\n\n  get StyleClass() {\n    return BaseStyle_1.BaseStyle;\n  }\n\n  onDrawCell(cellValue, info, context, grid) {\n    const {\n      style,\n      drawCellBase\n    } = info;\n    const helper = grid.getGridCanvasHelper();\n    drawCellBase(); //\n\n    this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\n  }\n\n  convertInternal(value) {\n    if (typeof value === \"function\") {\n      value = value();\n    } // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n\n\n    return value != null ? `${value}` : \"\";\n  }\n\n  bindGridEvent(_grid, _cellId) {\n    return [];\n  }\n\n}\n\nexports.BaseHeader = BaseHeader;\n\n/***/ }),\n\n/***/ \"./header/type/CheckHeader.js\":\n/*!************************************!*\\\n  !*** ./header/type/CheckHeader.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CheckHeader = void 0;\n\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\n\nconst CheckHeaderStyle_1 = __webpack_require__(/*! ../style/CheckHeaderStyle */ \"./header/style/CheckHeaderStyle.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../../internal/symbolManager */ \"./internal/symbolManager.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nfunction getState(grid) {\n  let state = grid[CHECK_HEADER_STATE_ID];\n\n  if (!state) {\n    state = {\n      elapsed: {},\n      block: {}\n    };\n    utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n  }\n\n  return state;\n}\n\nclass CheckHeader extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return CheckHeaderStyle_1.CheckHeaderStyle;\n  }\n\n  clone() {\n    return new CheckHeader(this);\n  }\n\n  drawInternal(value, context, style, helper, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor,\n      bgColor,\n      color,\n      font,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n    const cellKey = `${range.start.col}:${range.start.row}`;\n    const {\n      elapsed: {\n        [cellKey]: elapsed\n      }\n    } = getState(grid);\n    const checked = grid.getHeaderValue(range.start.col, range.start.row);\n    const opt = {\n      textAlign,\n      textBaseline,\n      borderColor,\n      checkBgColor,\n      uncheckBgColor\n    };\n\n    if (elapsed != null) {\n      opt.animElapsedTime = elapsed;\n    }\n\n    const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\n    helper.text([inlineCheck, value], context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow\n    });\n  }\n\n}\n\nexports.CheckHeader = CheckHeader;\n\n/***/ }),\n\n/***/ \"./header/type/Header.js\":\n/*!*******************************!*\\\n  !*** ./header/type/Header.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Header = void 0;\n\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\n\nconst Style_1 = __webpack_require__(/*! ../style/Style */ \"./header/style/Style.js\");\n\nclass Header extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return Style_1.Style;\n  }\n\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    helper.text(value, context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow\n    });\n  }\n\n}\n\nexports.Header = Header;\n\n/***/ }),\n\n/***/ \"./header/type/MultilineTextHeader.js\":\n/*!********************************************!*\\\n  !*** ./header/type/MultilineTextHeader.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultilineTextHeader = void 0;\n\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\n\nconst MultilineTextHeaderStyle_1 = __webpack_require__(/*! ../style/MultilineTextHeaderStyle */ \"./header/style/MultilineTextHeaderStyle.js\");\n\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\n  }\n\n  clone() {\n    return new MultilineTextHeader(this);\n  }\n\n  drawInternal(value, context, style, helper, _grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      bgColor,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      textOverflow\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const multilines = value.replace(/\\r?\\n/g, \"\\n\").replace(/\\r/g, \"\\n\").split(\"\\n\");\n    helper.testFontLoad(font, value, context);\n    helper.multilineText(multilines, context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      lineHeight,\n      autoWrapText,\n      lineClamp,\n      textOverflow\n    });\n  }\n\n}\n\nexports.MultilineTextHeader = MultilineTextHeader;\n\n/***/ }),\n\n/***/ \"./header/type/SortHeader.js\":\n/*!***********************************!*\\\n  !*** ./header/type/SortHeader.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SortHeader = void 0;\n\nconst BaseHeader_1 = __webpack_require__(/*! ./BaseHeader */ \"./header/type/BaseHeader.js\");\n\nconst SortHeaderStyle_1 = __webpack_require__(/*! ../style/SortHeaderStyle */ \"./header/style/SortHeaderStyle.js\");\n\nconst utils_1 = __webpack_require__(/*! ../../internal/utils */ \"./internal/utils.js\");\n\nconst canvases_1 = __webpack_require__(/*! ../../internal/canvases */ \"./internal/canvases.js\");\n\nclass SortHeader extends BaseHeader_1.BaseHeader {\n  get StyleClass() {\n    return SortHeaderStyle_1.SortHeaderStyle;\n  }\n\n  drawInternal(value, context, style, helper, grid, {\n    drawCellBase\n  }) {\n    const {\n      textAlign,\n      textBaseline = \"middle\",\n      color,\n      bgColor,\n      font,\n      textOverflow,\n      sortArrowColor\n    } = style;\n\n    if (bgColor) {\n      drawCellBase({\n        bgColor\n      });\n    }\n\n    const state = grid.sortState;\n    let order = undefined;\n    const {\n      col,\n      row\n    } = context;\n    const range = grid.getCellRange(col, row);\n\n    if (utils_1.cellInRange(range, state.col, state.row)) {\n      ({\n        order\n      } = state);\n    }\n\n    const ctx = context.getContext();\n    const arrowSize = canvases_1.getFontSize(ctx, font).width * 1.2;\n    helper.text(value, context, {\n      textAlign,\n      textBaseline,\n      color,\n      font,\n      textOverflow,\n      icons: [{\n        name: order != null ? order === \"asc\" ? \"arrow_downward\" : \"arrow_upward\" : undefined,\n        width: arrowSize,\n        color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\"\n      }]\n    });\n  }\n\n}\n\nexports.SortHeader = SortHeader;\n\n/***/ }),\n\n/***/ \"./headers.js\":\n/*!********************!*\\\n  !*** ./headers.js ***!\n  \\********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.style = exports.type = exports.action = void 0;\n\nconst action = __importStar(__webpack_require__(/*! ./header/action */ \"./header/action.js\"));\n\nexports.action = action;\n\nconst style = __importStar(__webpack_require__(/*! ./header/style */ \"./header/style.js\"));\n\nexports.style = style;\n\nconst type = __importStar(__webpack_require__(/*! ./header/type */ \"./header/type.js\"));\n\nexports.type = type;\n\n/***/ }),\n\n/***/ \"./icons.js\":\n/*!******************!*\\\n  !*** ./icons.js ***!\n  \\******************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*eslint-disable camelcase*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.get = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\n\nconst icons_1 = __webpack_require__(/*! ./plugins/icons */ \"./plugins/icons.js\");\n\nconst builtins = {\n  get arrow_upward() {\n    return __webpack_require__(/*! cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg */ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\n  },\n\n  get arrow_downward() {\n    return __webpack_require__(/*! cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg */ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\n  },\n\n  get edit() {\n    return __webpack_require__(/*! cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg */ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg\");\n  },\n\n  get add() {\n    return __webpack_require__(/*! cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg */ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/content/svg/production/ic_add_48px.svg\");\n  },\n\n  get star() {\n    return __webpack_require__(/*! cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg */ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg\");\n  },\n\n  get star_border() {\n    return __webpack_require__(/*! cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg */ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\n  },\n\n  get star_half() {\n    return __webpack_require__(/*! cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg */ \"../node_modules/cheetah-grid-icon-svg-loader/lib/index.js!../node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\n  }\n\n};\n\nfunction get() {\n  return utils_1.extend(builtins, icons_1.icons);\n}\n\nexports.get = get;\n\n/***/ }),\n\n/***/ \"./internal/EventHandler.js\":\n/*!**********************************!*\\\n  !*** ./internal/EventHandler.js ***!\n  \\**********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EventHandler = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n/** @private */\n\n\nlet nextId = 1;\n\nclass EventHandler {\n  constructor() {\n    this._listeners = {};\n  }\n\n  on(target, type, listener, // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  ...options) {\n    if (target.addEventListener) {\n      target.addEventListener(type, listener, ...options);\n    }\n\n    const obj = {\n      target,\n      type,\n      listener,\n      options\n    };\n    const id = nextId++;\n    this._listeners[id] = obj;\n    return id;\n  }\n\n  once(target, type, listener, ...options) {\n    const id = this.on(target, type, (...args) => {\n      this.off(id);\n      listener(...args);\n    }, ...options);\n    return id;\n  }\n\n  tryWithOffEvents(target, type, call) {\n    const list = [];\n\n    try {\n      utils_1.each(this._listeners, obj => {\n        if (obj.target === target && obj.type === type) {\n          if (obj.target.removeEventListener) {\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n          }\n\n          list.push(obj);\n        }\n      });\n      call();\n    } finally {\n      list.forEach(obj => {\n        if (obj.target.addEventListener) {\n          obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n        }\n      });\n    }\n  }\n\n  off(id) {\n    if (id == null) {\n      return;\n    }\n\n    const obj = this._listeners[id];\n\n    if (!obj) {\n      return;\n    }\n\n    delete this._listeners[id];\n\n    if (obj.target.removeEventListener) {\n      obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n    }\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  fire(target, type, ...args) {\n    utils_1.each(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        obj.listener.call(obj.target, ...args);\n      }\n    });\n  }\n\n  hasListener(target, type) {\n    let result = false;\n    utils_1.each(this._listeners, obj => {\n      if (obj.target === target && obj.type === type) {\n        result = true;\n      }\n    });\n    return result;\n  }\n\n  clear() {\n    utils_1.each(this._listeners, obj => {\n      if (obj.target.removeEventListener) {\n        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n      }\n    });\n    this._listeners = {};\n  }\n\n  dispose() {\n    this.clear(); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    this._listeners = null;\n  }\n\n}\n\nexports.EventHandler = EventHandler;\n\n/***/ }),\n\n/***/ \"./internal/LRUCache.js\":\n/*!******************************!*\\\n  !*** ./internal/LRUCache.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LRUCache = void 0;\n\nclass LRUCache {\n  constructor(cacheSize) {\n    this._list = [];\n    this._map = {};\n    this._cacheSize = cacheSize || 50;\n  }\n\n  get(key) {\n    const val = this._map[key];\n\n    if (val) {\n      const list = this._list;\n      const idx = list.indexOf(key);\n      list.splice(idx, 1);\n      list.push(key);\n    }\n\n    return val;\n  }\n\n  put(key, value) {\n    const list = this._list;\n    const map = this._map;\n\n    if (map[key]) {\n      const idx = list.indexOf(key);\n      list.splice(idx, 1);\n    }\n\n    map[key] = value;\n    list.push(key);\n\n    if (list.length > this._cacheSize) {\n      const remKey = list.shift() || \"\";\n      delete map[remKey];\n    }\n  }\n\n}\n\nexports.LRUCache = LRUCache;\n\n/***/ }),\n\n/***/ \"./internal/NumberMap.js\":\n/*!*******************************!*\\\n  !*** ./internal/NumberMap.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.NumberMap = void 0;\n\nconst indexFirst = (arr, elm) => {\n  let low = 0;\n  let high = arr.length - 1;\n\n  while (low <= high) {\n    const i = Math.floor((low + high) / 2);\n\n    if (arr[i] === elm) {\n      return i;\n    } else if (arr[i] > elm) {\n      high = i - 1;\n    } else {\n      low = i + 1;\n    }\n  }\n\n  return high < 0 ? 0 : high;\n};\n\nclass NumberMap {\n  constructor() {\n    this._keys = [];\n    this._vals = {};\n    this._sorted = false;\n  }\n\n  put(key, value) {\n    if (!(key in this._vals)) {\n      this._keys.push(key);\n\n      this._sorted = false;\n    }\n\n    this._vals[key] = value;\n  }\n\n  get(key) {\n    return this._vals[key];\n  }\n\n  has(key) {\n    return this._vals[key] != null;\n  }\n\n  each(keyFrom, keyTo, fn) {\n    const {\n      _keys: keys\n    } = this;\n    const {\n      length\n    } = keys;\n\n    if (!this._sorted) {\n      keys.sort((a, b) => {\n        if (a < b) {\n          return -1;\n        }\n\n        if (a > b) {\n          return 1;\n        }\n\n        return 0;\n      });\n      this._sorted = true;\n    }\n\n    for (let i = indexFirst(keys, keyFrom); i < length; i++) {\n      const key = keys[i];\n\n      if (keyFrom <= key && key <= keyTo) {\n        fn(this.get(key), key);\n      } else if (keyTo < key) {\n        return;\n      }\n    }\n  }\n\n}\n\nexports.NumberMap = NumberMap;\n\n/***/ }),\n\n/***/ \"./internal/Rect.js\":\n/*!**************************!*\\\n  !*** ./internal/Rect.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Rect = void 0;\n\nclass Rect {\n  constructor(left, top, width, height) {\n    this._left = left;\n    this._top = top;\n    this._width = width;\n    this._height = height;\n  }\n\n  static bounds(left, top, right, bottom) {\n    return new Rect(left, top, right - left, bottom - top);\n  }\n\n  static max(rect1, rect2) {\n    return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n  }\n\n  get left() {\n    return this._left;\n  }\n\n  set left(left) {\n    const {\n      right\n    } = this;\n    this._left = left;\n    this.right = right;\n  }\n\n  get top() {\n    return this._top;\n  }\n\n  set top(top) {\n    const {\n      bottom\n    } = this;\n    this._top = top;\n    this.bottom = bottom;\n  }\n\n  get width() {\n    return this._width;\n  }\n\n  set width(width) {\n    this._width = width;\n    this._right = undefined;\n  }\n\n  get height() {\n    return this._height;\n  }\n\n  set height(height) {\n    this._height = height;\n    this._bottom = undefined;\n  }\n\n  get right() {\n    return this._right !== undefined ? this._right : this._right = this.left + this.width;\n  }\n\n  set right(right) {\n    this._right = right;\n    this.width = right - this.left;\n  }\n\n  get bottom() {\n    return this._bottom !== undefined ? this._bottom : this._bottom = this.top + this.height;\n  }\n\n  set bottom(bottom) {\n    this._bottom = bottom;\n    this.height = bottom - this.top;\n  }\n\n  offsetLeft(offset) {\n    this._left += offset;\n    this._right = undefined;\n  }\n\n  offsetTop(offset) {\n    this._top += offset;\n    this._bottom = undefined;\n  }\n\n  copy() {\n    return new Rect(this.left, this.top, this.width, this.height);\n  }\n\n  intersection(rect) {\n    const x0 = Math.max(this.left, rect.left);\n    const x1 = Math.min(this.left + this.width, rect.left + rect.width);\n\n    if (x0 <= x1) {\n      const y0 = Math.max(this.top, rect.top);\n      const y1 = Math.min(this.top + this.height, rect.top + rect.height);\n\n      if (y0 <= y1) {\n        return Rect.bounds(x0, y0, x1, y1);\n      }\n    }\n\n    return null;\n  }\n\n  contains(another) {\n    return this.left <= another.left && this.left + this.width >= another.left + another.width && this.top <= another.top && this.top + this.height >= another.top + another.height;\n  }\n\n  inPoint(x, y) {\n    return this.left <= x && this.left + this.width >= x && this.top <= y && this.top + this.height >= y;\n  }\n\n}\n\nexports.Rect = Rect;\n\n/***/ }),\n\n/***/ \"./internal/Scrollable.js\":\n/*!********************************!*\\\n  !*** ./internal/Scrollable.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Scrollable = void 0;\n\nconst style = __importStar(__webpack_require__(/*! ./style */ \"./internal/style.js\"));\n\nconst EventHandler_1 = __webpack_require__(/*! ./EventHandler */ \"./internal/EventHandler.js\");\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\n\nclass Scrollable {\n  constructor() {\n    this._p = 1;\n    this._handler = new EventHandler_1.EventHandler();\n    this._scrollable = document.createElement(\"div\");\n\n    this._scrollable.classList.add(\"grid-scrollable\");\n\n    this._height = 0;\n    this._width = 0;\n    this._endPointElement = document.createElement(\"div\");\n\n    this._endPointElement.classList.add(\"grid-scroll-end-point\");\n\n    this._update();\n\n    this._scrollable.appendChild(this._endPointElement); // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n    // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n    // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n    // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n    // this.scrollTop += delta < 0 ? point : -point;\n    // });\n\n  }\n\n  calcTop(top) {\n    const relativeTop = top - this.scrollTop;\n    return this._scrollable.scrollTop + relativeTop;\n  }\n\n  getElement() {\n    return this._scrollable;\n  }\n\n  setScrollSize(width, height) {\n    this._width = width;\n    this._height = height;\n\n    this._update();\n  }\n\n  get scrollWidth() {\n    return this._width;\n  }\n\n  set scrollWidth(width) {\n    this._width = width;\n\n    this._update();\n  }\n\n  get scrollHeight() {\n    return this._height;\n  }\n\n  set scrollHeight(height) {\n    this._height = height;\n\n    this._update();\n  }\n\n  get scrollLeft() {\n    return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\n  }\n\n  set scrollLeft(scrollLeft) {\n    this._scrollable.scrollLeft = scrollLeft;\n  }\n\n  get scrollTop() {\n    return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\n  }\n\n  set scrollTop(scrollTop) {\n    this._scrollable.scrollTop = scrollTop * this._p;\n  }\n\n  onScroll(fn) {\n    this._handler.on(this._scrollable, \"scroll\", fn);\n  }\n\n  dispose() {\n    this._handler.dispose();\n  }\n\n  _update() {\n    let domHeight;\n\n    if (this._height > MAX_SCROLL) {\n      const sbSize = style.getScrollBarSize();\n      const {\n        offsetHeight\n      } = this._scrollable;\n      const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n      const rScrollRange = this._height - offsetHeight + sbSize;\n      this._p = vScrollRange / rScrollRange;\n      domHeight = MAX_SCROLL;\n    } else {\n      this._p = 1;\n      domHeight = this._height;\n    }\n\n    this._endPointElement.style.top = `${domHeight.toFixed()}px`;\n    this._endPointElement.style.left = `${this._width.toFixed()}px`;\n  }\n\n}\n\nexports.Scrollable = Scrollable;\n\n/***/ }),\n\n/***/ \"./internal/animate.js\":\n/*!*****************************!*\\\n  !*** ./internal/animate.js ***!\n  \\*****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.animate = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nfunction cubicBezier(x2, y2, x3, y3) {\n  let step;\n  const err = 0.0001;\n  x2 *= 3;\n  y2 *= 3;\n  x3 *= 3;\n  y3 *= 3;\n  return function (t) {\n    let p, a, b, c, d, x, s;\n\n    if (t < 0 || 1 < t) {\n      throw new Error(`${t}`);\n    }\n\n    p = step || t;\n\n    do {\n      a = 1 - p;\n      b = a * a;\n      c = p * p;\n      d = c * p;\n      x = x2 * b * p + x3 * a * c + d;\n      s = t - x;\n      p += s * 0.5;\n    } while (err < Math.abs(s));\n\n    step = p;\n    return y2 * b * p + y3 * a * c + d;\n  };\n}\n\nconst EASINGS = {\n  linear(p) {\n    return p;\n  },\n\n  easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\n  easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\n  easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0)\n};\nconst raf = utils_1.isNode ? () => {} : window.requestAnimationFrame || ( // eslint-disable-next-line @typescript-eslint/no-explicit-any\nfn => setTimeout(fn, 1));\n\nfunction now() {\n  return Date.now();\n}\n/**\n * <pre>\n * Animates.\n * </pre>\n * @function\n * @param {number} duration animation time.\n * @param {function} step step\n * @param {function|string} easing easing\n * @returns {object} Deferred object.\n */\n\n\nfunction animate(duration, step, easing) {\n  const startedAt = now();\n  const easingFn = easing == null ? EASINGS.easeInOut : typeof easing === \"string\" ? EASINGS[easing] : easing;\n  let canceledFlg = false;\n\n  const createAnim = (resolve, reject) => {\n    const anim = () => {\n      const point = now() - startedAt;\n\n      if (canceledFlg) {\n        //cancel\n        if (reject) {\n          reject();\n        }\n      } else if (point >= duration) {\n        //end\n        step(1);\n\n        if (resolve) {\n          resolve();\n        }\n      } else {\n        step(easingFn(point / duration));\n        raf(anim);\n      }\n    };\n\n    return anim;\n  };\n\n  const cancel = () => {\n    canceledFlg = true;\n  };\n\n  if (typeof Promise !== \"undefined\") {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const result = new Promise((resolve, reject) => {\n      const anim = createAnim(resolve, reject);\n      step(0);\n      anim();\n    });\n    result.cancel = cancel;\n    return result;\n  } else {\n    const anim = createAnim(() => {}, () => {});\n    step(0);\n    anim();\n    return {\n      cancel\n    };\n  }\n}\n\nexports.animate = animate;\n\n/***/ }),\n\n/***/ \"./internal/calc.js\":\n/*!**************************!*\\\n  !*** ./internal/calc.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.toPx = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nconst TYPE_PAREN = 0;\nconst TYPE_UNIT = 1;\nconst TYPE_OPERATOR = 2;\nconst TYPE_NUMBER = 3;\nconst NODE_TYPE_UNIT = 10;\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\nconst NODE_TYPE_NUMBER = 12;\nconst TABULATION = 0x09;\nconst CARRIAGE_RETURN = 0x0d;\nconst LINE_FEED = 0x0a;\nconst FORM_FEED = 0x0c;\nconst SPACE = 0x20;\nconst PERCENT = 0x25;\nconst FULL_STOP = 0x2e;\nconst DIGIT_0 = 0x30;\nconst DIGIT_9 = 0x39;\nconst LATIN_CAPITAL_A = 0x41;\nconst LATIN_CAPITAL_Z = 0x5a;\nconst LATIN_SMALL_A = 0x61;\nconst LATIN_SMALL_Z = 0x7a;\n\nfunction isUpperLetter(cp) {\n  return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\n}\n\nfunction isLowerLetter(cp) {\n  return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\n}\n\nfunction isLetter(cp) {\n  return isLowerLetter(cp) || isUpperLetter(cp);\n}\n\nfunction isWhitespace(cp) {\n  return cp === TABULATION || cp === LINE_FEED || cp === FORM_FEED || cp === CARRIAGE_RETURN || cp === SPACE;\n}\n\nfunction isDigit(cp) {\n  return cp >= DIGIT_0 && cp <= DIGIT_9;\n}\n\nfunction isDot(cp) {\n  return cp === FULL_STOP;\n}\n\nfunction isUnit(cp) {\n  return isLetter(cp) || cp === PERCENT;\n}\n\nfunction createError(calc) {\n  return new Error(`calc parse error: ${calc}`);\n}\n/**\n * tokenize\n * @param {string} calc calc expression\n * @returns {Array} tokens\n * @private\n */\n\n\nfunction tokenize(calc) {\n  const exp = calc.replace(/calc\\(/g, \"(\").trim();\n  const tokens = [];\n  const len = exp.length;\n\n  for (let index = 0; index < len; index++) {\n    const c = exp[index];\n    const cp = c.charCodeAt(0);\n\n    if (c === \"(\" || c === \")\") {\n      tokens.push({\n        value: c,\n        type: TYPE_PAREN\n      });\n    } else if (c === \"*\" || c === \"/\") {\n      tokens.push({\n        value: c,\n        type: TYPE_OPERATOR\n      });\n    } else if (c === \"+\" || c === \"-\") {\n      index = parseSign(c, index + 1) - 1;\n    } else if (isDigit(cp) || isDot(cp)) {\n      index = parseNum(c, index + 1) - 1;\n    } else if (isWhitespace(cp)) {// skip\n    } else {\n      throw createError(calc);\n    }\n  }\n\n  function parseSign(sign, start) {\n    if (start < len) {\n      const c = exp[start];\n      const cp = c.charCodeAt(0);\n\n      if (isDigit(cp) || isDot(cp)) {\n        return parseNum(sign + c, start + 1);\n      }\n    }\n\n    tokens.push({\n      value: sign,\n      type: TYPE_OPERATOR\n    });\n    return start;\n  }\n\n  function parseNum(num, start) {\n    let index = start;\n\n    for (; index < len; index++) {\n      const c = exp[index];\n      const cp = c.charCodeAt(0);\n\n      if (isDigit(cp)) {\n        num += c;\n      } else if (c === \".\") {\n        if (num.indexOf(\".\") >= 0) {\n          throw createError(calc);\n        }\n\n        num += c;\n      } else if (isUnit(cp)) {\n        return parseUnit(num, c, index + 1);\n      } else {\n        break;\n      }\n    }\n\n    if (num === \".\") {\n      throw createError(calc);\n    }\n\n    tokens.push({\n      value: parseFloat(num),\n      type: TYPE_NUMBER\n    });\n    return index;\n  }\n\n  function parseUnit(num, unit, start) {\n    let index = start;\n\n    for (; index < len; index++) {\n      const c = exp[index];\n      const cp = c.charCodeAt(0);\n\n      if (isUnit(cp)) {\n        unit += c;\n      } else {\n        break;\n      }\n    }\n\n    tokens.push({\n      value: parseFloat(num),\n      unit,\n      type: TYPE_UNIT\n    });\n    return index;\n  }\n\n  return tokens;\n}\n\nconst PRECEDENCE = {\n  \"*\": 3,\n  \"/\": 3,\n  \"+\": 2,\n  \"-\": 2\n};\n\nfunction lex(tokens, calc) {\n  function buildBinaryExpNode(stack) {\n    const right = stack.pop();\n    const op = stack.pop();\n    const left = stack.pop();\n\n    if (!left || !left.nodeType || !op || op.type !== TYPE_OPERATOR || !right || !right.nodeType) {\n      throw createError(calc);\n    }\n\n    return {\n      nodeType: NODE_TYPE_BINARY_EXPRESSION,\n      left,\n      op,\n      right\n    };\n  }\n\n  const stack = [];\n\n  while (tokens.length) {\n    const token = tokens.shift();\n\n    if (token.type === TYPE_PAREN && token.value === \"(\") {\n      let deep = 0;\n      const closeIndex = utils_1.array.findIndex(tokens, t => {\n        if (t.type === TYPE_PAREN && t.value === \"(\") {\n          deep++;\n        } else if (t.type === TYPE_PAREN && t.value === \")\") {\n          if (!deep) {\n            return true;\n          }\n\n          deep--;\n        }\n\n        return false;\n      });\n\n      if (closeIndex === -1) {\n        throw createError(calc);\n      }\n\n      stack.push(lex(tokens.splice(0, closeIndex), calc));\n      tokens.shift();\n    } else if (token.type === TYPE_OPERATOR) {\n      if (stack.length >= 3) {\n        const beforeOp = stack[stack.length - 2].value;\n\n        if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\n          stack.push(buildBinaryExpNode(stack));\n        }\n      }\n\n      stack.push(token);\n    } else if (token.type === TYPE_UNIT) {\n      const {\n        value: num,\n        unit\n      } = token;\n      stack.push({\n        nodeType: NODE_TYPE_UNIT,\n        value: num,\n        unit\n      });\n    } else if (token.type === TYPE_NUMBER) {\n      stack.push({\n        nodeType: NODE_TYPE_NUMBER,\n        value: token.value\n      });\n    }\n  }\n\n  while (stack.length > 1) {\n    stack.push(buildBinaryExpNode(stack));\n  }\n\n  return stack[0];\n}\n\nfunction parse(calcStr) {\n  const tokens = tokenize(calcStr);\n  return lex(tokens, calcStr);\n}\n\nfunction calcNode(node, context) {\n  if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\n    const left = calcNode(node.left, context);\n    const right = calcNode(node.right, context);\n\n    switch (node.op.value) {\n      case \"+\":\n        return left + right;\n\n      case \"-\":\n        return left - right;\n\n      case \"*\":\n        return left * right;\n\n      case \"/\":\n        return left / right;\n\n      default:\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        throw new Error(`calc error. unknown operator: ${node.op.value}`);\n    }\n  } else if (node.nodeType === NODE_TYPE_UNIT) {\n    switch (node.unit) {\n      case \"%\":\n        return node.value * context.full / 100;\n\n      case \"em\":\n        return node.value * context.em;\n\n      case \"px\":\n        return node.value;\n\n      default:\n        throw new Error(`calc error. unknown unit: ${node.unit}`);\n    }\n  } else if (node.nodeType === NODE_TYPE_NUMBER) {\n    return node.value;\n  }\n\n  throw new Error(\"calc error.\");\n}\n\nfunction toPxInternal(value, context) {\n  const ast = parse(value);\n  return calcNode(ast, context);\n}\n\nfunction toPx(value, context) {\n  if (typeof value === \"string\") {\n    return toPxInternal(value.trim(), context);\n  }\n\n  return value - 0;\n}\n\nexports.toPx = toPx;\n\n/***/ }),\n\n/***/ \"./internal/canvases.js\":\n/*!******************************!*\\\n  !*** ./internal/canvases.js ***!\n  \\******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\nconst fontSizeCache = {};\n\nfunction getFontSize(ctx, font) {\n  const fontName = font || ctx.font;\n\n  if (fontSizeCache[fontName]) {\n    return fontSizeCache[fontName];\n  }\n\n  const bk = ctx.font;\n\n  try {\n    ctx.font = fontName;\n    const em = ctx.measureText(\"\").width;\n    return fontSizeCache[fontName] = {\n      width: em,\n      height: em\n    };\n  } finally {\n    ctx.font = bk;\n  }\n}\n\nexports.getFontSize = getFontSize;\n\nfunction calcBasePosition(ctx, rect, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  return calcStartPosition(ctx, rect, 0, 0, {\n    offset,\n    padding: {\n      left: paddingLeft,\n      right: paddingRight,\n      top: paddingTop,\n      bottom: paddingBottom\n    }\n  });\n}\n\nexports.calcBasePosition = calcBasePosition;\n\nfunction calcStartPosition(ctx, rect, width, height, {\n  offset = 0,\n  padding: {\n    left: paddingLeft = 0,\n    right: paddingRight = 0,\n    top: paddingTop = 0,\n    bottom: paddingBottom = 0\n  } = {}\n} = {}) {\n  const textAlign = ctx.textAlign || \"left\";\n  const textBaseline = ctx.textBaseline || \"middle\";\n  ctx.textAlign = textAlign;\n  ctx.textBaseline = textBaseline;\n  let x = rect.left + offset + paddingLeft;\n\n  if (textAlign === \"right\" || textAlign === \"end\") {\n    x = rect.right - width - offset - paddingRight;\n  } else if (textAlign === \"center\") {\n    x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n  }\n\n  let y = rect.top + offset + paddingTop;\n\n  if (textBaseline === \"bottom\" || textBaseline === \"alphabetic\" || textBaseline === \"ideographic\") {\n    y = rect.bottom - height - offset - paddingBottom;\n  } else if (textBaseline === \"middle\") {\n    y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n  }\n\n  return {\n    x,\n    y\n  };\n}\n\nexports.calcStartPosition = calcStartPosition;\n\n/***/ }),\n\n/***/ \"./internal/color.js\":\n/*!***************************!*\\\n  !*** ./internal/color.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.colorToRGB = void 0;\nconst rgbMap = {};\n\nfunction styleColorToRGB(color) {\n  const dummy = document.createElement(\"div\");\n  const {\n    style\n  } = dummy;\n  style.color = color;\n  style.position = \"fixed\";\n  style.height = \"1px\";\n  style.width = \"1px\";\n  style.opacity = \"0\";\n  document.body.appendChild(dummy);\n  const {\n    color: styleColor\n  } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n  document.body.removeChild(dummy);\n  return colorToRGB0(styleColor || \"\");\n}\n\nfunction hexToNum(hex) {\n  return parseInt(hex, 16);\n}\n\nfunction createRGB(r, g, b, a = 1) {\n  return {\n    r,\n    g,\n    b,\n    a\n  };\n}\n\nfunction tripleHexToRGB({\n  1: r,\n  2: g,\n  3: b\n}) {\n  return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\n\nfunction sextupleHexToRGB({\n  1: r1,\n  2: r2,\n  3: g1,\n  4: g2,\n  5: b1,\n  6: b2\n}) {\n  return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\n\nfunction testRGB({\n  r,\n  g,\n  b,\n  a\n}) {\n  return 0 <= r && r <= 255 && 0 <= g && g <= 255 && 0 <= b && b <= 255 && 0 <= a && a <= 1;\n}\n\nfunction rateToByte(r) {\n  return Math.ceil(r * 255 / 100);\n}\n\nfunction colorToRGB0(color) {\n  if (/^#[0-9a-f]{3}$/i.exec(color)) {\n    return tripleHexToRGB(color);\n  }\n\n  if (/^#[0-9a-f]{6}$/i.exec(color)) {\n    return sextupleHexToRGB(color);\n  }\n\n  let ret = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i.exec(color);\n\n  if (ret) {\n    const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n\n  if (ret) {\n    const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]));\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = /^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i.exec(color);\n\n  if (ret) {\n    const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])));\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  ret = /^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n\n  if (ret) {\n    const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])), Number(ret[7]));\n\n    if (testRGB(rgb)) {\n      return rgb;\n    }\n  }\n\n  return null;\n}\n\nfunction colorToRGB(color) {\n  if (typeof color !== \"string\") {\n    return createRGB(0, 0, 0, 0);\n  }\n\n  color = color.toLowerCase().trim();\n\n  if (rgbMap[color]) {\n    return rgbMap[color];\n  }\n\n  return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\n\nexports.colorToRGB = colorToRGB;\n\n/***/ }),\n\n/***/ \"./internal/dom.js\":\n/*!*************************!*\\\n  !*** ./internal/dom.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\n\nfunction createElement(tagName, {\n  classList,\n  text,\n  html\n} = {}) {\n  const element = document.createElement(tagName);\n\n  if (classList) {\n    if (Array.isArray(classList)) {\n      element.classList.add(...classList);\n    } else {\n      element.classList.add(classList);\n    }\n  }\n\n  if (text) {\n    element.textContent = text;\n  } else if (html) {\n    element.innerHTML = html;\n  }\n\n  return element;\n}\n\nexports.createElement = createElement;\n\nfunction empty(dom) {\n  let c;\n\n  while (c = dom.firstChild) {\n    dom.removeChild(c);\n  }\n}\n\nexports.empty = empty;\n\nfunction isNode(arg) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return !!(arg.nodeType && arg.nodeName);\n}\n\nfunction toNode(arg) {\n  if (isNode(arg)) {\n    return arg;\n  }\n\n  const dom = createElement(\"div\", {\n    html: arg\n  });\n  return Array.prototype.slice.call(dom.childNodes);\n}\n\nfunction toNodeList(arg) {\n  if (Array.isArray(arg)) {\n    const result = [];\n    arg.forEach(e => {\n      result.push(...toNodeList(e));\n    });\n    return result;\n  }\n\n  const node = toNode(arg);\n  return Array.isArray(node) ? node : [node];\n}\n\nexports.toNodeList = toNodeList;\n\nfunction appendHtml(dom, inner) {\n  toNodeList(inner).forEach(node => {\n    dom.appendChild(node);\n  });\n}\n\nexports.appendHtml = appendHtml;\n\nfunction disableFocus(el) {\n  el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\n  el.tabIndex = -1;\n  Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\n\nexports.disableFocus = disableFocus;\n\nfunction enableFocus(el) {\n  if (\"disableBeforeTabIndex\" in el.dataset) {\n    el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\n  }\n\n  Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\n\nexports.enableFocus = enableFocus;\n\nfunction isFocusable(el) {\n  return el.tabIndex != null && el.tabIndex > -1;\n}\n\nexports.isFocusable = isFocusable;\n\nfunction findPrevSiblingFocusable(el) {\n  let n = el.previousSibling;\n\n  while (n && !isFocusable(n)) {\n    n = n.previousSibling;\n  }\n\n  return n;\n}\n\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\n\nfunction findNextSiblingFocusable(el) {\n  let n = el.nextSibling;\n\n  while (n && !isFocusable(n)) {\n    n = n.nextSibling;\n  }\n\n  return n;\n}\n\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\n\n/***/ }),\n\n/***/ \"./internal/fonts.js\":\n/*!***************************!*\\\n  !*** ./internal/fonts.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.load = exports.check = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nconst loads = {};\nlet load;\nexports.load = load;\nlet check;\nexports.check = check;\n\nif (utils_1.isNode) {\n  exports.load = load = function (_font, _testStr, callback) {\n    callback();\n  };\n\n  exports.check = check = function () {\n    return false;\n  };\n} else {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const fontFaceSet = document.fonts;\n  const legacy = !fontFaceSet;\n  exports.load = load = legacy ? function (font, testStr, callback) {\n    //for legacy(IE)\n    if (loads[`${font} @ ${testStr}`]) {\n      callback();\n      return;\n    } // eslint-disable-next-line @typescript-eslint/no-var-requires\n\n\n    __webpack_require__(/*! ./legacy/fontwatch/FontWatchRunner */ \"./internal/legacy/fontwatch/FontWatchRunner.js\").load(font, testStr, () => {\n      loads[`${font} @ ${testStr}`] = true;\n      callback();\n    }, () => {\n      loads[`${font} @ ${testStr}`] = true;\n      callback();\n    });\n  } : function (font, _testStr, callback) {\n    if (loads.all || loads[font]) {\n      callback();\n      return;\n    }\n\n    fontFaceSet.ready.then(() => {\n      loads.all = true;\n    });\n    fontFaceSet.load(font).then(() => {\n      loads[font] = true;\n      callback();\n    });\n  };\n  exports.check = check = legacy ? function (font, testStr) {\n    //for legacy(IE)\n    if (loads[`${font} @ ${testStr}`]) {\n      return true;\n    }\n\n    load(font, testStr, () => {});\n    return false;\n  } : function (font, testStr) {\n    if (loads.all || loads[font]) {\n      return true;\n    }\n\n    if (!fontFaceSet.check(font)) {\n      load(font, testStr, () => {});\n      return false;\n    }\n\n    return true;\n  };\n}\n\n/***/ }),\n\n/***/ \"./internal/hiDPI.js\":\n/*!***************************!*\\\n  !*** ./internal/hiDPI.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transform = void 0;\n\nconst EventHandler_1 = __webpack_require__(/*! ./EventHandler */ \"./internal/EventHandler.js\");\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nconst handler = new EventHandler_1.EventHandler();\nlet ratio = 1;\n\nfunction setRatio() {\n  if (utils_1.isNode) {\n    ratio = 1;\n  } else {\n    ratio = Math.ceil(window.devicePixelRatio || 1);\n\n    if (ratio > 1 && ratio % 2 !== 0) {\n      ratio += 1;\n    }\n  }\n}\n\nsetRatio();\n\nif (!utils_1.isNode) {\n  handler.on(window, \"resize\", setRatio);\n}\n\nfunction transform(canvas) {\n  const ctx = canvas.getContext(\"2d\");\n  const {\n    getAttribute,\n    setAttribute\n  } = canvas;\n\n  canvas.getAttribute = function (name) {\n    let result = getAttribute.call(this, name);\n\n    if (name === \"width\" || name === \"height\") {\n      result = `${Number(result) / ratio}`;\n    }\n\n    return result;\n  };\n\n  canvas.setAttribute = function (name, val) {\n    const wh = name === \"width\" || name === \"height\";\n\n    if (wh) {\n      val = `${Number(val) * ratio}`;\n    }\n\n    const result = setAttribute.call(this, name, val);\n\n    if (wh) {\n      ctx.scale(ratio, ratio);\n    }\n\n    return result;\n  };\n\n  Object.defineProperty(canvas, \"width\", {\n    get() {\n      return Number(canvas.getAttribute(\"width\"));\n    },\n\n    set: val => {\n      canvas.setAttribute(\"width\", `${Math.floor(val)}`);\n    },\n    configurable: true,\n    enumerable: true\n  });\n  Object.defineProperty(canvas, \"height\", {\n    get() {\n      return Number(canvas.getAttribute(\"height\"));\n    },\n\n    set: val => {\n      canvas.setAttribute(\"height\", `${Math.floor(val)}`);\n    },\n    configurable: true,\n    enumerable: true\n  });\n  const {\n    drawImage\n  } = ctx; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n  ctx.drawImage = function (img, ...args) {\n    if (img !== canvas || ratio === 1) {\n      return drawImage.call(this, img, ...args);\n    }\n\n    this.save();\n\n    try {\n      this.scale(1 / ratio, 1 / ratio);\n\n      if (args.length > 4) {\n        args[4] *= ratio;\n        args[5] *= ratio;\n      } else {\n        args[0] *= ratio;\n        args[1] *= ratio;\n      }\n\n      return drawImage.call(this, img, ...args);\n    } finally {\n      this.restore();\n    }\n  };\n\n  return canvas;\n}\n\nexports.transform = transform;\n\n/***/ }),\n\n/***/ \"./internal/icons.js\":\n/*!***************************!*\\\n  !*** ./internal/icons.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.iconPropKeys = exports.toNormarizeArray = exports.getIconProps = void 0;\nconst ICON_PROP_KEYS = [\"content\", \"font\", \"color\", \"className\", \"tagName\", \"isLiga\", \"width\", \"src\", \"svg\", \"name\", \"path\"];\n\nfunction quote(name) {\n  const quoted = [];\n  const split = name.split(/,\\s*/);\n\n  for (let i = 0; i < split.length; i++) {\n    const part = split[i].replace(/['\"]/g, \"\");\n\n    if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\n      quoted.push(part);\n    } else {\n      quoted.push(`'${part}'`);\n    }\n  }\n\n  return quoted.join(\",\");\n}\n\nconst doms = {};\nconst props = {};\n\nfunction getIconProps(tagName, className) {\n  const tagProps = props[tagName] || (props[tagName] = {});\n\n  if (tagProps[className]) {\n    return tagProps[className];\n  }\n\n  const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n  dom.className = className;\n  document.body.appendChild(dom);\n\n  try {\n    const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\n    let content = beforeStyle.getPropertyValue(\"content\");\n\n    if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\n      if (content[0] === content[content.length - 1]) {\n        content = content.substr(1, content.length - 2);\n      }\n    }\n\n    let font = beforeStyle.getPropertyValue(\"font\");\n\n    if (!font) {\n      font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\n    }\n\n    const color = beforeStyle.getPropertyValue(\"color\");\n    const width = dom.clientWidth;\n    const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\n    return tagProps[className] = {\n      content,\n      font,\n      color,\n      width,\n      isLiga\n    };\n  } finally {\n    document.body.removeChild(dom);\n  }\n}\n\nexports.getIconProps = getIconProps;\n\nfunction toPropArray(prop, count) {\n  const result = [];\n\n  if (Array.isArray(prop)) {\n    result.push(...prop);\n\n    for (let i = prop.length; i < count; i++) {\n      result.push(null);\n    }\n  } else {\n    for (let i = 0; i < count; i++) {\n      result.push(prop);\n    }\n  }\n\n  return result;\n}\n\nfunction toSimpleArray(iconProps) {\n  if (!iconProps) {\n    return iconProps;\n  } else if (Array.isArray(iconProps)) {\n    return iconProps;\n  }\n\n  const workData = {};\n  let count = 0;\n  ICON_PROP_KEYS.forEach(k => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const prop = iconProps[k];\n\n    if (prop) {\n      if (Array.isArray(prop)) {\n        count = Math.max(count, prop.length);\n      } else {\n        count = Math.max(count, 1);\n      }\n    }\n  });\n  ICON_PROP_KEYS.forEach(k => {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const arr = toPropArray(iconProps[k], count); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    workData[k] = arr;\n  });\n  const result = [];\n\n  for (let i = 0; i < count; i++) {\n    const data = {};\n    ICON_PROP_KEYS.forEach(k => {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      const val = workData[k][i]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n      data[k] = val;\n    });\n    result.push(data);\n  }\n\n  return result;\n}\n\nfunction normarize(iconProps) {\n  const data = {};\n\n  for (const k in iconProps) {\n    if (k === \"className\") {\n      continue;\n    }\n\n    if (isIconKey(k)) {\n      // eslint-disable-next-line @typescript-eslint/no-explicit-any\n      data[k] = iconProps[k];\n    }\n  }\n\n  if (iconProps.className) {\n    const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\n\n    for (const k in prop) {\n      if (isIconKey(k)) {\n        if (iconProps[k] == null) {\n          // eslint-disable-next-line @typescript-eslint/no-explicit-any\n          data[k] = prop[k];\n        }\n      }\n    }\n  }\n\n  return data;\n}\n\nfunction toNormarizeArray(iconProps) {\n  const icons = toSimpleArray(iconProps);\n\n  if (!icons) {\n    return icons;\n  }\n\n  return icons.map(icon => normarize(icon));\n}\n\nexports.toNormarizeArray = toNormarizeArray;\nexports.iconPropKeys = ICON_PROP_KEYS;\n\nfunction isIconKey(k) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  return ICON_PROP_KEYS.indexOf(k) >= 0;\n}\n\n/***/ }),\n\n/***/ \"./internal/imgs.js\":\n/*!**************************!*\\\n  !*** ./internal/imgs.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCacheOrLoad = exports.loadImage = void 0;\n\nconst LRUCache_1 = __webpack_require__(/*! ./LRUCache */ \"./internal/LRUCache.js\");\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nconst allCache = {};\n\nfunction loadImage(src) {\n  if (typeof Promise === \"undefined\") {\n    console.error(\"Promise is not loaded. load Promise before this process.\");\n    return {\n      then() {\n        return this;\n      }\n\n    };\n  }\n\n  const img = new Image();\n  const result = new Promise(resolve => {\n    img.onload = () => {\n      resolve(img);\n    };\n  });\n\n  img.onerror = () => {\n    const url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n    console.warn(`cannot load: ${url}`);\n    throw new Error(`IMAGE LOAD ERROR: ${url}`);\n  };\n\n  img.src = src;\n  return result;\n}\n\nexports.loadImage = loadImage;\n\nfunction getCacheOrLoad0(cache, src) {\n  return utils_1.then(src, src => {\n    const c = cache.get(src);\n\n    if (c) {\n      return c;\n    }\n\n    const result = loadImage(src).then(img => {\n      cache.put(src, img);\n      return img;\n    });\n    cache.put(src, result);\n    return result;\n  });\n}\n\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n  const cache = allCache[cacheName] || (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\n  return getCacheOrLoad0(cache, src);\n}\n\nexports.getCacheOrLoad = getCacheOrLoad;\n\n/***/ }),\n\n/***/ \"./internal/legacy/canvas/Path2DShim.js\":\n/*!**********************************************!*\\\n  !*** ./internal/legacy/canvas/Path2DShim.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Path2DShim = void 0;\n\nconst PathCommandsParser_1 = __webpack_require__(/*! ./PathCommandsParser */ \"./internal/legacy/canvas/PathCommandsParser.js\");\n\nconst parser = new PathCommandsParser_1.PathCommandsParser();\n\nclass Path2DShim {\n  constructor(arg) {\n    this._ops = [];\n\n    if (arg === undefined) {\n      return;\n    }\n\n    if (typeof arg === \"string\") {\n      // try {\n      this._ops = parser.parse(arg); // } catch (e) {\n      // \tthrow e;\n      // }\n    } else if (arg.hasOwnProperty(\"_ops\")) {\n      this._ops = [...arg._ops];\n    } else {\n      throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n    }\n  }\n\n  arc(...args) {\n    this._ops.push({\n      op: \"arc\",\n      args\n    });\n  }\n\n  arcTo(...args) {\n    this._ops.push({\n      op: \"arcTo\",\n      args\n    });\n  }\n\n  bezierCurveTo(...args) {\n    this._ops.push({\n      op: \"bezierCurveTo\",\n      args\n    });\n  }\n\n  closePath(...args) {\n    this._ops.push({\n      op: \"closePath\",\n      args\n    });\n  }\n\n  ellipse(...args) {\n    this._ops.push({\n      op: \"ellipse\",\n      args\n    });\n  }\n\n  lineTo(...args) {\n    this._ops.push({\n      op: \"lineTo\",\n      args\n    });\n  }\n\n  moveTo(...args) {\n    this._ops.push({\n      op: \"moveTo\",\n      args\n    });\n  }\n\n  quadraticCurveTo(...args) {\n    this._ops.push({\n      op: \"quadraticCurveTo\",\n      args\n    });\n  }\n\n  rect(...args) {\n    this._ops.push({\n      op: \"rect\",\n      args\n    });\n  }\n\n}\n\nexports.Path2DShim = Path2DShim;\nconst {\n  CanvasRenderingContext2D\n} = window;\nconst originalFill = CanvasRenderingContext2D.prototype.fill; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n  if (args[0] instanceof Path2DShim) {\n    const path = args[0];\n    this.beginPath();\n\n    path._ops.forEach(op => {\n      const fn = this[op.op];\n      fn.apply(this, op.args);\n    });\n\n    originalFill.apply(this, Array.prototype.slice.call(args, 1));\n  } else {\n    originalFill.apply(this, args);\n  }\n};\n\n/***/ }),\n\n/***/ \"./internal/legacy/canvas/PathCommands.js\":\n/*!************************************************!*\\\n  !*** ./internal/legacy/canvas/PathCommands.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PathCommands = void 0;\n/*eslint new-cap: \"off\"*/\n\nfunction mag(v) {\n  return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\n\nfunction dot(u, v) {\n  return u[0] * v[0] + u[1] * v[1];\n}\n\nfunction ratio(u, v) {\n  return dot(u, v) / (mag(u) * mag(v));\n}\n\nfunction clamp(value, min, max) {\n  return Math.min(Math.max(value, min), max);\n}\n\nfunction angle(u, v) {\n  let sign = 1.0;\n\n  if (u[0] * v[1] - u[1] * v[0] < 0) {\n    sign = -1.0;\n  }\n\n  return sign * Math.acos(clamp(ratio(u, v), -1, 1));\n}\n\nfunction rotClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\n\nfunction rotCounterClockwise(v, angle) {\n  const cost = Math.cos(angle);\n  const sint = Math.sin(angle);\n  return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\n\nfunction midPoint(u, v) {\n  return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\n\nfunction meanVec(u, v) {\n  return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\n\nfunction pointMul(u, v) {\n  return [u[0] * v[0], u[1] * v[1]];\n}\n\nfunction scale(c, v) {\n  return [c * v[0], c * v[1]];\n}\n\nfunction sum(u, v) {\n  return [u[0] + v[0], u[1] + v[1]];\n} // Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\n\n\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n  // Convert from endpoint to center parametrization, as detailed in:\n  //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n  if (rx === 0 || ry === 0) {\n    ctx.lineTo(x2, x1);\n    return;\n  }\n\n  phi *= Math.PI / 180.0;\n  rx = Math.abs(rx);\n  ry = Math.abs(ry);\n  const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\n\n  const xPrime2 = pointMul(xPrime, xPrime);\n  let rx2 = Math.pow(rx, 2);\n  let ry2 = Math.pow(ry, 2);\n  const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n\n  if (lambda > 1) {\n    rx *= lambda;\n    ry *= lambda;\n    rx2 = Math.pow(rx, 2);\n    ry2 = Math.pow(ry, 2);\n  }\n\n  let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) / (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n\n  if (fA === fS) {\n    factor *= -1.0;\n  }\n\n  const cPrime = scale(factor, [rx * xPrime[1] / ry, -ry * xPrime[0] / rx]); // F.6.5.2\n\n  const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\n\n  const x1UnitVector = [(xPrime[0] - cPrime[0]) / rx, (xPrime[1] - cPrime[1]) / ry];\n  const x2UnitVector = [(-1.0 * xPrime[0] - cPrime[0]) / rx, (-1.0 * xPrime[1] - cPrime[1]) / ry];\n  const theta = angle([1, 0], x1UnitVector); // F.6.5.5\n\n  const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n\n  const start = theta;\n  const end = theta + deltaTheta;\n  ctx.save();\n  ctx.translate(c[0], c[1]);\n  ctx.rotate(phi);\n  ctx.scale(rx, ry);\n  ctx.arc(0, 0, 1, start, end, !fS);\n  ctx.restore();\n}\n\nclass PathCommands {\n  constructor(ctx) {\n    let lMx;\n    let lMy;\n    let lx = 0;\n    let ly = 0;\n    let reflected;\n    let lastCommand = \"\";\n\n    function makeReflected() {\n      if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\n        return {\n          x: lx,\n          y: ly\n        };\n      }\n\n      return reflected;\n    }\n\n    this.M = (px, py) => {\n      ctx.moveTo(px, py);\n      lMx = px;\n      lMy = py;\n      lx = px;\n      ly = py;\n      lastCommand = \"M\";\n      return this;\n    };\n\n    this.m = (px, py) => this.M(px + lx, py + ly);\n\n    this.L = (px, py) => {\n      ctx.lineTo(px, py);\n      lx = px;\n      ly = py;\n      lastCommand = \"L\";\n      return this;\n    };\n\n    this.l = (px, py) => this.L(px + lx, py + ly);\n\n    this.H = px => this.L(px, ly);\n\n    this.h = px => this.H(px + lx);\n\n    this.V = py => this.L(lx, py);\n\n    this.v = py => this.V(py + ly);\n\n    this.Z = () => {\n      ctx.closePath();\n      lx = lMx;\n      ly = lMy;\n      lastCommand = \"Z\";\n      return this;\n    };\n\n    this.z = () => this.Z(); //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n\n\n    this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n      ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cp2x,\n        y: 2 * py - cp2y\n      };\n      lastCommand = \"C\";\n      return this;\n    };\n\n    this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly); //S x2 y2, x y (or s dx2 dy2, dx dy)\n\n\n    this.S = (cpx, cpy, px, py) => {\n      const {\n        x: cp1x,\n        y: cp1y\n      } = makeReflected();\n      return this.C(cp1x, cp1y, cpx, cpy, px, py);\n    };\n\n    this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly); //Q x1 y1, x y (or q dx1 dy1, dx dy)\n\n\n    this.Q = (cpx, cpy, px, py) => {\n      ctx.quadraticCurveTo(cpx, cpy, px, py);\n      lx = px;\n      ly = py;\n      reflected = {\n        x: 2 * px - cpx,\n        y: 2 * py - cpy\n      };\n      lastCommand = \"Q\";\n      return this;\n    };\n\n    this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly); //T x y (or t dx dy)\n\n\n    this.T = (px, py) => {\n      const {\n        x: cpx,\n        y: cpy\n      } = makeReflected();\n      return this.Q(cpx, cpy, px, py);\n    };\n\n    this.t = (px, py) => this.T(px + lx, py + ly); //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n\n\n    this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n      const x1 = lx;\n      const y1 = ly;\n      ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n      lx = px;\n      ly = py;\n      lastCommand = \"A\";\n      return this;\n    }; //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n\n\n    this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n  }\n\n}\n\nexports.PathCommands = PathCommands;\n\n/***/ }),\n\n/***/ \"./internal/legacy/canvas/PathCommandsParser.js\":\n/*!******************************************************!*\\\n  !*** ./internal/legacy/canvas/PathCommandsParser.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.PathCommandsParser = void 0;\n\nconst PathCommands_1 = __webpack_require__(/*! ./PathCommands */ \"./internal/legacy/canvas/PathCommands.js\");\n\nfunction pathTokens(d) {\n  let idx = 0;\n  return {\n    next() {\n      let s = \"\";\n\n      while (d.length > idx) {\n        const c = d[idx];\n        idx++;\n\n        if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\n          if (s) {\n            return s;\n          }\n        } else {\n          const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\n\n          if (type === \"str\") {\n            if (s) {\n              idx--;\n              return s;\n            }\n\n            return c;\n          }\n\n          if (\"-+\".indexOf(c) > -1) {\n            if (s) {\n              idx--;\n              return s;\n            }\n          }\n\n          if (c === \".\") {\n            if (s.indexOf(\".\") > -1) {\n              idx--;\n              return s;\n            }\n          }\n\n          s += c;\n        }\n      }\n\n      return s || null;\n    }\n\n  };\n}\n\nfunction command(builder, cmd, argsProvider) {\n  if (cmd.toUpperCase() === \"M\" || cmd.toUpperCase() === \"L\" || cmd.toUpperCase() === \"T\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next());\n    return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\n  } else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\n    builder.command(cmd, argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === \"Z\") {\n    builder.command(cmd);\n    return cmd;\n  } else if (cmd.toUpperCase() === \"C\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else if (cmd.toUpperCase() === \"A\") {\n    builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n    return cmd;\n  } else {\n    // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n    console.warn(`unsupported:${cmd}`);\n  }\n\n  return null;\n}\n\nclass PathCommandsParser {\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this._ops = [];\n    this._commands = new PathCommands_1.PathCommands(this); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    const buildPush = op => (...args) => {\n      this._ops.push({\n        op,\n        args\n      });\n    };\n\n    this.moveTo = buildPush(\"moveTo\");\n    this.lineTo = buildPush(\"lineTo\");\n    this.closePath = buildPush(\"closePath\");\n    this.bezierCurveTo = buildPush(\"bezierCurveTo\");\n    this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\n    this.save = buildPush(\"save\");\n    this.translate = buildPush(\"translate\");\n    this.rotate = buildPush(\"rotate\");\n    this.scale = buildPush(\"scale\");\n    this.arc = buildPush(\"arc\");\n    this.restore = buildPush(\"restore\");\n    this.arcTo = buildPush(\"arcTo\");\n    this.ellipse = buildPush(\"ellipse\");\n    this.rect = buildPush(\"rect\");\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  command(name, ...args) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const numArgs = args || [];\n\n    for (let i = 0; i < args.length; i++) {\n      numArgs[i] -= 0;\n    }\n\n    const command = this._commands[name]; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    command.apply(this, numArgs);\n  } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n  parse(d) {\n    const ops = this._ops = [];\n    const tokens = pathTokens(d);\n\n    try {\n      let cmd;\n      let subsequentCommand = \"Z\";\n\n      while (cmd = tokens.next()) {\n        if (!isNaN(Number(cmd))) {\n          let fst = true;\n          const argsProvider = {\n            next() {\n              if (fst) {\n                fst = false;\n                return cmd;\n              }\n\n              return tokens.next();\n            }\n\n          };\n          subsequentCommand = command(this, subsequentCommand, argsProvider) || \"Z\";\n        } else {\n          subsequentCommand = command(this, cmd, tokens) || \"Z\";\n        }\n      }\n    } catch (e) {\n      console.log(`Error: ${d}`);\n      throw e;\n    }\n\n    return ops;\n  }\n\n}\n\nexports.PathCommandsParser = PathCommandsParser;\n\n/***/ }),\n\n/***/ \"./internal/legacy/fontwatch/FontRuler.js\":\n/*!************************************************!*\\\n  !*** ./internal/legacy/fontwatch/FontRuler.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n //see https://github.com/typekit/webfontloader\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.FontRuler = void 0;\n\nfunction computeStyle(font) {\n  return [{\n    display: \"block\",\n    position: \"absolute\",\n    top: \"-9999px\",\n    left: \"-9999px\",\n    width: \"auto\",\n    height: \"auto\",\n    margin: \"0\",\n    padding: \"0\",\n    \"white-space\": \"nowrap\",\n    font\n  }, {\n    \"font-variant\": \"normal\",\n    \"font-size\": \"300px\",\n    \"font-style\": \"normal\",\n    \"font-weight\": \"400\",\n    \"line-height\": \"normal\"\n  }];\n}\n\nclass FontRuler {\n  constructor(font, testStr) {\n    const e = document.createElement(\"span\");\n    e.setAttribute(\"aria-hidden\", \"true\");\n    e.textContent = testStr || \"BESbswy\";\n    computeStyle(font).forEach(style => {\n      for (const k in style) {\n        const key = k; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n        e.style[key] = style[key];\n      }\n    });\n    document.body.appendChild(e);\n    this.el_ = e;\n  }\n\n  getWidth() {\n    return this.el_.offsetWidth;\n  }\n\n  remove() {\n    document.body.removeChild(this.el_);\n  }\n\n}\n\nexports.FontRuler = FontRuler;\n\n/***/ }),\n\n/***/ \"./internal/legacy/fontwatch/FontWatchRunner.js\":\n/*!******************************************************!*\\\n  !*** ./internal/legacy/fontwatch/FontWatchRunner.js ***!\n  \\******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n //see https://github.com/typekit/webfontloader\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\n\nconst FontRuler_1 = __webpack_require__(/*! ./FontRuler */ \"./internal/legacy/fontwatch/FontRuler.js\");\n\nconst LastResortFonts = {\n  SERIF: \"serif\",\n  SANS_SERIF: \"sans-serif\"\n};\nconst watchRunners = {};\n\nclass FontWatchRunner {\n  constructor(font, testStr) {\n    this.activeCallbacks = [];\n    this.inactiveCallbacks = [];\n    this.status = null;\n    this.lastResortWidths_ = {};\n    this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n    this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n    const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n    const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr); //start\n\n    this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n    this.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n    lastResortRulerA.remove();\n    lastResortRulerB.remove();\n    this.started_ = Date.now();\n    this.check_();\n  }\n\n  static load(font, testStr, activeCallback, inactiveCallback) {\n    const c = watchRunners[font] || (watchRunners[font] = {});\n    testStr += \"\";\n    let runner;\n\n    if (c[testStr]) {\n      runner = c[testStr];\n    } else {\n      runner = c[testStr] = new FontWatchRunner(font, testStr);\n    }\n\n    runner.then(activeCallback, inactiveCallback);\n  }\n\n  then(activeCallback, inactiveCallback) {\n    if (this.status) {\n      if (this.status !== \"ng\") {\n        activeCallback();\n      } else {\n        inactiveCallback();\n      }\n    } else {\n      this.activeCallbacks.push(activeCallback);\n      this.inactiveCallbacks.push(inactiveCallback);\n    }\n  }\n\n  check_() {\n    const widthA = this.fontRulerA_.getWidth();\n    const widthB = this.fontRulerB_.getWidth();\n\n    if (this.isFallbackFont_(widthA, widthB) || this.isLastResortFont_(widthA, widthB)) {\n      if (Date.now() - this.started_ >= 3000) {\n        // timeout\n        if (this.isLastResortFont_(widthA, widthB)) {\n          this.finish_(this.activeCallbacks);\n          this.status = \"ok\";\n        } else {\n          this.finish_(this.inactiveCallbacks);\n          this.status = \"ng\";\n        }\n      } else {\n        setTimeout(() => {\n          this.check_();\n        }, 50);\n      }\n    } else {\n      this.finish_(this.activeCallbacks);\n      this.status = \"ok\";\n    }\n  }\n\n  isFallbackFont_(a, b) {\n    return this.widthMatches_(a, LastResortFonts.SERIF) && this.widthMatches_(b, LastResortFonts.SANS_SERIF);\n  }\n\n  widthsMatchLastResortWidths_(a, b) {\n    for (const font in LastResortFonts) {\n      if (LastResortFonts.hasOwnProperty(font)) {\n        if (this.widthMatches_(a, LastResortFonts[font]) && this.widthMatches_(b, LastResortFonts[font])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  widthMatches_(width, lastResortFont) {\n    return width === this.lastResortWidths_[lastResortFont];\n  }\n\n  isLastResortFont_(a, b) {\n    return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n  }\n\n  finish_(callbacks) {\n    setTimeout(() => {\n      this.fontRulerA_.remove();\n      this.fontRulerB_.remove();\n      callbacks.forEach(cb => cb());\n    }, 0);\n  }\n\n}\n\nlet HAS_WEBKIT_FALLBACK_BUG = null;\n\nfunction hasWebKitFallbackBug() {\n  if (HAS_WEBKIT_FALLBACK_BUG === null) {\n    const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n    HAS_WEBKIT_FALLBACK_BUG = !!match && (parseInt(match[1], 10) < 536 || parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11);\n  }\n\n  return HAS_WEBKIT_FALLBACK_BUG;\n}\n\nmodule.exports = FontWatchRunner;\n\n/***/ }),\n\n/***/ \"./internal/menu-items.js\":\n/*!********************************!*\\\n  !*** ./internal/menu-items.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeToFn = exports.normalize = void 0;\n/** @private */\n\nfunction extend(a, b) {\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  const o = {};\n\n  for (const k in a) {\n    o[k] = a[k];\n  }\n\n  for (const k in b) {\n    o[k] = b[k];\n  }\n\n  return o;\n}\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\n\n\nfunction normalize(options) {\n  if (!options) {\n    return [];\n  }\n\n  if (Array.isArray(options)) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return options.map( // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    e => extend(e, {\n      label: e.caption || e.label\n    }));\n  }\n\n  if (typeof options === \"string\") {\n    return normalize(JSON.parse(options));\n  }\n\n  const result = [];\n\n  for (const k in options) {\n    result.push({\n      value: k,\n      label: options[k]\n    });\n  }\n\n  return result;\n}\n\nexports.normalize = normalize;\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\n\nfunction normalizeToFn(options) {\n  if (typeof options === \"function\") {\n    return record => normalize(options(record));\n  }\n\n  return () => normalize(options);\n}\n\nexports.normalizeToFn = normalizeToFn;\n\n/***/ }),\n\n/***/ \"./internal/paste-utils.js\":\n/*!*********************************!*\\\n  !*** ./internal/paste-utils.js ***!\n  \\*********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parsePasteRangeBoxValues = void 0;\n\nfunction parsePasteRangeBoxValues(value) {\n  const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n  const lines = normalizeValue.split(/(?:\\r?\\n)|[\\u2028\\u2029]/g);\n  const values = lines.map(line => line.split(/\\t/g));\n  const colCount = values.reduce((n, cells) => Math.max(n, cells.length), 0);\n  return {\n    colCount,\n    rowCount: values.length,\n\n    getCellValue(offsetCol, offsetRow) {\n      var _a;\n\n      return ((_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) || \"\";\n    }\n\n  };\n}\n\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\n\n/***/ }),\n\n/***/ \"./internal/path2DManager.js\":\n/*!***********************************!*\\\n  !*** ./internal/path2DManager.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fill = exports.getPath2D = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nfunction getPath2D() {\n  if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\n    return Path2D;\n  } // eslint-disable-next-line @typescript-eslint/no-var-requires\n\n\n  return __webpack_require__(/*! ./legacy/canvas/Path2DShim */ \"./internal/legacy/canvas/Path2DShim.js\").Path2DShim;\n}\n\nexports.getPath2D = getPath2D;\n\nfunction fill(pathModule, ctx, x, y, w, h) {\n  ctx.save();\n\n  try {\n    const {\n      width,\n      height\n    } = pathModule;\n    const {\n      ud: upsideDown,\n      x: offsetX = 0,\n      y: offsetY = 0\n    } = pathModule;\n    w = w || width;\n    h = h || height;\n    const xrate = w / width;\n    const yrate = h / (upsideDown ? -height : height);\n    x = x || 0;\n    y = upsideDown ? (y || 0) + -height * yrate : y || 0;\n    ctx.translate(x, y);\n    ctx.scale(xrate, yrate);\n\n    if (offsetX !== 0 || offsetY !== 0) {\n      ctx.translate(offsetX, offsetY);\n    }\n\n    const Path2D = getPath2D();\n    const path2d = pathModule.path2d = pathModule.path2d || new Path2D(pathModule.d);\n    ctx.fill(path2d);\n  } finally {\n    ctx.restore();\n  }\n}\n\nexports.fill = fill;\n\n/***/ }),\n\n/***/ \"./internal/sort.js\":\n/*!**************************!*\\\n  !*** ./internal/sort.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nfunction createArray(get, length) {\n  const array = new Array(length);\n\n  for (let i = 0; i < length; i++) {\n    array[i] = get(i);\n  }\n\n  return array;\n}\n\nfunction createArrayPromise(get, getField, length // eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n  return new Promise(resolve => {\n    const plist = [];\n    const array = new Array(length);\n\n    for (let i = 0; i < length; i++) {\n      const data = get(i);\n      const record = {\n        v: data,\n        f: data\n      };\n      array[i] = record;\n\n      if (utils_1.isPromise(data)) {\n        plist.push(data.then(v => {\n          record.v = v;\n          record.f = v;\n        }));\n      }\n    }\n\n    Promise.all(plist).then(() => getField == null ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    array : // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setArrayField(array, getField)).then(resolve);\n  });\n}\n\nfunction setArrayField(array, getField) {\n  return new Promise(resolve => {\n    const {\n      length\n    } = array;\n    const plist = [];\n\n    for (let i = 0; i < length; i++) {\n      const record = array[i];\n      const f = getField(record.v);\n\n      if (utils_1.isPromise(f)) {\n        plist.push(f.then(v => {\n          record.f = v;\n        }));\n      } else {\n        record.f = f;\n      }\n    }\n\n    Promise.all(plist).then(() => resolve(array));\n  });\n}\n\nfunction sortArray(array, compare) {\n  Array.prototype.sort.call(array, compare);\n}\n\nexports.sortArray = sortArray;\n\nfunction sort(get, set, length, compare, getField) {\n  const old = createArray(get, length);\n\n  if (getField != null) {\n    old.sort((r1, r2) => compare(getField(r1), getField(r2)));\n  } else {\n    old.sort(compare);\n  }\n\n  for (let i = 0; i < length; i++) {\n    set(i, old[i]);\n  }\n}\n\nexports.sort = sort;\n\nfunction sortPromise(get, set, length, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ncompare, // eslint-disable-next-line @typescript-eslint/no-explicit-any\ngetField) {\n  if (typeof Promise !== \"undefined\") {\n    return createArrayPromise(get, getField, length).then(array => {\n      array.sort((r1, r2) => compare(r1.f, r2.f));\n\n      for (let i = 0; i < length; i++) {\n        set(i, array[i].v);\n      }\n    });\n  } else {\n    sort(get, set, length, compare, getField);\n    const dummyPromise = {\n      then(fn) {\n        fn();\n        return dummyPromise;\n      },\n\n      catch() {\n        return dummyPromise;\n      }\n\n    };\n    return dummyPromise;\n  }\n}\n\nexports.sortPromise = sortPromise;\n\n/***/ }),\n\n/***/ \"./internal/style.js\":\n/*!***************************!*\\\n  !*** ./internal/style.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getScrollBarSize = exports.initDocument = void 0;\n\nfunction getScrollBarWidth() {\n  const dummy = document.createElement(\"div\");\n  const {\n    style\n  } = dummy;\n  style.position = \"absolute\";\n  style.height = \"9999px\";\n  style.width = \"calc(100vw - 100%)\";\n  style.opacity = \"0\";\n  dummy.textContent = \"x\";\n  document.body.appendChild(dummy);\n  const {\n    width\n  } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n  document.body.removeChild(dummy);\n  return parseInt(width, 10);\n}\n\nlet SCROLLBAR_SIZE;\n\nfunction initDocumentInternal() {\n  __webpack_require__(/*! @/internal/style.css */ \"../src/js/internal/style.css\");\n\n  SCROLLBAR_SIZE = getScrollBarWidth() || 10;\n  const style = document.createElement(\"style\");\n  style.setAttribute(\"type\", \"text/css\");\n  style.setAttribute(\"data-name\", \"cheetah-grid\");\n  style.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n  document.head.appendChild(style);\n}\n\nlet initDocumentVar = initDocumentInternal;\n\nfunction initDocument() {\n  initDocumentVar();\n  initDocumentVar = Function.prototype;\n}\n\nexports.initDocument = initDocument;\n\nfunction getScrollBarSize() {\n  return SCROLLBAR_SIZE;\n}\n\nexports.getScrollBarSize = getScrollBarSize;\n\n/***/ }),\n\n/***/ \"./internal/symbolManager.js\":\n/*!***********************************!*\\\n  !*** ./internal/symbolManager.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/* WEBPACK VAR INJECTION */(function(global) {\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./internal/utils.js\");\n\nconst Symbol = utils_1.isNode ? global.Symbol : window.Symbol ? window.Symbol : (() => {\n  function random() {\n    const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n    const cl = c.length;\n    let r = \"\";\n\n    for (let i = 0; i < 10; i++) {\n      r += c[Math.floor(Math.random() * cl)];\n    }\n\n    return r;\n  }\n\n  return name => {\n    if (name) {\n      return `#${name}_${random()}`;\n    } else {\n      return `#_${random()}`;\n    }\n  };\n})();\nconst mem = {};\n\nfunction get(name) {\n  if (name) {\n    return mem[name] ? mem[name] : mem[name] = Symbol(name);\n  } else {\n    return Symbol();\n  }\n}\n\nexports.get = get;\n\nfunction getProtectedSymbol() {\n  return get(\"protected\");\n}\n\nexports.getProtectedSymbol = getProtectedSymbol;\n\nfunction getCheckColumnStateId() {\n  return get(\"chkcol.stateID\");\n}\n\nexports.getCheckColumnStateId = getCheckColumnStateId;\n\nfunction getRadioColumnStateId() {\n  return get(\"rdcol.stateID\");\n}\n\nexports.getRadioColumnStateId = getRadioColumnStateId;\n\nfunction getButtonColumnStateId() {\n  return get(\"btncol.stateID\");\n}\n\nexports.getButtonColumnStateId = getButtonColumnStateId;\n\nfunction getColumnFadeinStateId() {\n  return get(\"col.fadein_stateID\");\n}\n\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\n\nfunction getBranchGraphColumnStateId() {\n  return get(\"branch_graph_col.stateID\");\n}\n\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\n\nfunction getSmallDialogInputEditorStateId() {\n  return get(\"small_dialog_input_editor.stateID\");\n}\n\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\n\nfunction getInlineInputEditorStateId() {\n  return get(\"inline_input_editor.stateID\");\n}\n\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\n\nfunction getInlineMenuEditorStateId() {\n  return get(\"inline_menu_editor.stateID\");\n}\n\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\n\nfunction getCheckHeaderStateId() {\n  return get(\"check_header.stateID\");\n}\n\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\n/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./../../node_modules/webpack/buildin/global.js */ \"../node_modules/webpack/buildin/global.js\")))\n\n/***/ }),\n\n/***/ \"./internal/utils.js\":\n/*!***************************!*\\\n  !*** ./internal/utils.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\nexports.isNode = isNode;\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n  get find() {\n    if (arrayFind) {\n      return arrayFind;\n    }\n\n    if (Array.prototype.find) {\n      arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n    } else {\n      arrayFind = (arr, predicate) => {\n        const index = array.findIndex(arr, predicate);\n        return index >= 0 ? arr[index] : undefined;\n      };\n    }\n\n    return arrayFind;\n  },\n\n  get findIndex() {\n    if (arrayFindIndex) {\n      return arrayFindIndex;\n    }\n\n    if (Array.prototype.findIndex) {\n      arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n    } else {\n      arrayFindIndex = (arr, predicate) => {\n        const {\n          length\n        } = arr;\n\n        for (let i = 0; i < length; i++) {\n          const value = arr[i];\n\n          if (predicate(value, i, arr)) {\n            return i;\n          }\n        }\n\n        return -1;\n      };\n    }\n\n    return arrayFindIndex;\n  }\n\n};\nexports.array = array;\n\nfunction analyzeUserAgent() {\n  if (isNode) {\n    return {\n      IE: false,\n      Edge: false,\n      Chrome: false,\n      Firefox: false,\n      Safari: false\n    };\n  } else {\n    const ua = window.navigator.userAgent.toLowerCase();\n    return {\n      IE: !!/(msie|trident)/.exec(ua),\n      Edge: ua.indexOf(\"edge\") > -1,\n      Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\n      Firefox: ua.indexOf(\"firefox\") > -1,\n      Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1\n    };\n  }\n}\n\nconst {\n  IE,\n  Chrome,\n  Firefox,\n  Edge,\n  Safari\n} = analyzeUserAgent();\n\nfunction setReadonly(obj, name, value) {\n  Object.defineProperty(obj, name, {\n    enumerable: false,\n    configurable: true,\n    value\n  });\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction each(obj, fn) {\n  for (const key in obj) {\n    fn(obj[key], key, obj);\n  }\n}\n\nexports.each = each; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\nfunction omit(source, omits) {\n  const result = {};\n\n  for (const key in source) {\n    if (omits.indexOf(key) >= 0) {\n      continue;\n    }\n\n    Object.defineProperty(result, key, {\n      get() {\n        return source[key];\n      },\n\n      set(val) {\n        source[key] = val;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return result;\n}\n\nexports.omit = omit;\n\nfunction defaults(source, defs) {\n  const keys = [];\n  const result = {};\n\n  for (const key in source) {\n    keys.push(key);\n    Object.defineProperty(result, key, {\n      get() {\n        const val = source[key];\n        return val === undefined ? defs[key] : val;\n      },\n\n      set(val) {\n        source[key] = val;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  for (const key in defs) {\n    if (keys.indexOf(key) >= 0) {\n      continue;\n    }\n\n    Object.defineProperty(result, key, {\n      get() {\n        const val = source[key];\n        return val === undefined ? defs[key] : val;\n      },\n\n      set(val) {\n        source[key] = val;\n      },\n\n      configurable: true,\n      enumerable: true\n    });\n  }\n\n  return result;\n}\n\nexports.defaults = defaults;\n\nfunction extend(...args) {\n  const result = {};\n  args.forEach(source => {\n    for (const key in source) {\n      Object.defineProperty(result, key, {\n        get() {\n          return source[key];\n        },\n\n        set(val) {\n          source[key] = val;\n        },\n\n        configurable: true,\n        enumerable: true\n      });\n    }\n  });\n  return result;\n}\n\nexports.extend = extend;\n\nfunction isDescendantElement(root, target) {\n  while (target.parentElement) {\n    const p = target.parentElement;\n\n    if (root === p) {\n      return true;\n    }\n\n    target = p;\n  }\n\n  return false;\n}\n\nexports.isDescendantElement = isDescendantElement;\n/* eslint-disable @typescript-eslint/no-explicit-any */\n\nfunction applyChainSafe(obj, fn, ...names) {\n  let value = obj;\n\n  for (let i = 0; i < names.length && value != null; i++) {\n    value = fn(value, names[i]);\n  }\n\n  return value;\n}\n\nexports.applyChainSafe = applyChainSafe;\n\nfunction getChainSafe(obj, ...names) {\n  return applyChainSafe(obj, (val, name) => val[name], ...names);\n}\n\nexports.getChainSafe = getChainSafe;\n\nfunction getOrApply(value, ...args) {\n  if (typeof value === \"function\") {\n    return value(...args);\n  } else {\n    return value;\n  }\n}\n\nexports.getOrApply = getOrApply;\n/* eslint-enable @typescript-eslint/no-explicit-any */\n\nfunction endsWith(str, searchString, position) {\n  const subjectString = str.toString();\n\n  if (typeof position !== \"number\" || !isFinite(position) || Math.floor(position) !== position || position > subjectString.length) {\n    position = subjectString.length;\n  }\n\n  position -= searchString.length;\n  const lastIndex = subjectString.lastIndexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\nfunction genChars(s) {\n  // Surrogate Code Point\n  // [\\uD800-\\uDBFF]\n  // Variation Selectors\n  // FVS [\\u180B-\\u180D]\n  // VS1VS16 [\\uFE00-\\uFE0F]\n  // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n  const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n\n  };\n}\n\nfunction genWords(s) {\n  const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n  return {\n    next() {\n      const res = re.exec(s);\n      return res !== null ? res[0] : null;\n    }\n\n  };\n}\n\nfunction isPromise(data) {\n  return Boolean(data && typeof data.then === \"function\");\n}\n\nexports.isPromise = isPromise;\n\nfunction then(result, callback) {\n  return isPromise(result) ? result.then(r => callback(r)) : callback(result);\n}\n\nexports.then = then;\n\nfunction getMouseButtons(e) {\n  if (e.buttons != null) {\n    return e.buttons;\n  }\n  /*for legacy*/\n\n\n  if (e.which != null) {\n    if (e.which === 3) {\n      //right?\n      return 4;\n    }\n\n    if (e.which === 2) {\n      //middle?\n      return 4;\n    }\n\n    return e.which; //left or no\n  }\n\n  if (e.button === 0 || e.button === 1) {\n    return 1; //candidate left\n  }\n\n  if (e.button === 2) {\n    return 2; // right\n  }\n\n  return 0; //no or middle?\n}\n\nfunction getKeyCode(e) {\n  return e.keyCode || e.which;\n}\n\nfunction isTouchEvent(e) {\n  return !!e.changedTouches;\n} // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\nfunction getIgnoreCase(obj, name) {\n  if (obj[name]) {\n    return obj[name];\n  }\n\n  const l = name.toLowerCase();\n\n  if (obj[l]) {\n    return obj[l];\n  }\n\n  const u = name.toLowerCase();\n\n  if (obj[u]) {\n    return obj[u];\n  }\n\n  for (const k in obj) {\n    if (k.toLowerCase() === l) {\n      return obj[k];\n    }\n  }\n\n  return undefined;\n}\n\nexports.getIgnoreCase = getIgnoreCase;\n\nfunction cancel(e) {\n  e.preventDefault();\n  e.stopPropagation();\n}\n\nfunction toBoxArray(obj) {\n  if (!Array.isArray(obj)) {\n    return [obj\n    /*top*/\n    , obj\n    /*right*/\n    , obj\n    /*bottom*/\n    , obj\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 3) {\n    return [obj[0]\n    /*top*/\n    , obj[1]\n    /*right*/\n    , obj[2]\n    /*bottom*/\n    , obj[1]\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 2) {\n    return [obj[0]\n    /*top*/\n    , obj[1]\n    /*right*/\n    , obj[0]\n    /*bottom*/\n    , obj[1]\n    /*left*/\n    ];\n  }\n\n  if (obj.length === 1) {\n    return [obj[0]\n    /*top*/\n    , obj[0]\n    /*right*/\n    , obj[0]\n    /*bottom*/\n    , obj[0]\n    /*left*/\n    ];\n  }\n\n  return obj;\n}\n\nfunction cellEquals(a, b) {\n  return a.col === b.col && a.row === b.row;\n}\n\nexports.cellEquals = cellEquals;\n\nfunction cellInRange(range, col, row) {\n  return range.start.col <= col && col <= range.end.col && range.start.row <= row && row <= range.end.row;\n}\n\nexports.cellInRange = cellInRange;\nexports.browser = {\n  IE,\n  Edge,\n  Chrome,\n  Firefox,\n  Safari,\n  // Chrome 33554431\n  // FireFox 17895588\n  // IE 10737433\n  heightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433\n};\nexports.obj = {\n  setReadonly,\n  isObject\n};\nexports.str = {\n  endsWith,\n  genChars,\n  genWords\n};\nexports.event = {\n  getMouseButtons,\n  getKeyCode,\n  isTouchEvent,\n  cancel\n};\nexports.style = {\n  toBoxArray\n};\nexports.emptyFn = Function.prototype;\n\n/***/ }),\n\n/***/ \"./list-grid/LG_EVENT_TYPE.js\":\n/*!************************************!*\\\n  !*** ./list-grid/LG_EVENT_TYPE.js ***!\n  \\************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.LG_EVENT_TYPE = void 0;\n\nconst DG_EVENT_TYPE_1 = __webpack_require__(/*! ../core/DG_EVENT_TYPE */ \"./core/DG_EVENT_TYPE.js\");\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nexports.LG_EVENT_TYPE = utils_1.extend(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\n  CHANGED_VALUE: \"changed_value\",\n  CHANGED_HEADER_VALUE: \"changed_header_value\"\n});\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/index.js\":\n/*!***************************************!*\\\n  !*** ./list-grid/layout-map/index.js ***!\n  \\***************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar simple_header_layout_1 = __webpack_require__(/*! ./internal/simple-header-layout */ \"./list-grid/layout-map/internal/simple-header-layout.js\");\n\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", {\n  enumerable: true,\n  get: function () {\n    return simple_header_layout_1.SimpleHeaderLayoutMap;\n  }\n});\n\nvar multi_layout_1 = __webpack_require__(/*! ./internal/multi-layout */ \"./list-grid/layout-map/internal/multi-layout.js\");\n\nObject.defineProperty(exports, \"MultiLayoutMap\", {\n  enumerable: true,\n  get: function () {\n    return multi_layout_1.MultiLayoutMap;\n  }\n});\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/internal/multi-layout.js\":\n/*!*******************************************************!*\\\n  !*** ./list-grid/layout-map/internal/multi-layout.js ***!\n  \\*******************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.MultiLayoutMap = void 0;\n\nconst columns = __importStar(__webpack_require__(/*! ../../../columns */ \"./columns.js\"));\n\nconst headerAction = __importStar(__webpack_require__(/*! ../../../header/action */ \"./header/action.js\"));\n\nconst headerType = __importStar(__webpack_require__(/*! ../../../header/type */ \"./header/type.js\"));\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./list-grid/layout-map/internal/utils.js\");\n\nfunction normalizeLayout(layout) {\n  if (Array.isArray(layout)) {\n    return {\n      header: layout,\n      body: layout\n    };\n  }\n\n  return layout;\n}\n\nlet seqId = 0;\n\nclass LayoutObjectGrid {\n  constructor(layout, transform) {\n    this.objects = [];\n    this.objectGrid = [];\n    this.objectMap = {};\n    this.columnCount = 0;\n    this.columnWidths = [];\n    layout.forEach((rowLayout, row) => {\n      let col = 0;\n      rowLayout.forEach(cell => {\n        var _a, _b;\n\n        const id = seqId++;\n        const obj = transform(cell, id);\n        this.objects.push(obj);\n        this.objectMap[id] = obj;\n        col = this._findStartCell(col, row);\n        const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\n        const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\n        const endRow = row + rowSpan;\n        const endCol = col + colSpan;\n\n        for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\n          const objectGridRow = this._getObjectGridRow(rowIndex);\n\n          for (let colIndex = col; colIndex < endCol; colIndex++) {\n            objectGridRow[colIndex] = obj;\n          }\n        }\n\n        if (colSpan === 1) {\n          this._setWidthDataIfAbsent(col, cell);\n        }\n\n        this._useColumnIndex(endCol - 1);\n\n        col = endCol;\n      });\n    });\n  }\n\n  get rowCount() {\n    return this.objectGrid.length;\n  }\n\n  _findStartCell(col, row) {\n    const objectGridRow = this._getObjectGridRow(row);\n\n    for (let index = col; index < objectGridRow.length; index++) {\n      if (!objectGridRow[index]) {\n        return index;\n      }\n    }\n\n    return objectGridRow.length;\n  }\n\n  _getObjectGridRow(row) {\n    return this.objectGrid[row] || (this.objectGrid[row] = []);\n  }\n\n  _useColumnIndex(col) {\n    if (this.columnCount > col) {\n      return;\n    }\n\n    this.columnCount = col + 1;\n  }\n\n  _setWidthDataIfAbsent(col, cell) {\n    if (!this.columnWidths[col]) {\n      if (cell.width != null || cell.maxWidth != null || cell.minWidth != null) {\n        this.columnWidths[col] = {\n          width: cell.width,\n          maxWidth: cell.maxWidth,\n          minWidth: cell.minWidth\n        };\n      }\n    }\n  }\n\n}\n\nclass MultiLayoutMap {\n  constructor(layout) {\n    this._columnWidths = [];\n    this._emptyDataCache = new utils_1.EmptyDataCache();\n    const hbLayouut = normalizeLayout(layout);\n    const header = this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\n      return {\n        id,\n        caption: hd.caption,\n        field: hd.headerField || hd.field,\n        style: hd.headerStyle,\n        headerType: headerType.ofCell(hd),\n        action: headerAction.ofCell(hd),\n        define: hd\n      };\n    });\n    const body = this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\n      return {\n        id,\n        field: colDef.field,\n        width: colDef.width,\n        minWidth: colDef.minWidth,\n        maxWidth: colDef.maxWidth,\n        icon: colDef.icon,\n        message: colDef.message,\n        columnType: columns.type.of(colDef.columnType),\n        action: columns.action.of(colDef.action),\n        style: colDef.style,\n        define: colDef\n      };\n    });\n    const columnCount = this._columnCount = Math.max(header.columnCount, body.columnCount);\n\n    for (let col = 0; col < columnCount; col++) {\n      const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\n      this._columnWidths[col] = widthDef;\n    }\n  }\n\n  get columnWidths() {\n    return this._columnWidths;\n  }\n\n  get headerRowCount() {\n    return this._header.rowCount;\n  }\n\n  get bodyRowCount() {\n    return this._body.rowCount;\n  }\n\n  get colCount() {\n    return this._columnCount;\n  }\n\n  get headerObjects() {\n    return this._header.objects;\n  }\n\n  get columnObjects() {\n    return this._body.objects;\n  }\n\n  getCellId(col, row) {\n    var _a, _b, _c, _d;\n\n    if (this.headerRowCount <= row) {\n      const bodyRow = row - this.headerRowCount;\n      const bodyLayoutRow = bodyRow % this.bodyRowCount;\n      return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n    } //in header\n\n\n    return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\n  }\n\n  getHeader(col, row) {\n    const id = this.getCellId(col, row);\n    return this._header.objectMap[id] || this._emptyDataCache.getHeader(col, row);\n  }\n\n  getBody(col, row) {\n    const id = this.getCellId(col, row);\n    return this._body.objectMap[id] || this._emptyDataCache.getBody(col, row);\n  }\n\n  getBodyLayoutRangeById(id) {\n    var _a;\n\n    for (let row = 0; row < this.bodyRowCount; row++) {\n      const objectGridRow = this._body.objectGrid[row];\n\n      if (!objectGridRow) {\n        continue;\n      }\n\n      for (let col = 0; col < this.colCount; col++) {\n        if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\n          return this._getCellRange(this._body, col, row, 0);\n        }\n      }\n    }\n\n    throw new Error(`can not found body layout @id=${id}`);\n  }\n\n  getCellRange(col, row) {\n    if (this.headerRowCount <= row) {\n      const recordIndex = this.getRecordIndexByRow(row);\n      const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\n      const bodyRow = row - this.headerRowCount;\n      const bodyLayoutRow = bodyRow % this.bodyRowCount;\n      return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\n    } //in header\n\n\n    return this._getCellRange(this._header, col, row, 0);\n  }\n\n  getRecordIndexByRow(row) {\n    if (row < this.headerRowCount) {\n      return -1;\n    } else {\n      const bodyRow = row - this.headerRowCount;\n      return Math.floor(bodyRow / this.bodyRowCount);\n    }\n  }\n\n  getRecordStartRowByRecordIndex(index) {\n    return this.headerRowCount + index * this.bodyRowCount;\n  }\n\n  _getCellRange( // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  layout, col, layoutRow, offsetRow) {\n    var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n\n    const result = {\n      start: {\n        col,\n        row: layoutRow + offsetRow\n      },\n      end: {\n        col,\n        row: layoutRow + offsetRow\n      }\n    };\n    const {\n      objectGrid\n    } = layout;\n    const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n\n    if (id == null) {\n      return result;\n    }\n\n    for (let c = col - 1; c >= 0; c--) {\n      if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\n        break;\n      }\n\n      result.start.col = c;\n    }\n\n    for (let c = col + 1; c < layout.columnCount; c++) {\n      if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\n        break;\n      }\n\n      result.end.col = c;\n    }\n\n    for (let r = layoutRow - 1; r >= 0; r--) {\n      if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\n        break;\n      }\n\n      result.start.row = r + offsetRow;\n    }\n\n    for (let r = layoutRow + 1; r < layout.rowCount; r++) {\n      if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\n        break;\n      }\n\n      result.end.row = r + offsetRow;\n    }\n\n    return result;\n  }\n\n}\n\nexports.MultiLayoutMap = MultiLayoutMap;\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/internal/simple-header-layout.js\":\n/*!***************************************************************!*\\\n  !*** ./list-grid/layout-map/internal/simple-header-layout.js ***!\n  \\***************************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SimpleHeaderLayoutMap = void 0;\n\nconst columns = __importStar(__webpack_require__(/*! ../../../columns */ \"./columns.js\"));\n\nconst headerAction = __importStar(__webpack_require__(/*! ../../../header/action */ \"./header/action.js\"));\n\nconst headerType = __importStar(__webpack_require__(/*! ../../../header/type */ \"./header/type.js\"));\n\nconst utils_1 = __webpack_require__(/*! ./utils */ \"./list-grid/layout-map/internal/utils.js\");\n\nlet seqId = 0;\n\nclass SimpleHeaderLayoutMap {\n  constructor(header) {\n    this.bodyRowCount = 1;\n    this._emptyDataCache = new utils_1.EmptyDataCache();\n    this._columns = [];\n    this._headerCellIds = [];\n    this._headerObjects = this._addHeaders(0, header, []);\n    this._headerObjectMap = this._headerObjects.reduce((o, e) => {\n      o[e.id] = e;\n      return o;\n    }, {});\n  }\n\n  get columnWidths() {\n    return this._columns;\n  }\n\n  get headerRowCount() {\n    return this._headerCellIds.length;\n  }\n\n  get colCount() {\n    return this._columns.length;\n  }\n\n  get headerObjects() {\n    return this._headerObjects;\n  }\n\n  get columnObjects() {\n    return this._columns;\n  }\n\n  getCellId(col, row) {\n    if (this.headerRowCount <= row) {\n      return this._columns[col].id;\n    } //in header\n\n\n    return this._headerCellIds[row][col];\n  }\n\n  getHeader(col, row) {\n    const id = this.getCellId(col, row);\n    return this._headerObjectMap[id] || this._emptyDataCache.getHeader(col, row);\n  }\n\n  getBody(col, _row) {\n    return this._columns[col] || this._emptyDataCache.getBody(col, 0);\n  }\n\n  getBodyLayoutRangeById(id) {\n    for (let col = 0; col < this.colCount; col++) {\n      if (id === this._columns[col].id) {\n        return {\n          start: {\n            col,\n            row: 0\n          },\n          end: {\n            col,\n            row: 0\n          }\n        };\n      }\n    }\n\n    throw new Error(`can not found body layout @id=${id}`);\n  }\n\n  getCellRange(col, row) {\n    const result = {\n      start: {\n        col,\n        row\n      },\n      end: {\n        col,\n        row\n      }\n    };\n\n    if (this.headerRowCount <= row) {\n      return result;\n    } //in header\n\n\n    const id = this.getCellId(col, row);\n\n    for (let c = col - 1; c >= 0; c--) {\n      if (id !== this.getCellId(c, row)) {\n        break;\n      }\n\n      result.start.col = c;\n    }\n\n    for (let c = col + 1; c < this.colCount; c++) {\n      if (id !== this.getCellId(c, row)) {\n        break;\n      }\n\n      result.end.col = c;\n    }\n\n    for (let r = row - 1; r >= 0; r--) {\n      if (id !== this.getCellId(col, r)) {\n        break;\n      }\n\n      result.start.row = r;\n    }\n\n    for (let r = row + 1; r < this.headerRowCount; r++) {\n      if (id !== this.getCellId(col, r)) {\n        break;\n      }\n\n      result.end.row = r;\n    }\n\n    return result;\n  }\n\n  getRecordIndexByRow(row) {\n    if (row < this.headerRowCount) {\n      return -1;\n    } else {\n      return row - this.headerRowCount;\n    }\n  }\n\n  getRecordStartRowByRecordIndex(index) {\n    return this.headerRowCount + index;\n  }\n\n  _addHeaders(row, header, roots) {\n    const results = [];\n\n    const rowCells = this._headerCellIds[row] || this._newRow(row);\n\n    header.forEach(hd => {\n      const col = this._columns.length;\n      const id = seqId++;\n      const cell = {\n        id,\n        caption: hd.caption,\n        field: hd.headerField || hd.field,\n        style: hd.headerStyle,\n        headerType: headerType.ofCell(hd),\n        action: headerAction.ofCell(hd),\n        define: hd\n      };\n      results[id] = cell;\n      rowCells[col] = id;\n\n      for (let r = row - 1; r >= 0; r--) {\n        this._headerCellIds[r][col] = roots[r];\n      }\n\n      if (hd.columns) {\n        this._addHeaders(row + 1, hd.columns, [...roots, id]).forEach(c => results.push(c));\n      } else {\n        const colDef = hd;\n\n        this._columns.push({\n          id: seqId++,\n          field: colDef.field,\n          width: colDef.width,\n          minWidth: colDef.minWidth,\n          maxWidth: colDef.maxWidth,\n          icon: colDef.icon,\n          message: colDef.message,\n          columnType: columns.type.of(colDef.columnType),\n          action: columns.action.of(colDef.action),\n          style: colDef.style,\n          define: colDef\n        });\n\n        for (let r = row + 1; r < this._headerCellIds.length; r++) {\n          this._headerCellIds[r][col] = id;\n        }\n      }\n    });\n    return results;\n  }\n\n  _newRow(row) {\n    const newRow = this._headerCellIds[row] = [];\n\n    if (!this._columns.length) {\n      return newRow;\n    }\n\n    const prev = this._headerCellIds[row - 1];\n\n    for (let col = 0; col < prev.length; col++) {\n      newRow[col] = prev[col];\n    }\n\n    return newRow;\n  }\n\n}\n\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\n\n/***/ }),\n\n/***/ \"./list-grid/layout-map/internal/utils.js\":\n/*!************************************************!*\\\n  !*** ./list-grid/layout-map/internal/utils.js ***!\n  \\************************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\n\nconst columns = __importStar(__webpack_require__(/*! ../../../columns */ \"./columns.js\"));\n\nconst headerType = __importStar(__webpack_require__(/*! ../../../header/type */ \"./header/type.js\"));\n\nlet seqId = -1; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nfunction newEmptyHeaderData() {\n  return {\n    id: seqId--,\n    define: {},\n    headerType: headerType.of(null)\n  };\n}\n\nexports.newEmptyHeaderData = newEmptyHeaderData; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nfunction newEmptyColumnData() {\n  return {\n    id: seqId--,\n    define: {},\n    columnType: columns.type.of(null),\n    style: null\n  };\n}\n\nexports.newEmptyColumnData = newEmptyColumnData;\n\nclass EmptyDataCache {\n  constructor() {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    this.headers = []; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n    this.columns = [];\n  }\n\n  getHeader(col, row) {\n    const rows = this.headers[row] || (this.headers[row] = []);\n    return rows[col] || (rows[col] = newEmptyHeaderData());\n  }\n\n  getBody(col, row) {\n    const rows = this.columns[row] || (this.columns[row] = []);\n    return rows[col] || (rows[col] = newEmptyColumnData());\n  }\n\n}\n\nexports.EmptyDataCache = EmptyDataCache;\n\n/***/ }),\n\n/***/ \"./main.js\":\n/*!*****************!*\\\n  !*** ./main.js ***!\n  \\*****************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = void 0;\n\nconst columns = __importStar(__webpack_require__(/*! ./columns */ \"./columns.js\"));\n\nexports.columns = columns;\n\nconst core = __importStar(__webpack_require__(/*! ./core */ \"./core.js\"));\n\nexports.core = core;\n\nconst data = __importStar(__webpack_require__(/*! ./data */ \"./data.js\"));\n\nexports.data = data;\n\nconst headers = __importStar(__webpack_require__(/*! ./headers */ \"./headers.js\"));\n\nexports.headers = headers;\n\nconst icons = __importStar(__webpack_require__(/*! ./icons */ \"./icons.js\"));\n\nconst register = __importStar(__webpack_require__(/*! ./register */ \"./register.js\"));\n\nexports.register = register;\n\nconst themes = __importStar(__webpack_require__(/*! ./themes */ \"./themes.js\"));\n\nexports.themes = themes;\n\nconst tools = __importStar(__webpack_require__(/*! ./tools */ \"./tools.js\"));\n\nexports.tools = tools;\n\nconst ListGrid_1 = __webpack_require__(/*! ./ListGrid */ \"./ListGrid.js\");\n\nObject.defineProperty(exports, \"ListGrid\", {\n  enumerable: true,\n  get: function () {\n    return ListGrid_1.ListGrid;\n  }\n});\n\nconst GridCanvasHelper_1 = __webpack_require__(/*! ./GridCanvasHelper */ \"./GridCanvasHelper.js\");\n\nObject.defineProperty(exports, \"GridCanvasHelper\", {\n  enumerable: true,\n  get: function () {\n    return GridCanvasHelper_1.GridCanvasHelper;\n  }\n});\n\nvar get_internal_1 = __webpack_require__(/*! ./get-internal */ \"./get-internal.js\");\n\nObject.defineProperty(exports, \"_getInternal\", {\n  enumerable: true,\n  get: function () {\n    return get_internal_1.getInternal;\n  }\n});\n/** @private */\n\nfunction getIcons() {\n  return icons.get();\n}\n\nexports.getIcons = getIcons; // backward compatibility\n\nexports.default = {\n  core,\n  tools,\n  // impl Grids\n  ListGrid: ListGrid_1.ListGrid,\n  // objects\n  columns,\n  headers,\n  themes,\n  data,\n  // helper\n  GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\n  //plugin registers\n  register,\n\n  get icons() {\n    return getIcons();\n  }\n\n}; // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nObject.defineProperty(themes, \"default\", {\n  enumerable: false,\n  configurable: true,\n\n  get() {\n    return themes.getDefault();\n  },\n\n  set(defaultTheme) {\n    themes.setDefault(defaultTheme);\n  }\n\n}); // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\nObject.defineProperty(themes, \"choices\", {\n  enumerable: false,\n  configurable: true,\n\n  get() {\n    return themes.getChoices();\n  }\n\n});\n\n/***/ }),\n\n/***/ \"./plugins/icons.js\":\n/*!**************************!*\\\n  !*** ./plugins/icons.js ***!\n  \\**************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.icons = void 0;\nexports.icons = {};\n\n/***/ }),\n\n/***/ \"./plugins/themes.js\":\n/*!***************************!*\\\n  !*** ./plugins/themes.js ***!\n  \\***************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.themes = void 0;\nexports.themes = {};\n\n/***/ }),\n\n/***/ \"./register.js\":\n/*!*********************!*\\\n  !*** ./register.js ***!\n  \\*********************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.icons = exports.icon = exports.theme = void 0;\n\nconst icons_1 = __webpack_require__(/*! ./plugins/icons */ \"./plugins/icons.js\");\n\nconst themes_1 = __webpack_require__(/*! ./plugins/themes */ \"./plugins/themes.js\");\n\nfunction register(obj, name, value) {\n  const old = obj[name];\n  obj[name] = value;\n  return old;\n}\n\nfunction registers(obj, values) {\n  for (const k in values) {\n    obj[k] = values[k];\n  }\n}\n\nfunction theme(name, theme) {\n  if (theme != null) {\n    return register(themes_1.themes, name, theme);\n  } else {\n    return themes_1.themes[name];\n  }\n}\n\nexports.theme = theme;\n\nfunction icon(name, icon) {\n  if (icon != null) {\n    return register(icons_1.icons, name, icon);\n  } else {\n    return icons_1.icons[name];\n  }\n}\n\nexports.icon = icon;\n\nfunction icons(icons) {\n  return registers(icons_1.icons, icons);\n}\n\nexports.icons = icons;\n\n/***/ }),\n\n/***/ \"./themes.js\":\n/*!*******************!*\\\n  !*** ./themes.js ***!\n  \\*******************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\n\nconst utils_1 = __webpack_require__(/*! ./internal/utils */ \"./internal/utils.js\");\n\nconst theme_1 = __webpack_require__(/*! ./themes/theme */ \"./themes/theme.js\");\n\nconst BASIC_1 = __importDefault(__webpack_require__(/*! ./themes/BASIC */ \"./themes/BASIC.js\"));\n\nconst MATERIAL_DESIGN_1 = __importDefault(__webpack_require__(/*! ./themes/MATERIAL_DESIGN */ \"./themes/MATERIAL_DESIGN.js\"));\n\nconst themes_1 = __webpack_require__(/*! ./plugins/themes */ \"./plugins/themes.js\");\n\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\nconst builtin = {\n  BASIC: exports.BASIC,\n  MATERIAL_DESIGN: exports.MATERIAL_DESIGN\n};\nlet defTheme = exports.MATERIAL_DESIGN;\nexports.theme = {\n  Theme: theme_1.Theme\n};\n\nfunction of(value) {\n  if (!value) {\n    return null;\n  }\n\n  if (typeof value === \"string\") {\n    const t = utils_1.getIgnoreCase(getChoices(), value);\n\n    if (t) {\n      return t;\n    }\n\n    return null;\n  }\n\n  if (value instanceof theme_1.Theme) {\n    return value;\n  }\n\n  return new theme_1.Theme(value);\n}\n\nexports.of = of;\n\nfunction getDefault() {\n  return defTheme;\n}\n\nexports.getDefault = getDefault;\n\nfunction setDefault(defaultTheme) {\n  defTheme = of(defaultTheme) || defTheme;\n}\n\nexports.setDefault = setDefault;\n\nfunction getChoices() {\n  return utils_1.extend(builtin, themes_1.themes);\n}\n\nexports.getChoices = getChoices;\n\n/***/ }),\n\n/***/ \"./themes/BASIC.js\":\n/*!*************************!*\\\n  !*** ./themes/BASIC.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*eslint no-bitwise:0*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction DEFAULT_BG_COLOR(args) {\n  const {\n    row,\n    grid\n  } = args;\n\n  if (row < grid.frozenRowCount) {\n    return \"#FFF\";\n  }\n\n  const index = grid.getRecordIndexByRow(row);\n\n  if (!(index & 1)) {\n    return \"#FFF\";\n  } else {\n    return \"#F6F6F6\";\n  }\n}\n\nconst cacheLinearGradient = {};\n\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n  let stop;\n  const stopsKey = [];\n\n  for (stop in colorStops) {\n    stopsKey.push(`${stop}@${colorStops[stop]}`);\n  }\n\n  const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\n  const ret = cacheLinearGradient[key];\n\n  if (ret) {\n    return ret;\n  }\n\n  const grad = context.createLinearGradient(left, top, left, bottom);\n\n  for (stop in colorStops) {\n    grad.addColorStop(Number(stop), colorStops[stop]);\n  }\n\n  return cacheLinearGradient[key] = grad;\n}\n\nfunction FROZEN_ROWS_BG_COLOR(args) {\n  const {\n    col,\n    grid,\n    grid: {\n      frozenRowCount\n    },\n    context\n  } = args;\n  const {\n    left,\n    top\n  } = grid.getCellRelativeRect(col, 0);\n  const {\n    bottom\n  } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n  return getLinearGradient(context, left, top, left, bottom, {\n    0: \"#FFF\",\n    1: \"#D3D3D3\"\n  });\n}\n/**\n * basic theme\n * @name BASIC\n * @memberof cheetahGrid.themes.choices\n */\n\n\nexports.default = {\n  color: \"#000\",\n  // frozenRowsColor: '#000',\n  defaultBgColor: DEFAULT_BG_COLOR,\n  frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n  selectionBgColor: \"#CCE0FF\",\n  borderColor: \"#000\",\n  // frozenRowsBorderColor: '#000',\n  highlightBorderColor: \"#5E9ED6\",\n  checkbox: {\n    uncheckBgColor: \"#FFF\",\n    checkBgColor: \"rgb(76, 73, 72)\",\n    borderColor: \"#000\"\n  },\n  radioButton: {\n    checkColor: \"rgb(76, 73, 72)\",\n    checkBorderColor: \"#000\",\n    uncheckBorderColor: \"#000\",\n    uncheckBgColor: \"#FFF\",\n    checkBgColor: \"#FFF\"\n  },\n  button: {\n    color: \"#FFF\",\n    bgColor: \"#2196F3\"\n  },\n  header: {\n    sortArrowColor: \"rgba(0, 0, 0, 0.38)\"\n  },\n  underlayBackgroundColor: \"#F6F6F6\"\n};\n\n/***/ }),\n\n/***/ \"./themes/MATERIAL_DESIGN.js\":\n/*!***********************************!*\\\n  !*** ./themes/MATERIAL_DESIGN.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n/*eslint no-bitwise:0*/\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n  const {\n    row,\n    grid: {\n      frozenRowCount\n    }\n  } = args;\n\n  if (frozenRowCount - 1 === row) {\n    return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\n  } else {\n    return [\"#f2f2f2\"];\n  }\n}\n\nfunction BORDER_COLOR(args) {\n  const {\n    col,\n    row,\n    grid\n  } = args;\n  const {\n    colCount,\n    frozenColCount,\n    recordRowCount\n  } = grid;\n  let top = \"#ccc7c7\";\n  let bottom = \"#ccc7c7\";\n\n  if (recordRowCount > 1) {\n    const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n    const endRow = startRow + recordRowCount - 1;\n\n    if (startRow !== row) {\n      top = null;\n    }\n\n    if (endRow !== row) {\n      bottom = null;\n    }\n  }\n\n  if (frozenColCount - 1 === col) {\n    return [top, \"#f2f2f2\", bottom, null];\n  }\n\n  if (colCount - 1 === col) {\n    return [top, \"#f2f2f2\", bottom, null];\n  }\n\n  return [top, null, bottom, null];\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @memberof cheetahGrid.themes.choices\n */\n\n\nexports.default = {\n  color: \"rgba(0, 0, 0, 0.87)\",\n  frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\n  defaultBgColor: \"#FFF\",\n  // frozenRowsBgColor: '#FFF',\n  selectionBgColor: \"#CCE0FF\",\n  borderColor: BORDER_COLOR,\n  frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n  highlightBorderColor: \"#5E9ED6\",\n  checkbox: {\n    // uncheckBgColor: '#FFF',\n    checkBgColor: \"rgb(76, 73, 72)\",\n    borderColor: \"rgba(0, 0, 0, 0.26)\"\n  },\n  radioButton: {\n    checkColor: \"rgb(76, 73, 72)\",\n    checkBorderColor: \"rgb(76, 73, 72)\",\n    uncheckBorderColor: \"rgb(189, 189, 189)\"\n  },\n  button: {\n    color: \"#FFF\",\n    bgColor: \"#2196F3\"\n  },\n  header: {\n    sortArrowColor: \"rgba(0, 0, 0, 0.38)\"\n  },\n  underlayBackgroundColor: \"#FFF\"\n};\n\n/***/ }),\n\n/***/ \"./themes/theme.js\":\n/*!*************************!*\\\n  !*** ./themes/theme.js ***!\n  \\*************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Theme = void 0;\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nconst symbolManager_1 = __webpack_require__(/*! ../internal/symbolManager */ \"./internal/symbolManager.js\"); //private symbol\n\n\nconst _ = symbolManager_1.get();\n\nfunction getProp(obj, superObj, names, defNames) {\n  return utils_1.getChainSafe(obj, ...names) || utils_1.getChainSafe(superObj, ...names) || defNames && utils_1.getChainSafe(obj, ...defNames) || defNames && utils_1.getChainSafe(superObj, ...defNames);\n}\n\nclass Theme {\n  constructor(obj, superTheme) {\n    this._checkbox = null;\n    this._radioButton = null;\n    this._button = null;\n    this._header = null;\n    this[_] = {\n      obj,\n      superTheme: superTheme\n    };\n  }\n\n  get font() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"font\"]);\n  }\n\n  get underlayBackgroundColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\n  } // color\n\n\n  get color() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"color\"]);\n  }\n\n  get frozenRowsColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\n  } // background\n\n\n  get defaultBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"defaultBgColor\"]);\n  }\n\n  get frozenRowsBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\n  }\n\n  get selectionBgColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\n  }\n\n  get highlightBgColor() {\n    if (this.hasProperty([\"highlightBgColor\"])) {\n      const {\n        obj,\n        superTheme\n      } = this[_];\n      return getProp(obj, superTheme, [\"highlightBgColor\"]);\n    } // eslint-disable-next-line @typescript-eslint/no-explicit-any\n\n\n    return args => {\n      const color = args.row < args.grid.frozenRowCount ? this.frozenRowsBgColor : this.defaultBgColor;\n\n      if (typeof color === \"function\") {\n        return color(args);\n      }\n\n      return color;\n    };\n  } // border\n\n\n  get borderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"borderColor\"]);\n  }\n\n  get frozenRowsBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\n  }\n\n  get highlightBorderColor() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\n  }\n\n  get checkbox() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._checkbox || (this._checkbox = {\n      get uncheckBgColor() {\n        return getProp(obj, superTheme, [\"checkbox\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n      },\n\n      get checkBgColor() {\n        return getProp(obj, superTheme, [\"checkbox\", \"checkBgColor\"], [\"borderColor\"]);\n      },\n\n      get borderColor() {\n        return getProp(obj, superTheme, [\"checkbox\", \"borderColor\"], [\"borderColor\"]);\n      }\n\n    });\n  }\n\n  get radioButton() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._radioButton || (this._radioButton = {\n      get checkColor() {\n        return getProp(obj, superTheme, [\"radioButton\", \"checkColor\"], [\"color\"]);\n      },\n\n      get uncheckBorderColor() {\n        return getProp(obj, superTheme, [\"radioButton\", \"uncheckBorderColor\"], [\"borderColor\"]);\n      },\n\n      get checkBorderColor() {\n        return getProp(obj, superTheme, [\"radioButton\", \"checkBorderColor\"], [\"borderColor\"]);\n      },\n\n      get uncheckBgColor() {\n        return getProp(obj, superTheme, [\"radioButton\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n      },\n\n      get checkBgColor() {\n        return getProp(obj, superTheme, [\"radioButton\", \"checkBgColor\"], [\"defaultBgColor\"]);\n      }\n\n    });\n  }\n\n  get button() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._button || (this._button = {\n      get color() {\n        return getProp(obj, superTheme, [\"button\", \"color\"], [\"color\"]);\n      },\n\n      get bgColor() {\n        return getProp(obj, superTheme, [\"button\", \"bgColor\"], [\"defaultBgColor\"]);\n      }\n\n    });\n  }\n\n  get header() {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return this._header || (this._header = {\n      get sortArrowColor() {\n        return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\n      }\n\n    });\n  }\n\n  hasProperty(names) {\n    const {\n      obj,\n      superTheme\n    } = this[_];\n    return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\n  }\n\n  extends(obj) {\n    return new Theme(obj, this);\n  }\n\n}\n\nexports.Theme = Theme;\n\nfunction hasThemeProperty(obj, names) {\n  if (obj instanceof Theme) {\n    return obj.hasProperty(names);\n  } else {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let o = obj;\n\n    if (!o) {\n      return false;\n    }\n\n    for (let index = 0; index < names.length; index++) {\n      const name = names[index];\n      o = o[name];\n\n      if (!o) {\n        return false;\n      }\n    }\n\n    return !!o;\n  }\n}\n\n/***/ }),\n\n/***/ \"./tools.js\":\n/*!******************!*\\\n  !*** ./tools.js ***!\n  \\******************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\n\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n\n  __setModuleDefault(result, mod);\n\n  return result;\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.canvashelper = void 0;\n\nconst canvashelper = __importStar(__webpack_require__(/*! ./tools/canvashelper */ \"./tools/canvashelper.js\"));\n\nexports.canvashelper = canvashelper;\n\n/***/ }),\n\n/***/ \"./tools/canvashelper.js\":\n/*!*******************************!*\\\n  !*** ./tools/canvashelper.js ***!\n  \\*******************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\n\nconst canvases_1 = __webpack_require__(/*! ../internal/canvases */ \"./internal/canvases.js\");\n\nconst {\n  ceil,\n  PI\n} = Math;\n\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n  function strokeRectLines(positions) {\n    for (let i = 0; i < borderColors.length; i++) {\n      const color = borderColors[i];\n      const preColor = borderColors[i - 1];\n\n      if (color) {\n        if (preColor !== color) {\n          if (preColor) {\n            ctx.strokeStyle = preColor;\n            ctx.stroke();\n          }\n\n          const pos1 = positions[i];\n          ctx.beginPath();\n          ctx.moveTo(pos1.x, pos1.y);\n        }\n\n        const pos2 = positions[i + 1];\n        ctx.lineTo(pos2.x, pos2.y);\n      } else {\n        if (preColor) {\n          ctx.strokeStyle = preColor;\n          ctx.stroke();\n        }\n      }\n    }\n\n    const preColor = borderColors[borderColors.length - 1];\n\n    if (preColor) {\n      ctx.strokeStyle = preColor;\n      ctx.stroke();\n    }\n  }\n\n  if (borderColors[0] === borderColors[1] && borderColors[0] === borderColors[2] && borderColors[0] === borderColors[3]) {\n    if (borderColors[0]) {\n      ctx.strokeStyle = borderColors[0];\n      ctx.strokeRect(left, top, width, height);\n    }\n  } else {\n    strokeRectLines([{\n      x: left,\n      y: top\n    }, {\n      x: left + width,\n      y: top\n    }, {\n      x: left + width,\n      y: top + height\n    }, {\n      x: left,\n      y: top + height\n    }, {\n      x: left,\n      y: top\n    }]);\n  }\n}\n\nexports.strokeColorsRect = strokeColorsRect;\n\nfunction roundRect(ctx, left, top, width, height, radius) {\n  ctx.beginPath();\n  ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n  ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n  ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n  ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n  ctx.closePath();\n}\n\nexports.roundRect = roundRect;\n\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.fill();\n}\n\nexports.fillRoundRect = fillRoundRect;\n\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n  roundRect(ctx, left, top, width, height, radius);\n  ctx.stroke();\n}\n\nexports.strokeRoundRect = strokeRoundRect;\n\nfunction fillCircle(ctx, left, top, width, height) {\n  const min = Math.min(width, height) / 2;\n  ctx.beginPath();\n  ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n  ctx.closePath();\n  ctx.fill();\n}\n\nexports.fillCircle = fillCircle;\n\nfunction strokeCircle(ctx, left, top, width, height) {\n  const min = Math.min(width, height) / 2;\n  ctx.beginPath();\n  ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n  ctx.closePath();\n  ctx.stroke();\n}\n\nexports.strokeCircle = strokeCircle;\n\nfunction fillTextRect(ctx, text, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = canvases_1.calcBasePosition(ctx, rect, {\n      offset,\n      padding\n    });\n    ctx.fillText(text, pos.x, pos.y);\n  } finally {\n    ctx.restore();\n  }\n}\n\nexports.fillTextRect = fillTextRect;\n\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, {\n  offset = 2,\n  padding\n} = {}) {\n  const rect = {\n    left,\n    top,\n    width,\n    height,\n    right: left + width,\n    bottom: top + height\n  };\n  ctx.save();\n\n  try {\n    ctx.beginPath();\n    ctx.rect(rect.left, rect.top, rect.width, rect.height); //clip\n\n    ctx.clip(); //\n\n    const pos = canvases_1.calcStartPosition(ctx, rect, destWidth, destHeight, {\n      offset,\n      padding\n    });\n    ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n  } finally {\n    ctx.restore();\n  }\n}\n\nexports.drawInlineImageRect = drawInlineImageRect;\n/**\n * Returns an object containing the width of the checkbox.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the checkbox\n * @memberof cheetahGrid.tools.canvashelper\n */\n\nfunction measureCheckbox(ctx) {\n  return {\n    width: canvases_1.getFontSize(ctx, null).width\n  };\n}\n\nexports.measureCheckbox = measureCheckbox;\n/**\n * Returns an object containing the width of the radio button.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the radio button\n * @memberof cheetahGrid.tools.canvashelper\n */\n\nfunction measureRadioButton(ctx) {\n  return {\n    width: canvases_1.getFontSize(ctx, null).width\n  };\n}\n\nexports.measureRadioButton = measureRadioButton;\n/**\n * draw Checkbox\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {boolean|number} check checkbox check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\n\nfunction drawCheckbox(ctx, x, y, check, {\n  uncheckBgColor = \"#FFF\",\n  checkBgColor = \"rgb(76, 73, 72)\",\n  borderColor = \"#000\",\n  boxSize = measureCheckbox(ctx).width\n} = {}) {\n  const checkPoint = typeof check === \"number\" ? check > 1 ? 1 : check : 1;\n  ctx.save();\n\n  try {\n    ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n    const leftX = ceil(x);\n    const topY = ceil(y);\n    const size = ceil(boxSize);\n    fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = borderColor;\n    strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\n\n    if (check) {\n      ctx.lineWidth = ceil(boxSize / 10);\n      ctx.strokeStyle = uncheckBgColor;\n      let leftWidth = boxSize / 4;\n      let rightWidth = boxSize / 2 * 0.9;\n      const leftLeftPos = x + boxSize * 0.2;\n      const leftTopPos = y + boxSize / 2;\n\n      if (checkPoint < 0.5) {\n        leftWidth *= checkPoint * 2;\n      }\n\n      ctx.beginPath();\n      ctx.moveTo(leftLeftPos, leftTopPos);\n      ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n\n      if (checkPoint > 0.5) {\n        if (checkPoint < 1) {\n          rightWidth *= (checkPoint - 0.5) * 2;\n        }\n\n        ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n      }\n\n      ctx.stroke();\n    }\n  } finally {\n    ctx.restore();\n  }\n}\n\nexports.drawCheckbox = drawCheckbox;\n/**\n * draw Radio button\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {boolean|number} check radio button check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\n\nfunction drawRadioButton(ctx, x, y, check, {\n  checkColor = \"rgb(76, 73, 72)\",\n  borderColor = \"#000\",\n  bgColor = \"#FFF\",\n  boxSize = measureRadioButton(ctx).width\n} = {}) {\n  const ratio = typeof check === \"number\" ? check > 1 ? 1 : check : 1;\n  ctx.save();\n\n  try {\n    ctx.fillStyle = bgColor;\n    const leftX = ceil(x);\n    const topY = ceil(y);\n    const size = ceil(boxSize);\n    fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\n    ctx.lineWidth = 1;\n    ctx.strokeStyle = borderColor;\n    strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\n\n    if (check) {\n      const checkSize = size * ratio / 2;\n      const padding = (size - checkSize) / 2;\n      ctx.fillStyle = checkColor;\n      fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\n    }\n  } finally {\n    ctx.restore();\n  }\n}\n\nexports.drawRadioButton = drawRadioButton;\n/**\n * draw Button\n */\n\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n  const {\n    backgroundColor = \"#FFF\",\n    bgColor = backgroundColor,\n    radius = 4,\n    shadow = {}\n  } = option;\n  ctx.save();\n\n  try {\n    ctx.fillStyle = bgColor;\n\n    if (shadow) {\n      const {\n        color = \"rgba(0, 0, 0, 0.24)\",\n        blur = 1,\n        offsetX = 0,\n        offsetY = 2,\n        offset: {\n          x: ox = offsetX,\n          y: oy = offsetY\n        } = {}\n      } = shadow;\n      ctx.shadowColor = color;\n      ctx.shadowBlur = blur; //\n\n      ctx.shadowOffsetX = ox;\n      ctx.shadowOffsetY = oy;\n    }\n\n    fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n  } finally {\n    ctx.restore();\n  }\n}\n\nexports.drawButton = drawButton;\n\n/***/ }),\n\n/***/ \"./tooltip/BaseTooltip.js\":\n/*!********************************!*\\\n  !*** ./tooltip/BaseTooltip.js ***!\n  \\********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseTooltip = void 0;\n\nclass BaseTooltip {\n  constructor(grid) {\n    this._grid = grid;\n  }\n\n  dispose() {\n    this.detachTooltipElement();\n\n    if (this._tooltipElement) {\n      this._tooltipElement.dispose();\n    }\n\n    this._tooltipElement = undefined;\n  }\n\n  _getTooltipElement() {\n    if (this._tooltipElement) {\n      return this._tooltipElement;\n    }\n\n    return this._tooltipElement = this.createTooltipElementInternal();\n  }\n\n  attachTooltipElement(col, row, content) {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement.attach(this._grid, col, row, content);\n  }\n\n  moveTooltipElement(col, row) {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement.move(this._grid, col, row);\n  }\n\n  detachTooltipElement() {\n    const tooltipElement = this._getTooltipElement();\n\n    tooltipElement._detach();\n  }\n\n}\n\nexports.BaseTooltip = BaseTooltip;\n\n/***/ }),\n\n/***/ \"./tooltip/Tooltip.js\":\n/*!****************************!*\\\n  !*** ./tooltip/Tooltip.js ***!\n  \\****************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Tooltip = void 0;\n\nconst BaseTooltip_1 = __webpack_require__(/*! ./BaseTooltip */ \"./tooltip/BaseTooltip.js\");\n\nconst TooltipElement_1 = __webpack_require__(/*! ./internal/TooltipElement */ \"./tooltip/internal/TooltipElement.js\");\n\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\n  createTooltipElementInternal() {\n    return new TooltipElement_1.TooltipElement();\n  }\n\n}\n\nexports.Tooltip = Tooltip;\n\n/***/ }),\n\n/***/ \"./tooltip/TooltipHandler.js\":\n/*!***********************************!*\\\n  !*** ./tooltip/TooltipHandler.js ***!\n  \\***********************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TooltipHandler = void 0;\n\nconst LG_EVENT_TYPE_1 = __webpack_require__(/*! ../list-grid/LG_EVENT_TYPE */ \"./list-grid/LG_EVENT_TYPE.js\");\n\nconst Tooltip_1 = __webpack_require__(/*! ./Tooltip */ \"./tooltip/Tooltip.js\");\n\nconst utils_1 = __webpack_require__(/*! ../internal/utils */ \"./internal/utils.js\");\n\nconst TOOLTIP_INSTANCE_FACTORY = {\n  \"overflow-text\"(grid) {\n    return new Tooltip_1.Tooltip(grid);\n  }\n\n};\n\nfunction getTooltipInstanceInfo( // eslint-disable-next-line @typescript-eslint/no-explicit-any\ngrid, col, row) {\n  //\n  // overflow text tooltip\n  const overflowText = grid.getCellOverflowText(col, row);\n\n  if (overflowText) {\n    return {\n      type: \"overflow-text\",\n      content: overflowText\n    };\n  }\n\n  return null;\n}\n\nclass TooltipHandler {\n  constructor(grid) {\n    this._grid = grid;\n    this._tooltipInstances = {};\n\n    this._bindGridEvent(grid);\n  }\n\n  dispose() {\n    const tooltipInstances = this._tooltipInstances;\n\n    for (const k in tooltipInstances) {\n      tooltipInstances[k].dispose();\n    }\n\n    delete this._tooltipInstances;\n    this._attachInfo = null;\n  }\n\n  _attach(col, row) {\n    const info = this._attachInfo;\n\n    const instanceInfo = this._getTooltipInstanceInfo(col, row);\n\n    if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n      info.instance.detachTooltipElement();\n      this._attachInfo = null;\n    }\n\n    if (!instanceInfo) {\n      return;\n    }\n\n    const {\n      instance\n    } = instanceInfo;\n    instance.attachTooltipElement(col, row, instanceInfo.content);\n\n    const range = this._grid.getCellRange(col, row);\n\n    this._attachInfo = {\n      range,\n      instance\n    };\n  }\n\n  _move(col, row) {\n    const info = this._attachInfo;\n\n    if (!info || !utils_1.cellInRange(info.range, col, row)) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.moveTooltipElement(col, row);\n  }\n\n  _detach() {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return;\n    }\n\n    const {\n      instance\n    } = info;\n    instance.detachTooltipElement();\n    this._attachInfo = null;\n  }\n\n  _isAttachCell(col, row) {\n    const info = this._attachInfo;\n\n    if (!info) {\n      return false;\n    }\n\n    return utils_1.cellInRange(info.range, col, row);\n  }\n\n  _bindGridEvent(grid) {\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, e => {\n      if (e.related) {\n        if (this._isAttachCell(e.col, e.row)) {\n          return;\n        }\n      }\n\n      this._attach(e.col, e.row);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, e => {\n      if (e.related) {\n        if (this._isAttachCell(e.related.col, e.related.row)) {\n          return;\n        }\n      }\n\n      this._detach();\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach();\n      }\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n      const info = this._attachInfo;\n\n      if (!info) {\n        return;\n      }\n\n      this._move(info.range.start.col, info.range.start.row);\n    });\n    grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, e => {\n      if (this._isAttachCell(e.col, e.row)) {\n        this._detach();\n\n        this._attach(e.col, e.row);\n      }\n    });\n  }\n\n  _getTooltipInstanceInfo(col, row) {\n    const grid = this._grid;\n    const tooltipInstances = this._tooltipInstances;\n    const info = getTooltipInstanceInfo(grid, col, row);\n\n    if (!info) {\n      return null;\n    }\n\n    const {\n      type\n    } = info;\n    const instance = tooltipInstances[type] || (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n    return {\n      instance,\n      type,\n      content: info.content\n    };\n  }\n\n}\n\nexports.TooltipHandler = TooltipHandler;\n\n/***/ }),\n\n/***/ \"./tooltip/internal/TooltipElement.js\":\n/*!********************************************!*\\\n  !*** ./tooltip/internal/TooltipElement.js ***!\n  \\********************************************/\n/*! no static exports found */\n/*! ModuleConcatenation bailout: Module is not an ECMAScript module */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.TooltipElement = void 0;\n\nconst EventHandler_1 = __webpack_require__(/*! ../../internal/EventHandler */ \"./internal/EventHandler.js\");\n\nconst dom_1 = __webpack_require__(/*! ../../internal/dom */ \"./internal/dom.js\");\n\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\n\nfunction createTooltipDomElement() {\n  __webpack_require__(/*! @/tooltip/internal/TooltipElement.css */ \"../src/js/tooltip/internal/TooltipElement.css\");\n\n  const rootElement = dom_1.createElement(\"div\", {\n    classList: [CLASSNAME, HIDDEN_CLASSNAME]\n  });\n  const messageElement = dom_1.createElement(\"pre\", {\n    classList: [CONTENT_CLASSNAME]\n  });\n  rootElement.appendChild(messageElement);\n  return rootElement;\n}\n\nclass TooltipElement {\n  constructor() {\n    this._handler = new EventHandler_1.EventHandler();\n    const rootElement = this._rootElement = createTooltipDomElement();\n    this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n  }\n\n  dispose() {\n    this.detach();\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      rootElement.parentElement.removeChild(rootElement);\n    }\n\n    this._handler.dispose();\n\n    delete this._rootElement;\n    delete this._messageElement;\n  }\n\n  attach(grid, col, row, content) {\n    const rootElement = this._rootElement;\n    const messageElement = this._messageElement;\n    rootElement.classList.remove(SHOWN_CLASSNAME);\n    rootElement.classList.add(HIDDEN_CLASSNAME);\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n      messageElement.textContent = content;\n    } else {\n      this._detach();\n    }\n  }\n\n  move(grid, col, row) {\n    const rootElement = this._rootElement;\n\n    if (this._attachCell(grid, col, row)) {\n      rootElement.classList.add(SHOWN_CLASSNAME);\n      rootElement.classList.remove(HIDDEN_CLASSNAME);\n    } else {\n      this._detach();\n    }\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  _detach() {\n    const rootElement = this._rootElement;\n\n    if (rootElement.parentElement) {\n      // rootElement.parentElement.removeChild(rootElement);\n      rootElement.classList.remove(SHOWN_CLASSNAME);\n      rootElement.classList.add(HIDDEN_CLASSNAME);\n    }\n  }\n\n  _attachCell(grid, col, row) {\n    const rootElement = this._rootElement;\n    const {\n      element,\n      rect\n    } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    const {\n      bottom: top,\n      left,\n      width\n    } = rect;\n    const {\n      frozenRowCount,\n      frozenColCount\n    } = grid;\n\n    if (row >= frozenRowCount && frozenRowCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n\n      if (top < frozenRect.bottom) {\n        return false; //\n      }\n    } else {\n      if (top < 0) {\n        return false; //\n      }\n    }\n\n    if (col >= frozenColCount && frozenColCount > 0) {\n      const {\n        rect: frozenRect\n      } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n\n      if (left < frozenRect.right) {\n        return false; //\n      }\n    } else {\n      if (left < 0) {\n        return false; //\n      }\n    }\n\n    const {\n      offsetHeight,\n      offsetWidth\n    } = element;\n\n    if (offsetHeight < top) {\n      return false; //\n    }\n\n    if (offsetWidth < left) {\n      return false; //\n    }\n\n    rootElement.style.top = `${top.toFixed()}px`;\n    rootElement.style.left = `${(left + width / 2).toFixed()}px`;\n    rootElement.style.minWidth = `${width.toFixed()}px`;\n\n    if (rootElement.parentElement !== element) {\n      element.appendChild(rootElement);\n    }\n\n    return true;\n  }\n\n}\n\nexports.TooltipElement = TooltipElement;\n\n/***/ })\n\n/******/ });\n});\n}).call(typeof global !== \"undefined\" ? global : window, typeof global !== \"undefined\" ? global : window);","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??ref--5-2!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GridCanvasHelper = void 0;\nconst calc = __importStar(require(\"./internal/calc\"));\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\nconst fonts = __importStar(require(\"./internal/fonts\"));\nconst inlineUtils = __importStar(require(\"./element/inlines\"));\nconst themes = __importStar(require(\"./themes\"));\nconst canvases_1 = require(\"./internal/canvases\");\nconst utils_1 = require(\"./internal/utils\");\nconst InlineDrawer_1 = require(\"./element/InlineDrawer\");\nconst Rect_1 = require(\"./internal/Rect\");\nconst color_1 = require(\"./internal/color\");\nconst { toBoxArray } = utils_1.style;\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\nfunction invalidateCell(context, grid) {\n    const { col, row } = context;\n    grid.invalidateCell(col, row);\n}\nfunction getColor(color, col, row, grid, context) {\n    return utils_1.getOrApply(color, {\n        col,\n        row,\n        grid,\n        context,\n    });\n}\nfunction getFont(font, col, row, grid, context) {\n    if (font == null) {\n        return undefined;\n    }\n    return utils_1.getOrApply(font, {\n        col,\n        row,\n        grid,\n        context,\n    });\n}\nfunction getThemeColor(grid, ...names) {\n    const gridThemeColor = utils_1.getChainSafe(grid.theme, ...names);\n    if (gridThemeColor == null) {\n        // use default theme\n        return utils_1.getChainSafe(themes.getDefault(), ...names);\n    }\n    if (typeof gridThemeColor !== \"function\") {\n        return gridThemeColor;\n    }\n    let defaultThemeColor;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ((args) => {\n        const color = gridThemeColor(args);\n        if (color != null) {\n            // use grid theme\n            return color;\n        }\n        // use default theme\n        defaultThemeColor =\n            defaultThemeColor || utils_1.getChainSafe(themes.getDefault(), ...names);\n        return utils_1.getOrApply(defaultThemeColor, args);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    });\n}\nfunction testFontLoad(font, value, context, grid) {\n    if (font) {\n        if (!fonts.check(font, value)) {\n            fonts.load(font, value, () => invalidateCell(context, grid));\n            return false;\n        }\n    }\n    return true;\n}\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n    function drawInline(inline, offsetLeft, offsetRight) {\n        if (inline.canDraw()) {\n            ctx.save();\n            try {\n                ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n                ctx.font = inline.font() || ctx.font;\n                inline.draw({\n                    ctx,\n                    canvashelper,\n                    rect,\n                    offset,\n                    offsetLeft,\n                    offsetRight,\n                    offsetTop,\n                    offsetBottom,\n                });\n            }\n            finally {\n                ctx.restore();\n            }\n        }\n        else {\n            inline.onReady(() => grid.invalidateCell(col, row));\n            //noop\n        }\n    }\n    if (inlines.length === 1) {\n        //1\n        const inline = inlines[0];\n        drawInline(inline, 0, 0);\n    }\n    else {\n        const inlineWidths = inlines.map((inline) => (inline.width({ ctx }) || 0) - 0);\n        let offsetRight = inlineWidths.reduce((a, b) => a + b);\n        let offsetLeft = 0;\n        inlines.forEach((inline, index) => {\n            const inlineWidth = inlineWidths[index];\n            offsetRight -= inlineWidth;\n            drawInline(inline, offsetLeft, offsetRight);\n            offsetLeft += inlineWidth;\n        });\n    }\n}\nfunction buildInlines(icons, inline) {\n    return inlineUtils.buildInlines(icons, inline || \"\");\n}\nfunction inlineToString(inline) {\n    return inlineUtils.string(inline);\n}\nfunction getOverflowInline(textOverflow) {\n    if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\n        return INLINE_ELLIPSIS;\n    }\n    textOverflow = textOverflow.trim();\n    if (textOverflow.length === 1) {\n        return inlineUtils.of(textOverflow[0]);\n    }\n    return INLINE_ELLIPSIS;\n}\nfunction isAllowOverflow(textOverflow) {\n    return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\n}\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n    const maxWidth = width - 3; /*buffer*/\n    let lineWidth = 0;\n    for (let i = 0; i < inlines.length; i++) {\n        const inline = inlines[i];\n        const inlineWidth = (inline.width({ ctx }) || 0) - 0;\n        if (lineWidth + inlineWidth > maxWidth) {\n            return {\n                index: i,\n                lineWidth,\n                remWidth: maxWidth - lineWidth,\n            };\n        }\n        lineWidth += inlineWidth;\n    }\n    return null;\n}\nfunction isOverflowInlines(ctx, inlines, width) {\n    return !!getOverflowInlinesIndex(ctx, inlines, width);\n}\nfunction breakWidthInlines(ctx, inlines, width) {\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n    if (!indexData) {\n        return {\n            beforeInlines: inlines,\n            overflow: false,\n            afterInlines: [],\n        };\n    }\n    const { index, remWidth } = indexData;\n    const inline = inlines[index];\n    const beforeInlines = inlines.slice(0, index);\n    const afterInlines = [];\n    if (inline.canBreak()) {\n        let { before, after } = inline.breakWord(ctx, remWidth);\n        if (!before && !beforeInlines.length) {\n            ({ before, after } = inline.breakAll(ctx, remWidth));\n        }\n        if (!before && !beforeInlines.length) {\n            // Always return one char\n            ({ before, after } = inline.splitIndex(1));\n        }\n        if (before) {\n            beforeInlines.push(before);\n        }\n        if (after) {\n            afterInlines.push(after);\n        }\n        afterInlines.push(...inlines.slice(index + 1));\n    }\n    else {\n        if (!beforeInlines.length) {\n            // Always return one char\n            beforeInlines.push(inline);\n        }\n        afterInlines.push(...inlines.slice(beforeInlines.length));\n    }\n    return {\n        beforeInlines,\n        overflow: true,\n        afterInlines,\n    };\n}\nfunction truncateInlines(ctx, inlines, width, option) {\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n    if (!indexData) {\n        return {\n            inlines,\n            overflow: false,\n        };\n    }\n    const { index, lineWidth } = indexData;\n    const inline = inlines[index];\n    const overflowInline = getOverflowInline(option);\n    const ellipsisWidth = overflowInline.width({ ctx });\n    const remWidth = width - lineWidth - ellipsisWidth;\n    const result = inlines.slice(0, index);\n    if (inline.canBreak()) {\n        const { before } = inline.breakAll(ctx, remWidth);\n        if (before) {\n            result.push(before);\n        }\n    }\n    result.push(overflowInline);\n    return {\n        inlines: result,\n        overflow: true,\n    };\n}\nfunction _inlineRect(grid, ctx, inline, rect, col, row, { offset, color, textAlign, textBaseline, font, textOverflow, icons, }) {\n    //style\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = font || ctx.font;\n    let inlines = buildInlines(icons, inline);\n    if (isAllowOverflow(textOverflow) &&\n        isOverflowInlines(ctx, inlines, rect.width)) {\n        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, rect.width, textOverflow);\n        inlines = truncInlines;\n        grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n    }\n    else {\n        grid.setCellOverflowText(col, row, false);\n    }\n    drawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n}\n// eslint-disable-next-line complexity\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, { offset, color, textAlign, textBaseline, font, lineHeight, autoWrapText, lineClamp, textOverflow, icons, }) {\n    //style\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = font || ctx.font;\n    if (lineClamp === \"auto\") {\n        const rectHeight = rect.height - offset * 2 - 2; /*offset added by Inline#draw*/\n        lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n    }\n    let buildedMultiInlines;\n    if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n        const { width } = rect;\n        buildedMultiInlines = [];\n        const procLineClamp = lineClamp > 0\n            ? (inlines, hasNext) => {\n                if (buildedMultiInlines.length + 1 >= lineClamp) {\n                    if (inlines.length === 0 && hasNext) {\n                        buildedMultiInlines.push([getOverflowInline(textOverflow)]);\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                    }\n                    else {\n                        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\n                        buildedMultiInlines.push(hasNext && !overflow\n                            ? truncInlines.concat([getOverflowInline(textOverflow)])\n                            : truncInlines);\n                        if (overflow || hasNext) {\n                            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                        }\n                    }\n                    return false;\n                }\n                return true;\n            }\n            : () => true;\n        const procLine = autoWrapText\n            ? (inlines, hasNext) => {\n                if (!procLineClamp(inlines, hasNext)) {\n                    return false;\n                }\n                while (inlines.length) {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    const { beforeInlines, afterInlines } = breakWidthInlines(ctx, inlines, width);\n                    buildedMultiInlines.push(beforeInlines);\n                    inlines = afterInlines;\n                }\n                return true;\n            }\n            : isAllowOverflow(textOverflow)\n                ? (inlines, hasNext) => {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\n                    buildedMultiInlines.push(truncInlines);\n                    if (overflow) {\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                    }\n                    return true;\n                }\n                : (inlines, hasNext) => {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    buildedMultiInlines.push(inlines);\n                    return true;\n                };\n        grid.setCellOverflowText(col, row, false);\n        for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n            const inline = multiInlines[lineRow];\n            const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n            if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n                break;\n            }\n        }\n    }\n    else {\n        grid.setCellOverflowText(col, row, false);\n        buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n    }\n    let paddingTop = 0;\n    let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n    if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\n        const em = canvases_1.getFontSize(ctx, ctx.font).height;\n        const pad = (lineHeight - em) / 2;\n        paddingTop += pad;\n        paddingBottom -= pad;\n    }\n    else if (ctx.textBaseline === \"bottom\" ||\n        ctx.textBaseline === \"alphabetic\" ||\n        ctx.textBaseline === \"ideographic\") {\n        const em = canvases_1.getFontSize(ctx, ctx.font).height;\n        const pad = (lineHeight - em) / 2;\n        paddingTop -= pad;\n        paddingBottom += pad;\n    }\n    buildedMultiInlines.forEach((buildedInline) => {\n        drawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n        paddingTop += lineHeight;\n        paddingBottom -= lineHeight;\n    });\n}\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\n    const startColorRGB = color_1.colorToRGB(startColor);\n    const endColorRGB = color_1.colorToRGB(endColor);\n    const getRGB = (colorName) => {\n        const start = startColorRGB[colorName];\n        const end = endColorRGB[colorName];\n        if (elapsedTime >= 1) {\n            return end;\n        }\n        if (elapsedTime <= 0) {\n            return start;\n        }\n        const diff = start - end;\n        return Math.ceil(start - diff * elapsedTime);\n    };\n    return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\n}\nfunction drawCheckbox(ctx, rect, col, row, check, helper, { animElapsedTime = 1, uncheckBgColor = helper.theme.checkbox.uncheckBgColor, checkBgColor = helper.theme.checkbox.checkBgColor, borderColor = helper.theme.checkbox.borderColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n    borderColor = helper.getColor(borderColor, col, row, ctx);\n    if (0 < animElapsedTime && animElapsedTime < 1) {\n        uncheckBgColor = check\n            ? uncheckBgColor\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n        checkBgColor = check\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\n            : checkBgColor;\n    }\n    canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n        uncheckBgColor,\n        checkBgColor,\n        borderColor,\n    });\n}\nfunction drawRadioButton(ctx, rect, col, row, check, helper, { animElapsedTime = 1, checkColor = helper.theme.radioButton.checkColor, uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor, checkBorderColor = helper.theme.radioButton.checkBorderColor, uncheckBgColor = helper.theme.radioButton.uncheckBgColor, checkBgColor = helper.theme.radioButton.checkBgColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\n    const boxWidth = canvashelper.measureRadioButton(ctx).width;\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n    checkColor = helper.getColor(checkColor, col, row, ctx);\n    uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\n    checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n    let borderColor = check ? checkBorderColor : uncheckBorderColor;\n    let bgColor = check ? checkBgColor : uncheckBgColor;\n    if (0 < animElapsedTime && animElapsedTime < 1) {\n        borderColor = check\n            ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime)\n            : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\n        bgColor = check\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n    }\n    canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\n        checkColor,\n        borderColor,\n        bgColor,\n    });\n}\nclass ThemeResolver {\n    constructor(grid) {\n        this._checkbox = null;\n        this._radioButton = null;\n        this._button = null;\n        this._header = null;\n        this._grid = grid;\n    }\n    getThemeColor(...name) {\n        return getThemeColor(this._grid, ...name);\n    }\n    get font() {\n        return getThemeColor(this._grid, \"font\");\n    }\n    get underlayBackgroundColor() {\n        return getThemeColor(this._grid, \"underlayBackgroundColor\");\n    }\n    // color\n    get color() {\n        return getThemeColor(this._grid, \"color\");\n    }\n    get frozenRowsColor() {\n        return getThemeColor(this._grid, \"frozenRowsColor\");\n    }\n    // background\n    get defaultBgColor() {\n        return getThemeColor(this._grid, \"defaultBgColor\");\n    }\n    get frozenRowsBgColor() {\n        return getThemeColor(this._grid, \"frozenRowsBgColor\");\n    }\n    get selectionBgColor() {\n        return getThemeColor(this._grid, \"selectionBgColor\");\n    }\n    get highlightBgColor() {\n        return getThemeColor(this._grid, \"highlightBgColor\");\n    }\n    // border\n    get borderColor() {\n        return getThemeColor(this._grid, \"borderColor\");\n    }\n    get frozenRowsBorderColor() {\n        return getThemeColor(this._grid, \"frozenRowsBorderColor\");\n    }\n    get highlightBorderColor() {\n        return getThemeColor(this._grid, \"highlightBorderColor\");\n    }\n    get checkbox() {\n        const grid = this._grid;\n        return (this._checkbox ||\n            (this._checkbox = {\n                get uncheckBgColor() {\n                    return getThemeColor(grid, \"checkbox\", \"uncheckBgColor\");\n                },\n                get checkBgColor() {\n                    return getThemeColor(grid, \"checkbox\", \"checkBgColor\");\n                },\n                get borderColor() {\n                    return getThemeColor(grid, \"checkbox\", \"borderColor\");\n                },\n            }));\n    }\n    get radioButton() {\n        const grid = this._grid;\n        return (this._radioButton ||\n            (this._radioButton = {\n                get checkColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkColor\");\n                },\n                get uncheckBorderColor() {\n                    return getThemeColor(grid, \"radioButton\", \"uncheckBorderColor\");\n                },\n                get checkBorderColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkBorderColor\");\n                },\n                get uncheckBgColor() {\n                    return getThemeColor(grid, \"radioButton\", \"uncheckBgColor\");\n                },\n                get checkBgColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkBgColor\");\n                },\n            }));\n    }\n    get button() {\n        const grid = this._grid;\n        return (this._button ||\n            (this._button = {\n                get color() {\n                    return getThemeColor(grid, \"button\", \"color\");\n                },\n                get bgColor() {\n                    return getThemeColor(grid, \"button\", \"bgColor\");\n                },\n            }));\n    }\n    get header() {\n        const grid = this._grid;\n        return (this._header ||\n            (this._header = {\n                get sortArrowColor() {\n                    return getThemeColor(grid, \"header\", \"sortArrowColor\");\n                },\n            }));\n    }\n}\nfunction strokeRect(ctx, color, left, top, width, height) {\n    if (!Array.isArray(color)) {\n        if (color) {\n            ctx.strokeStyle = color;\n            ctx.strokeRect(left, top, width, height);\n        }\n    }\n    else {\n        const borderColors = toBoxArray(color);\n        canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n    }\n}\nclass GridCanvasHelper {\n    constructor(grid) {\n        this._grid = grid;\n        this._theme = new ThemeResolver(grid);\n    }\n    createCalculator(context, font) {\n        return {\n            calcWidth(width) {\n                return calc.toPx(width, {\n                    get full() {\n                        const rect = context.getRect();\n                        return rect.width;\n                    },\n                    get em() {\n                        return canvases_1.getFontSize(context.getContext(), font).width;\n                    },\n                });\n            },\n            calcHeight(height) {\n                return calc.toPx(height, {\n                    get full() {\n                        const rect = context.getRect();\n                        return rect.height;\n                    },\n                    get em() {\n                        return canvases_1.getFontSize(context.getContext(), font).height;\n                    },\n                });\n            },\n        };\n    }\n    getColor(color, col, row, ctx) {\n        return getColor(color, col, row, this._grid, ctx);\n    }\n    toBoxArray(obj) {\n        return toBoxArray(obj);\n    }\n    toBoxPixelArray(value, context, font) {\n        if (typeof value === \"string\" || Array.isArray(value)) {\n            const calculator = this.createCalculator(context, font);\n            const box = toBoxArray(value);\n            return [\n                calculator.calcHeight(box[0]),\n                calculator.calcWidth(box[1]),\n                calculator.calcHeight(box[2]),\n                calculator.calcWidth(box[3]),\n            ];\n        }\n        return toBoxArray(value);\n    }\n    get theme() {\n        return this._theme;\n    }\n    drawWithClip(context, draw) {\n        const drawRect = context.getDrawRect();\n        if (!drawRect) {\n            return;\n        }\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            ctx.beginPath();\n            ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n            //clip\n            ctx.clip();\n            draw(ctx);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    drawBorderWithClip(context, draw) {\n        const drawRect = context.getDrawRect();\n        if (!drawRect) {\n            return;\n        }\n        const rect = context.getRect();\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            //clip\n            ctx.beginPath();\n            let clipLeft = drawRect.left;\n            let clipWidth = drawRect.width;\n            if (drawRect.left === rect.left) {\n                clipLeft += -1;\n                clipWidth += 1;\n            }\n            let clipTop = drawRect.top;\n            let clipHeight = drawRect.height;\n            if (drawRect.top === rect.top) {\n                clipTop += -1;\n                clipHeight += 1;\n            }\n            ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n            ctx.clip();\n            draw(ctx);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    text(text, context, { padding, offset = 2, color, textAlign = \"left\", textBaseline = \"middle\", font, textOverflow = \"clip\", icons, } = {}) {\n        let rect = context.getRect();\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            if (padding) {\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\n                const left = rect.left + paddingNums[3];\n                const top = rect.top + paddingNums[0];\n                const width = rect.width - paddingNums[1] - paddingNums[3];\n                const height = rect.height - paddingNums[0] - paddingNums[2];\n                rect = new Rect_1.Rect(left, top, width, height);\n            }\n            _inlineRect(this._grid, ctx, text, rect, col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    multilineText(multilines, context, { padding, offset = 2, color, textAlign = \"left\", textBaseline = \"middle\", font, lineHeight = \"1em\", autoWrapText = false, lineClamp = 0, textOverflow = \"clip\", icons, } = {}) {\n        let rect = context.getRect();\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            if (padding) {\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\n                const left = rect.left + paddingNums[3];\n                const top = rect.top + paddingNums[0];\n                const width = rect.width - paddingNums[1] - paddingNums[3];\n                const height = rect.height - paddingNums[0] - paddingNums[2];\n                rect = new Rect_1.Rect(left, top, width, height);\n            }\n            const calculator = this.createCalculator(context, font);\n            lineHeight = calculator.calcHeight(lineHeight);\n            _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                lineHeight,\n                autoWrapText,\n                lineClamp,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    fillText(text, x, y, context, { color, textAlign = \"left\", textBaseline = \"top\", font, } = {}) {\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n            ctx.textAlign = textAlign;\n            ctx.textBaseline = textBaseline;\n            ctx.font = font || ctx.font;\n            ctx.fillText(text, x, y);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    fillCell(context, { fillColor = this.theme.defaultBgColor, } = {}) {\n        const rect = context.getRect();\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            ctx.fill();\n        });\n    }\n    fillCellWithState(context, option = {}) {\n        option.fillColor = this.getFillColorState(context, option);\n        this.fillCell(context, option);\n    }\n    fillRect(rect, context, { fillColor = this.theme.defaultBgColor, } = {}) {\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            const { col, row } = context;\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            ctx.fill();\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    fillRectWithState(rect, context, option = {}) {\n        option.fillColor = this.getFillColorState(context, option);\n        this.fillRect(rect, context, option);\n    }\n    getFillColorState(context, option = {}) {\n        const sel = context.getSelection();\n        const { col, row } = context;\n        if (!utils_1.cellEquals(sel.select, context) && utils_1.cellInRange(sel.range, col, row)) {\n            return this.theme.selectionBgColor;\n        }\n        if (option.fillColor) {\n            return option.fillColor;\n        }\n        if (utils_1.cellEquals(sel.select, context)) {\n            return this.theme.highlightBgColor;\n        }\n        const isFrozenCell = this._grid.isFrozenCell(col, row);\n        if (isFrozenCell && isFrozenCell.row) {\n            return this.theme.frozenRowsBgColor;\n        }\n        return this.theme.defaultBgColor;\n    }\n    border(context, { borderColor = this.theme.borderColor, lineWidth = 1, } = {}) {\n        const rect = context.getRect();\n        this.drawBorderWithClip(context, (ctx) => {\n            const { col, row } = context;\n            const borderColors = getColor(borderColor, col, row, this._grid, ctx);\n            if (lineWidth === 1) {\n                ctx.lineWidth = 1;\n                strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n            }\n            else if (lineWidth === 2) {\n                ctx.lineWidth = 2;\n                strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n            }\n            else {\n                ctx.lineWidth = lineWidth;\n                const startOffset = lineWidth / 2 - 1;\n                strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n            }\n        });\n    }\n    // Unused in main\n    borderWithState(context, option = {}) {\n        const rect = context.getRect();\n        const sel = context.getSelection();\n        const { col, row } = context;\n        //\n        if (utils_1.cellEquals(sel.select, context)) {\n            option.borderColor = this.theme.highlightBorderColor;\n            option.lineWidth = 2;\n            this.border(context, option);\n        }\n        else {\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n                option.borderColor = this.theme.frozenRowsBorderColor;\n            }\n            option.lineWidth = 1;\n            this.border(context, option);\n            //\n            const sel = this._grid.selection.select;\n            if (sel.col + 1 === col && sel.row === row) {\n                //\n                this.drawBorderWithClip(context, (ctx) => {\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left - 0.5, rect.top);\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\n                    ctx.stroke();\n                });\n            }\n            else if (sel.col === col && sel.row + 1 === row) {\n                //\n                this.drawBorderWithClip(context, (ctx) => {\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left, rect.top - 0.5);\n                    ctx.lineTo(rect.right, rect.top - 0.5);\n                    ctx.stroke();\n                });\n            }\n        }\n    }\n    buildCheckBoxInline(check, context, option = {}) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        const ctx = context.getContext();\n        const boxWidth = canvashelper.measureCheckbox(ctx).width;\n        return new InlineDrawer_1.InlineDrawer({\n            draw,\n            width: boxWidth + 3,\n            height: boxWidth + 1,\n            color: undefined,\n        });\n        function draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n            const { col, row } = context;\n            drawCheckbox(ctx, rect, col, row, check, self, option, {\n                offset: offset + 1,\n                padding: {\n                    left: offsetLeft + 1,\n                    right: offsetRight,\n                    top: offsetTop,\n                    bottom: offsetBottom,\n                },\n            });\n        }\n    }\n    checkbox(check, context, option = {}) {\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            drawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n        });\n    }\n    radioButton(check, context, option = {}) {\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            drawRadioButton(ctx, context.getRect(), col, row, check, this, option);\n        });\n    }\n    button(caption, context, { bgColor = this.theme.button.bgColor, padding, offset = 2, color = this.theme.button.color, textAlign = \"center\", textBaseline = \"middle\", shadow, font, textOverflow = \"clip\", icons, } = {}) {\n        const rect = context.getRect();\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            const { col, row } = context;\n            const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n            const left = rect.left + paddingNums[3];\n            const top = rect.top + paddingNums[0];\n            const width = rect.width - paddingNums[1] - paddingNums[3];\n            const height = rect.height - paddingNums[0] - paddingNums[2];\n            bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\n            canvashelper.drawButton(ctx, left, top, width, height, {\n                bgColor,\n                radius: rect.height / 8,\n                // offset,\n                shadow,\n            });\n            _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    testFontLoad(font, value, context) {\n        return testFontLoad(font, value, context, this._grid);\n    }\n}\nexports.GridCanvasHelper = GridCanvasHelper;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListGrid = void 0;\nconst icons = __importStar(require(\"./internal/icons\"));\nconst themes = __importStar(require(\"./themes\"));\nconst data_1 = require(\"./data\");\nconst layout_map_1 = require(\"./list-grid/layout-map\");\nconst MessageHandler_1 = require(\"./columns/message/MessageHandler\");\nconst utils_1 = require(\"./internal/utils\");\nconst style_1 = require(\"./columns/style\");\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\nconst style_2 = require(\"./header/style\");\nconst LG_EVENT_TYPE_1 = require(\"./list-grid/LG_EVENT_TYPE\");\nconst Rect_1 = require(\"./internal/Rect\");\nconst TooltipHandler_1 = require(\"./tooltip/TooltipHandler\");\n//protected symbol\nconst symbolManager_1 = require(\"./internal/symbolManager\");\nconst paste_utils_1 = require(\"./internal/paste-utils\");\n/** @private */\nconst _ = symbolManager_1.getProtectedSymbol();\n//private methods\n/** @private */\nfunction _getCellRange(grid, col, row) {\n    return grid[_].layoutMap.getCellRange(col, row);\n}\n/** @private */\nfunction _updateRect(grid, col, row, context) {\n    context.setRectFilter((rect) => {\n        let { left, right, top, bottom } = rect;\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = _getCellRange(grid, col, row);\n        for (let c = col - 1; c >= startCol; c--) {\n            left -= grid.getColWidth(c);\n        }\n        for (let c = col + 1; c <= endCol; c++) {\n            right += grid.getColWidth(c);\n        }\n        for (let r = row - 1; r >= startRow; r--) {\n            top -= grid.getRowHeight(r);\n        }\n        for (let r = row + 1; r <= endRow; r++) {\n            bottom += grid.getRowHeight(r);\n        }\n        return Rect_1.Rect.bounds(left, top, right, bottom);\n    });\n}\n/** @private */\nfunction _getCellValue(grid, col, row) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        const { caption } = grid[_].layoutMap.getHeader(col, row);\n        return typeof caption === \"function\" ? caption() : caption;\n    }\n    else {\n        const { field } = grid[_].layoutMap.getBody(col, row);\n        return _getField(grid, field, row);\n    }\n}\n/** @private */\nfunction _setCellValue(grid, col, row, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        // nop\n        return false;\n    }\n    else {\n        const { field } = grid[_].layoutMap.getBody(col, row);\n        if (field == null) {\n            return false;\n        }\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.setField(index, field, value);\n    }\n}\n/** @private */\nfunction _getCellMessage(grid, col, row) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return null;\n    }\n    else {\n        const { message } = grid[_].layoutMap.getBody(col, row);\n        if (!message) {\n            return null;\n        }\n        if (!Array.isArray(message)) {\n            return _getField(grid, message, row);\n        }\n        const promises = [];\n        for (let index = 0; index < message.length; index++) {\n            const msg = _getField(grid, message[index], row);\n            if (utils_1.isPromise(msg)) {\n                promises.push(msg);\n            }\n            else if (MessageHandler_1.hasMessage(msg)) {\n                return msg;\n            }\n        }\n        if (!promises.length) {\n            return null;\n        }\n        return new Promise((resolve, reject) => {\n            promises.forEach((p) => {\n                p.then((msg) => {\n                    if (MessageHandler_1.hasMessage(msg)) {\n                        resolve(msg);\n                    }\n                }, reject);\n            });\n        });\n    }\n}\nfunction _getCellIcon0(grid, icon, row) {\n    if (Array.isArray(icon)) {\n        return icon.map((i) => _getCellIcon0(grid, i, row));\n    }\n    if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\n        return _getField(grid, icon, row);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const retIcon = {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const iconOpt = icon;\n    icons.iconPropKeys.forEach((k) => {\n        if (iconOpt[k]) {\n            const f = _getField(grid, iconOpt[k], row);\n            if (f != null) {\n                retIcon[k] = f;\n            }\n            else {\n                if (!_hasField(grid, iconOpt[k], row)) {\n                    retIcon[k] = iconOpt[k];\n                }\n            }\n        }\n    });\n    return retIcon;\n}\n/** @private */\nfunction _getCellIcon(grid, col, row) {\n    const { icon } = grid[_].layoutMap.getBody(col, row);\n    if (icon == null) {\n        return null;\n    }\n    return _getCellIcon0(grid, icon, row);\n}\n/** @private */\nfunction _getField(grid, field, row) {\n    if (field == null) {\n        return null;\n    }\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return null;\n    }\n    else {\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.getField(index, field);\n    }\n}\n/** @private */\nfunction _hasField(grid, field, row) {\n    if (field == null) {\n        return false;\n    }\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return false;\n    }\n    else {\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.hasField(index, field);\n    }\n}\n/** @private */\nfunction _onDrawValue(grid, cellValue, context, { col, row }, style, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndraw) {\n    const helper = grid[_].gridCanvasHelper;\n    const drawCellBg = ({ bgColor, } = {}) => {\n        const fillOpt = {\n            fillColor: bgColor,\n        };\n        //cell\n        helper.fillCellWithState(context, fillOpt);\n    };\n    const drawCellBorder = () => {\n        if (context.col === grid.frozenColCount - 1) {\n            //\n            const rect = context.getRect();\n            helper.drawWithClip(context, (ctx) => {\n                const borderColor = context.row >= grid.frozenRowCount\n                    ? helper.theme.borderColor\n                    : helper.theme.frozenRowsBorderColor;\n                const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n                if (borderColors[1]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.right - 2.5, rect.top);\n                    ctx.lineTo(rect.right - 2.5, rect.bottom);\n                    ctx.stroke();\n                }\n            });\n        }\n        _borderWithState(grid, helper, context);\n    };\n    const drawCellBase = ({ bgColor, } = {}) => {\n        drawCellBg({ bgColor });\n        drawCellBorder();\n    };\n    const info = {\n        getRecord: () => grid.getRowRecord(row),\n        getIcon: () => _getCellIcon(grid, col, row),\n        getMessage: () => _getCellMessage(grid, col, row),\n        messageHandler: grid[_].messageHandler,\n        style,\n        drawCellBase,\n        drawCellBg,\n        drawCellBorder,\n    };\n    return draw(cellValue, info, context, grid);\n}\n/** @private */\nfunction _borderWithState(grid, helper, context) {\n    const { col, row } = context;\n    const sel = grid.selection.select;\n    const { layoutMap } = grid[_];\n    const rect = context.getRect();\n    const option = {};\n    const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\n    const selId = layoutMap.getCellId(sel.col, sel.row);\n    function isSelectCell(col, row) {\n        if (col === sel.col && row === sel.row) {\n            return true;\n        }\n        return (selId != null &&\n            layoutMap.getCellId(col, row) === selId &&\n            layoutMap.getRecordIndexByRow(row) === selRecordIndex);\n    }\n    //\n    if (isSelectCell(col, row)) {\n        option.borderColor = helper.theme.highlightBorderColor;\n        option.lineWidth = 2;\n        helper.border(context, option);\n    }\n    else {\n        option.lineWidth = 1;\n        // header color\n        const isFrozenCell = grid.isFrozenCell(col, row);\n        if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n            option.borderColor = helper.theme.frozenRowsBorderColor;\n        }\n        helper.border(context, option);\n        //\n        if (col > 0 && isSelectCell(col - 1, row)) {\n            //\n            helper.drawBorderWithClip(context, (ctx) => {\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n                if (borderColors[1]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left - 0.5, rect.top);\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\n                    ctx.stroke();\n                }\n            });\n        }\n        else if (row > 0 && isSelectCell(col, row - 1)) {\n            //\n            helper.drawBorderWithClip(context, (ctx) => {\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n                if (borderColors[0]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[0];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left, rect.top - 0.5);\n                    ctx.lineTo(rect.right, rect.top - 0.5);\n                    ctx.stroke();\n                }\n            });\n        }\n    }\n}\n/** @private */\nfunction _refreshHeader(grid) {\n    var _a;\n    const protectedSpace = grid[_];\n    if (protectedSpace.headerEvents) {\n        protectedSpace.headerEvents.forEach((id) => grid.unlisten(id));\n    }\n    const headerEvents = (grid[_].headerEvents = []);\n    headerEvents.forEach((id) => grid.unlisten(id));\n    let layoutMap;\n    if (protectedSpace.layout &&\n        (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\n    }\n    else {\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_a = protectedSpace.header) !== null && _a !== void 0 ? _a : []);\n    }\n    layoutMap.headerObjects.forEach((cell) => {\n        const ids = cell.headerType.bindGridEvent(grid, cell.id);\n        headerEvents.push(...ids);\n        if (cell.style) {\n            if (cell.style instanceof style_2.BaseStyle) {\n                const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n                    grid.invalidate();\n                });\n                headerEvents.push(id);\n            }\n        }\n        if (cell.action) {\n            const ids = cell.action.bindGridEvent(grid, cell.id);\n            headerEvents.push(...ids);\n        }\n    });\n    layoutMap.columnObjects.forEach((col) => {\n        if (col.action) {\n            const ids = col.action.bindGridEvent(grid, col.id);\n            headerEvents.push(...ids);\n        }\n        if (col.columnType) {\n            const ids = col.columnType.bindGridEvent(grid, col.id);\n            headerEvents.push(...ids);\n        }\n        if (col.style) {\n            if (col.style instanceof style_1.BaseStyle) {\n                const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n                    grid.invalidate();\n                });\n                headerEvents.push(id);\n            }\n        }\n    });\n    for (let col = 0; col < layoutMap.columnWidths.length; col++) {\n        const column = layoutMap.columnWidths[col];\n        const { width, minWidth, maxWidth } = column;\n        if (width && (width > 0 || typeof width === \"string\")) {\n            grid.setColWidth(col, width);\n        }\n        if (minWidth && (minWidth > 0 || typeof minWidth === \"string\")) {\n            grid.setMinColWidth(col, minWidth);\n        }\n        if (maxWidth && (maxWidth > 0 || typeof maxWidth === \"string\")) {\n            grid.setMaxColWidth(col, maxWidth);\n        }\n    }\n    const { headerRowHeight } = grid[_];\n    for (let row = 0; row < layoutMap.headerRowCount; row++) {\n        const height = Array.isArray(headerRowHeight)\n            ? headerRowHeight[row]\n            : headerRowHeight;\n        if (height && height > 0) {\n            grid.setRowHeight(row, height);\n        }\n    }\n    grid.colCount = layoutMap.colCount;\n    _refreshRowCount(grid);\n    grid.frozenRowCount = layoutMap.headerRowCount;\n}\n/** @private */\nfunction _refreshRowCount(grid) {\n    const { layoutMap } = grid[_];\n    grid.rowCount =\n        grid[_].dataSource.length * layoutMap.bodyRowCount +\n            layoutMap.headerRowCount;\n}\n/** @private */\nfunction _tryWithUpdateDataSource(grid, fn) {\n    const { dataSourceEventIds } = grid[_];\n    if (dataSourceEventIds) {\n        dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\n    }\n    fn(grid);\n    grid[_].dataSourceEventIds = [\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n            _refreshRowCount(grid);\n            grid.invalidate();\n        }),\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n            grid.invalidate();\n        }),\n    ];\n}\n/** @private */\nfunction _setRecords(grid, records = []) {\n    _tryWithUpdateDataSource(grid, () => {\n        grid[_].records = records;\n        const newDataSource = (grid[_].dataSource = data_1.CachedDataSource.ofArray(records));\n        grid.addDisposable(newDataSource);\n    });\n}\n/** @private */\nfunction _setDataSource(grid, dataSource) {\n    _tryWithUpdateDataSource(grid, () => {\n        if (dataSource) {\n            if (dataSource instanceof data_1.DataSource) {\n                grid[_].dataSource = dataSource;\n            }\n            else {\n                const newDataSource = (grid[_].dataSource = new data_1.CachedDataSource(dataSource));\n                grid.addDisposable(newDataSource);\n            }\n        }\n        else {\n            grid[_].dataSource = data_1.DataSource.EMPTY;\n        }\n        grid[_].records = null;\n    });\n}\n/** @private */\nfunction _getRecordIndexByRow(grid, row) {\n    const { layoutMap } = grid[_];\n    return layoutMap.getRecordIndexByRow(row);\n}\n/** @private */\nfunction _onRangePaste(text, test = () => true) {\n    var _a;\n    const { layoutMap } = this[_];\n    const selectionRange = this.selection.range;\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n    const values = paste_utils_1.parsePasteRangeBoxValues(text);\n    const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\n    const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\n    let hasEditable = false;\n    const actionColumnsBox = [];\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n        const actionColumnsRow = [];\n        actionColumnsBox.push(actionColumnsRow);\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n            actionColumnsRow[offsetCol] = body;\n            if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n                hasEditable = true;\n            }\n        }\n    }\n    if (!hasEditable) {\n        return;\n    }\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n    const startRowOffset = start.row - startRow;\n    let duplicate = {};\n    let actionRow = startRowOffset;\n    let valuesRow = 0;\n    for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\n        let valuesCol = 0;\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n                duplicate[id] = true;\n                const col = start.col + offsetCol;\n                const row = start.row + offsetRow;\n                const cellValue = values.getCellValue(valuesCol, valuesRow);\n                utils_1.then(this.getRowRecord(row), (record) => {\n                    utils_1.then(_getCellValue(this, col, row), (oldValue) => {\n                        if (test({\n                            grid: this,\n                            record: record,\n                            col,\n                            row,\n                            value: cellValue,\n                            oldValue,\n                        })) {\n                            action.onPasteCellRangeBox(this, { col, row }, cellValue);\n                        }\n                    });\n                });\n            }\n            valuesCol++;\n            if (valuesCol >= values.colCount) {\n                valuesCol = 0;\n            }\n        }\n        actionRow++;\n        if (actionRow >= layoutMap.bodyRowCount) {\n            actionRow = 0;\n            duplicate = {};\n        }\n        valuesRow++;\n        if (valuesRow >= values.rowCount) {\n            valuesRow = 0;\n        }\n    }\n    const newEnd = {\n        col: start.col + pasteColCount - 1,\n        row: start.row + pasteRowCount - 1,\n    };\n    this.selection.range = {\n        start,\n        end: newEnd,\n    };\n    this.invalidateCellRange(this.selection.range);\n}\n/** @private */\nfunction _onRangeDelete() {\n    var _a;\n    const { layoutMap } = this[_];\n    const selectionRange = this.selection.range;\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n    const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\n    const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\n    let hasEditable = false;\n    const actionColumnsBox = [];\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n        const actionColumnsRow = [];\n        actionColumnsBox.push(actionColumnsRow);\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n            actionColumnsRow[offsetCol] = body;\n            if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n                hasEditable = true;\n            }\n        }\n    }\n    if (!hasEditable) {\n        return;\n    }\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n    const startRowOffset = start.row - startRow;\n    let duplicate = {};\n    let actionRow = startRowOffset;\n    for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n                duplicate[id] = true;\n                const col = start.col + offsetCol;\n                const row = start.row + offsetRow;\n                utils_1.then(this.getRowRecord(row), (_record) => {\n                    utils_1.then(_getCellValue(this, col, row), (_oldValue) => {\n                        action.onDeleteCellRangeBox(this, { col, row });\n                    });\n                });\n            }\n        }\n        actionRow++;\n        if (actionRow >= layoutMap.bodyRowCount) {\n            actionRow = 0;\n            duplicate = {};\n        }\n    }\n    this.invalidateCellRange(selectionRange);\n}\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @memberof cheetahGrid\n */\nclass ListGrid extends DrawGrid_1.DrawGrid {\n    /**\n     * constructor\n     *\n     * @constructor\n     * @param options Constructor options\n     */\n    constructor(options = {}) {\n        var _a;\n        super(utils_1.omit(options, [\"colCount\", \"rowCount\", \"frozenRowCount\"]));\n        this.disabled = false;\n        this.readOnly = false;\n        const protectedSpace = this[_];\n        protectedSpace.header = options.header || [];\n        protectedSpace.layout = options.layout || [];\n        protectedSpace.headerRowHeight = options.headerRowHeight || [];\n        if (options.dataSource) {\n            _setDataSource(this, options.dataSource);\n        }\n        else {\n            _setRecords(this, options.records);\n        }\n        protectedSpace.allowRangePaste = (_a = options.allowRangePaste) !== null && _a !== void 0 ? _a : false;\n        _refreshHeader(this);\n        protectedSpace.sortState = {\n            col: -1,\n            row: -1,\n            order: undefined,\n        };\n        protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\n        protectedSpace.theme = themes.of(options.theme);\n        protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n        protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\n        this.invalidate();\n        protectedSpace.handler.on(window, \"resize\", () => {\n            this.updateSize();\n            this.updateScroll();\n            this.invalidate();\n        });\n    }\n    static get EVENT_TYPE() {\n        return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\n    }\n    /**\n     * Dispose the grid instance.\n     * @returns {void}\n     */\n    dispose() {\n        const protectedSpace = this[_];\n        protectedSpace.messageHandler.dispose();\n        protectedSpace.tooltipHandler.dispose();\n        super.dispose();\n    }\n    /**\n     * Gets the define of the header.\n     */\n    get header() {\n        return this[_].header;\n    }\n    /**\n     * Sets the define of the header with the given data.\n     * <pre>\n     * column options\n     * -----\n     * caption: header caption\n     * field: field name\n     * width: column width\n     * minWidth: column min width\n     * maxWidth: column max width\n     * icon: icon name\n     * message: message key name\n     * columnType: column type\n     * action: column action\n     * style: column style\n     * headerType: header type\n     * headerStyle: header style\n     * headerAction: header action\n     * headerField: header field name\n     * sort: define sort setting\n     * -----\n     *\n     * multiline header\n     * -----\n     * caption: header caption\n     * columns: columns define\n     * -----\n     * </pre>\n     */\n    set header(header) {\n        this[_].header = header;\n        _refreshHeader(this);\n    }\n    /**\n     * Gets the define of the layout.\n     */\n    get layout() {\n        return this[_].layout;\n    }\n    /**\n     * Sets the define of the layout with the given data.\n     */\n    set layout(layout) {\n        this[_].layout = layout;\n        _refreshHeader(this);\n    }\n    /**\n     * Get the row count per record\n     */\n    get recordRowCount() {\n        return this[_].layoutMap.bodyRowCount;\n    }\n    /**\n     * Get the records.\n     */\n    get records() {\n        return this[_].records || null;\n    }\n    /**\n     * Set the records from given\n     */\n    set records(records) {\n        if (records == null) {\n            return;\n        }\n        _setRecords(this, records);\n        _refreshRowCount(this);\n        this.invalidate();\n    }\n    /**\n     * Get the data source.\n     */\n    get dataSource() {\n        return this[_].dataSource;\n    }\n    /**\n     * Set the data source from given\n     */\n    set dataSource(dataSource) {\n        _setDataSource(this, dataSource);\n        _refreshRowCount(this);\n        this.invalidate();\n    }\n    /**\n     * Get the theme.\n     */\n    get theme() {\n        return this[_].theme;\n    }\n    /**\n     * Set the theme from given\n     */\n    set theme(theme) {\n        this[_].theme = themes.of(theme);\n        this.invalidate();\n    }\n    /**\n     * If set to true to allow pasting of ranges.\n     */\n    get allowRangePaste() {\n        return this[_].allowRangePaste;\n    }\n    set allowRangePaste(allowRangePaste) {\n        this[_].allowRangePaste = allowRangePaste;\n    }\n    /**\n     * Get the font definition as a string.\n     * @override\n     */\n    get font() {\n        return super.font || this[_].gridCanvasHelper.theme.font;\n    }\n    /**\n     * Set the font definition with the given string.\n     * @override\n     */\n    set font(font) {\n        super.font = font;\n    }\n    /**\n     * Get the background color of the underlay.\n     * @override\n     */\n    get underlayBackgroundColor() {\n        return (super.underlayBackgroundColor ||\n            this[_].gridCanvasHelper.theme.underlayBackgroundColor);\n    }\n    /**\n     * Set the background color of the underlay.\n     * @override\n     */\n    set underlayBackgroundColor(underlayBackgroundColor) {\n        super.underlayBackgroundColor = underlayBackgroundColor;\n    }\n    /**\n     * Get the sort state.\n     */\n    get sortState() {\n        return this[_].sortState;\n    }\n    /**\n     * Sets the sort state.\n     * If `null` to set, the sort state is initialized.\n     */\n    set sortState(sortState) {\n        const oldState = this.sortState;\n        let oldField;\n        if (oldState.col >= 0 && oldState.row >= 0) {\n            oldField = this.getHeaderField(oldState.col, oldState.row);\n        }\n        const newState = (this[_].sortState =\n            sortState != null\n                ? sortState\n                : {\n                    col: -1,\n                    row: -1,\n                    order: undefined,\n                });\n        let newField;\n        if (newState.col >= 0 && newState.row >= 0) {\n            newField = this.getHeaderField(newState.col, newState.row);\n        }\n        // bind header value\n        if (oldField != null && oldField !== newField) {\n            this.setHeaderValue(oldState.col, oldState.row, undefined);\n        }\n        if (newField != null) {\n            this.setHeaderValue(newState.col, newState.row, newState.order);\n        }\n    }\n    /**\n     * Get the header values.\n     */\n    get headerValues() {\n        return this[_].headerValues || (this[_].headerValues = new Map());\n    }\n    /**\n     * Sets the header values.\n     */\n    set headerValues(headerValues) {\n        this[_].headerValues = headerValues || new Map();\n    }\n    /**\n     * Get the field of the given column index.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index.\n     * @return {*} The field object.\n     */\n    getField(col, row) {\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\n    }\n    /**\n     * Get the column define of the given column index.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index.\n     * @return {*} The column define object.\n     */\n    getColumnDefine(col, row) {\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\n    }\n    getColumnType(col, row) {\n        return this[_].layoutMap.getBody(col, row).columnType;\n    }\n    /**\n     * Get the header field of the given header cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The header row index.\n     * @return {*} The field object.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getHeaderField(col, row) {\n        const hd = this[_].layoutMap.getHeader(col, row);\n        return hd.field;\n    }\n    /**\n     * Get the header define of the given header cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The header row index.\n     * @return {*} The header define object.\n     */\n    getHeaderDefine(col, row) {\n        const hd = this[_].layoutMap.getHeader(col, row);\n        return hd.define;\n    }\n    /**\n     * Get the record of the given row index.\n     * @param  {number} row The row index.\n     * @return {object} The record.\n     */\n    getRowRecord(row) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return undefined;\n        }\n        else {\n            return this[_].dataSource.get(_getRecordIndexByRow(this, row));\n        }\n    }\n    /**\n     * Get the record index of the given row index.\n     * @param  {number} row The row index.\n     */\n    getRecordIndexByRow(row) {\n        return _getRecordIndexByRow(this, row);\n    }\n    /**\n     * Gets the row index starting at the given record index.\n     * @param  {number} index The record index.\n     */\n    getRecordStartRowByRecordIndex(index) {\n        return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\n    }\n    /**\n     * Get the column index of the given field.\n     * @param  {*} field The field.\n     * @return {number} The column index.\n     * @deprecated use `getCellRangeByField` instead\n     */\n    getColumnIndexByField(field) {\n        var _a;\n        const range = this.getCellRangeByField(field, 0);\n        return (_a = range === null || range === void 0 ? void 0 : range.start.col) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Get the column index of the given field.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {number} The column index.\n     */\n    getCellRangeByField(field, index) {\n        const { layoutMap } = this[_];\n        const colObj = layoutMap.columnObjects.find((col) => col.field === field);\n        if (colObj) {\n            const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\n            const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\n            return {\n                start: {\n                    col: layoutRange.start.col,\n                    row: startRow + layoutRange.start.row,\n                },\n                end: {\n                    col: layoutRange.end.col,\n                    row: startRow + layoutRange.end.row,\n                },\n            };\n        }\n        return null;\n    }\n    /**\n     * Focus the cell.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {void}\n     */\n    focusGridCell(field, index) {\n        var _a;\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = this.selection.range;\n        const newFocus = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n        if (newFocus == null) {\n            return;\n        }\n        this.focusCell(newFocus.col, newFocus.row);\n        this.selection.select = newFocus;\n        this.invalidateGridRect(startCol, startRow, endCol, endRow);\n        this.invalidateCell(newFocus.col, newFocus.row);\n    }\n    /**\n     * Scroll to where cell is visible.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {void}\n     */\n    makeVisibleGridCell(field, index) {\n        var _a, _b, _c;\n        const cell = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n        this.makeVisibleCell((_b = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _b !== void 0 ? _b : 0, (_c = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _c !== void 0 ? _c : this[_].layoutMap.headerRowCount);\n    }\n    getGridCanvasHelper() {\n        return this[_].gridCanvasHelper;\n    }\n    /**\n     * Get cell range information for a given cell.\n     * @param {number} col column index of the cell\n     * @param {number} row row index of the cell\n     * @returns {object} cell range info\n     */\n    getCellRange(col, row) {\n        return _getCellRange(this, col, row);\n    }\n    /**\n     * Get header range information for a given cell.\n     * @param {number} col column index of the cell\n     * @param {number} row row index of the cell\n     * @returns {object} cell range info\n     * @deprecated use `getCellRange` instead\n     */\n    getHeaderCellRange(col, row) {\n        return this.getCellRange(col, row);\n    }\n    getCopyCellValue(col, row, range) {\n        var _a;\n        const cellRange = _getCellRange(this, col, row);\n        const startCol = range\n            ? Math.max(range.start.col, cellRange.start.col)\n            : cellRange.start.col;\n        const startRow = range\n            ? Math.max(range.start.row, cellRange.start.row)\n            : cellRange.start.row;\n        if (startCol !== col || startRow !== row) {\n            return \"\";\n        }\n        const value = _getCellValue(this, col, row);\n        if (row < this[_].layoutMap.headerRowCount) {\n            return value;\n        }\n        const columnData = this[_].layoutMap.getBody(col, row);\n        return ((_a = columnData.columnType.getCopyCellValue(value, this, { col, row })) !== null && _a !== void 0 ? _a : value);\n    }\n    onDrawCell(col, row, context) {\n        const { layoutMap } = this[_];\n        let draw;\n        let style;\n        if (row < layoutMap.headerRowCount) {\n            const hd = layoutMap.getHeader(col, row);\n            draw = hd.headerType.onDrawCell;\n            ({ style } = hd);\n            _updateRect(this, col, row, context);\n        }\n        else {\n            const column = layoutMap.getBody(col, row);\n            draw = column.columnType.onDrawCell;\n            ({ style } = column);\n            _updateRect(this, col, row, context);\n        }\n        const cellValue = _getCellValue(this, col, row);\n        return _onDrawValue(this, cellValue, context, { col, row }, style, draw);\n    }\n    doGetCellValue(col, row, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    valueCallback) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // nop\n            return false;\n        }\n        else {\n            const value = _getCellValue(this, col, row);\n            if (utils_1.isPromise(value)) {\n                //\n                return false;\n            }\n            valueCallback(value);\n        }\n        return true;\n    }\n    doChangeValue(col, row, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    changeValueCallback) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // nop\n            return false;\n        }\n        else {\n            const record = this.getRowRecord(row);\n            if (utils_1.isPromise(record)) {\n                //\n                return false;\n            }\n            const before = _getCellValue(this, col, row);\n            if (utils_1.isPromise(before)) {\n                //\n                return false;\n            }\n            const after = changeValueCallback(before);\n            if (after === undefined) {\n                return false;\n            }\n            return utils_1.then(_setCellValue(this, col, row, after), (ret) => {\n                if (ret) {\n                    const { field } = this[_].layoutMap.getBody(col, row);\n                    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\n                        col,\n                        row,\n                        record: record,\n                        field: field,\n                        value: after,\n                        oldValue: before,\n                    });\n                }\n                return ret;\n            });\n        }\n    }\n    doSetPasteValue(text, test) {\n        _onRangePaste.call(this, text, test);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getHeaderValue(col, row) {\n        const field = this.getHeaderField(col, row);\n        return this.headerValues.get(field);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setHeaderValue(col, row, newValue) {\n        const field = this.getHeaderField(col, row);\n        const oldValue = this.headerValues.get(field);\n        this.headerValues.set(field, newValue);\n        this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\n            col,\n            row,\n            field,\n            value: newValue,\n            oldValue,\n        });\n    }\n    getLayoutCellId(col, row) {\n        return this[_].layoutMap.getCellId(col, row);\n    }\n    bindEventsInternal() {\n        const grid = this;\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            const range = _getCellRange(this, e.col, e.row);\n            const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = range;\n            if (startCol !== endCol || startRow !== endRow) {\n                this.invalidateCellRange(range);\n            }\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, (e) => {\n            if (!this[_].allowRangePaste) {\n                return;\n            }\n            const { start, end } = this.selection.range;\n            if (!e.multi && utils_1.cellEquals(start, end)) {\n                return;\n            }\n            const { layoutMap } = this[_];\n            if (start.row < layoutMap.headerRowCount) {\n                return;\n            }\n            utils_1.event.cancel(e.event);\n            _onRangePaste.call(this, e.normalizeValue);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, (e) => {\n            const { start } = this.selection.range;\n            const { layoutMap } = this[_];\n            if (start.row < layoutMap.headerRowCount) {\n                return;\n            }\n            utils_1.event.cancel(e.event);\n            _onRangeDelete.call(this);\n        });\n    }\n    getMoveLeftColByKeyDownInternal({ col, row }) {\n        const { start: { col: startCol }, } = _getCellRange(this, col, row);\n        col = startCol;\n        return super.getMoveLeftColByKeyDownInternal({ col, row });\n    }\n    getMoveRightColByKeyDownInternal({ col, row, }) {\n        const { end: { col: endCol }, } = _getCellRange(this, col, row);\n        col = endCol;\n        return super.getMoveRightColByKeyDownInternal({ col, row });\n    }\n    getMoveUpRowByKeyDownInternal({ col, row }) {\n        const { start: { row: startRow }, } = _getCellRange(this, col, row);\n        row = startRow;\n        return super.getMoveUpRowByKeyDownInternal({ col, row });\n    }\n    getMoveDownRowByKeyDownInternal({ col, row }) {\n        const { end: { row: endRow }, } = _getCellRange(this, col, row);\n        row = endRow;\n        return super.getMoveDownRowByKeyDownInternal({ col, row });\n    }\n    getOffsetInvalidateCells() {\n        return 1;\n    }\n    getCopyRangeInternal(range) {\n        const { start } = this.getCellRange(range.start.col, range.start.row);\n        const { end } = this.getCellRange(range.end.col, range.end.row);\n        return { start, end };\n    }\n    fireListeners(type, ...event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return super.fireListeners(type, ...event);\n    }\n}\nexports.ListGrid = ListGrid;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(require(\"./columns/action\"));\nexports.action = action;\nconst style = __importStar(require(\"./columns/style\"));\nexports.style = style;\nconst type = __importStar(require(\"./columns/type\"));\nexports.type = type;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\nconst Action_1 = require(\"./action/Action\");\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return Action_1.Action; } });\nconst BaseAction_1 = require(\"./action/BaseAction\");\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\nconst ButtonAction_1 = require(\"./action/ButtonAction\");\nObject.defineProperty(exports, \"ButtonAction\", { enumerable: true, get: function () { return ButtonAction_1.ButtonAction; } });\nconst CheckEditor_1 = require(\"./action/CheckEditor\");\nObject.defineProperty(exports, \"CheckEditor\", { enumerable: true, get: function () { return CheckEditor_1.CheckEditor; } });\nconst Editor_1 = require(\"./action/Editor\");\nObject.defineProperty(exports, \"Editor\", { enumerable: true, get: function () { return Editor_1.Editor; } });\nconst InlineInputEditor_1 = require(\"./action/InlineInputEditor\");\nObject.defineProperty(exports, \"InlineInputEditor\", { enumerable: true, get: function () { return InlineInputEditor_1.InlineInputEditor; } });\nconst InlineMenuEditor_1 = require(\"./action/InlineMenuEditor\");\nObject.defineProperty(exports, \"InlineMenuEditor\", { enumerable: true, get: function () { return InlineMenuEditor_1.InlineMenuEditor; } });\nconst RadioEditor_1 = require(\"./action/RadioEditor\");\nObject.defineProperty(exports, \"RadioEditor\", { enumerable: true, get: function () { return RadioEditor_1.RadioEditor; } });\nconst SmallDialogInputEditor_1 = require(\"./action/SmallDialogInputEditor\");\nObject.defineProperty(exports, \"SmallDialogInputEditor\", { enumerable: true, get: function () { return SmallDialogInputEditor_1.SmallDialogInputEditor; } });\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\nexports.ACTIONS = {\n    CHECK: new ImmutableCheckEditor(),\n    INPUT: new ImmutableInputEditor(),\n    RADIO: new ImmutableRadioEditor(),\n};\nfunction of(columnAction) {\n    if (!columnAction) {\n        return undefined;\n    }\n    else if (typeof columnAction === \"string\") {\n        const key = columnAction.toUpperCase();\n        return exports.ACTIONS[key] || of(null);\n    }\n    else {\n        return columnAction;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Action = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst BaseAction_1 = require(\"./BaseAction\");\nconst action_utils_1 = require(\"./action-utils\");\nclass Action extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        super(option);\n        this._action = option.action || (() => { });\n    }\n    get editable() {\n        return false;\n    }\n    get action() {\n        return this._action;\n    }\n    set action(action) {\n        this._action = action;\n    }\n    clone() {\n        return new Action(this);\n    }\n    getState(_grid) {\n        return {};\n    }\n    bindGridEvent(grid, cellId) {\n        const state = this.getState(grid);\n        const action = (cell) => {\n            if (action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return;\n            }\n            const record = grid.getRowRecord(cell.row);\n            this._action(record, cell);\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n        ];\n    }\n    onPasteCellRangeBox() {\n        // noop\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n}\nexports.Action = Action;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAction = void 0;\nclass BaseAction {\n    constructor(option = {}) {\n        this._disabled = option.disabled || false;\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(disabled) {\n        this._disabled = disabled;\n        this.onChangeDisabledInternal();\n    }\n    onChangeDisabledInternal() {\n        // abstruct\n    }\n}\nexports.BaseAction = BaseAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseInputEditor = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass BaseInputEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n    }\n    bindGridEvent(grid, cellId) {\n        const open = (cell) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return false;\n            }\n            this.onOpenCellInternal(grid, cell);\n            return true;\n        };\n        const input = (cell, value) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return;\n            }\n            this.onInputCellInternal(grid, cell, value);\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                input({\n                    col: e.col,\n                    row: e.row,\n                }, e.value);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                utils_1.event.cancel(e.event);\n                input({\n                    col: e.col,\n                    row: e.row,\n                }, e.normalizeValue);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                open({\n                    col: cell.col,\n                    row: cell.row,\n                });\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                open({\n                    col: e.col,\n                    row: e.row,\n                });\n                utils_1.event.cancel(e.event);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n                    return;\n                }\n                const sel = grid.selection.select;\n                if (!isTarget(sel.col, sel.row)) {\n                    return;\n                }\n                if (open({\n                    col: sel.col,\n                    row: sel.row,\n                })) {\n                    e.stopCellMoving();\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (e) => {\n                this.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n                this.onGridScrollInternal(grid);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return false;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                    return false;\n                }\n                return true;\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                    return;\n                }\n                const range = grid.getCellRange(cell.col, cell.row);\n                if (range.start.col !== range.end.col ||\n                    range.start.row !== range.end.row) {\n                    const { input } = cell;\n                    const baseRect = grid.getCellRect(cell.col, cell.row);\n                    const rangeRect = grid.getCellRangeRect(range);\n                    input.style.top = `${(parseFloat(input.style.top) +\n                        (rangeRect.top - baseRect.top)).toFixed()}px`;\n                    input.style.left = `${(parseFloat(input.style.left) +\n                        (rangeRect.left - baseRect.left)).toFixed()}px`;\n                    input.style.width = `${rangeRect.width.toFixed()}px`;\n                    input.style.height = `${rangeRect.height.toFixed()}px`;\n                }\n                this.onSetInputAttrsInternal(grid, {\n                    col: cell.col,\n                    row: cell.row,\n                }, cell.input);\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        grid.doChangeValue(cell.col, cell.row, () => value);\n    }\n    onDeleteCellRangeBox(grid, cell) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        grid.doChangeValue(cell.col, cell.row, () => \"\");\n    }\n}\nexports.BaseInputEditor = BaseInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonAction = void 0;\nconst Action_1 = require(\"./Action\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\nclass ButtonAction extends Action_1.Action {\n    getState(grid) {\n        let state = grid[BUTTON_COLUMN_STATE_ID];\n        if (!state) {\n            state = {};\n            utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\n        }\n        return state;\n    }\n}\nexports.ButtonAction = ButtonAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckEditor = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\nclass CheckEditor extends Editor_1.Editor {\n    clone() {\n        return new CheckEditor(this);\n    }\n    bindGridEvent(grid, cellId) {\n        let _state = grid[CHECK_COLUMN_STATE_ID];\n        if (!_state) {\n            _state = { block: {}, elapsed: {} };\n            utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\n        }\n        const state = _state;\n        const action = (cell) => {\n            const range = grid.getCellRange(cell.col, cell.row);\n            const cellKey = `${range.start.col}:${range.start.row}`;\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n                state.block[cellKey]) {\n                return;\n            }\n            const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n            if (ret) {\n                const onChange = () => {\n                    // checkbox animation\n                    animate_1.animate(200, (point) => {\n                        if (point === 1) {\n                            delete state.elapsed[cellKey];\n                        }\n                        else {\n                            state.elapsed[cellKey] = point;\n                        }\n                        grid.invalidateCellRange(range);\n                    });\n                };\n                if (utils_1.isPromise(ret)) {\n                    state.block[cellKey] = true;\n                    ret.then(() => {\n                        delete state.block[cellKey];\n                        onChange();\n                    });\n                }\n                else {\n                    onChange();\n                }\n            }\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action: (_e) => {\n                    const selrange = grid.selection.range;\n                    const { col } = grid.selection.select;\n                    for (let { row } = selrange.start; row <= selrange.end.row; row++) {\n                        if (!isTarget(col, row)) {\n                            continue;\n                        }\n                        action({\n                            col,\n                            row,\n                        });\n                    }\n                },\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                const pasteValue = e.normalizeValue.trim();\n                grid.doGetCellValue(e.col, e.row, (value) => {\n                    const newValue = action_utils_1.toggleValue(value);\n                    if (`${newValue}`.trim() === pasteValue) {\n                        utils_1.event.cancel(e.event);\n                        action({\n                            col: e.col,\n                            row: e.row,\n                        });\n                    }\n                });\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const pasteValue = value.trim();\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            const newValue = action_utils_1.toggleValue(value);\n            if (`${newValue}`.trim() === pasteValue) {\n                grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n            }\n        });\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n}\nexports.CheckEditor = CheckEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Editor = void 0;\nconst BaseAction_1 = require(\"./BaseAction\");\nclass Editor extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        super(option);\n        this._readOnly = option.readOnly || false;\n    }\n    get editable() {\n        return true;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n    set readOnly(readOnly) {\n        this._readOnly = readOnly;\n        this.onChangeReadOnlyInternal();\n    }\n    onChangeReadOnlyInternal() {\n        // abstruct\n    }\n}\nexports.Editor = Editor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineInputEditor = void 0;\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\nconst InlineInputElement_1 = require(\"./internal/InlineInputElement\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst _ = symbolManager_1.getInlineInputEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new InlineInputElement_1.InlineInputElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nfunction doChangeValue(_grid) {\n    if (globalElement) {\n        globalElement.doChangeValue();\n    }\n}\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\n    constructor(option = {}) {\n        super(option);\n        this._classList = option.classList;\n        this._type = option.type;\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n    }\n    clone() {\n        return new InlineInputEditor(this);\n    }\n    onInputCellInternal(grid, cell, inputValue) {\n        attachInput(grid, cell, this, inputValue);\n    }\n    onOpenCellInternal(grid, cell) {\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            attachInput(grid, cell, this, value);\n        });\n    }\n    onChangeSelectCellInternal(grid, _cell, _selected) {\n        doChangeValue(grid);\n        detachInput();\n    }\n    onGridScrollInternal(grid) {\n        doChangeValue(grid);\n        detachInput(true);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onSetInputAttrsInternal(grid, _cell, input) {\n        InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\n    }\n}\nexports.InlineInputEditor = InlineInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineMenuEditor = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst InlineMenuElement_1 = require(\"./internal/InlineMenuElement\");\nconst type_1 = require(\"../type\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst menu_items_1 = require(\"../../internal/menu-items\");\nconst _ = symbolManager_1.getInlineMenuEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value, record) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new InlineMenuElement_1.InlineMenuElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value, record);\n}\nfunction detachMenu(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass InlineMenuEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n        this._classList = option.classList;\n        this._options = menu_items_1.normalizeToFn(option.options);\n    }\n    dispose() {\n        // noop\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this._options = menu_items_1.normalizeToFn(options);\n    }\n    clone() {\n        return new InlineMenuEditor(this);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachMenu(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachMenu(true);\n    }\n    bindGridEvent(grid, cellId) {\n        const open = (cell) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return false;\n            }\n            grid.doGetCellValue(cell.col, cell.row, (value) => {\n                const record = grid.getRowRecord(cell.row);\n                if (utils_1.isPromise(record)) {\n                    return;\n                }\n                attachMenu(grid, cell, this, value, record);\n            });\n            return true;\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                open({\n                    col: cell.col,\n                    row: cell.row,\n                });\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n                    return;\n                }\n                const sel = grid.selection.select;\n                if (!isTarget(sel.col, sel.row)) {\n                    return;\n                }\n                if (open({\n                    col: sel.col,\n                    row: sel.row,\n                })) {\n                    e.stopCellMoving();\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (_e) => {\n                detachMenu();\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n                detachMenu(true);\n            }),\n            // mouse move\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                grid.getElement().style.cursor = \"pointer\";\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                if (!grid.getElement().style.cursor) {\n                    grid.getElement().style.cursor = \"pointer\";\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                grid.getElement().style.cursor = \"\";\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                const record = grid.getRowRecord(e.row);\n                if (utils_1.isPromise(record)) {\n                    return;\n                }\n                const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\n                if (pasteOpt) {\n                    utils_1.event.cancel(e.event);\n                    utils_1.then(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\n                        const range = grid.getCellRange(e.col, e.row);\n                        grid.invalidateCellRange(range);\n                    });\n                }\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const record = grid.getRowRecord(cell.row);\n        if (utils_1.isPromise(record)) {\n            return;\n        }\n        const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\n        if (pasteOpt) {\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n        }\n    }\n    onDeleteCellRangeBox(grid, cell) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const record = grid.getRowRecord(cell.row);\n        if (utils_1.isPromise(record)) {\n            return;\n        }\n        const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\n        if (pasteOpt) {\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n        }\n    }\n    _pasteDataToOptionValue(value, grid, cell, record) {\n        const options = this._options(record);\n        const pasteOpt = _textToOptionValue(value, options);\n        if (pasteOpt) {\n            return pasteOpt;\n        }\n        const columnType = grid.getColumnType(cell.col, cell.row);\n        if (hasOptions(columnType)) {\n            // Find with caption.\n            const pasteValue = normalizePasteValueStr(value);\n            const captionOpt = utils_1.array.find(columnType.options, (opt) => normalizePasteValueStr(opt.label) === pasteValue);\n            if (captionOpt) {\n                return _textToOptionValue(captionOpt.value, options);\n            }\n        }\n        return undefined;\n    }\n}\nexports.InlineMenuEditor = InlineMenuEditor;\nfunction _textToOptionValue(value, options) {\n    const pasteValue = normalizePasteValueStr(value);\n    const pasteOpt = utils_1.array.find(options, (opt) => normalizePasteValueStr(opt.value) === pasteValue);\n    if (pasteOpt) {\n        return pasteOpt;\n    }\n    return undefined;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction normalizePasteValueStr(value) {\n    if (value == null) {\n        return \"\";\n    }\n    return `${value}`.trim();\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction hasOptions(columnType) {\n    if (columnType instanceof type_1.MenuColumn) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (Array.isArray(columnType.options)) {\n        return true;\n    }\n    return false;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioEditor = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_2 = require(\"../utils\");\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst defaultGroupResolver = ({ grid, col, row }) => {\n    const cellId = grid.getLayoutCellId(col, row);\n    const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n    const offsetRow = row - recordStartRow;\n    const result = [];\n    const { rowCount, recordRowCount } = grid;\n    for (let targetRow = grid.frozenRowCount + offsetRow; targetRow < rowCount; targetRow += recordRowCount) {\n        if (grid.getLayoutCellId(col, targetRow) === cellId) {\n            result.push({ col, row: targetRow });\n        }\n    }\n    return result;\n};\nclass RadioEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n        this._group = option.group || defaultGroupResolver;\n    }\n    clone() {\n        return new RadioEditor(this);\n    }\n    get group() {\n        return this._group;\n    }\n    set group(group) {\n        this._group = group;\n    }\n    bindGridEvent(grid, cellId) {\n        let _state = grid[RADIO_COLUMN_STATE_ID];\n        if (!_state) {\n            _state = { block: {}, elapsed: {} };\n            utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\n        }\n        const state = _state;\n        const action = (cell) => {\n            this._action(grid, cell);\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                const pasteValue = e.normalizeValue.trim();\n                if (!utils_2.toBoolean(pasteValue)) {\n                    return;\n                }\n                utils_1.event.cancel(e.event);\n                action({\n                    col: e.col,\n                    row: e.row,\n                });\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const pasteValue = value.trim();\n        if (!utils_2.toBoolean(pasteValue)) {\n            return;\n        }\n        this._action(grid, {\n            col: cell.col,\n            row: cell.row,\n        });\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n    _action(grid, cell) {\n        const state = grid[RADIO_COLUMN_STATE_ID];\n        const range = grid.getCellRange(cell.col, cell.row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n            state.block[cellKey]) {\n            return;\n        }\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            if (utils_2.toBoolean(value)) {\n                return;\n            }\n            const targets = this._group({ grid, col: cell.col, row: cell.row });\n            targets.forEach(({ col, row }) => {\n                const range = grid.getCellRange(col, row);\n                const cellKey = `${range.start.col}:${range.start.row}`;\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n                    state.block[cellKey]) {\n                    return;\n                }\n                actionCell(grid, col, row, col === cell.col && row === cell.row);\n            });\n        });\n    }\n}\nexports.RadioEditor = RadioEditor;\nfunction actionCell(grid, col, row, flag) {\n    grid.doGetCellValue(col, row, (value) => {\n        if (utils_2.toBoolean(value) === flag) {\n            return;\n        }\n        const state = grid[RADIO_COLUMN_STATE_ID];\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\n        if (ret) {\n            const onChange = () => {\n                // checkbox animation\n                animate_1.animate(200, (point) => {\n                    if (point === 1) {\n                        delete state.elapsed[cellKey];\n                    }\n                    else {\n                        state.elapsed[cellKey] = point;\n                    }\n                    grid.invalidateCellRange(range);\n                });\n            };\n            if (utils_1.isPromise(ret)) {\n                state.block[cellKey] = true;\n                ret.then(() => {\n                    delete state.block[cellKey];\n                    onChange();\n                });\n            }\n            else {\n                onChange();\n            }\n        }\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmallDialogInputEditor = void 0;\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\nconst SmallDialogInputElement_1 = require(\"./internal/SmallDialogInputElement\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst _ = symbolManager_1.getSmallDialogInputEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\n    constructor(option = {}) {\n        super(option);\n        this._helperText = option.helperText;\n        this._inputValidator = option.inputValidator;\n        this._validator = option.validator;\n        this._classList = option.classList;\n        this._type = option.type;\n    }\n    dispose() {\n        //noop\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n    }\n    get helperText() {\n        return this._helperText;\n    }\n    get inputValidator() {\n        return this._inputValidator;\n    }\n    get validator() {\n        return this._validator;\n    }\n    clone() {\n        return new SmallDialogInputEditor(this);\n    }\n    onInputCellInternal(grid, cell, inputValue) {\n        attachInput(grid, cell, this, inputValue);\n    }\n    onOpenCellInternal(grid, cell) {\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            attachInput(grid, cell, this, value);\n        });\n    }\n    onChangeSelectCellInternal(_grid, _cell, _selected) {\n        // cancel input\n        detachInput();\n    }\n    onGridScrollInternal(_grid) {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onSetInputAttrsInternal(grid, _cell, input) {\n        SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\n    }\n}\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nfunction isDisabledRecord(option, grid, row) {\n    if (grid.disabled) {\n        return true;\n    }\n    return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isDisabledRecord = isDisabledRecord;\nfunction isReadOnlyRecord(option, grid, row) {\n    if (grid.readOnly) {\n        return true;\n    }\n    return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isReadOnlyRecord = isReadOnlyRecord;\nfunction toggleValue(val) {\n    if (typeof val === \"number\") {\n        if (val === 0) {\n            return 1;\n        }\n        else {\n            return 0;\n        }\n    }\n    else if (typeof val === \"string\") {\n        if (val === \"false\") {\n            return \"true\";\n        }\n        else if (val === \"off\") {\n            return \"on\";\n        }\n        else if (/^0+$/.exec(val)) {\n            return val.replace(/^(0*)0$/, \"$11\");\n        }\n        else if (val === \"true\") {\n            return \"false\";\n        }\n        else if (val === \"on\") {\n            return \"off\";\n        }\n        else if (/^0*1$/.exec(val)) {\n            return val.replace(/^(0*)1$/, \"$10\");\n        }\n    }\n    return !val;\n}\nexports.toggleValue = toggleValue;\nfunction getBooleanOptionOfRecord(option, grid, row) {\n    if (typeof option === \"function\") {\n        const record = grid.getRowRecord(row);\n        if (utils_1.isPromise(record)) {\n            return true;\n        }\n        return !!option(record);\n    }\n    return !!option;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [\n        // click\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n                return;\n            }\n            action({\n                col: e.col,\n                row: e.row,\n            });\n        }),\n        // mouse move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n                return;\n            }\n            if (mouseOver) {\n                if (!mouseOver({\n                    col: e.col,\n                    row: e.row,\n                })) {\n                    return;\n                }\n            }\n            grid.getElement().style.cursor = \"pointer\";\n        }),\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOut) {\n                mouseOut({\n                    col: e.col,\n                    row: e.row,\n                });\n            }\n            grid.getElement().style.cursor = \"\";\n        }),\n    ];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\n    return [\n        // enter key down\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n            var _a;\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\n                return;\n            }\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n                // When moving with the enter key, no action is taken with the enter key.\n                return;\n            }\n            const sel = grid.selection.select;\n            if (!isTarget(sel.col, sel.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(sel.row))) {\n                return;\n            }\n            action({\n                col: sel.col,\n                row: sel.row,\n            });\n            utils_1.event.cancel(e.event);\n        }),\n    ];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineInputElement = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst utils_1 = require(\"../../../internal/utils\");\nconst input_value_handler_1 = require(\"./input-value-handler\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst CLASSNAME = \"cheetah-grid__inline-input\";\nfunction createInputElement() {\n    require(\"@/columns/action/internal/InlineInputElement.css\");\n    return dom_1.createElement(\"input\", { classList: CLASSNAME });\n}\nfunction setInputAttrs(editor, _grid, input) {\n    const { classList, type } = editor;\n    if (classList) {\n        input.classList.add(...classList);\n    }\n    input.type = type || \"\";\n}\nclass InlineInputElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._input = createInputElement();\n        this._bindInputEvents();\n    }\n    static setInputAttrs(editor, grid, input) {\n        setInputAttrs(editor, grid, input);\n    }\n    dispose() {\n        var _a;\n        const input = this._input;\n        this.detach();\n        this._handler.dispose();\n        delete this._input;\n        this._beforePropEditor = null;\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n    }\n    attach(grid, editor, col, row, value) {\n        const input = this._input;\n        const handler = this._handler;\n        if (this._beforePropEditor) {\n            const { classList } = this._beforePropEditor;\n            if (classList) {\n                input.classList.remove(...classList);\n            }\n        }\n        input.style.font = grid.font || \"16px sans-serif\";\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        input.style.top = `${rect.top.toFixed()}px`;\n        input.style.left = `${rect.left.toFixed()}px`;\n        input.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n        element.appendChild(input);\n        setInputAttrs(editor, grid, input);\n        input_value_handler_1.setInputValue(input, value);\n        this._activeData = { grid, col, row, editor };\n        this._beforePropEditor = editor;\n        const focus = () => {\n            input.focus();\n            const end = input.value.length;\n            try {\n                if (typeof input.selectionStart !== \"undefined\") {\n                    input.selectionStart = end;\n                    input.selectionEnd = end;\n                    return;\n                }\n            }\n            catch (e) {\n                //ignore\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (document.selection) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const range = input.createTextRange();\n                range.collapse();\n                range.moveEnd(\"character\", end);\n                range.moveStart(\"character\", end);\n                range.select();\n            }\n        };\n        handler.tryWithOffEvents(input, \"blur\", () => {\n            focus();\n        });\n        this._attaching = true;\n        setTimeout(() => {\n            delete this._attaching;\n        });\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const { grid, col, row } = this._activeData;\n            const input = this._input;\n            this._handler.tryWithOffEvents(input, \"blur\", () => {\n                var _a;\n                (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n            });\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n    }\n    doChangeValue() {\n        if (!this._isActive()) {\n            return;\n        }\n        const input = this._input;\n        const { value } = input;\n        const { grid, col, row } = this._activeData;\n        grid.doChangeValue(col, row, () => value);\n    }\n    _isActive() {\n        const input = this._input;\n        if (!input || !input.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindInputEvents() {\n        const handler = this._handler;\n        const input = this._input;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(input, \"click\", stopPropagationOnly);\n        handler.on(input, \"mousedown\", stopPropagationOnly);\n        handler.on(input, \"touchstart\", stopPropagationOnly);\n        handler.on(input, \"dblclick\", stopPropagationOnly);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n        });\n        handler.on(input, \"compositionend\", (_e) => {\n            input.classList.remove(\"composition\");\n        });\n        handler.on(input, \"keydown\", (e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(e);\n            }\n            else if (keyCode === KEY_TAB) {\n                this._onKeydownTab(e);\n            }\n        });\n        handler.on(input, \"blur\", (_e) => {\n            this.doChangeValue();\n            this.detach();\n        });\n    }\n    _onKeydownEnter(e) {\n        var _a;\n        if (!this._isActive() || this._attaching) {\n            return;\n        }\n        const { grid } = this._activeData;\n        this.doChangeValue();\n        this.detach(true);\n        utils_1.event.cancel(e);\n        if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n            grid.onKeyDownMove(e);\n        }\n    }\n    _onKeydownTab(e) {\n        var _a;\n        if (!this._isActive()) {\n            return;\n        }\n        const { grid } = this._activeData;\n        if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\n            return;\n        }\n        this.doChangeValue();\n        this.detach(true);\n        grid.onKeyDownMove(e);\n    }\n}\nexports.InlineInputElement = InlineInputElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineMenuElement = void 0;\nconst dom_1 = require(\"../../../internal/dom\");\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst utils_1 = require(\"../../../internal/utils\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\nfunction findItemParents(target) {\n    let el = target;\n    while (el && !el.classList.contains(ITEM_CLASSNAME)) {\n        el = el.parentElement;\n        if (!el || el.classList.contains(CLASSNAME)) {\n            return null;\n        }\n    }\n    return el;\n}\nfunction createMenuElement() {\n    require(\"@/columns/action/internal/InlineMenuElement.css\");\n    return dom_1.createElement(\"ul\", { classList: CLASSNAME });\n}\nfunction attachElement(element, rect, menu) {\n    menu.style.top = `${rect.top.toFixed()}px`;\n    menu.style.left = `${rect.left.toFixed()}px`;\n    menu.style.width = `${rect.width.toFixed()}px`;\n    menu.style.lineHeight = `${rect.height.toFixed()}px`;\n    element.appendChild(menu);\n}\nfunction optionToLi({ classList, label, value, html }, index) {\n    const item = dom_1.createElement(\"li\", { classList: ITEM_CLASSNAME });\n    item.tabIndex = 0;\n    item.dataset.valueindex = `${index}`;\n    if (classList) {\n        item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n    }\n    if (label) {\n        const span = dom_1.createElement(\"span\", { text: label });\n        item.appendChild(span);\n    }\n    else if (html) {\n        dom_1.appendHtml(item, html);\n    }\n    if (value === \"\" || value == null) {\n        item.classList.add(EMPTY_ITEM_CLASSNAME);\n    }\n    return item;\n}\nfunction openMenu(grid, editor, col, row, value, options, menu) {\n    const { classList } = editor;\n    menu.classList.remove(SHOWN_CLASSNAME);\n    menu.classList.add(HIDDEN_CLASSNAME);\n    dom_1.empty(menu);\n    menu.style.font = grid.font || \"16px sans-serif\";\n    let emptyItemEl = null;\n    let valueItemEl = null;\n    options.forEach((option, i) => {\n        const item = optionToLi(option, i);\n        menu.appendChild(item);\n        if (option.value === value) {\n            valueItemEl = item;\n            item.dataset.select = \"select\";\n        }\n        if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n            emptyItemEl = item;\n        }\n    });\n    const focusEl = valueItemEl || emptyItemEl || menu.children[0];\n    if (classList) {\n        menu.classList.add(...classList);\n    }\n    const children = Array.prototype.slice.call(menu.children, 0);\n    const focusIndex = children.indexOf(focusEl);\n    const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    // Cover the right line\n    rect.width++;\n    // append for calculation\n    attachElement(element, rect, menu);\n    // Make the selection item at the middle\n    let offset = 0;\n    let allHeight = 0;\n    for (let i = 0; i < children.length; i++) {\n        const { offsetHeight } = children[i];\n        if (i < focusIndex) {\n            offset += offsetHeight;\n        }\n        allHeight += offsetHeight;\n    }\n    rect.offsetTop(-offset);\n    menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n    attachElement(element, rect, menu);\n    // Control not to overflow the screen range\n    const menuClientRect = menu.getBoundingClientRect();\n    const scaleDiff = (allHeight - menuClientRect.height) / 2;\n    const orgMenuTop = menuClientRect.top - scaleDiff;\n    let menuTop = orgMenuTop;\n    const menuBottom = menuTop + allHeight;\n    const winBottom = window.innerHeight;\n    const winMargin = 20;\n    if (menuBottom > winBottom - winMargin) {\n        const diff = menuBottom - winBottom + winMargin;\n        menuTop -= diff;\n    }\n    if (menuTop < 0 /*winTop*/ + winMargin) {\n        menuTop = winMargin;\n    }\n    if (menuTop !== orgMenuTop) {\n        rect.offsetTop(-(orgMenuTop - menuTop));\n        // re update\n        attachElement(element, rect, menu);\n    }\n    if (focusEl) {\n        focusEl.focus();\n    }\n    menu.classList.remove(HIDDEN_CLASSNAME);\n    menu.classList.add(SHOWN_CLASSNAME);\n}\nfunction closeMenu(_grid, _col, _row, menu) {\n    menu.classList.remove(SHOWN_CLASSNAME);\n    menu.classList.add(HIDDEN_CLASSNAME);\n    dom_1.disableFocus(menu);\n}\nclass InlineMenuElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._menu = createMenuElement();\n        this._bindMenuEvents();\n    }\n    dispose() {\n        var _a;\n        const menu = this._menu;\n        this.detach();\n        this._handler.dispose();\n        delete this._menu;\n        this._beforePropEditor = null;\n        (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\n    }\n    attach(grid, editor, col, row, value, record) {\n        const menu = this._menu;\n        if (this._beforePropEditor) {\n            const { classList } = this._beforePropEditor;\n            if (classList) {\n                menu.classList.remove(...classList);\n            }\n        }\n        const options = editor.options(record);\n        openMenu(grid, editor, col, row, value, options, menu);\n        this._activeData = { grid, col, row, editor, options };\n        this._beforePropEditor = editor;\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const { grid, col, row } = this._activeData;\n            const menu = this._menu;\n            closeMenu(grid, col, row, menu);\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n    }\n    _doChangeValue(valueindex) {\n        if (!this._isActive()) {\n            return;\n        }\n        const { grid, col, row, options } = this._activeData;\n        const option = options[Number(valueindex)];\n        if (option) {\n            const { value } = option;\n            grid.doChangeValue(col, row, () => value);\n        }\n    }\n    _isActive() {\n        const menu = this._menu;\n        if (!menu || !menu.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindMenuEvents() {\n        const handler = this._handler;\n        const menu = this._menu;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(menu, \"mousedown\", stopPropagationOnly);\n        handler.on(menu, \"touchstart\", stopPropagationOnly);\n        handler.on(menu, \"dblclick\", stopPropagationOnly);\n        handler.on(menu, \"click\", (e) => {\n            e.stopPropagation();\n            const item = findItemParents(e.target);\n            if (!item) {\n                return;\n            }\n            const { valueindex } = item.dataset;\n            this._doChangeValue(valueindex || \"\");\n            this.detach(true);\n        });\n        handler.on(menu, \"keydown\", (e) => {\n            const item = findItemParents(e.target);\n            if (!item) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(menu, item, e);\n            }\n            else if (keyCode === KEY_ESC) {\n                this.detach(true);\n                utils_1.event.cancel(e);\n            }\n            else if (keyCode === KEY_UP) {\n                const n = dom_1.findPrevSiblingFocusable(item);\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n            else if (keyCode === KEY_DOWN) {\n                const n = dom_1.findNextSiblingFocusable(item);\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n            else if (keyCode === KEY_TAB) {\n                this._onKeydownTab(menu, item, e);\n            }\n        });\n    }\n    _onKeydownEnter(_menu, item, e) {\n        var _a;\n        const grid = this._isActive() ? this._activeData.grid : null;\n        const { valueindex } = item.dataset;\n        this._doChangeValue(valueindex || \"\");\n        this.detach(true);\n        utils_1.event.cancel(e);\n        if (grid) {\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n                grid.onKeyDownMove(e);\n            }\n        }\n    }\n    _onKeydownTab(menu, item, e) {\n        var _a;\n        if (this._isActive()) {\n            const { grid } = this._activeData;\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\n                const { valueindex } = item.dataset;\n                this._doChangeValue(valueindex || \"\");\n                this.detach(true);\n                grid.onKeyDownMove(e);\n                return;\n            }\n        }\n        if (!e.shiftKey) {\n            if (!dom_1.findNextSiblingFocusable(item)) {\n                let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n                if (!dom_1.isFocusable(n)) {\n                    n = dom_1.findNextSiblingFocusable(n);\n                }\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n        }\n        else {\n            if (!dom_1.findPrevSiblingFocusable(item)) {\n                const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n                let n = items[items.length - 1];\n                if (!dom_1.isFocusable(n)) {\n                    n = dom_1.findPrevSiblingFocusable(n);\n                }\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n        }\n    }\n}\nexports.InlineMenuElement = InlineMenuElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmallDialogInputElement = void 0;\nconst utils_1 = require(\"../../../internal/utils\");\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst input_value_handler_1 = require(\"./input-value-handler\");\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\nfunction _focus(input, handler) {\n    const focus = () => {\n        input.focus();\n        const end = input.value.length;\n        try {\n            if (typeof input.selectionStart !== \"undefined\") {\n                input.selectionStart = end;\n                input.selectionEnd = end;\n                return;\n            }\n        }\n        catch (e) {\n            //ignore\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (document.selection) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const range = input.createTextRange();\n            range.collapse();\n            range.moveEnd(\"character\", end);\n            range.moveStart(\"character\", end);\n            range.select();\n        }\n    };\n    handler.tryWithOffEvents(input, \"blur\", () => {\n        focus();\n    });\n}\nfunction createDialogElement() {\n    require(\"@/columns/action/internal/SmallDialogInputElement.css\");\n    const element = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const input = dom_1.createElement(\"input\", { classList: INPUT_CLASSNAME });\n    input.readOnly = true;\n    input.tabIndex = -1;\n    element.appendChild(input);\n    return element;\n}\nfunction bindProps(grid, dialog, input, editor) {\n    const { classList, helperText } = editor;\n    if (classList) {\n        dialog.classList.add(...classList);\n    }\n    if (helperText && typeof helperText !== \"function\") {\n        dialog.dataset.helperText = helperText;\n    }\n    setInputAttrs(editor, grid, input);\n}\nfunction unbindProps(_grid, dialog, input, editor) {\n    const { classList } = editor;\n    if (classList) {\n        dialog.classList.remove(...classList);\n    }\n    delete dialog.dataset.helperText;\n    input.type = \"\";\n}\nfunction setInputAttrs(editor, _grid, input) {\n    const { type } = editor;\n    input.type = type || \"\";\n}\nclass SmallDialogInputElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._dialog = createDialogElement();\n        this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n        this._bindDialogEvents();\n    }\n    static setInputAttrs(editor, grid, input) {\n        setInputAttrs(editor, grid, input);\n    }\n    dispose() {\n        const dialog = this._dialog;\n        this.detach();\n        this._handler.dispose();\n        delete this._dialog;\n        delete this._input;\n        this._beforePropEditor = null;\n        if (dialog.parentElement) {\n            dialog.parentElement.removeChild(dialog);\n        }\n    }\n    attach(grid, editor, col, row, value) {\n        const handler = this._handler;\n        const dialog = this._dialog;\n        const input = this._input;\n        if (this._beforePropEditor) {\n            unbindProps(grid, dialog, input, this._beforePropEditor);\n        }\n        delete dialog.dataset.errorMessage;\n        dialog.classList.remove(SHOWN_CLASSNAME);\n        dialog.classList.add(HIDDEN_CLASSNAME);\n        input.readOnly = true;\n        input.tabIndex = 0;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        dialog.style.top = `${rect.top.toFixed()}px`;\n        dialog.style.left = `${rect.left.toFixed()}px`;\n        dialog.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n        element.appendChild(dialog);\n        input_value_handler_1.setInputValue(input, value);\n        input.style.font = grid.font || \"16px sans-serif\";\n        const activeData = { grid, col, row, editor };\n        this._onInputValue(input, activeData);\n        if (!utils_1.browser.IE) {\n            _focus(input, handler);\n        }\n        else {\n            // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\n            setTimeout(() => _focus(input, handler));\n        }\n        dialog.classList.add(SHOWN_CLASSNAME);\n        dialog.classList.remove(HIDDEN_CLASSNAME);\n        input.readOnly = false;\n        bindProps(grid, dialog, input, editor);\n        this._activeData = activeData;\n        this._beforePropEditor = editor;\n        this._attaching = true;\n        setTimeout(() => {\n            delete this._attaching;\n        });\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const dialog = this._dialog;\n            const input = this._input;\n            dialog.classList.remove(SHOWN_CLASSNAME);\n            dialog.classList.add(HIDDEN_CLASSNAME);\n            input.readOnly = true;\n            input.tabIndex = -1;\n            const { grid, col, row } = this._activeData;\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n        this._beforeValue = null;\n    }\n    _doChangeValue() {\n        if (!this._isActive()) {\n            return false;\n        }\n        const input = this._input;\n        const { value } = input;\n        return utils_1.then(this._validate(value), (res) => {\n            if (res && value === input.value) {\n                const { grid, col, row } = this._activeData;\n                grid.doChangeValue(col, row, () => value);\n                return true;\n            }\n            return false;\n        });\n    }\n    _isActive() {\n        const dialog = this._dialog;\n        if (!dialog || !dialog.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindDialogEvents() {\n        const handler = this._handler;\n        const dialog = this._dialog;\n        const input = this._input;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(dialog, \"click\", stopPropagationOnly);\n        handler.on(dialog, \"dblclick\", stopPropagationOnly);\n        handler.on(dialog, \"mousedown\", stopPropagationOnly);\n        handler.on(dialog, \"touchstart\", stopPropagationOnly);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n        });\n        handler.on(input, \"compositionend\", (_e) => {\n            input.classList.remove(\"composition\");\n            this._onInputValue(input);\n        });\n        const onKeyupAndPress = (_e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            this._onInputValue(input);\n        };\n        handler.on(input, \"keyup\", onKeyupAndPress);\n        handler.on(input, \"keypress\", onKeyupAndPress);\n        handler.on(input, \"keydown\", (e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ESC) {\n                this.detach(true);\n                utils_1.event.cancel(e);\n            }\n            else if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(e);\n            }\n            else {\n                this._onInputValue(input);\n            }\n        });\n    }\n    _onKeydownEnter(e) {\n        if (this._attaching) {\n            return;\n        }\n        const input = this._input;\n        const { value } = input;\n        utils_1.then(this._doChangeValue(), (r) => {\n            var _a;\n            if (r && value === input.value) {\n                const grid = this._isActive() ? this._activeData.grid : null;\n                this.detach(true);\n                if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n                    grid.onKeyDownMove(e);\n                }\n            }\n        });\n        utils_1.event.cancel(e);\n    }\n    _onInputValue(input, activeData) {\n        const before = this._beforeValue;\n        const { value } = input;\n        if (before !== value) {\n            this._onInputValueChange(value, activeData);\n        }\n        this._beforeValue = value;\n    }\n    _onInputValueChange(after, activeData) {\n        activeData = (activeData || this._activeData);\n        const dialog = this._dialog;\n        const { grid, col, row, editor } = activeData;\n        if (typeof editor.helperText === \"function\") {\n            const helperText = editor.helperText(after, { grid, col, row });\n            if (helperText) {\n                dialog.dataset.helperText = helperText;\n            }\n            else {\n                delete dialog.dataset.helperText;\n            }\n        }\n        if (\"errorMessage\" in dialog.dataset) {\n            this._validate(after, true);\n        }\n    }\n    _validate(value, inputOnly) {\n        const dialog = this._dialog;\n        const input = this._input;\n        const { grid, col, row, editor } = this._activeData;\n        let message = \"\";\n        if (editor.inputValidator) {\n            message = editor.inputValidator(value, { grid, col, row });\n        }\n        return utils_1.then(message, (message) => {\n            if (!message && editor.validator && !inputOnly) {\n                message = editor.validator(value, { grid, col, row });\n            }\n            return utils_1.then(message, (message) => {\n                if (message && value === input.value) {\n                    dialog.dataset.errorMessage = message;\n                }\n                else {\n                    delete dialog.dataset.errorMessage;\n                }\n                return !message;\n            });\n        });\n    }\n}\nexports.SmallDialogInputElement = SmallDialogInputElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setInputValue = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nfunction setInputValue(input, value) {\n    const sign = input.type === \"number\" && value === \"-\";\n    if (sign) {\n        // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\n        input.type = \"\";\n        let handler = new EventHandler_1.EventHandler();\n        const dispose = () => {\n            if (handler) {\n                handler.dispose();\n                handler = null;\n            }\n        };\n        handler.once(input, \"input\", (_e) => {\n            input.type = \"number\";\n            dispose();\n        });\n        handler.once(input, \"blur\", (_e) => {\n            dispose();\n        });\n    }\n    input.value = value !== null && value !== void 0 ? value : \"\";\n}\nexports.setInputValue = setInputValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseMessage = void 0;\nclass BaseMessage {\n    constructor(grid) {\n        this._messageElement = null;\n        this._grid = grid;\n    }\n    dispose() {\n        this.detachMessageElement();\n        if (this._messageElement) {\n            this._messageElement.dispose();\n        }\n        this._messageElement = null;\n    }\n    _getMessageElement() {\n        return (this._messageElement ||\n            (this._messageElement = this.createMessageElementInternal()));\n    }\n    attachMessageElement(col, row, message) {\n        const messageElement = this._getMessageElement();\n        messageElement.attach(this._grid, col, row, message);\n    }\n    moveMessageElement(col, row) {\n        const messageElement = this._getMessageElement();\n        messageElement.move(this._grid, col, row);\n    }\n    detachMessageElement() {\n        const messageElement = this._getMessageElement();\n        messageElement._detach();\n    }\n    drawCellMessage(message, context, style, helper, grid, info) {\n        this.drawCellMessageInternal(message, context, style, helper, grid, info);\n    }\n}\nexports.BaseMessage = BaseMessage;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst ErrorMessageElement_1 = require(\"./internal/ErrorMessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst RED_A100 = \"#ff8a80\";\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new ErrorMessageElement_1.ErrorMessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: RED_A100,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.ErrorMessage = ErrorMessage;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InfoMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst MessageElement_1 = require(\"./internal/MessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst GREY_L2 = \"#e0e0e0\";\nclass InfoMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new MessageElement_1.MessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: GREY_L2,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.InfoMessage = InfoMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageHandler = exports.hasMessage = void 0;\nconst ErrorMessage_1 = require(\"./ErrorMessage\");\nconst InfoMessage_1 = require(\"./InfoMessage\");\nconst LG_EVENT_TYPE_1 = require(\"../../list-grid/LG_EVENT_TYPE\");\nconst WarningMessage_1 = require(\"./WarningMessage\");\nconst utils_1 = require(\"../../internal/utils\");\nconst EMPTY_MESSAGE = {\n    type: \"error\",\n    message: null,\n};\nconst MESSAGE_INSTANCE_FACTORY = {\n    error(grid) {\n        return new ErrorMessage_1.ErrorMessage(grid);\n    },\n    info(grid) {\n        return new InfoMessage_1.InfoMessage(grid);\n    },\n    warning(grid) {\n        return new WarningMessage_1.WarningMessage(grid);\n    },\n};\nfunction normalizeMessage(message) {\n    if (!message || utils_1.isPromise(message)) {\n        return EMPTY_MESSAGE;\n    }\n    if (typeof message === \"string\") {\n        return {\n            type: \"error\",\n            message,\n            original: message,\n        };\n    }\n    const type = message.type || \"error\";\n    if (type && type in MESSAGE_INSTANCE_FACTORY) {\n        return {\n            type: type.toLowerCase(),\n            message: message.message,\n            original: message,\n        };\n    }\n    return {\n        type: \"error\",\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        message: `${message}`,\n        original: message,\n    };\n}\nfunction hasMessage(message) {\n    return !!normalizeMessage(message).message;\n}\nexports.hasMessage = hasMessage;\nclass MessageHandler {\n    constructor(grid, getMessage) {\n        this._attachInfo = null;\n        this._grid = grid;\n        this._messageInstances = {};\n        this._bindGridEvent(grid, getMessage);\n    }\n    dispose() {\n        var _a;\n        const messageInstances = this._messageInstances;\n        for (const k in messageInstances) {\n            (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n        delete this._messageInstances;\n        delete this._attachInfo;\n    }\n    drawCellMessage(message, context, style, helper, grid, info) {\n        if (!hasMessage(message)) {\n            return;\n        }\n        const instance = this._getMessageInstanceOfMessage(message);\n        instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\n    }\n    _attach(col, row, message) {\n        const info = this._attachInfo;\n        const instance = this._getMessageInstanceOfMessage(message);\n        if (info && info.instance !== instance) {\n            info.instance.detachMessageElement();\n        }\n        instance.attachMessageElement(col, row, normalizeMessage(message));\n        this._attachInfo = { col, row, instance };\n    }\n    _move(col, row) {\n        const info = this._attachInfo;\n        if (!info || info.col !== col || info.row !== row) {\n            return;\n        }\n        const { instance } = info;\n        instance.moveMessageElement(col, row);\n    }\n    _detach() {\n        const info = this._attachInfo;\n        if (!info) {\n            return;\n        }\n        const { instance } = info;\n        instance.detachMessageElement();\n        this._attachInfo = null;\n    }\n    _bindGridEvent(grid, getMessage) {\n        const onSelectMessage = (sel) => {\n            const setMessageData = (msg) => {\n                if (!hasMessage(msg)) {\n                    this._detach();\n                }\n                else {\n                    this._attach(sel.col, sel.row, msg);\n                }\n            };\n            const message = getMessage(sel.col, sel.row);\n            if (utils_1.isPromise(message)) {\n                this._detach();\n                message.then((msg) => {\n                    const newSel = grid.selection.select;\n                    if (newSel.col !== sel.col || newSel.row !== sel.row) {\n                        return;\n                    }\n                    setMessageData(msg);\n                });\n                return;\n            }\n            setMessageData(message);\n        };\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            if (!e.selected) {\n                return;\n            }\n            if (e.before.col === e.col && e.before.row === e.row) {\n                return;\n            }\n            onSelectMessage(e);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n            const sel = grid.selection.select;\n            this._move(sel.col, sel.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\n            const sel = grid.selection.select;\n            if (sel.col !== e.col || sel.row !== e.row) {\n                return;\n            }\n            onSelectMessage(e);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, (_e) => {\n            const sel = grid.selection.select;\n            onSelectMessage(sel);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, (_e) => {\n            this._detach();\n        });\n    }\n    _getMessageInstanceOfMessage(message) {\n        const messageInstances = this._messageInstances;\n        const { type } = normalizeMessage(message);\n        return (messageInstances[type] ||\n            (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid)));\n    }\n}\nexports.MessageHandler = MessageHandler;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WarningMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst WarningMessageElement_1 = require(\"./internal/WarningMessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\nclass WarningMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new WarningMessageElement_1.WarningMessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: DEEP_ORANGE_A100,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.WarningMessage = WarningMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessageElement = void 0;\nconst MessageElement_1 = require(\"./MessageElement\");\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\n    constructor() {\n        super();\n        require(\"@/columns/message/internal/ErrorMessageElement.css\");\n        this._rootElement.classList.add(CLASSNAME);\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\n    }\n}\nexports.ErrorMessageElement = ErrorMessageElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageElement = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst CLASSNAME = \"cheetah-grid__message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createMessageDomElement() {\n    require(\"@/columns/message/internal/MessageElement.css\");\n    const rootElement = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const messageElement = dom_1.createElement(\"span\", {\n        classList: [MESSAGE_CLASSNAME],\n    });\n    rootElement.appendChild(messageElement);\n    return rootElement;\n}\nclass MessageElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        const rootElement = (this._rootElement = createMessageDomElement());\n        this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n    }\n    dispose() {\n        this.detach();\n        this._handler.dispose();\n        delete this._rootElement;\n        delete this._messageElement;\n    }\n    attach(grid, col, row, message) {\n        const rootElement = this._rootElement;\n        const messageElement = this._messageElement;\n        rootElement.classList.remove(SHOWN_CLASSNAME);\n        rootElement.classList.add(HIDDEN_CLASSNAME);\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n            messageElement.textContent = message.message;\n        }\n        else {\n            this._detach();\n        }\n    }\n    move(grid, col, row) {\n        const rootElement = this._rootElement;\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n        }\n        else {\n            this._detach();\n        }\n    }\n    detach() {\n        this._detach();\n    }\n    _detach() {\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            rootElement.parentElement.removeChild(rootElement);\n            rootElement.classList.remove(SHOWN_CLASSNAME);\n            rootElement.classList.add(HIDDEN_CLASSNAME);\n        }\n    }\n    _attachCell(grid, col, row) {\n        const rootElement = this._rootElement;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        const { bottom: top, left, width } = rect;\n        const { frozenRowCount, frozenColCount } = grid;\n        if (row >= frozenRowCount && frozenRowCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n            if (top < frozenRect.bottom) {\n                return false; //\n            }\n        }\n        else {\n            if (top < 0) {\n                return false; //\n            }\n        }\n        if (col >= frozenColCount && frozenColCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n            if (left < frozenRect.right) {\n                return false; //\n            }\n        }\n        else {\n            if (left < 0) {\n                return false; //\n            }\n        }\n        const { offsetHeight, offsetWidth } = element;\n        if (offsetHeight < top) {\n            return false; //\n        }\n        if (offsetWidth < left) {\n            return false; //\n        }\n        rootElement.style.top = `${top.toFixed()}px`;\n        rootElement.style.left = `${left.toFixed()}px`;\n        rootElement.style.width = `${width.toFixed()}px`;\n        if (rootElement.parentElement !== element) {\n            element.appendChild(rootElement);\n        }\n        return true;\n    }\n}\nexports.MessageElement = MessageElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WarningMessageElement = void 0;\nconst MessageElement_1 = require(\"./MessageElement\");\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass WarningMessageElement extends MessageElement_1.MessageElement {\n    constructor() {\n        super();\n        require(\"@/columns/message/internal/WarningMessageElement.css\");\n        this._rootElement.classList.add(CLASSNAME);\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\n    }\n}\nexports.WarningMessageElement = WarningMessageElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.drawInfomationMarkBox = exports.drawExclamationMarkBox = void 0;\nconst Rect_1 = require(\"../../internal/Rect\");\nfunction drawExclamationMarkBox(context, style, helper) {\n    const { bgColor, color } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect();\n    // draw box\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n    // draw exclamation mark\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, (height / 5) * 3), context, { fillColor });\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 4, width, height / 5), context, { fillColor });\n}\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\nfunction drawInfomationMarkBox(context, style, helper) {\n    const { bgColor, color } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect();\n    // draw box\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n    // draw i mark\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\n        fillColor,\n    });\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 2, width, (height / 5) * 3), context, { fillColor });\n}\nexports.drawInfomationMarkBox = drawInfomationMarkBox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\nconst ButtonStyle_1 = require(\"./style/ButtonStyle\");\nObject.defineProperty(exports, \"ButtonStyle\", { enumerable: true, get: function () { return ButtonStyle_1.ButtonStyle; } });\nconst CheckStyle_1 = require(\"./style/CheckStyle\");\nObject.defineProperty(exports, \"CheckStyle\", { enumerable: true, get: function () { return CheckStyle_1.CheckStyle; } });\nconst IconStyle_1 = require(\"./style/IconStyle\");\nObject.defineProperty(exports, \"IconStyle\", { enumerable: true, get: function () { return IconStyle_1.IconStyle; } });\nconst ImageStyle_1 = require(\"./style/ImageStyle\");\nObject.defineProperty(exports, \"ImageStyle\", { enumerable: true, get: function () { return ImageStyle_1.ImageStyle; } });\nconst MenuStyle_1 = require(\"./style/MenuStyle\");\nObject.defineProperty(exports, \"MenuStyle\", { enumerable: true, get: function () { return MenuStyle_1.MenuStyle; } });\nconst MultilineTextStyle_1 = require(\"./style/MultilineTextStyle\");\nObject.defineProperty(exports, \"MultilineTextStyle\", { enumerable: true, get: function () { return MultilineTextStyle_1.MultilineTextStyle; } });\nconst NumberStyle_1 = require(\"./style/NumberStyle\");\nObject.defineProperty(exports, \"NumberStyle\", { enumerable: true, get: function () { return NumberStyle_1.NumberStyle; } });\nconst PercentCompleteBarStyle_1 = require(\"./style/PercentCompleteBarStyle\");\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", { enumerable: true, get: function () { return PercentCompleteBarStyle_1.PercentCompleteBarStyle; } });\nconst RadioStyle_1 = require(\"./style/RadioStyle\");\nObject.defineProperty(exports, \"RadioStyle\", { enumerable: true, get: function () { return RadioStyle_1.RadioStyle; } });\nconst Style_1 = require(\"./style/Style\");\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\nconst { EVENT_TYPE } = BaseStyle_1.BaseStyle;\nexports.EVENT_TYPE = EVENT_TYPE;\nfunction of(columnStyle, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nrecord, StyleClassDef = Style_1.Style) {\n    if (columnStyle) {\n        if (columnStyle instanceof BaseStyle_1.BaseStyle) {\n            return columnStyle;\n        }\n        else if (typeof columnStyle === \"function\") {\n            return of(columnStyle(record), record, StyleClassDef);\n        }\n        else if (record && columnStyle in record) {\n            return of(record[columnStyle], record, StyleClassDef);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new StyleClassDef(columnStyle);\n    }\n    else {\n        return StyleClassDef.DEFAULT;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseStyle = void 0;\nconst EventTarget_1 = require(\"../../core/EventTarget\");\nconst STYLE_EVENT_TYPE = {\n    CHANGE_STYLE: \"change_style\",\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n    constructor({ bgColor } = {}) {\n        super();\n        this._bgColor = bgColor;\n    }\n    static get EVENT_TYPE() {\n        return STYLE_EVENT_TYPE;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n    }\n    get bgColor() {\n        return this._bgColor;\n    }\n    set bgColor(bgColor) {\n        this._bgColor = bgColor;\n        this.doChangeStyle();\n    }\n    doChangeStyle() {\n        this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\n    }\n    clone() {\n        return new BaseStyle(this);\n    }\n}\nexports.BaseStyle = BaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BranchGraphStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\n    switch (index % 3) {\n        case 0:\n            return \"#979797\";\n        case 1:\n            return \"#008fb5\";\n        case 2:\n            return \"#f1c109\";\n        default:\n    }\n    return \"#979797\";\n};\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n        this._margin = style.margin || 4;\n        this._circleSize = style.circleSize || 16;\n        this._branchLineWidth = style.branchLineWidth || 4;\n        this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new BranchGraphStyle());\n    }\n    get branchColors() {\n        return this._branchColors;\n    }\n    set branchColors(branchColors) {\n        this._branchColors = branchColors;\n        this.doChangeStyle();\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(margin) {\n        this._margin = margin;\n        this.doChangeStyle();\n    }\n    get circleSize() {\n        return this._circleSize;\n    }\n    set circleSize(circleSize) {\n        this._circleSize = circleSize;\n        this.doChangeStyle();\n    }\n    get branchLineWidth() {\n        return this._branchLineWidth;\n    }\n    set branchLineWidth(branchLineWidth) {\n        this._branchLineWidth = branchLineWidth;\n        this.doChangeStyle();\n    }\n    get mergeStyle() {\n        return this._mergeStyle;\n    }\n    set mergeStyle(mergeStyle) {\n        this._mergeStyle = mergeStyle;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new BranchGraphStyle(this);\n    }\n}\nexports.BranchGraphStyle = BranchGraphStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass ButtonStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { buttonBgColor } = style;\n        this._buttonBgColor = buttonBgColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\n    }\n    get buttonBgColor() {\n        return this._buttonBgColor;\n    }\n    set buttonBgColor(buttonBgColor) {\n        this._buttonBgColor = buttonBgColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new ButtonStyle(this);\n    }\n}\nexports.ButtonStyle = ButtonStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n        this._borderColor = borderColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    get borderColor() {\n        return this._borderColor;\n    }\n    set borderColor(borderColor) {\n        this._borderColor = borderColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new CheckStyle(this);\n    }\n}\nexports.CheckStyle = CheckStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IconStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass IconStyle extends Style_1.Style {\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\n    }\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n    }\n    clone() {\n        return new IconStyle(this);\n    }\n}\nexports.IconStyle = IconStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImageStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        this._imageSizing = style.imageSizing;\n        this._margin = style.margin || 4;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\n    }\n    get imageSizing() {\n        return this._imageSizing;\n    }\n    set imageSizing(imageSizing) {\n        this._imageSizing = imageSizing;\n        this.doChangeStyle();\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(margin) {\n        this._margin = margin;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new ImageStyle(this);\n    }\n}\nexports.ImageStyle = ImageStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass MenuStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        const { appearance } = style;\n        this._appearance = appearance;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\n    }\n    get appearance() {\n        return this._appearance || \"menulist-button\";\n    }\n    set appearance(appearance) {\n        this._appearance = appearance;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new MenuStyle(this);\n    }\n}\nexports.MenuStyle = MenuStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass MultilineTextStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textBaseline: \"top\" }));\n        this._lineHeight = style.lineHeight || \"1em\";\n        this._autoWrapText = style.autoWrapText || false;\n        this._lineClamp = style.lineClamp;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new MultilineTextStyle());\n    }\n    clone() {\n        return new MultilineTextStyle(this);\n    }\n    get lineHeight() {\n        return this._lineHeight;\n    }\n    set lineHeight(lineHeight) {\n        this._lineHeight = lineHeight;\n        this.doChangeStyle();\n    }\n    get lineClamp() {\n        return this._lineClamp;\n    }\n    set lineClamp(lineClamp) {\n        this._lineClamp = lineClamp;\n        this.doChangeStyle();\n    }\n    get autoWrapText() {\n        return this._autoWrapText;\n    }\n    set autoWrapText(autoWrapText) {\n        this._autoWrapText = autoWrapText;\n        this.doChangeStyle();\n    }\n}\nexports.MultilineTextStyle = MultilineTextStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass NumberStyle extends Style_1.Style {\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\n    }\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"right\" }));\n    }\n    clone() {\n        return new NumberStyle(this);\n    }\n}\nexports.NumberStyle = NumberStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PercentCompleteBarStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nconst DEFAULT_BAR_COLOR = (num) => {\n    if (num > 80) {\n        return \"#20a8d8\";\n    }\n    if (num > 50) {\n        return \"#4dbd74\";\n    }\n    if (num > 20) {\n        return \"#ffc107\";\n    }\n    return \"#f86c6b\";\n};\nclass PercentCompleteBarStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._barColor = style.barColor || DEFAULT_BAR_COLOR;\n        this._barBgColor = style.barBgColor || \"#f0f3f5\";\n        this._barHeight = style.barHeight || 3;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new PercentCompleteBarStyle());\n    }\n    get barColor() {\n        return this._barColor;\n    }\n    set barColor(barColor) {\n        this._barColor = barColor;\n        this.doChangeStyle();\n    }\n    get barBgColor() {\n        return this._barBgColor;\n    }\n    set barBgColor(barBgColor) {\n        this._barBgColor = barBgColor;\n        this.doChangeStyle();\n    }\n    get barHeight() {\n        return this._barHeight;\n    }\n    set barHeight(barHeight) {\n        this._barHeight = barHeight;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new PercentCompleteBarStyle(this);\n    }\n}\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, } = style;\n        this._checkColor = checkColor;\n        this._uncheckBorderColor = uncheckBorderColor;\n        this._checkBorderColor = checkBorderColor;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new RadioStyle());\n    }\n    get checkColor() {\n        return this._checkColor;\n    }\n    set checkColor(checkColor) {\n        this._checkColor = checkColor;\n        this.doChangeStyle();\n    }\n    get uncheckBorderColor() {\n        return this._uncheckBorderColor;\n    }\n    set uncheckBorderColor(uncheckBorderColor) {\n        this._uncheckBorderColor = uncheckBorderColor;\n        this.doChangeStyle();\n    }\n    get checkBorderColor() {\n        return this._checkBorderColor;\n    }\n    set checkBorderColor(checkBorderColor) {\n        this._checkBorderColor = checkBorderColor;\n        this.doChangeStyle();\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new RadioStyle(this);\n    }\n}\nexports.RadioStyle = RadioStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._textAlign = style.textAlign || \"left\";\n        this._textBaseline = style.textBaseline || \"middle\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n    }\n    get textAlign() {\n        return this._textAlign;\n    }\n    set textAlign(textAlign) {\n        this._textAlign = textAlign;\n        this.doChangeStyle();\n    }\n    get textBaseline() {\n        return this._textBaseline;\n    }\n    set textBaseline(textBaseline) {\n        this._textBaseline = textBaseline;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new StdBaseStyle(this);\n    }\n}\nexports.StdBaseStyle = StdBaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Style = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nlet defaultStyle;\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._color = style.color;\n        this._font = style.font;\n        this._padding = style.padding;\n        this._textOverflow = style.textOverflow || \"clip\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\n    }\n    get color() {\n        return this._color;\n    }\n    set color(color) {\n        this._color = color;\n        this.doChangeStyle();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n        this.doChangeStyle();\n    }\n    get padding() {\n        return this._padding;\n    }\n    set padding(padding) {\n        this._padding = padding;\n        this.doChangeStyle();\n    }\n    get textOverflow() {\n        return this._textOverflow;\n    }\n    set textOverflow(textOverflow) {\n        this._textOverflow = textOverflow;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new Style(this);\n    }\n}\nexports.Style = Style;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\nconst BranchGraphColumn_1 = require(\"./type/BranchGraphColumn\");\nObject.defineProperty(exports, \"BranchGraphColumn\", { enumerable: true, get: function () { return BranchGraphColumn_1.BranchGraphColumn; } });\nconst ButtonColumn_1 = require(\"./type/ButtonColumn\");\nObject.defineProperty(exports, \"ButtonColumn\", { enumerable: true, get: function () { return ButtonColumn_1.ButtonColumn; } });\nconst CheckColumn_1 = require(\"./type/CheckColumn\");\nObject.defineProperty(exports, \"CheckColumn\", { enumerable: true, get: function () { return CheckColumn_1.CheckColumn; } });\nconst Column_1 = require(\"./type/Column\");\nObject.defineProperty(exports, \"Column\", { enumerable: true, get: function () { return Column_1.Column; } });\nconst IconColumn_1 = require(\"./type/IconColumn\");\nObject.defineProperty(exports, \"IconColumn\", { enumerable: true, get: function () { return IconColumn_1.IconColumn; } });\nconst ImageColumn_1 = require(\"./type/ImageColumn\");\nObject.defineProperty(exports, \"ImageColumn\", { enumerable: true, get: function () { return ImageColumn_1.ImageColumn; } });\nconst MenuColumn_1 = require(\"./type/MenuColumn\");\nObject.defineProperty(exports, \"MenuColumn\", { enumerable: true, get: function () { return MenuColumn_1.MenuColumn; } });\nconst MultilineTextColumn_1 = require(\"./type/MultilineTextColumn\");\nObject.defineProperty(exports, \"MultilineTextColumn\", { enumerable: true, get: function () { return MultilineTextColumn_1.MultilineTextColumn; } });\nconst NumberColumn_1 = require(\"./type/NumberColumn\");\nObject.defineProperty(exports, \"NumberColumn\", { enumerable: true, get: function () { return NumberColumn_1.NumberColumn; } });\nconst PercentCompleteBarColumn_1 = require(\"./type/PercentCompleteBarColumn\");\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", { enumerable: true, get: function () { return PercentCompleteBarColumn_1.PercentCompleteBarColumn; } });\nconst RadioColumn_1 = require(\"./type/RadioColumn\");\nObject.defineProperty(exports, \"RadioColumn\", { enumerable: true, get: function () { return RadioColumn_1.RadioColumn; } });\nconst TYPES = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DEFAULT: new Column_1.Column(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    NUMBER: new NumberColumn_1.NumberColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new CheckColumn_1.CheckColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    RADIO: new RadioColumn_1.RadioColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    BUTTON: new ButtonColumn_1.ButtonColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    IMAGE: new ImageColumn_1.ImageColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn(),\n};\nfunction of(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ncolumnType\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    if (!columnType) {\n        return TYPES.DEFAULT;\n    }\n    else if (typeof columnType === \"string\") {\n        const key = columnType.toUpperCase();\n        return TYPES[key] || of(null);\n    }\n    else {\n        return columnType;\n    }\n}\nexports.of = of;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseColumn = void 0;\nconst styleContents = __importStar(require(\"../style\"));\nconst utils_1 = require(\"../../internal/utils\");\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst { setReadonly } = utils_1.obj;\nconst COLUMN_FADEIN_STATE_ID = symbolManager_1.getColumnFadeinStateId();\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n    if (column.fadeinWhenCallbackInPromise != null) {\n        return column.fadeinWhenCallbackInPromise;\n    }\n    return !!grid.configure(\"fadeinWhenCallbackInPromise\");\n}\nfunction getFadeinState(grid) {\n    let state = grid[COLUMN_FADEIN_STATE_ID];\n    if (!state) {\n        state = { cells: {} };\n        setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\n    }\n    return state;\n}\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n    return (point) => {\n        const state = getFadeinState(grid);\n        const stateKey = `${row}:${col}`;\n        if (point === 1) {\n            delete state.cells[stateKey];\n        }\n        else {\n            state.cells[stateKey] = {\n                opacity: point,\n            };\n        }\n        drawCellBase();\n        drawInternal();\n        const cellState = state.cells[stateKey];\n        if (cellState) {\n            //\n            const ctx = context.getContext();\n            ctx.globalAlpha = 1 - cellState.opacity;\n            try {\n                drawCellBase();\n            }\n            finally {\n                ctx.globalAlpha = 1;\n            }\n        }\n    };\n}\nconst fadeinMgr = {\n    animate(grid, col, row, context, drawInternal, drawCellBase) {\n        // fadein animation\n        const state = getFadeinState(grid);\n        const activeFadeins = [\n            _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase),\n        ];\n        state.activeFadeins = activeFadeins;\n        animate_1.animate(500, (point) => {\n            activeFadeins.forEach((f) => f(point));\n            if (point === 1) {\n                delete state.activeFadeins;\n            }\n        });\n    },\n    margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n        const state = getFadeinState(grid);\n        if (state.activeFadeins) {\n            state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n        }\n        else {\n            drawInternal();\n        }\n    },\n};\nclass BaseColumn {\n    constructor(option) {\n        this.onDrawCell = this.onDrawCell.bind(this); //\n        //Promisecallback\n        this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\n    }\n    get fadeinWhenCallbackInPromise() {\n        return this._fadeinWhenCallbackInPromise;\n    }\n    get StyleClass() {\n        return BaseStyle_1.BaseStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        var _a;\n        const { style, getRecord, drawCellBase } = info;\n        const helper = grid.getGridCanvasHelper();\n        drawCellBase();\n        const record = getRecord();\n        let promise;\n        if (utils_1.isPromise(record)) {\n            promise = record;\n        }\n        else if (utils_1.isPromise(cellValue)) {\n            promise = cellValue;\n        }\n        else {\n            const msg = info.getMessage();\n            if (utils_1.isPromise(msg)) {\n                promise = msg;\n            }\n        }\n        //\n        if (promise) {\n            const start = Date.now();\n            return Promise.all([\n                record,\n                cellValue,\n                promise.then(() => cellValue).then(() => info.getMessage()),\n            ]).then(({ 0: record, 1: val, 2: message }) => {\n                const currentContext = context.toCurrentContext();\n                const drawRect = currentContext.getDrawRect();\n                if (!drawRect) {\n                    return;\n                }\n                const time = Date.now() - start;\n                const drawInternal = () => {\n                    const currentContext = context.toCurrentContext();\n                    const drawRect = currentContext.getDrawRect();\n                    if (!drawRect) {\n                        return;\n                    }\n                    const actStyle = styleContents.of(style, record, this.StyleClass);\n                    this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n                    this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\n                };\n                if (!isFadeinWhenCallbackInPromise(this, grid)) {\n                    drawInternal(); //\n                }\n                else {\n                    const { col, row } = context;\n                    if (time < 80) {\n                        //80msPromiseCallback\n                        fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n                    }\n                    else {\n                        //\n                        fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n                    }\n                }\n            });\n        }\n        else {\n            const actStyle = styleContents.of(style, record, this.StyleClass);\n            this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n            this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n            //\n            const { col, row } = context;\n            const stateKey = `${col}:${row}`;\n            const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\n            if (cellState) {\n                const ctx = context.getContext();\n                ctx.globalAlpha = 1 - cellState.opacity;\n                try {\n                    drawCellBase();\n                }\n                finally {\n                    ctx.globalAlpha = 1;\n                }\n            }\n            return undefined;\n        }\n    }\n    convertInternal(value) {\n        return (value != null ? value : \"\");\n    }\n    drawMessageInternal(message, context, style, helper, grid, info) {\n        info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n    getCopyCellValue(value, _grid, _cell) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return value;\n    }\n}\nexports.BaseColumn = BaseColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BranchGraphColumn = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst BranchGraphStyle_1 = require(\"../style/BranchGraphStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst _ = symbolManager_1.getBranchGraphColumnStateId();\nfunction getAllColumnData(grid, field, callback) {\n    const { dataSource } = grid;\n    const allData = [];\n    let promise;\n    for (let index = 0; index < dataSource.length; index++) {\n        const data = dataSource.getField(index, field);\n        if (utils_1.isPromise(data)) {\n            const dataIndex = allData.length;\n            allData.push(undefined);\n            if (!promise) {\n                promise = data.then((d) => {\n                    allData[dataIndex] = d;\n                });\n            }\n            else {\n                promise = promise\n                    .then(() => data)\n                    .then((d) => {\n                    allData[dataIndex] = d;\n                });\n            }\n        }\n        else {\n            allData.push(data);\n        }\n    }\n    if (promise) {\n        promise.then(() => callback(allData));\n    }\n    else {\n        callback(allData);\n    }\n}\nclass BranchLine {\n    constructor({ fromIndex, toIndex, colorIndex, point, }) {\n        this.fromIndex = fromIndex;\n        this.toIndex = toIndex;\n        this.colorIndex = colorIndex;\n        this.point = point;\n    }\n}\nclass BranchPoint {\n    constructor({ index, commit = false, lines = [], tag, }) {\n        this.index = index;\n        this.commit = commit;\n        this.lines = lines;\n        this.tag = tag;\n    }\n    static mergeLines(lines) {\n        const result = lines.filter((l) => l.fromIndex != null && l.toIndex != null);\n        const froms = lines.filter((l) => l.fromIndex != null && l.toIndex == null);\n        const tos = lines.filter((l) => l.fromIndex == null && l.toIndex != null);\n        froms.forEach((f) => {\n            for (let i = 0; i < tos.length; i++) {\n                const t = tos[i];\n                if (t.point) {\n                    continue;\n                }\n                if (f.colorIndex === t.colorIndex) {\n                    f.toIndex = t.toIndex;\n                    tos.splice(i, 1);\n                    break;\n                }\n            }\n            result.push(f);\n        });\n        return result.concat(tos);\n    }\n    static merge(a, b) {\n        if (!a) {\n            return b;\n        }\n        return new BranchPoint({\n            index: a.index,\n            commit: a.commit || b.commit,\n            lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n            tag: a.tag || b.tag,\n        });\n    }\n}\nfunction joinLine(timeline, branchIndex) {\n    const reverse = [...timeline].reverse();\n    for (let i = 0; i < reverse.length; i++) {\n        const f = reverse[i][branchIndex];\n        if (f) {\n            f.lines = BranchPoint.mergeLines(f.lines.concat([\n                new BranchLine({\n                    toIndex: branchIndex,\n                    colorIndex: branchIndex,\n                }),\n            ]));\n            for (let j = 0; j < i; j++) {\n                const tl = reverse[j];\n                tl[branchIndex] = new BranchPoint({\n                    index: branchIndex,\n                    lines: [\n                        new BranchLine({\n                            fromIndex: branchIndex,\n                            toIndex: branchIndex,\n                            colorIndex: branchIndex,\n                        }),\n                    ],\n                });\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction branch({ timeline, branches }, from, to) {\n    const fromIndex = from != null ? branches.indexOf(from) : -1;\n    let toIndex = branches.indexOf(to);\n    if (toIndex < 0) {\n        toIndex = branches.length;\n        branches.push(to);\n    }\n    function findBranchRootIndex() {\n        for (let index = timeline.length - 1; index >= 0; index--) {\n            const tl = timeline[index];\n            const from = tl[fromIndex];\n            if (from && from.commit) {\n                return index;\n            }\n        }\n        return -1;\n    }\n    if (fromIndex < 0) {\n        return new BranchPoint({\n            index: toIndex,\n        });\n    }\n    else {\n        const fromTargetIndex = findBranchRootIndex();\n        if (fromTargetIndex === -1) {\n            return null;\n        }\n        const branchTargetFromIndex = fromTargetIndex + 1;\n        const branchPoint = new BranchPoint({\n            index: toIndex,\n            lines: [\n                new BranchLine({\n                    fromIndex,\n                    colorIndex: toIndex,\n                }),\n            ],\n        });\n        let point;\n        let result = null;\n        if (branchTargetFromIndex < timeline.length) {\n            const targetLine = timeline[branchTargetFromIndex];\n            point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n        }\n        else {\n            point = branchPoint;\n            result = branchPoint;\n        }\n        const from = timeline[fromTargetIndex][fromIndex];\n        from.lines = BranchPoint.mergeLines(from.lines.concat([\n            new BranchLine({\n                toIndex,\n                colorIndex: toIndex,\n                point,\n            }),\n        ]));\n        return result;\n    }\n}\nfunction commit({ timeline, branches }, name) {\n    const index = branches.indexOf(name);\n    if (index < 0) {\n        return null;\n    }\n    const result = new BranchPoint({\n        index,\n        commit: true,\n    });\n    if (joinLine(timeline, index)) {\n        result.lines = BranchPoint.mergeLines(result.lines.concat([\n            new BranchLine({\n                fromIndex: index,\n                colorIndex: index,\n            }),\n        ]));\n    }\n    return result;\n}\nfunction commitTag({ branches }, name, tag) {\n    let index = branches.indexOf(name);\n    if (index < 0) {\n        index = branches.length;\n        branches.push(name);\n    }\n    return new BranchPoint({\n        index,\n        tag,\n    });\n}\nfunction commitMerge({ timeline, branches }, from, to) {\n    const fromIndex = branches.indexOf(from);\n    const toIndex = branches.indexOf(to);\n    if (toIndex < 0 || fromIndex < 0) {\n        return new BranchPoint({\n            index: toIndex,\n            commit: true,\n        });\n    }\n    const result = new BranchPoint({\n        index: toIndex,\n        commit: true,\n        lines: [\n            new BranchLine({\n                fromIndex,\n                colorIndex: fromIndex,\n            }),\n            new BranchLine({\n                fromIndex: toIndex,\n                colorIndex: toIndex,\n            }),\n        ],\n    });\n    const froms = [...timeline];\n    const fromTargetLine = froms.pop();\n    if (fromTargetLine) {\n        fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n            index: toIndex,\n            lines: [\n                new BranchLine({\n                    toIndex,\n                    colorIndex: fromIndex,\n                }),\n            ],\n        }));\n    }\n    if (joinLine(froms, fromIndex) && fromTargetLine) {\n        fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([\n            new BranchLine({\n                fromIndex,\n                colorIndex: fromIndex,\n            }),\n        ]));\n    }\n    joinLine(timeline, toIndex);\n    return result;\n}\nfunction calcCommand(info, command) {\n    const { timeline } = info;\n    const timelineData = [];\n    // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n    const commands = Array.isArray(command) ? command : [command];\n    commands.forEach((cmd) => {\n        if (!cmd) {\n            return;\n        }\n        let point;\n        if (cmd.command === \"branch\") {\n            const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\n            const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n            point = branch(info, from, to);\n        }\n        else if (cmd.command === \"commit\") {\n            const { branch } = cmd;\n            point = commit(info, branch);\n        }\n        else if (cmd.command === \"merge\") {\n            const { from, to } = cmd.branch;\n            point = commitMerge(info, from, to);\n        }\n        else if (cmd.command === \"tag\") {\n            const { branch, tag } = cmd;\n            point = commitTag(info, branch, tag);\n        }\n        if (point && point.index > -1) {\n            timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n        }\n    });\n    timeline.push(timelineData);\n}\nfunction calcBranchesInfo(start, grid, field) {\n    const result = {\n        branches: [],\n        timeline: [],\n    };\n    getAllColumnData(grid, field, (data) => {\n        if (start !== \"top\") {\n            data = [...data].reverse();\n        }\n        data.forEach((command) => {\n            calcCommand(result, command);\n        });\n    });\n    return result;\n}\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n    let w = Math.max(width / branches.length + 1, 5);\n    timeline.forEach((tl) => {\n        tl.forEach((p, index) => {\n            if (index <= 0) {\n                // \n                return;\n            }\n            if (p.tag) {\n                const textWidth = ctx.measureText(p.tag).width;\n                if (w * index + radius * 2 + 4 + textWidth > width) {\n                    w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n                }\n            }\n        });\n    });\n    const result = [];\n    let x = left;\n    branches.forEach(() => {\n        result.push(Math.ceil(x + radius));\n        x += w;\n    });\n    return result;\n}\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, { branchXPoints, \n// margin,\nbranchColors, branchLineWidth, mergeStyle, }, { \n// width,\ncol, row, branches, }) {\n    if (upLineIndex != null || downLineIndex != null) {\n        ctx.strokeStyle = utils_1.getOrApply(branchColors, branches[colorIndex], colorIndex);\n        ctx.lineWidth = branchLineWidth;\n        ctx.lineCap = \"round\";\n        ctx.beginPath();\n        if (upLineIndex != null) {\n            const upX = branchXPoints[upLineIndex];\n            const upRect = grid.getCellRelativeRect(col, row - 1);\n            const upY = upRect.top + upRect.height / 2;\n            ctx.moveTo(upX, upY);\n            if (mergeStyle === \"bezier\") {\n                ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n            }\n            else {\n                ctx.lineTo(x, y);\n            }\n        }\n        else {\n            ctx.moveTo(x, y);\n        }\n        if (downLineIndex != null) {\n            const downX = branchXPoints[downLineIndex];\n            const downRect = grid.getCellRelativeRect(col, row + 1);\n            const downY = downRect.top + downRect.height / 2;\n            if (mergeStyle === \"bezier\") {\n                ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n            }\n            else {\n                ctx.lineTo(downX, downY);\n            }\n        }\n        ctx.stroke();\n    }\n}\n/**\n * BranchGraphColumn\n *\n * Data commands\n * - mastar branch or orphan branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * ```\n *\n * - commit\n *\n * ```js\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * ```\n *\n * - branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * ```\n *\n * - merge\n *\n * ```js\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * ```\n *\n * - tag\n *\n * ```js\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * ```\n *\n * @memberof cheetahGrid.columns.type\n */\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n        this._start = option.start || \"bottom\";\n        this._cache = option.cache != null ? option.cache : false;\n    }\n    get StyleClass() {\n        return BranchGraphStyle_1.BranchGraphStyle;\n    }\n    clearCache(grid) {\n        delete grid[_];\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        if (this._cache) {\n            const state = grid[_] || (grid[_] = new Map());\n            const { col, row } = context;\n            const field = grid.getField(col, row);\n            if (!state.has(field)) {\n                state.set(field, calcBranchesInfo(this._start, grid, field));\n            }\n        }\n        return super.onDrawCell(cellValue, info, context, grid);\n    }\n    clone() {\n        return new BranchGraphColumn(this);\n    }\n    drawInternal(_value, context, style, helper, grid, { drawCellBase }) {\n        var _a, _b;\n        const { col, row } = context;\n        const field = grid.getField(col, row);\n        const { timeline, branches } = (_b = (this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null)) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\n        const { upLineIndexKey, downLineIndexKey, } = this._start !== \"top\"\n            ? { upLineIndexKey: \"toIndex\", downLineIndexKey: \"fromIndex\" }\n            : { upLineIndexKey: \"fromIndex\", downLineIndexKey: \"toIndex\" };\n        const data = this._start !== \"top\"\n            ? timeline[timeline.length - (row - grid.frozenRowCount) - 1]\n            : timeline[row - grid.frozenRowCount];\n        const { branchColors, branchLineWidth, circleSize, mergeStyle, margin, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const rect = context.getRect();\n        const radius = circleSize / 2;\n        const width = rect.width - margin * 2;\n        helper.drawWithClip(context, (ctx) => {\n            ctx.textAlign = \"left\";\n            ctx.textBaseline = \"middle\";\n            const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n            const y = rect.top + rect.height / 2;\n            // draw join lines\n            data\n                .map((point, index) => point\n                ? point.lines.map((line) => ({\n                    colorIndex: line.colorIndex,\n                    upLineIndex: line[upLineIndexKey],\n                    downLineIndex: line[downLineIndexKey],\n                    pointIndex: index,\n                }))\n                : [])\n                .reduce((p, c) => p.concat(c), []) // flatMap\n                // order of overlap\n                .sort((a, b) => b.colorIndex - a.colorIndex)\n                .forEach((line) => {\n                const x = branchXPoints[line.pointIndex];\n                renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n                    margin,\n                    branchXPoints,\n                    branchLineWidth,\n                    branchColors,\n                    mergeStyle,\n                }, {\n                    width,\n                    col,\n                    row,\n                    branches,\n                });\n            });\n            // draw commit points\n            data.forEach((p, index) => {\n                if (p && p.commit) {\n                    const x = branchXPoints[index];\n                    ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n                    ctx.beginPath();\n                    ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n                    ctx.fill();\n                    ctx.closePath();\n                }\n            });\n            // draw tags\n            data.forEach((p, index) => {\n                if (p && p.tag) {\n                    ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n                    ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n                }\n            });\n        });\n    }\n}\nexports.BranchGraphColumn = BranchGraphColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst ButtonStyle_1 = require(\"../style/ButtonStyle\");\nconst Column_1 = require(\"./Column\");\nconst utils_1 = require(\"../../internal/utils\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\nclass ButtonColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._caption = option.caption;\n    }\n    get StyleClass() {\n        return ButtonStyle_1.ButtonStyle;\n    }\n    get caption() {\n        return this._caption;\n    }\n    withCaption(caption) {\n        const c = this.clone();\n        c._caption = caption;\n        return c;\n    }\n    clone() {\n        return new ButtonColumn(this);\n    }\n    convertInternal(value) {\n        return this._caption || super.convertInternal(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.testFontLoad(font, value, context);\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        let active = false;\n        const state = grid[BUTTON_COLUMN_STATE_ID];\n        if (state) {\n            if (state.mouseActiveCell &&\n                utils_1.cellInRange(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\n                active = true;\n            }\n            else {\n                const { select } = context.getSelection();\n                if (utils_1.cellInRange(range, select.col, select.row)) {\n                    active = true;\n                }\n            }\n        }\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.button(value, context, {\n                textAlign,\n                textBaseline,\n                bgColor: buttonBgColor,\n                color,\n                font,\n                padding,\n                shadow: active\n                    ? {\n                        color: \"rgba(0, 0, 0, 0.48)\",\n                        blur: 6,\n                        offsetY: 3,\n                    }\n                    : {},\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.ButtonColumn = ButtonColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst CheckStyle_1 = require(\"../style/CheckStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../utils\");\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\nclass CheckColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return CheckStyle_1.CheckStyle;\n    }\n    clone() {\n        return new CheckColumn(this);\n    }\n    convertInternal(value) {\n        return utils_1.toBoolean(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        var _a;\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n        const opt = {\n            textAlign,\n            textBaseline,\n            borderColor,\n            checkBgColor,\n            uncheckBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        helper.checkbox(value, context, opt);\n    }\n}\nexports.CheckColumn = CheckColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Column = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst Style_1 = require(\"../style/Style\");\nclass Column extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return Style_1.Style;\n    }\n    clone() {\n        return new Column(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.testFontLoad(font, value, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.text(value, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.Column = Column;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IconColumn = void 0;\nconst icons = __importStar(require(\"../../internal/icons\"));\nconst Column_1 = require(\"./Column\");\nconst IconStyle_1 = require(\"../style/IconStyle\");\nfunction repeatArray(val, count) {\n    if (count === Infinity) {\n        count = 0;\n    }\n    const a = [];\n    for (let i = 0; i < count; i++) {\n        a.push(val);\n    }\n    return a;\n}\nclass IconColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._tagName = option.tagName || \"i\";\n        this._className = option.className;\n        this._content = option.content;\n        this._name = option.name;\n        this._iconWidth = option.iconWidth;\n    }\n    get StyleClass() {\n        return IconStyle_1.IconStyle;\n    }\n    clone() {\n        return new IconColumn(this);\n    }\n    drawInternal(value, context, style, helper, grid, info) {\n        const num = Number(value);\n        if (!isNaN(num)) {\n            const icon = {};\n            icons.iconPropKeys.forEach((k) => {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                icon[k] = style[k];\n            });\n            icon.className = this._className;\n            icon.tagName = this._tagName;\n            if (this._content) {\n                icon.content = this._content;\n            }\n            icon.name = this._name;\n            if (this._iconWidth) {\n                icon.width = this._iconWidth;\n            }\n            info.getIcon = () => repeatArray(icon, num);\n        }\n        else {\n            info.getIcon = () => null;\n        }\n        super.drawInternal(\"\", context, style, helper, grid, info);\n    }\n}\nexports.IconColumn = IconColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImageColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst ImageStyle_1 = require(\"../style/ImageStyle\");\nconst canvases_1 = require(\"../../internal/canvases\");\nconst imgs_1 = require(\"../../internal/imgs\");\nconst MAX_LRU_CACHE_SIZE = 50;\nfunction getImage(url) {\n    return imgs_1.getCacheOrLoad(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\n}\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n    let newWidth = width;\n    let newHeight = height;\n    if (newWidth > maxWidth) {\n        newWidth = maxWidth;\n        newHeight = (newWidth * height) / width;\n    }\n    if (newHeight > maxHeight) {\n        newHeight = maxHeight;\n        newWidth = (newHeight * width) / height;\n    }\n    return {\n        width: newWidth,\n        height: newHeight,\n    };\n}\nclass ImageColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return ImageStyle_1.ImageStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        return super.onDrawCell(getImage(cellValue), info, context, grid);\n    }\n    clone() {\n        return new ImageColumn(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        if (value) {\n            const { textAlign, textBaseline, margin, bgColor } = style;\n            if (bgColor) {\n                drawCellBase({\n                    bgColor,\n                });\n            }\n            helper.drawWithClip(context, (ctx) => {\n                ctx.textAlign = textAlign;\n                ctx.textBaseline = textBaseline;\n                const rect = context.getRect();\n                if (style.imageSizing === \"keep-aspect-ratio\") {\n                    const { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n                    const pos = canvases_1.calcStartPosition(ctx, rect, width, height, {\n                        offset: margin,\n                    });\n                    ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n                }\n                else {\n                    ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n                }\n            });\n        }\n    }\n}\nexports.ImageColumn = ImageColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst MenuStyle_1 = require(\"../style/MenuStyle\");\nconst menu_items_1 = require(\"../../internal/menu-items\");\nclass MenuColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n        this._options = menu_items_1.normalize(option.options);\n    }\n    get StyleClass() {\n        return MenuStyle_1.MenuStyle;\n    }\n    clone() {\n        return new MenuColumn(this);\n    }\n    get options() {\n        return this._options;\n    }\n    withOptions(options) {\n        const c = this.clone();\n        c._options = menu_items_1.normalize(options);\n        return c;\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, font, bgColor, padding, textOverflow, appearance, } = style;\n        let { color } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const text = this._convertInternal(value);\n        helper.testFontLoad(font, text, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n            const textPadding = basePadding.slice(0);\n            textPadding[1] += 26; // icon padding\n            const iconPadding = basePadding.slice(0);\n            iconPadding[1] += 8;\n            if (color == null && (value == null || value === \"\")) {\n                color = \"rgba(0, 0, 0, .38)\";\n            }\n            helper.text(text, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding: textPadding,\n                textOverflow,\n                icons,\n            });\n            if (appearance === \"menulist-button\") {\n                // draw dropdown arrow icon\n                helper.text(\"\", context, {\n                    textAlign: \"right\",\n                    textBaseline,\n                    color,\n                    font,\n                    icons: [\n                        {\n                            path: \"M0 2 5 7 10 2z\",\n                            width: 10,\n                            color: \"rgba(0, 0, 0, .54)\",\n                        },\n                    ],\n                    padding: iconPadding,\n                });\n            }\n            else if (appearance !== \"none\") {\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                console.warn(`unsupported appearance:${appearance}`);\n            }\n        });\n    }\n    convertInternal(value) {\n        return value;\n    }\n    _convertInternal(value) {\n        const options = this._options;\n        for (let i = 0; i < options.length; i++) {\n            const option = options[i];\n            if (option.value === value) {\n                value = option.label;\n                break;\n            }\n        }\n        return super.convertInternal(value);\n    }\n    getCopyCellValue(value) {\n        return this._convertInternal(value);\n    }\n}\nexports.MenuColumn = MenuColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst MultilineTextStyle_1 = require(\"../style/MultilineTextStyle\");\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n    }\n    get StyleClass() {\n        return MultilineTextStyle_1.MultilineTextStyle;\n    }\n    clone() {\n        return new MultilineTextColumn(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const multilines = value\n            .replace(/\\r?\\n/g, \"\\n\")\n            .replace(/\\r/g, \"\\n\")\n            .split(\"\\n\");\n        helper.testFontLoad(font, value, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.multilineText(multilines, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding,\n                lineHeight,\n                autoWrapText,\n                lineClamp,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.MultilineTextColumn = MultilineTextColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberColumn = void 0;\nconst Column_1 = require(\"./Column\");\nconst NumberStyle_1 = require(\"../style/NumberStyle\");\nlet defaultFotmat;\nclass NumberColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._format = option.format;\n    }\n    static get defaultFotmat() {\n        return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n    }\n    static set defaultFotmat(fmt) {\n        defaultFotmat = fmt;\n    }\n    get StyleClass() {\n        return NumberStyle_1.NumberStyle;\n    }\n    clone() {\n        return new NumberColumn(this);\n    }\n    get format() {\n        return this._format;\n    }\n    withFormat(format) {\n        const c = this.clone();\n        c._format = format;\n        return c;\n    }\n    convertInternal(value) {\n        const num = Number(value);\n        if (isNaN(num)) {\n            return super.convertInternal(value);\n        }\n        const format = this._format || NumberColumn.defaultFotmat;\n        return format.format(num);\n    }\n}\nexports.NumberColumn = NumberColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PercentCompleteBarColumn = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst Column_1 = require(\"./Column\");\nconst PercentCompleteBarStyle_1 = require(\"../style/PercentCompleteBarStyle\");\nconst MARGIN = 2;\nclass PercentCompleteBarColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._min = option.min || 0;\n        this._max = option.max || this._min + 100;\n        this._formatter = option.formatter || ((v) => v);\n    }\n    get StyleClass() {\n        return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\n    }\n    clone() {\n        return new PercentCompleteBarColumn(this);\n    }\n    drawInternal(value, context, style, helper, grid, info) {\n        super.drawInternal(this._formatter(value), context, style, helper, grid, info);\n        const { barColor, barBgColor, barHeight } = style;\n        let svalue = `${value}`;\n        if (utils_1.str.endsWith(svalue, \"%\")) {\n            svalue = svalue.substr(0, svalue.length - 1);\n        }\n        const num = Number(svalue);\n        if (isNaN(num)) {\n            return;\n        }\n        const rate = num < this._min\n            ? 0\n            : num > this._max\n                ? 1\n                : (num - this._min) / (this._max - this._min);\n        helper.drawWithClip(context, (ctx) => {\n            const rect = context.getRect();\n            const barMaxWidth = rect.width - MARGIN * 2 - 1; /**/\n            const barTop = rect.bottom - MARGIN - barHeight - 1; /**/\n            const barLeft = rect.left + MARGIN;\n            ctx.fillStyle = utils_1.getOrApply(barBgColor, rate * 100) || \"#f0f3f5\";\n            ctx.beginPath();\n            ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n            ctx.fill();\n            const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n            ctx.fillStyle = utils_1.getOrApply(barColor, rate * 100) || \"#20a8d8\";\n            ctx.beginPath();\n            ctx.rect(barLeft, barTop, barSize, barHeight);\n            ctx.fill();\n        });\n    }\n}\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst RadioStyle_1 = require(\"../style/RadioStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../utils\");\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId();\nclass RadioColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return RadioStyle_1.RadioStyle;\n    }\n    clone() {\n        return new RadioColumn(this);\n    }\n    convertInternal(value) {\n        return utils_1.toBoolean(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        var _a;\n        const { textAlign, textBaseline, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n        const opt = {\n            textAlign,\n            textBaseline,\n            checkColor,\n            uncheckBorderColor,\n            checkBorderColor,\n            uncheckBgColor,\n            checkBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        helper.radioButton(value, context, opt);\n    }\n}\nexports.RadioColumn = RadioColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadIcons = void 0;\nconst icons = __importStar(require(\"../../internal/icons\"));\nconst utils_1 = require(\"../../internal/utils\");\nfunction loadIcons(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nicon, context, helper, callback) {\n    let argIcon = undefined;\n    if (icon) {\n        if (utils_1.isPromise(icon)) {\n            icon.then((i) => {\n                loadIcons(i, context.toCurrentContext(), helper, callback);\n            });\n        }\n        else {\n            const iconList = icons.toNormarizeArray(icon);\n            iconList.forEach((i) => {\n                if (i.font && i.content) {\n                    helper.testFontLoad(i.font, i.content, context);\n                }\n            });\n            argIcon = iconList;\n        }\n    }\n    callback(argIcon, context);\n}\nexports.loadIcons = loadIcons;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toBoolean = void 0;\nfunction toBoolean(val) {\n    if (typeof val === \"string\") {\n        if (val === \"false\") {\n            return false;\n        }\n        else if (val === \"off\") {\n            return false;\n        }\n        else if (/^0+$/.exec(val)) {\n            return false;\n        }\n    }\n    return Boolean(val);\n}\nexports.toBoolean = toBoolean;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\nObject.defineProperty(exports, \"DrawGrid\", { enumerable: true, get: function () { return DrawGrid_1.DrawGrid; } });\nconst DG_EVENT_TYPE_1 = require(\"./core/DG_EVENT_TYPE\");\nObject.defineProperty(exports, \"EVENT_TYPE\", { enumerable: true, get: function () { return DG_EVENT_TYPE_1.DG_EVENT_TYPE; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DG_EVENT_TYPE = void 0;\n/**\n * DrawGrid event types\n * @classdesc cheetahGrid.core.EVENT_TYPE\n * @memberof cheetahGrid.core\n */\nexports.DG_EVENT_TYPE = {\n    CLICK_CELL: \"click_cell\",\n    DBLCLICK_CELL: \"dblclick_cell\",\n    DBLTAP_CELL: \"dbltap_cell\",\n    MOUSEDOWN_CELL: \"mousedown_cell\",\n    MOUSEUP_CELL: \"mouseup_cell\",\n    SELECTED_CELL: \"selected_cell\",\n    KEYDOWN: \"keydown\",\n    MOUSEMOVE_CELL: \"mousemove_cell\",\n    MOUSEENTER_CELL: \"mouseenter_cell\",\n    MOUSELEAVE_CELL: \"mouseleave_cell\",\n    MOUSEOVER_CELL: \"mouseover_cell\",\n    MOUSEOUT_CELL: \"mouseout_cell\",\n    CONTEXTMENU_CELL: \"contextmenu_cell\",\n    INPUT_CELL: \"input_cell\",\n    PASTE_CELL: \"paste_cell\",\n    DELETE_CELL: \"delete_cell\",\n    EDITABLEINPUT_CELL: \"editableinput_cell\",\n    MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\n    RESIZE_COLUMN: \"resize_column\",\n    SCROLL: \"scroll\",\n    FOCUS_GRID: \"focus_grid\",\n    BLUR_GRID: \"blur_grid\",\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DrawGrid = void 0;\nconst calc = __importStar(require(\"../internal/calc\"));\nconst hiDPI = __importStar(require(\"../internal/hiDPI\"));\nconst style = __importStar(require(\"../internal/style\"));\nconst utils_1 = require(\"../internal/utils\");\nconst DG_EVENT_TYPE_1 = require(\"./DG_EVENT_TYPE\");\nconst EventHandler_1 = require(\"../internal/EventHandler\");\nconst EventTarget_1 = require(\"./EventTarget\");\nconst NumberMap_1 = require(\"../internal/NumberMap\");\nconst Rect_1 = require(\"../internal/Rect\");\nconst Scrollable_1 = require(\"../internal/Scrollable\");\nconst canvases_1 = require(\"../internal/canvases\");\n//protected symbol\nconst symbolManager_1 = require(\"../internal/symbolManager\");\nconst paste_utils_1 = require(\"../internal/paste-utils\");\nconst { \n/** @private */\nisTouchEvent, \n/** @private */\ngetMouseButtons, \n/** @private */\ngetKeyCode, \n/** @private */\ncancel: cancelEvent, } = utils_1.event;\n/** @private */\nconst _ = symbolManager_1.getProtectedSymbol();\n/** @private */\nfunction createRootElement() {\n    const element = document.createElement(\"div\");\n    element.classList.add(\"cheetah-grid\");\n    return element;\n}\n/** @private */\nconst KEY_BS = 8;\n/** @private */\nconst KEY_TAB = 9;\n/** @private */\nconst KEY_ENTER = 13;\n/** @private */\nconst KEY_END = 35;\n/** @private */\nconst KEY_HOME = 36;\n/** @private */\nconst KEY_LEFT = 37;\n/** @private */\nconst KEY_UP = 38;\n/** @private */\nconst KEY_RIGHT = 39;\n/** @private */\nconst KEY_DOWN = 40;\n/** @private */\nconst KEY_DEL = 46;\n/** @private */\nconst KEY_ALPHA_A = 65;\n/** @private */\nconst KEY_ALPHA_C = 67;\n/** @private */\nconst KEY_ALPHA_V = 86;\n//private methods\n/** @private */\nfunction _vibrate(e) {\n    if (navigator.vibrate && isTouchEvent(e)) {\n        navigator.vibrate(50);\n    }\n}\n/** @private */\nfunction _getTargetRowAt(absoluteY) {\n    const internal = this.getTargetRowAtInternal(absoluteY);\n    if (internal != null) {\n        return internal;\n    }\n    const findBefore = (startRow, startBottom) => {\n        let bottom = startBottom;\n        for (let row = startRow; row >= 0; row--) {\n            const height = _getRowHeight.call(this, row);\n            const top = bottom - height;\n            if (top <= absoluteY && absoluteY < bottom) {\n                return {\n                    top,\n                    row,\n                };\n            }\n            bottom = top;\n        }\n        return null;\n    };\n    const findAfter = (startRow, startBottom) => {\n        let top = startBottom - _getRowHeight.call(this, startRow);\n        const { rowCount } = this[_];\n        for (let row = startRow; row < rowCount; row++) {\n            const height = _getRowHeight.call(this, row);\n            const bottom = top + height;\n            if (top <= absoluteY && absoluteY < bottom) {\n                return {\n                    top,\n                    row,\n                };\n            }\n            top = bottom;\n        }\n        return null;\n    };\n    const candRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\n    const bottom = _getRowsHeight.call(this, 0, candRow);\n    if (absoluteY >= bottom) {\n        return findAfter(candRow, bottom);\n    }\n    else {\n        return findBefore(candRow, bottom);\n    }\n}\n/** @private */\nfunction _getTargetColAt(grid, absoluteX) {\n    let left = 0;\n    const { colCount } = grid[_];\n    for (let col = 0; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        const right = left + width;\n        if (right > absoluteX) {\n            return {\n                left,\n                col,\n            };\n        }\n        left = right;\n    }\n    return null;\n}\n/** @private */\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n    if (!grid[_].frozenRowCount) {\n        return null;\n    }\n    let { top } = grid[_].scroll;\n    const rowCount = grid[_].frozenRowCount;\n    for (let row = 0; row < rowCount; row++) {\n        const height = _getRowHeight.call(grid, row);\n        const bottom = top + height;\n        if (bottom > absoluteY) {\n            return {\n                top,\n                row,\n            };\n        }\n        top = bottom;\n    }\n    return null;\n}\n/** @private */\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n    if (!grid[_].frozenColCount) {\n        return null;\n    }\n    let { left } = grid[_].scroll;\n    const colCount = grid[_].frozenColCount;\n    for (let col = 0; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        const right = left + width;\n        if (right > absoluteX) {\n            return {\n                left,\n                col,\n            };\n        }\n        left = right;\n    }\n    return null;\n}\n/** @private */\nfunction _getFrozenRowsRect(grid) {\n    if (!grid[_].frozenRowCount) {\n        return null;\n    }\n    const { top } = grid[_].scroll;\n    let height = 0;\n    const rowCount = grid[_].frozenRowCount;\n    for (let row = 0; row < rowCount; row++) {\n        height += _getRowHeight.call(grid, row);\n    }\n    return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n}\n/** @private */\nfunction _getFrozenColsRect(grid) {\n    if (!grid[_].frozenColCount) {\n        return null;\n    }\n    const { left } = grid[_].scroll;\n    let width = 0;\n    const colCount = grid[_].frozenColCount;\n    for (let col = 0; col < colCount; col++) {\n        width += _getColWidth(grid, col);\n    }\n    return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n}\n/** @private */\nfunction _getCellDrawing(grid, col, row) {\n    if (!grid[_].drawCells[row]) {\n        return null;\n    }\n    return grid[_].drawCells[row][col];\n}\n/** @private */\nfunction _putCellDrawing(grid, col, row, context) {\n    if (!grid[_].drawCells[row]) {\n        grid[_].drawCells[row] = {};\n    }\n    grid[_].drawCells[row][col] = context;\n}\n/** @private */\nfunction _removeCellDrawing(grid, col, row) {\n    if (!grid[_].drawCells[row]) {\n        return;\n    }\n    delete grid[_].drawCells[row][col];\n    if (Object.keys(grid[_].drawCells[row]).length === 0) {\n        delete grid[_].drawCells[row];\n    }\n}\n/** @private */\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n    const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n    const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n    if (drawRect.height > 0 && drawRect.width > 0) {\n        ctx.save();\n        try {\n            const cellDrawing = _getCellDrawing(this, col, row);\n            if (cellDrawing) {\n                cellDrawing.cancel();\n            }\n            const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\n            const p = this.onDrawCell(col, row, dcContext);\n            if (utils_1.isPromise(p)) {\n                //\n                _putCellDrawing(this, col, row, dcContext);\n                const pCol = col;\n                dcContext._delayMode(this, () => {\n                    _removeCellDrawing(this, pCol, row);\n                });\n                p.then(() => {\n                    dcContext.terminate();\n                });\n            }\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n}\n/** @private */\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n    const { colCount } = grid[_];\n    const drawOuter = (col, absoluteLeft) => {\n        //\n        if (col >= colCount - 1 &&\n            grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n            const outerLeft = absoluteLeft - visibleRect.left;\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n            ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n            ctx.fill();\n            ctx.restore();\n        }\n    };\n    let skipAbsoluteLeft = 0;\n    if (initFrozenCol) {\n        let absoluteLeft = initFrozenCol.left;\n        const count = grid[_].frozenColCount;\n        for (let { col } = initFrozenCol; col < count; col++) {\n            const width = _getColWidth(grid, col);\n            _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n            absoluteLeft += width;\n            if (drawRight <= absoluteLeft) {\n                //\n                drawOuter(col, absoluteLeft);\n                return;\n            }\n        }\n        skipAbsoluteLeft = absoluteLeft;\n    }\n    let absoluteLeft = initCol.left;\n    for (let { col } = initCol; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n        absoluteLeft += width;\n        if (drawRight <= absoluteLeft) {\n            //\n            drawOuter(col, absoluteLeft);\n            return;\n        }\n    }\n    drawOuter(colCount - 1, absoluteLeft);\n}\n/** @private */\nfunction _getInitContext() {\n    return this._getInitContext();\n}\n/** @private */\nfunction _invalidateRect(grid, drawRect) {\n    const visibleRect = _getVisibleRect(grid);\n    const { rowCount } = grid[_];\n    const ctx = _getInitContext.call(grid);\n    const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\n        top: _getRowsHeight.call(grid, 0, rowCount - 1),\n        row: rowCount,\n    };\n    const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n        left: _getColsWidth(grid, 0, grid[_].colCount - 1),\n        col: grid[_].colCount,\n    };\n    const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n    const drawRight = Math.min(visibleRect.right, drawRect.right);\n    const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n    const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n    const drawLayers = new DrawLayers();\n    const drawOuter = (row, absoluteTop) => {\n        //\n        if (row >= rowCount - 1 &&\n            grid[_].canvas.height > absoluteTop - visibleRect.top) {\n            const outerTop = absoluteTop - visibleRect.top;\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n            ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n            ctx.fill();\n            ctx.restore();\n        }\n    };\n    let skipAbsoluteTop = 0;\n    if (initFrozenRow) {\n        let absoluteTop = initFrozenRow.top;\n        const count = grid[_].frozenRowCount;\n        for (let { row } = initFrozenRow; row < count; row++) {\n            const height = _getRowHeight.call(grid, row);\n            _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n            absoluteTop += height;\n            if (drawBottom <= absoluteTop) {\n                //\n                drawOuter(row, absoluteTop);\n                drawLayers.draw(ctx);\n                return;\n            }\n        }\n        skipAbsoluteTop = absoluteTop;\n    }\n    let absoluteTop = initRow.top;\n    for (let { row } = initRow; row < rowCount; row++) {\n        const height = _getRowHeight.call(grid, row);\n        //\n        _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n        absoluteTop += height;\n        if (drawBottom <= absoluteTop) {\n            //\n            drawOuter(row, absoluteTop);\n            drawLayers.draw(ctx);\n            return;\n        }\n    }\n    drawOuter(rowCount - 1, absoluteTop);\n    drawLayers.draw(ctx);\n}\n/** @private */\nfunction _toPxWidth(grid, width) {\n    return Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n/** @private */\nfunction _adjustColWidth(grid, col, orgWidth) {\n    const limits = _getColWidthLimits(grid, col);\n    return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\n}\n/** @private */\nfunction _applyColWidthLimits(limits, orgWidth) {\n    if (!limits) {\n        return orgWidth;\n    }\n    if (limits.min) {\n        if (limits.min > orgWidth) {\n            return limits.min;\n        }\n    }\n    if (limits.max) {\n        if (limits.max < orgWidth) {\n            return limits.max;\n        }\n    }\n    return orgWidth;\n}\n/**\n * Gets the definition of the column width.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {string|number} width definition\n * @private\n */\nfunction _getColWidthDefine(grid, col) {\n    const width = grid[_].colWidthsMap.get(col);\n    if (width) {\n        return width;\n    }\n    return grid.defaultColWidth;\n}\n/**\n * Gets the column width limits.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {object|null} the column width limits\n * @private\n */\nfunction _getColWidthLimits(grid, col) {\n    const limit = grid[_].colWidthsLimit[col];\n    if (!limit) {\n        return null;\n    }\n    const result = {};\n    if (limit.min) {\n        result.min = _toPxWidth(grid, limit.min);\n        result.minDef = limit.min;\n    }\n    if (limit.max) {\n        result.max = _toPxWidth(grid, limit.max);\n        result.maxDef = limit.max;\n    }\n    return result;\n}\n/**\n * Checks if the given width definition is `auto`.\n * @param {string|number} width width definition to check\n * @returns {boolean} `true ` if the given width definition is `auto`\n * @private\n */\nfunction isAutoDefine(width) {\n    return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\n}\n/**\n * Creates a formula to calculate the auto width.\n * @param {DrawGrid} grid grid instance\n * @returns {string} formula\n * @private\n */\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\n    const fullWidth = grid[_].calcWidthContext.full;\n    let sumMin = 0;\n    const others = [];\n    let autoCount = 0;\n    const hasLimitsOnAuto = [];\n    for (let col = 0; col < grid[_].colCount; col++) {\n        const def = _getColWidthDefine(grid, col);\n        const limits = _getColWidthLimits(grid, col);\n        if (isAutoDefine(def)) {\n            if (limits) {\n                hasLimitsOnAuto.push(limits);\n                if (limits.min) {\n                    sumMin += limits.min;\n                }\n            }\n            autoCount++;\n        }\n        else {\n            let expr = def;\n            if (limits) {\n                const orgWidth = _toPxWidth(grid, expr);\n                const newWidth = _applyColWidthLimits(limits, orgWidth);\n                if (orgWidth !== newWidth) {\n                    expr = `${newWidth}px`;\n                }\n                sumMin += newWidth;\n            }\n            others.push(expr);\n        }\n        if (shortCircuit && sumMin > fullWidth) {\n            // Returns 0px because it has consumed the full width.\n            return \"0px\";\n        }\n    }\n    if (hasLimitsOnAuto.length && others.length) {\n        const autoPx = (fullWidth -\n            _toPxWidth(grid, `calc(${others\n                .map((c) => (typeof c === \"number\" ? `${c}px` : c))\n                .join(\" + \")})`)) /\n            autoCount;\n        hasLimitsOnAuto.forEach((limits) => {\n            if (limits.min && autoPx < limits.min) {\n                others.push(limits.minDef);\n                autoCount--;\n            }\n            else if (limits.max && limits.max < autoPx) {\n                others.push(limits.maxDef);\n                autoCount--;\n            }\n        });\n        if (shortCircuit && autoCount <= 0) {\n            return `${autoPx}px`;\n        }\n    }\n    if (others.length) {\n        const strDefs = [];\n        let num = 0;\n        others.forEach((c) => {\n            if (typeof c === \"number\") {\n                num += c;\n            }\n            else {\n                strDefs.push(c);\n            }\n        });\n        strDefs.push(`${num}px`);\n        return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\n    }\n    else {\n        return `${100 / autoCount}%`;\n    }\n}\n/**\n * Calculate the pixels of width from the definition of width.\n * @param {DrawGrid} grid grid instance\n * @param {string|number} width width definition\n * @returns {number} the pixels of width\n * @private\n */\nfunction _colWidthDefineToPxWidth(grid, width) {\n    if (isAutoDefine(width)) {\n        return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\n    }\n    return _toPxWidth(grid, width);\n}\n/** @private */\nfunction _getColWidth(grid, col) {\n    const width = _getColWidthDefine(grid, col);\n    return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\n}\n/** @private */\nfunction _setColWidth(grid, col, width) {\n    grid[_].colWidthsMap.put(col, width);\n}\n/**\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\n * @param {DrawGrid} grid grid instance\n * @returns {void}\n * @private\n */\nfunction _storeAutoColWidthExprs(grid) {\n    let expr = null;\n    for (let col = 0; col < grid[_].colCount; col++) {\n        const def = _getColWidthDefine(grid, col);\n        if (isAutoDefine(def)) {\n            _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\n        }\n    }\n}\n/** @private */\nfunction _getColsWidth(grid, startCol, endCol) {\n    const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\n    const colCount = endCol - startCol + 1;\n    let w = defaultColPxWidth * colCount;\n    grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n        w +=\n            _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) -\n                defaultColPxWidth;\n    });\n    for (let col = startCol; col <= endCol; col++) {\n        if (grid[_].colWidthsMap.has(col)) {\n            continue;\n        }\n        const adj = _adjustColWidth(grid, col, defaultColPxWidth);\n        if (adj !== defaultColPxWidth) {\n            w += adj - defaultColPxWidth;\n        }\n    }\n    return w;\n}\n/** @private */\nfunction _getRowHeight(row) {\n    const internal = this.getRowHeightInternal(row);\n    if (internal != null) {\n        return internal;\n    }\n    const height = this[_].rowHeightsMap.get(row);\n    if (height) {\n        return height;\n    }\n    return this[_].defaultRowHeight;\n}\n/** @private */\nfunction _setRowHeight(grid, row, height) {\n    grid[_].rowHeightsMap.put(row, height);\n}\n/** @private */\nfunction _getRowsHeight(startRow, endRow) {\n    const internal = this.getRowsHeightInternal(startRow, endRow);\n    if (internal != null) {\n        return internal;\n    }\n    const rowCount = endRow - startRow + 1;\n    let h = this[_].defaultRowHeight * rowCount;\n    this[_].rowHeightsMap.each(startRow, endRow, (height) => {\n        h += height - this[_].defaultRowHeight;\n    });\n    return h;\n}\n/** @private */\nfunction _getScrollWidth(grid) {\n    return _getColsWidth(grid, 0, grid[_].colCount - 1);\n}\n/** @private */\nfunction _getScrollHeight(row) {\n    const internal = this.getScrollHeightInternal(row);\n    if (internal != null) {\n        return internal;\n    }\n    let h = this[_].defaultRowHeight * this[_].rowCount;\n    this[_].rowHeightsMap.each(0, this[_].rowCount - 1, (height) => {\n        h += height - this[_].defaultRowHeight;\n    });\n    return h;\n}\n/** @private */\nfunction _onScroll(grid, _e) {\n    const lastLeft = grid[_].scroll.left;\n    const lastTop = grid[_].scroll.top;\n    const moveX = grid[_].scrollable.scrollLeft - lastLeft;\n    const moveY = grid[_].scrollable.scrollTop - lastTop;\n    //\n    grid[_].scroll = {\n        left: grid[_].scrollable.scrollLeft,\n        top: grid[_].scrollable.scrollTop,\n    };\n    const visibleRect = _getVisibleRect(grid);\n    if (Math.abs(moveX) >= visibleRect.width ||\n        Math.abs(moveY) >= visibleRect.height) {\n        //\n        _invalidateRect(grid, visibleRect);\n    }\n    else {\n        //\n        grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n        if (moveX !== 0) {\n            //\n            const redrawRect = visibleRect.copy();\n            if (moveX < 0) {\n                redrawRect.width = -moveX;\n                if (grid[_].frozenColCount > 0) {\n                    //\n                    const frozenRect = _getFrozenColsRect(grid);\n                    redrawRect.width += frozenRect.width;\n                }\n            }\n            else if (moveX > 0) {\n                redrawRect.left = redrawRect.right - moveX;\n            }\n            //\n            _invalidateRect(grid, redrawRect);\n            if (moveX > 0) {\n                if (grid[_].frozenColCount > 0) {\n                    //\n                    _invalidateRect(grid, _getFrozenColsRect(grid));\n                }\n            }\n        }\n        if (moveY !== 0) {\n            //\n            const redrawRect = visibleRect.copy();\n            if (moveY < 0) {\n                redrawRect.height = -moveY;\n                if (grid[_].frozenRowCount > 0) {\n                    //\n                    const frozenRect = _getFrozenRowsRect(grid);\n                    redrawRect.height += frozenRect.height;\n                }\n            }\n            else if (moveY > 0) {\n                redrawRect.top = redrawRect.bottom - moveY;\n            }\n            //\n            _invalidateRect(grid, redrawRect);\n            if (moveY > 0) {\n                if (grid[_].frozenRowCount > 0) {\n                    //\n                    _invalidateRect(grid, _getFrozenRowsRect(grid));\n                }\n            }\n        }\n    }\n}\n/** @private */\n// eslint-disable-next-line complexity\nfunction _onKeyDownMove(e) {\n    var _a, _b, _c;\n    const { shiftKey } = e;\n    const keyCode = getKeyCode(e);\n    const focusCell = shiftKey ? this.selection.focus : this.selection.select;\n    if (keyCode === KEY_LEFT) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, null, \"W\");\n        }\n        else {\n            if (!hmove.call(this, \"W\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_UP) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"N\", null);\n        }\n        else {\n            if (!vmove.call(this, \"N\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_RIGHT) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, null, \"E\");\n        }\n        else {\n            if (!hmove.call(this, \"E\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_DOWN) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"S\", null);\n        }\n        else {\n            if (!vmove.call(this, \"S\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_HOME) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"N\", \"W\");\n        }\n        else {\n            move(this, null, \"W\");\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_END) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"S\", \"E\");\n        }\n        else {\n            move(this, null, \"E\");\n        }\n        cancelEvent(e);\n    }\n    else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\n        if (shiftKey) {\n            if (!hmove.call(this, \"W\", false)) {\n                const row = this.getMoveUpRowByKeyDownInternal(focusCell);\n                if (0 > row) {\n                    return;\n                }\n                _moveFocusCell.call(this, this.colCount - 1, row, false);\n            }\n        }\n        else {\n            if (!hmove.call(this, \"E\", false)) {\n                const row = this.getMoveDownRowByKeyDownInternal(focusCell);\n                if (this.rowCount <= row) {\n                    return;\n                }\n                _moveFocusCell.call(this, 0, row, false);\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\n        if (shiftKey) {\n            if (!vmove.call(this, \"N\", false)) {\n                const col = this.getMoveLeftColByKeyDownInternal(focusCell);\n                if (0 > col) {\n                    return;\n                }\n                _moveFocusCell.call(this, col, this.rowCount - 1, false);\n            }\n        }\n        else {\n            if (!vmove.call(this, \"S\", false)) {\n                const col = this.getMoveRightColByKeyDownInternal(focusCell);\n                if (this.colCount <= col) {\n                    return;\n                }\n                _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\n        keyCode === KEY_ALPHA_A &&\n        (e.ctrlKey || e.metaKey)) {\n        this.selection.range = {\n            start: { col: 0, row: 0 },\n            end: { col: this.colCount - 1, row: this.rowCount - 1 },\n        };\n        this.invalidate();\n        cancelEvent(e);\n    }\n    function move(grid, vDir, hDir) {\n        const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\n        const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\n        _moveFocusCell.call(grid, col, row, shiftKey);\n    }\n    function vmove(vDir, shiftKeyFlg = shiftKey) {\n        let row;\n        if (vDir === \"S\") {\n            row = this.getMoveDownRowByKeyDownInternal(focusCell);\n            if (this.rowCount <= row) {\n                return false;\n            }\n        }\n        else {\n            row = this.getMoveUpRowByKeyDownInternal(focusCell);\n            if (row < 0) {\n                return false;\n            }\n        }\n        const { col } = focusCell;\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\n        return true;\n    }\n    function hmove(hDir, shiftKeyFlg = shiftKey) {\n        let col;\n        if (hDir === \"E\") {\n            col = this.getMoveRightColByKeyDownInternal(focusCell);\n            if (this.colCount <= col) {\n                return false;\n            }\n        }\n        else {\n            col = this.getMoveLeftColByKeyDownInternal(focusCell);\n            if (col < 0) {\n                return false;\n            }\n        }\n        const { row } = focusCell;\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\n        return true;\n    }\n}\n/** @private */\nfunction _moveFocusCell(col, row, shiftKey) {\n    const offset = this.getOffsetInvalidateCells();\n    function extendRange(range) {\n        if (offset > 0) {\n            range.start.col -= offset;\n            range.start.row -= offset;\n            range.end.col += offset;\n            range.end.row += offset;\n        }\n        return range;\n    }\n    const beforeRange = extendRange(this.selection.range);\n    const beforeRect = this.getCellRangeRect(beforeRange);\n    this.selection._setFocusCell(col, row, shiftKey);\n    this.makeVisibleCell(col, row);\n    this.focusCell(col, row);\n    const afterRange = extendRange(this.selection.range);\n    const afterRect = this.getCellRangeRect(afterRange);\n    if (afterRect.intersection(beforeRect)) {\n        const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\n        _invalidateRect(this, invalidateRect);\n    }\n    else {\n        _invalidateRect(this, beforeRect);\n        _invalidateRect(this, afterRect);\n    }\n}\n/** @private */\nfunction _updatedSelection() {\n    const { focusControl } = this[_];\n    const { col: selCol, row: selRow } = this[_].selection.select;\n    const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\n        col: selCol,\n        row: selRow,\n    });\n    const editMode = utils_1.array.findIndex(results, (v) => !!v) >= 0;\n    focusControl.editMode = editMode;\n    if (editMode) {\n        focusControl.storeInputStatus();\n        focusControl.setDefaultInputStatus();\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\n            col: selCol,\n            row: selRow,\n            input: focusControl.input,\n        });\n    }\n}\n/** @private */\nfunction _getMouseAbstractPoint(grid, evt) {\n    let e;\n    if (isTouchEvent(evt)) {\n        e = evt.changedTouches[0];\n    }\n    else {\n        e = evt;\n    }\n    const clientX = e.clientX || e.pageX + window.scrollX;\n    const clientY = e.clientY || e.pageY + window.scrollY;\n    const rect = grid[_].canvas.getBoundingClientRect();\n    if (rect.right <= clientX) {\n        return null;\n    }\n    if (rect.bottom <= clientY) {\n        return null;\n    }\n    const x = clientX - rect.left + grid[_].scroll.left;\n    const y = clientY - rect.top + grid[_].scroll.top;\n    return { x, y };\n}\n/** @private */\nfunction _bindEvents() {\n    // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\n    const grid = this;\n    const { handler, element, scrollable } = grid[_];\n    const getCellEventArgsSet = (e) => {\n        const abstractPos = _getMouseAbstractPoint(grid, e);\n        if (!abstractPos) {\n            return {};\n        }\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n        if (cell.col < 0 || cell.row < 0) {\n            return {\n                abstractPos,\n                cell,\n            };\n        }\n        const eventArgs = {\n            col: cell.col,\n            row: cell.row,\n            event: e,\n        };\n        return {\n            abstractPos,\n            cell,\n            eventArgs,\n        };\n    };\n    const canResizeColumn = (col) => {\n        if (grid[_].disableColumnResize) {\n            return false;\n        }\n        const limit = grid[_].colWidthsLimit[col];\n        if (!limit || !limit.min || !limit.max) {\n            return true;\n        }\n        return limit.max !== limit.min;\n    };\n    handler.on(element, \"mousedown\", (e) => {\n        const eventArgsSet = getCellEventArgsSet(e);\n        const { abstractPos, eventArgs } = eventArgsSet;\n        if (!abstractPos) {\n            return;\n        }\n        if (eventArgs) {\n            const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n            if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\n                return;\n            }\n        }\n        if (getMouseButtons(e) !== 1) {\n            return;\n        }\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n            //\n            grid[_].columnResizer.start(resizeCol, e);\n        }\n        else {\n            //\n            grid[_].cellSelector.start(e);\n        }\n    });\n    handler.on(element, \"mouseup\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (eventArgs) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\n        }\n    });\n    let doubleTapBefore = null;\n    let longTouchId = null;\n    handler.on(element, \"touchstart\", (e) => {\n        if (!doubleTapBefore) {\n            doubleTapBefore = getCellEventArgsSet(e).eventArgs;\n            setTimeout(() => {\n                doubleTapBefore = null;\n            }, 350);\n        }\n        else {\n            const { eventArgs } = getCellEventArgsSet(e);\n            if (eventArgs &&\n                eventArgs.col === doubleTapBefore.col &&\n                eventArgs.row === doubleTapBefore.row) {\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\n            }\n            doubleTapBefore = null;\n            if (e.defaultPrevented) {\n                return;\n            }\n        }\n        longTouchId = setTimeout(() => {\n            //\n            longTouchId = null;\n            const abstractPos = _getMouseAbstractPoint(grid, e);\n            if (!abstractPos) {\n                return;\n            }\n            const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n            if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n                //\n                grid[_].columnResizer.start(resizeCol, e);\n            }\n            else {\n                //\n                grid[_].cellSelector.start(e);\n            }\n        }, 500);\n    });\n    function cancel(_e) {\n        if (longTouchId) {\n            clearTimeout(longTouchId);\n            longTouchId = null;\n        }\n    }\n    handler.on(element, \"touchcancel\", cancel);\n    handler.on(element, \"touchmove\", cancel);\n    handler.on(element, \"touchend\", (e) => {\n        if (longTouchId) {\n            clearTimeout(longTouchId);\n            grid[_].cellSelector.select(e);\n            longTouchId = null;\n        }\n    });\n    let isMouseover = false;\n    let mouseEnterCell = null;\n    let mouseOverCell = null;\n    function onMouseenterCell(cell, related) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\n            col: cell.col,\n            row: cell.row,\n            related,\n        });\n        mouseEnterCell = cell;\n    }\n    function onMouseleaveCell(related) {\n        const beforeMouseCell = mouseEnterCell;\n        mouseEnterCell = null;\n        if (beforeMouseCell) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\n                col: beforeMouseCell.col,\n                row: beforeMouseCell.row,\n                related,\n            });\n        }\n        return beforeMouseCell || undefined;\n    }\n    function onMouseoverCell(cell, related) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\n            col: cell.col,\n            row: cell.row,\n            related,\n        });\n        mouseOverCell = cell;\n    }\n    function onMouseoutCell(related) {\n        const beforeMouseCell = mouseOverCell;\n        mouseOverCell = null;\n        if (beforeMouseCell) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\n                col: beforeMouseCell.col,\n                row: beforeMouseCell.row,\n                related,\n            });\n        }\n        return beforeMouseCell || undefined;\n    }\n    const scrollElement = scrollable.getElement();\n    handler.on(scrollElement, \"mouseover\", (_e) => {\n        isMouseover = true;\n    });\n    handler.on(scrollElement, \"mouseout\", (_e) => {\n        isMouseover = false;\n        onMouseoutCell();\n    });\n    handler.on(element, \"mouseleave\", (_e) => {\n        onMouseleaveCell();\n    });\n    handler.on(element, \"mousemove\", (e) => {\n        const eventArgsSet = getCellEventArgsSet(e);\n        const { abstractPos, eventArgs } = eventArgsSet;\n        if (eventArgs) {\n            const beforeMouseCell = mouseEnterCell;\n            if (beforeMouseCell) {\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n                if (beforeMouseCell.col !== eventArgs.col ||\n                    beforeMouseCell.row !== eventArgs.row) {\n                    const enterCell = {\n                        col: eventArgs.col,\n                        row: eventArgs.row,\n                    };\n                    const outCell = onMouseoutCell(enterCell);\n                    const leaveCell = onMouseleaveCell(enterCell);\n                    onMouseenterCell(enterCell, leaveCell);\n                    if (isMouseover) {\n                        onMouseoverCell(enterCell, outCell);\n                    }\n                }\n                else if (isMouseover && !mouseOverCell) {\n                    onMouseoverCell({\n                        col: eventArgs.col,\n                        row: eventArgs.row,\n                    });\n                }\n            }\n            else {\n                const enterCell = {\n                    col: eventArgs.col,\n                    row: eventArgs.row,\n                };\n                onMouseenterCell(enterCell);\n                if (isMouseover) {\n                    onMouseoverCell(enterCell);\n                }\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n            }\n        }\n        else {\n            onMouseoutCell();\n            onMouseleaveCell();\n        }\n        if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n            return;\n        }\n        const { style } = element;\n        if (!abstractPos) {\n            if (style.cursor === \"col-resize\") {\n                style.cursor = \"\";\n            }\n            return;\n        }\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n            style.cursor = \"col-resize\";\n        }\n        else {\n            if (style.cursor === \"col-resize\") {\n                style.cursor = \"\";\n            }\n        }\n    });\n    handler.on(element, \"click\", (e) => {\n        if (grid[_].columnResizer.lastMoving(e) ||\n            grid[_].cellSelector.lastMoving(e)) {\n            return;\n        }\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\n    });\n    handler.on(element, \"contextmenu\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\n    });\n    handler.on(element, \"dblclick\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n    });\n    grid[_].focusControl.onKeyDown((evt) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\n    });\n    grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (data) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\n    });\n    scrollable.onScroll((e) => {\n        _onScroll(grid, e);\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, { event: e });\n    });\n    grid[_].focusControl.onKeyDownMove((e) => {\n        _onKeyDownMove.call(grid, e);\n    });\n    grid.listen(\"copydata\", (range) => {\n        const copyRange = grid.getCopyRangeInternal(range);\n        let copyValue = \"\";\n        for (let { row } = copyRange.start; row <= copyRange.end.row; row++) {\n            for (let { col } = copyRange.start; col <= copyRange.end.col; col++) {\n                const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\n                if (typeof Promise !== \"undefined\" &&\n                    copyCellValue instanceof Promise) {\n                    //\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                    const strCellValue = `${copyCellValue}`;\n                    if (/^\\[object .*\\]$/.exec(strCellValue)) {\n                        //object \n                    }\n                    else {\n                        copyValue += strCellValue;\n                    }\n                }\n                if (col < copyRange.end.col) {\n                    copyValue += \"\\t\";\n                }\n            }\n            copyValue += \"\\n\";\n        }\n        return copyValue;\n    });\n    grid[_].focusControl.onCopy((_e) => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), (r) => r != null));\n    grid[_].focusControl.onPaste(({ value, event }) => {\n        const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n        const { col, row } = grid[_].selection.select;\n        const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizeValue); // is multi cell values\n        let rangeBoxValues = null;\n        const pasteCellEvent = {\n            col,\n            row,\n            value,\n            normalizeValue,\n            multi,\n            get rangeBoxValues() {\n                return (rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : (rangeBoxValues = paste_utils_1.parsePasteRangeBoxValues(normalizeValue)));\n            },\n            event,\n        };\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\n    });\n    grid[_].focusControl.onInput((value) => {\n        const { col, row } = grid[_].selection.select;\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, { col, row, value });\n    });\n    grid[_].focusControl.onDelete((event) => {\n        const { col, row } = grid[_].selection.select;\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, { col, row, event });\n    });\n    grid[_].focusControl.onFocus((e) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\n        grid[_].focusedGrid = true;\n        const { col, row } = grid[_].selection.select;\n        grid.invalidateCell(col, row);\n    });\n    grid[_].focusControl.onBlur((e) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\n        grid[_].focusedGrid = false;\n        const { col, row } = grid[_].selection.select;\n        grid.invalidateCell(col, row);\n    });\n}\n/** @private */\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n    if (grid[_].frozenRowCount <= 0) {\n        return -1;\n    }\n    const frozenRect = _getFrozenRowsRect(grid);\n    if (!frozenRect.inPoint(abstractX, abstractY)) {\n        return -1;\n    }\n    const cell = grid.getCellAt(abstractX, abstractY);\n    const cellRect = grid.getCellRect(cell.col, cell.row);\n    if (abstractX < cellRect.left + offset) {\n        return cell.col - 1;\n    }\n    if (cellRect.right - offset < abstractX) {\n        return cell.col;\n    }\n    return -1;\n}\n/** @private */\nfunction _getVisibleRect(grid) {\n    const { scroll: { left, top }, canvas: { width, height }, } = grid[_];\n    return new Rect_1.Rect(left, top, width, height);\n}\n/** @private */\nfunction _getScrollableVisibleRect(grid) {\n    let frozenColsWidth = 0;\n    if (grid[_].frozenColCount > 0) {\n        //\n        const frozenRect = _getFrozenColsRect(grid);\n        frozenColsWidth = frozenRect.width;\n    }\n    let frozenRowsHeight = 0;\n    if (grid[_].frozenRowCount > 0) {\n        //\n        const frozenRect = _getFrozenRowsRect(grid);\n        frozenRowsHeight = frozenRect.height;\n    }\n    return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n}\n/** @private */\nfunction _toRelativeRect(grid, absoluteRect) {\n    const rect = absoluteRect.copy();\n    const visibleRect = _getVisibleRect(grid);\n    rect.offsetLeft(-visibleRect.left);\n    rect.offsetTop(-visibleRect.top);\n    return rect;\n}\n//end private methods\n//\n//\n//\n//\n/**\n * managing mouse down moving\n * @private\n */\nclass BaseMouseDownMover {\n    constructor(grid) {\n        this._grid = grid;\n        this._handler = new EventHandler_1.EventHandler();\n        this._events = {};\n        this._started = false;\n        this._moved = false;\n    }\n    moving(_e) {\n        return !!this._started;\n    }\n    lastMoving(e) {\n        // mouseupclick\n        if (this.moving(e)) {\n            return true;\n        }\n        const last = this._mouseEndPoint;\n        if (!last) {\n            return false;\n        }\n        const pt = _getMouseAbstractPoint(this._grid, e);\n        return pt != null && pt.x === last.x && pt.y === last.y;\n    }\n    _bindMoveAndUp(e) {\n        const events = this._events;\n        const handler = this._handler;\n        if (!isTouchEvent(e)) {\n            events.mousemove = handler.on(document.body, \"mousemove\", (e) => this._mouseMove(e));\n            events.mouseup = handler.on(document.body, \"mouseup\", (e) => this._mouseUp(e));\n        }\n        else {\n            events.touchmove = handler.on(document.body, \"touchmove\", (e) => this._mouseMove(e), { passive: false });\n            events.touchend = handler.on(document.body, \"touchend\", (e) => this._mouseUp(e));\n            events.touchcancel = handler.on(document.body, \"touchcancel\", (e) => this._mouseUp(e));\n        }\n        this._started = true;\n        this._moved = false;\n    }\n    _mouseMove(e) {\n        if (!isTouchEvent(e)) {\n            if (getMouseButtons(e) !== 1) {\n                this._mouseUp(e);\n                return;\n            }\n        }\n        this._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\n        cancelEvent(e);\n    }\n    _moveInternal(_e) {\n        //protected\n        return false;\n    }\n    _mouseUp(e) {\n        const events = this._events;\n        const handler = this._handler;\n        handler.off(events.mousemove);\n        handler.off(events.touchmove);\n        handler.off(events.mouseup);\n        handler.off(events.touchend);\n        // handler.off(this._events.mouseleave);\n        handler.off(events.touchcancel);\n        this._started = false;\n        this._upInternal(e);\n        // mouseupclick\n        if (this._moved) {\n            //\n            this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n            setTimeout(() => {\n                this._mouseEndPoint = null;\n            }, 10);\n        }\n    }\n    _upInternal(_e) {\n        //protected\n    }\n    dispose() {\n        this._handler.dispose();\n    }\n}\n/**\n * managing cell selection operation with mouse\n * @private\n */\nclass CellSelector extends BaseMouseDownMover {\n    start(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return;\n        }\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n        this._bindMoveAndUp(e);\n        this._cell = cell;\n        cancelEvent(e);\n        _vibrate(e);\n    }\n    select(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return;\n        }\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n        this._cell = cell;\n    }\n    _moveInternal(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return false;\n        }\n        const { col: oldCol, row: oldRow } = this._cell;\n        const { col: newCol, row: newRow } = cell;\n        if (oldCol === newCol && oldRow === newRow) {\n            return false;\n        }\n        const grid = this._grid;\n        _moveFocusCell.call(grid, newCol, newRow, true);\n        //make visible\n        const makeVisibleCol = (() => {\n            if (newCol < oldCol && 0 < newCol) {\n                // move left\n                return newCol - 1;\n            }\n            else if (oldCol < newCol && newCol + 1 < grid.colCount) {\n                // move right\n                return newCol + 1;\n            }\n            return newCol;\n        })();\n        const makeVisibleRow = (() => {\n            if (newRow < oldRow && 0 < newRow) {\n                // move up\n                return newRow - 1;\n            }\n            else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\n                // move down\n                return newRow + 1;\n            }\n            return newRow;\n        })();\n        if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\n            grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n        }\n        this._cell = cell;\n        return true;\n    }\n    _getTargetCell(e) {\n        const grid = this._grid;\n        const abstractPos = _getMouseAbstractPoint(grid, e);\n        if (!abstractPos) {\n            return null;\n        }\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n        if (cell.col < 0 || cell.row < 0) {\n            return null;\n        }\n        return cell;\n    }\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\nclass ColumnResizer extends BaseMouseDownMover {\n    constructor(grid) {\n        super(grid);\n        this._x = -1;\n        this._preX = -1;\n        this._invalidateAbsoluteLeft = -1;\n        this._targetCol = -1;\n    }\n    start(col, e) {\n        let pageX;\n        if (!isTouchEvent(e)) {\n            ({ pageX } = e);\n        }\n        else {\n            ({ pageX } = e.changedTouches[0]);\n        }\n        this._x = pageX;\n        this._preX = 0;\n        this._bindMoveAndUp(e);\n        this._targetCol = col;\n        this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n        cancelEvent(e);\n        _vibrate(e);\n    }\n    _moveInternal(e) {\n        const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n        const x = pageX - this._x;\n        const moveX = x - this._preX;\n        this._preX = x;\n        const pre = this._grid.getColWidth(this._targetCol);\n        let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n        if (afterSize < 10 && moveX < 0) {\n            afterSize = 10;\n        }\n        _storeAutoColWidthExprs(this._grid);\n        _setColWidth(this._grid, this._targetCol, afterSize);\n        const rect = _getVisibleRect(this._grid);\n        rect.left = this._invalidateAbsoluteLeft;\n        _invalidateRect(this._grid, rect);\n        this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\n            col: this._targetCol,\n        });\n        return true;\n    }\n    _upInternal(_e) {\n        const grid = this._grid;\n        if (grid.updateScroll()) {\n            grid.invalidate();\n        }\n    }\n}\n/** @private */\nfunction setSafeInputValue(input, value) {\n    const { type } = input;\n    input.type = \"\";\n    input.value = value;\n    if (type) {\n        input.type = type;\n    }\n}\n/**\n * Manage focus\n * @private\n */\nclass FocusControl extends EventTarget_1.EventTarget {\n    constructor(grid, parentElement, scrollable) {\n        super();\n        this._grid = grid;\n        this._scrollable = scrollable;\n        const handler = (this._handler = new EventHandler_1.EventHandler());\n        const input = (this._input = document.createElement(\"input\"));\n        input.classList.add(\"grid-focus-control\");\n        input.readOnly = true;\n        parentElement.appendChild(input);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n            input.style.font = grid.font || \"16px sans-serif\";\n            this._isComposition = true;\n            if (this._compositionEnd) {\n                clearTimeout(this._compositionEnd);\n                delete this._compositionEnd;\n            }\n            grid.focus();\n        });\n        let lastInputValue;\n        const inputClear = () => {\n            lastInputValue = input.value;\n            if (this._isComposition) {\n                return;\n            }\n            if (lastInputValue !== \"\") {\n                setSafeInputValue(input, \"\");\n            }\n        };\n        const handleCompositionEnd = () => {\n            this._isComposition = false;\n            input.classList.remove(\"composition\");\n            input.style.font = \"\";\n            const { value } = input;\n            inputClear();\n            if (!input.readOnly) {\n                this.fireListeners(\"input\", value);\n            }\n            if (this._compositionEnd) {\n                clearTimeout(this._compositionEnd);\n                delete this._compositionEnd;\n            }\n        };\n        handler.on(input, \"compositionend\", (_e) => {\n            this._compositionEnd = setTimeout(handleCompositionEnd, 1);\n        });\n        handler.on(input, \"keypress\", (e) => {\n            if (this._isComposition) {\n                return;\n            }\n            if (!input.readOnly && e.key && e.key.length === 1) {\n                if (e.ctrlKey || e.metaKey) {\n                    if (e.key === \"c\") {\n                        //copy! for Firefox & Safari\n                    }\n                    else if (e.key === \"v\") {\n                        //paste! for Firefox & Safari\n                    }\n                }\n                else {\n                    if (e.key === \" \") {\n                        // Since the full-width space cannot be determined, it is processed by \"input\".\n                        return;\n                    }\n                    this.fireListeners(\"input\", e.key);\n                    cancelEvent(e);\n                }\n            }\n            inputClear();\n        });\n        handler.on(input, \"keydown\", (e) => {\n            var _a;\n            if (this._isComposition) {\n                if (this._compositionEnd) {\n                    handleCompositionEnd();\n                    cancelEvent(e);\n                }\n                return;\n            }\n            const keyCode = getKeyCode(e);\n            let stopCellMove = false;\n            const evt = {\n                keyCode,\n                event: e,\n                stopCellMoving() {\n                    stopCellMove = true;\n                },\n            };\n            this.fireListeners(\"keydown\", evt);\n            if (!input.readOnly && lastInputValue) {\n                // for Safari\n                this.fireListeners(\"input\", lastInputValue);\n            }\n            if (!stopCellMove)\n                this.fireKeyDownMove(keyCode, e);\n            if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) &&\n                (keyCode === KEY_DEL || keyCode === KEY_BS)) {\n                this.fireListeners(\"delete\", e);\n            }\n            inputClear();\n        });\n        handler.on(input, \"keyup\", (_e) => {\n            if (this._isComposition) {\n                if (this._compositionEnd) {\n                    handleCompositionEnd();\n                }\n            }\n            inputClear();\n        });\n        handler.on(input, \"input\", (e) => {\n            if (e.data === \" \" || e.data === \"\") {\n                // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\n                this.fireListeners(\"input\", e.data);\n            }\n            inputClear();\n        });\n        if (utils_1.browser.IE) {\n            handler.on(document, \"keydown\", (e) => {\n                if (e.target !== input) {\n                    return;\n                }\n                const keyCode = getKeyCode(e);\n                if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n                    // When text is not selected copy-event is not emit, on IE.\n                    setSafeInputValue(input, \"dummy\");\n                    input.select();\n                    setTimeout(() => {\n                        setSafeInputValue(input, \"\");\n                    }, 100);\n                }\n                else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\n                    // When input is read-only paste-event is not emit, on IE.\n                    if (input.readOnly) {\n                        input.readOnly = false;\n                        setTimeout(() => {\n                            input.readOnly = true;\n                            setSafeInputValue(input, \"\");\n                        }, 10);\n                    }\n                }\n            });\n        }\n        if (utils_1.browser.Edge) {\n            handler.once(document, \"keydown\", (e) => {\n                var _a;\n                if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                    return;\n                }\n                // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\n                const dummyInput = document.createElement(\"input\");\n                grid.getElement().appendChild(dummyInput);\n                dummyInput.focus();\n                input.focus();\n                (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\n            });\n        }\n        handler.on(document, \"paste\", (e) => {\n            if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                return;\n            }\n            let pasteText = undefined;\n            if (utils_1.browser.IE) {\n                // IE\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                pasteText = window.clipboardData.getData(\"Text\");\n            }\n            else {\n                const { clipboardData } = e;\n                if (clipboardData.items) {\n                    // Chrome & Firefox & Edge\n                    pasteText = clipboardData.getData(\"text/plain\");\n                }\n                else {\n                    // Safari\n                    if (-1 !==\n                        Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\n                        pasteText = clipboardData.getData(\"Text\");\n                    }\n                }\n            }\n            if (pasteText != null && pasteText.length) {\n                this.fireListeners(\"paste\", { value: pasteText, event: e });\n            }\n        });\n        handler.on(document, \"copy\", (e) => {\n            if (this._isComposition) {\n                return;\n            }\n            if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                return;\n            }\n            setSafeInputValue(input, \"\");\n            const data = utils_1.array.find(this.fireListeners(\"copy\"), (r) => r != null);\n            if (data != null) {\n                cancelEvent(e);\n                if (utils_1.browser.IE) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    window.clipboardData.setData(\"Text\", data); // IE\n                }\n                else {\n                    e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\n                }\n            }\n        });\n        handler.on(input, \"focus\", (e) => {\n            this.fireListeners(\"focus\", e);\n        });\n        handler.on(input, \"blur\", (e) => {\n            this.fireListeners(\"blur\", e);\n        });\n    }\n    fireKeyDownMove(keyCode, e) {\n        var _a, _b, _c;\n        const fn = this._keyDownMoveCallback;\n        if (!fn) {\n            return;\n        }\n        if (this._isComposition) {\n            return;\n        }\n        if (keyCode === KEY_LEFT ||\n            keyCode === KEY_UP ||\n            keyCode === KEY_RIGHT ||\n            keyCode === KEY_DOWN ||\n            keyCode === KEY_HOME ||\n            keyCode === KEY_END) {\n            fn(e);\n        }\n        else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) &&\n            keyCode === KEY_TAB) {\n            fn(e);\n        }\n        else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) &&\n            keyCode === KEY_ENTER) {\n            fn(e);\n        }\n        else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\n            keyCode === KEY_ALPHA_A &&\n            (e.ctrlKey || e.metaKey)) {\n            fn(e);\n        }\n    }\n    onKeyDownMove(fn) {\n        this._keyDownMoveCallback = fn;\n    }\n    onKeyDown(fn) {\n        return this.listen(\"keydown\", fn);\n    }\n    onInput(fn) {\n        return this.listen(\"input\", fn);\n    }\n    onDelete(fn) {\n        return this.listen(\"delete\", fn);\n    }\n    onCopy(fn) {\n        return this.listen(\"copy\", fn);\n    }\n    onPaste(fn) {\n        return this.listen(\"paste\", fn);\n    }\n    onFocus(fn) {\n        return this.listen(\"focus\", fn);\n    }\n    onBlur(fn) {\n        return this.listen(\"blur\", fn);\n    }\n    focus() {\n        // this._input.value = '';\n        this._input.focus();\n    }\n    setFocusRect(rect) {\n        const input = this._input;\n        const top = this._scrollable.calcTop(rect.top);\n        input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n        input.style.left = `${rect.left.toFixed()}px`;\n        input.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n    }\n    get editMode() {\n        return !this._input.readOnly;\n    }\n    set editMode(editMode) {\n        this._input.readOnly = !editMode;\n    }\n    resetInputStatus() {\n        var _a;\n        const el = this._input;\n        if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\n            return;\n        }\n        const composition = el.classList.contains(\"composition\");\n        const atts = el.attributes;\n        const removeNames = [];\n        for (let i = 0, n = atts.length; i < n; i++) {\n            const att = atts[i];\n            if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(att.nodeName))) {\n                removeNames.push(att.name);\n            }\n        }\n        removeNames.forEach((removeName) => {\n            el.removeAttribute(removeName);\n        });\n        for (const name in this._inputStatus) {\n            el.setAttribute(name, this._inputStatus[name]);\n        }\n        if (composition) {\n            el.classList.add(\"composition\");\n            el.style.font = this._grid.font || \"16px sans-serif\";\n        }\n        else {\n            el.classList.remove(\"composition\");\n        }\n        el.classList.remove(\"grid-focus-control--stored-status\");\n    }\n    storeInputStatus() {\n        const el = this._input;\n        if (el.classList.contains(\"grid-focus-control--stored-status\")) {\n            return;\n        }\n        const inputStatus = (this._inputStatus = {});\n        const atts = el.attributes;\n        for (let i = 0, n = atts.length; i < n; i++) {\n            const att = atts[i];\n            inputStatus[att.name] = att.value;\n        }\n        el.classList.add(\"grid-focus-control--stored-status\");\n    }\n    setDefaultInputStatus() {\n        // \n        // this._input.style.font = this._grid.font || '16px sans-serif';\n    }\n    get input() {\n        return this._input;\n    }\n    dispose() {\n        super.dispose();\n        this._handler.dispose();\n    }\n}\n/**\n * Selected area management\n */\nclass Selection extends EventTarget_1.EventTarget {\n    constructor(grid) {\n        super();\n        this._grid = grid;\n        this._sel = { col: 0, row: 0 };\n        this._focus = { col: 0, row: 0 };\n        this._start = { col: 0, row: 0 };\n        this._end = { col: 0, row: 0 };\n    }\n    get range() {\n        const start = this._start;\n        const end = this._end;\n        const startCol = Math.min(start.col, end.col);\n        const startRow = Math.min(start.row, end.row);\n        const endCol = Math.max(start.col, end.col);\n        const endRow = Math.max(start.row, end.row);\n        return {\n            start: {\n                col: startCol,\n                row: startRow,\n            },\n            end: {\n                col: endCol,\n                row: endRow,\n            },\n        };\n    }\n    set range(range) {\n        const startCol = Math.min(range.start.col, range.end.col);\n        const startRow = Math.min(range.start.row, range.end.row);\n        const endCol = Math.max(range.start.col, range.end.col);\n        const endRow = Math.max(range.start.row, range.end.row);\n        this._wrapFireSelectedEvent(() => {\n            this._sel = {\n                col: startCol,\n                row: startRow,\n            };\n            this._focus = {\n                col: startCol,\n                row: startRow,\n            };\n            this._start = {\n                col: startCol,\n                row: startRow,\n            };\n            this._end = {\n                col: endCol,\n                row: endRow,\n            };\n            _updatedSelection.call(this._grid);\n        });\n    }\n    get focus() {\n        const { col, row } = this._focus;\n        return { col, row };\n    }\n    get select() {\n        const { col, row } = this._sel;\n        return { col, row };\n    }\n    set select(cell) {\n        this._wrapFireSelectedEvent(() => {\n            const { col = 0, row = 0 } = cell;\n            this._setSelectCell(col, row);\n            this._setFocusCell(col, row, true);\n            _updatedSelection.call(this._grid);\n        });\n    }\n    _setSelectCell(col, row) {\n        this._wrapFireSelectedEvent(() => {\n            this._sel = { col, row };\n            this._start = { col, row };\n        });\n    }\n    _setFocusCell(col, row, keepSelect) {\n        this._wrapFireSelectedEvent(() => {\n            if (!keepSelect) {\n                this._setSelectCell(col, row);\n            }\n            this._focus = { col, row };\n            this._end = { col, row };\n        });\n    }\n    _wrapFireSelectedEvent(callback) {\n        if (this._isWraped) {\n            callback();\n        }\n        else {\n            this._isWraped = true;\n            try {\n                const before = {\n                    col: this._sel.col,\n                    row: this._sel.row,\n                    selected: false,\n                    after: null,\n                };\n                callback();\n                const after = {\n                    col: this._sel.col,\n                    row: this._sel.row,\n                    selected: true,\n                    before: {\n                        col: before.col,\n                        row: before.row,\n                    },\n                };\n                before.after = {\n                    col: after.col,\n                    row: after.row,\n                };\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\n            }\n            finally {\n                this._isWraped = false;\n            }\n        }\n    }\n    _updateGridRange() {\n        const { rowCount, colCount } = this._grid;\n        const points = [this._sel, this._focus, this._start, this._end];\n        let needChange = false;\n        for (let i = 0; i < points.length; i++) {\n            if (colCount <= points[i].col || rowCount <= points[i].row) {\n                needChange = true;\n                break;\n            }\n        }\n        if (!needChange) {\n            return false;\n        }\n        this._wrapFireSelectedEvent(() => {\n            points.forEach((p) => {\n                p.col = Math.min(colCount - 1, p.col);\n                p.row = Math.min(rowCount - 1, p.row);\n            });\n        });\n        return true;\n    }\n}\n/**\n * This class manages the drawing process for each layer\n */\n/** @private */\nclass DrawLayers {\n    constructor() {\n        this._layers = {};\n    }\n    addDraw(level, fn) {\n        const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n        l.addDraw(fn);\n    }\n    draw(ctx) {\n        const list = [];\n        for (const k in this._layers) {\n            list.push(this._layers[k]);\n        }\n        list.sort((a, b) => a.level - b.level);\n        list.forEach((l) => l.draw(ctx));\n    }\n}\n/** @private */\nclass DrawLayer {\n    constructor(level) {\n        this._level = level;\n        this._list = [];\n    }\n    get level() {\n        return this._level;\n    }\n    addDraw(fn) {\n        this._list.push(fn);\n    }\n    draw(ctx) {\n        this._list.forEach((fn) => {\n            ctx.save();\n            try {\n                fn(ctx);\n            }\n            finally {\n                ctx.restore();\n            }\n        });\n    }\n}\n/**\n * Context of cell drawing\n * @private\n */\nclass DrawCellContext {\n    //  private _grid: any;\n    //  private _onTerminate: any;\n    /**\n     * constructor\n     * @param {number} col index of column\n     * @param {number} row index of row\n     * @param {CanvasRenderingContext2D} ctx context\n     * @param {Rect} rect rect of cell area\n     * @param {Rect} drawRect rect of drawing area\n     * @param {boolean} drawing `true` if drawing is in progress\n     * @param {object} selection the selection\n     * @param {Array} drawLayers array of draw layers\n     * @private\n     */\n    constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n        this._rectFilter = null;\n        this._col = col;\n        this._row = row;\n        this._mode = 0;\n        this._ctx = ctx;\n        this._rect = rect;\n        this._drawRect = drawRect;\n        this._drawing = drawing;\n        this._selection = selection;\n        this._drawLayers = drawLayers;\n        this._childContexts = [];\n    }\n    get drawing() {\n        if (this._mode === 0) {\n            return this._drawing;\n        }\n        else {\n            return true;\n        }\n    }\n    get row() {\n        return this._row;\n    }\n    get col() {\n        return this._col;\n    }\n    cancel() {\n        this._cancel = true;\n        this._childContexts.forEach((ctx) => {\n            ctx.cancel();\n        });\n    }\n    /**\n     * select status.\n     * @return {object} select status\n     */\n    getSelection() {\n        return {\n            select: this._selection.select,\n            range: this._selection.range,\n        };\n    }\n    /**\n     * Canvas context.\n     * @return {CanvasRenderingContext2D} Canvas context.\n     */\n    getContext() {\n        if (this._mode === 0) {\n            return this._ctx;\n        }\n        else {\n            return _getInitContext.call(this._grid);\n        }\n    }\n    /**\n     * Rectangle of cell.\n     * @return {Rect} rect Rectangle of cell.\n     */\n    getRect() {\n        const rectFilter = this._rectFilter;\n        return rectFilter\n            ? rectFilter(this._getRectInternal())\n            : this._getRectInternal();\n    }\n    setRectFilter(rectFilter) {\n        this._rectFilter = rectFilter;\n    }\n    /**\n     * Rectangle of Drawing range.\n     * @return {Rect} Rectangle of Drawing range.\n     */\n    getDrawRect() {\n        if (this._cancel) {\n            return null;\n        }\n        if (this._mode === 0) {\n            return this._drawRect;\n        }\n        else {\n            if (this._isOutOfRange()) {\n                return null;\n            }\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\n            return this._toRelativeDrawRect(absoluteRect);\n        }\n    }\n    _isOutOfRange() {\n        const { colCount, rowCount } = this._grid;\n        return colCount <= this._col || rowCount <= this._row;\n    }\n    /**\n     * get Context of current state\n     * @return {DrawCellContext} current DrawCellContext.\n     */\n    toCurrentContext() {\n        if (this._mode === 0) {\n            return this;\n        }\n        else {\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\n            const rect = _toRelativeRect(this._grid, absoluteRect);\n            const drawRect = this._isOutOfRange()\n                ? null\n                : this._toRelativeDrawRect(absoluteRect);\n            const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\n            // toCurrentContext  toCurrentContext\n            context.toCurrentContext = this.toCurrentContext.bind(this);\n            this._childContexts.push(context);\n            if (this._cancel) {\n                context.cancel();\n            }\n            context._rectFilter = this._rectFilter;\n            return context;\n        }\n    }\n    addLayerDraw(level, fn) {\n        this._drawLayers.addDraw(level, fn);\n    }\n    _toRelativeDrawRect(absoluteRect) {\n        const visibleRect = _getVisibleRect(this._grid);\n        let rect = absoluteRect.copy();\n        if (!rect.intersection(visibleRect)) {\n            return null;\n        }\n        const grid = this._grid;\n        const isFrozenCell = grid.isFrozenCell(this._col, this._row);\n        if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n            const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\n            rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n        }\n        if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n            const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\n            rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n        }\n        if (!rect.intersection(visibleRect)) {\n            return null;\n        }\n        rect.offsetLeft(-visibleRect.left);\n        rect.offsetTop(-visibleRect.top);\n        return rect;\n    }\n    _delayMode(grid, onTerminate) {\n        this._mode = 1;\n        this._ctx = null;\n        this._rect = null;\n        this._drawRect = null;\n        this._grid = grid;\n        this._onTerminate = onTerminate;\n    }\n    /**\n     * terminate\n     * @return {void}\n     */\n    terminate() {\n        var _a;\n        if (this._mode !== 0) {\n            (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n    }\n    _getRectInternal() {\n        if (this._mode === 0) {\n            return this._rect;\n        }\n        else {\n            if (this._rect) {\n                return this._rect;\n            }\n            return this._grid.getCellRelativeRect(this._col, this._row);\n        }\n    }\n}\n/** @private */\nconst protectedKey = _;\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid.core\n */\nclass DrawGrid extends EventTarget_1.EventTarget {\n    constructor(options = {}) {\n        super();\n        const { rowCount = 10, colCount = 10, frozenColCount = 0, frozenRowCount = 0, defaultRowHeight = 40, defaultColWidth = 80, font, underlayBackgroundColor, keyboardOptions, parentElement, disableColumnResize, } = options;\n        const protectedSpace = (this[_] = {});\n        style.initDocument();\n        protectedSpace.element = createRootElement();\n        protectedSpace.scrollable = new Scrollable_1.Scrollable();\n        protectedSpace.handler = new EventHandler_1.EventHandler();\n        protectedSpace.selection = new Selection(this);\n        protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable);\n        protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\n        protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\n            alpha: false,\n        });\n        protectedSpace.rowCount = rowCount;\n        protectedSpace.colCount = colCount;\n        protectedSpace.frozenColCount = frozenColCount;\n        protectedSpace.frozenRowCount = frozenRowCount;\n        protectedSpace.defaultRowHeight = defaultRowHeight;\n        protectedSpace.defaultColWidth = defaultColWidth;\n        protectedSpace.font = font;\n        protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\n        protectedSpace.keyboardOptions = keyboardOptions;\n        protectedSpace.disableColumnResize = disableColumnResize;\n        /////\n        protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\n        protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\n        protectedSpace.colWidthsLimit = {};\n        protectedSpace.calcWidthContext = {\n            _: protectedSpace,\n            get full() {\n                return this._.canvas.width;\n            },\n            get em() {\n                return canvases_1.getFontSize(this._.context, this._.font).width;\n            },\n        };\n        protectedSpace.columnResizer = new ColumnResizer(this);\n        protectedSpace.cellSelector = new CellSelector(this);\n        protectedSpace.drawCells = {};\n        protectedSpace.cellTextOverflows = {};\n        protectedSpace.focusedGrid = false;\n        protectedSpace.element.appendChild(protectedSpace.canvas);\n        protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\n        protectedSpace.scroll = {\n            left: 0,\n            top: 0,\n        };\n        this.updateScroll();\n        if (parentElement) {\n            parentElement.appendChild(protectedSpace.element);\n            this.updateSize();\n        }\n        else {\n            this.updateSize();\n        }\n        _bindEvents.call(this);\n        this.bindEventsInternal();\n    }\n    static get EVENT_TYPE() {\n        return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\n    }\n    /**\n     * Get root element.\n     * @returns {HTMLElement} root element\n     */\n    getElement() {\n        return this[_].element;\n    }\n    /**\n     * Get canvas element.\n     */\n    get canvas() {\n        return this[_].canvas;\n    }\n    /**\n     * Focus the grid.\n     * @return {void}\n     */\n    focus() {\n        const { col, row } = this[_].selection.select;\n        this.focusCell(col, row);\n    }\n    hasFocusGrid() {\n        return this[_].focusedGrid;\n    }\n    /**\n     * Get the selection instance.\n     */\n    get selection() {\n        return this[_].selection;\n    }\n    /**\n     * Get the number of rows.\n     */\n    get rowCount() {\n        return this[_].rowCount;\n    }\n    /**\n     * Set the number of rows.\n     */\n    set rowCount(rowCount) {\n        this[_].rowCount = rowCount;\n        this.updateScroll();\n        if (this[_].selection._updateGridRange()) {\n            const { col, row } = this[_].selection.focus;\n            this.makeVisibleCell(col, row);\n            this.setFocusCursor(col, row);\n        }\n    }\n    /**\n     * Get the number of columns.\n     */\n    get colCount() {\n        return this[_].colCount;\n    }\n    /**\n     * Set the number of columns.\n     */\n    set colCount(colCount) {\n        this[_].colCount = colCount;\n        this.updateScroll();\n        if (this[_].selection._updateGridRange()) {\n            const { col, row } = this[_].selection.focus;\n            this.makeVisibleCell(col, row);\n            this.setFocusCursor(col, row);\n        }\n    }\n    /**\n     * Get the number of frozen columns.\n     */\n    get frozenColCount() {\n        return this[_].frozenColCount;\n    }\n    /**\n     * Set the number of frozen columns.\n     */\n    set frozenColCount(frozenColCount) {\n        this[_].frozenColCount = frozenColCount;\n    }\n    /**\n     * Get the number of frozen rows.\n     */\n    get frozenRowCount() {\n        return this[_].frozenRowCount;\n    }\n    /**\n     * Set the number of frozen rows.\n     */\n    set frozenRowCount(frozenRowCount) {\n        this[_].frozenRowCount = frozenRowCount;\n    }\n    /**\n     * Get the default row height.\n     *\n     */\n    get defaultRowHeight() {\n        return this[_].defaultRowHeight;\n    }\n    /**\n     * Set the default row height.\n     */\n    set defaultRowHeight(defaultRowHeight) {\n        this[_].defaultRowHeight = defaultRowHeight;\n    }\n    /**\n     * Get the default column width.\n     */\n    get defaultColWidth() {\n        return this[_].defaultColWidth;\n    }\n    /**\n     * Set the default column width.\n     */\n    set defaultColWidth(defaultColWidth) {\n        this[_].defaultColWidth = defaultColWidth;\n    }\n    /**\n     * Get the font definition as a string.\n     */\n    get font() {\n        return this[_].font;\n    }\n    /**\n     * Set the font definition with the given string.\n     */\n    set font(font) {\n        this[_].font = font;\n    }\n    /**\n     * Get the background color of the underlay.\n     */\n    get underlayBackgroundColor() {\n        return this[_].underlayBackgroundColor;\n    }\n    /**\n     * Set the background color of the underlay.\n     */\n    set underlayBackgroundColor(underlayBackgroundColor) {\n        this[_].underlayBackgroundColor = underlayBackgroundColor;\n    }\n    get keyboardOptions() {\n        var _a;\n        return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\n    }\n    set keyboardOptions(keyboardOptions) {\n        this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    configure(name, value) {\n        const cfg = this[_].config || (this[_].config = {});\n        if (value != null) {\n            cfg[name] = value;\n        }\n        return cfg[name];\n    }\n    /**\n     * Apply the changed size.\n     * @return {void}\n     */\n    updateSize() {\n        //\n        const { canvas } = this[_];\n        canvas.style.width = \"\";\n        canvas.style.height = \"\";\n        const width = Math.floor(canvas.offsetWidth ||\n            canvas.parentElement.offsetWidth -\n                style.getScrollBarSize() /*for legacy*/);\n        const height = Math.floor(canvas.offsetHeight ||\n            canvas.parentElement.offsetHeight -\n                style.getScrollBarSize() /*for legacy*/);\n        canvas.width = width;\n        canvas.height = height;\n        //style\n        canvas.style.width = `${width}px`;\n        canvas.style.height = `${height}px`;\n        const sel = this[_].selection.select;\n        this[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n    }\n    /**\n     * Apply the changed scroll size.\n     * @return {boolean} `true` if there was a change in the scroll size\n     */\n    updateScroll() {\n        const { scrollable } = this[_];\n        const newHeight = _getScrollHeight.call(this);\n        const newWidth = _getScrollWidth(this);\n        if (newHeight === scrollable.scrollHeight &&\n            newWidth === scrollable.scrollWidth) {\n            return false;\n        }\n        scrollable.setScrollSize(newWidth, newHeight);\n        this[_].scroll = {\n            left: scrollable.scrollLeft,\n            top: scrollable.scrollTop,\n        };\n        return true;\n    }\n    /**\n     * Get the row height of the given the row index.\n     * @param  {number} row The row index\n     * @return {number} The row height\n     */\n    getRowHeight(row) {\n        return _getRowHeight.call(this, row);\n    }\n    /**\n     * Set the row height of the given the row index.\n     * @param  {number} row The row index\n     * @param  {number} height The row height\n     * @return {void}\n     */\n    setRowHeight(row, height) {\n        _setRowHeight(this, row, height);\n    }\n    /**\n     * Get the column width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column width\n     */\n    getColWidth(col) {\n        return _getColWidth(this, col);\n    }\n    /**\n     * Set the column widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} width The column width\n     * @return {void}\n     */\n    setColWidth(col, width) {\n        _setColWidth(this, col, width);\n    }\n    /**\n     * Get the column max width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column max width\n     */\n    getMaxColWidth(col) {\n        const obj = this[_].colWidthsLimit[col];\n        return (obj && obj.max) || undefined;\n    }\n    /**\n     * Set the column max widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} maxwidth The column max width\n     * @return {void}\n     */\n    setMaxColWidth(col, maxwidth) {\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n        obj.max = maxwidth;\n    }\n    /**\n     * Get the column min width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column min width\n     */\n    getMinColWidth(col) {\n        const obj = this[_].colWidthsLimit[col];\n        return (obj && obj.min) || undefined;\n    }\n    /**\n     * Set the column min widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} minwidth The column min width\n     * @return {void}\n     */\n    setMinColWidth(col, minwidth) {\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n        obj.min = minwidth;\n    }\n    /**\n     * Get the rect of the cell.\n     * @param {number} col index of column, of the cell\n     * @param {number} row index of row, of the cell\n     * @returns {Rect} the rect of the cell.\n     */\n    getCellRect(col, row) {\n        const isFrozenCell = this.isFrozenCell(col, row);\n        let absoluteLeft = _getColsWidth(this, 0, col - 1);\n        const width = _getColWidth(this, col);\n        if (isFrozenCell && isFrozenCell.col) {\n            absoluteLeft += this[_].scroll.left;\n        }\n        let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\n        const height = _getRowHeight.call(this, row);\n        if (isFrozenCell && isFrozenCell.row) {\n            absoluteTop += this[_].scroll.top;\n        }\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n    }\n    /**\n     * Get the relative rectangle of the cell.\n     * @param {number} col index of column, of the cell\n     * @param {number} row index of row, of the cell\n     * @returns {Rect} the rect of the cell.\n     */\n    getCellRelativeRect(col, row) {\n        return _toRelativeRect(this, this.getCellRect(col, row));\n    }\n    /**\n     * Get the rectangle of the cells area.\n     * @param {number} startCol index of the starting column, of the cell\n     * @param {number} startRow index of the starting row, of the cell\n     * @param {number} endCol index of the ending column, of the cell\n     * @param {number} endRow index of the ending row, of the cell\n     * @returns {Rect} the rect of the cells.\n     */\n    getCellsRect(startCol, startRow, endCol, endRow) {\n        const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n        const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n        let width = _getColsWidth(this, startCol, endCol);\n        if (isFrozenStartCell && isFrozenStartCell.col) {\n            const scrollLeft = this[_].scroll.left;\n            absoluteLeft += scrollLeft;\n            if (!isFrozenEndCell || !isFrozenEndCell.col) {\n                width -= scrollLeft;\n                width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n            }\n        }\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n        let height = _getRowsHeight.call(this, startRow, endRow);\n        if (isFrozenStartCell && isFrozenStartCell.row) {\n            const scrollTop = this[_].scroll.top;\n            absoluteTop += scrollTop;\n            if (!isFrozenEndCell || !isFrozenEndCell.row) {\n                height -= scrollTop;\n                height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n            }\n        }\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n    }\n    getCellRangeRect(range) {\n        return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\n    }\n    isFrozenCell(col, row) {\n        const { frozenRowCount, frozenColCount } = this[_];\n        const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\n        const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\n        if (isFrozenRow || isFrozenCol) {\n            return {\n                row: isFrozenRow,\n                col: isFrozenCol,\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    getRowAt(absoluteY) {\n        const frozen = _getTargetFrozenRowAt(this, absoluteY);\n        if (frozen) {\n            return frozen.row;\n        }\n        const row = _getTargetRowAt.call(this, absoluteY);\n        return row ? row.row : -1;\n    }\n    getColAt(absoluteX) {\n        const frozen = _getTargetFrozenColAt(this, absoluteX);\n        if (frozen) {\n            return frozen.col;\n        }\n        const col = _getTargetColAt(this, absoluteX);\n        return col ? col.col : -1;\n    }\n    getCellAt(absoluteX, absoluteY) {\n        return {\n            row: this.getRowAt(absoluteY),\n            col: this.getColAt(absoluteX),\n        };\n    }\n    /**\n     * Scroll to where cell is visible.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    makeVisibleCell(col, row) {\n        const isFrozenCell = this.isFrozenCell(col, row);\n        if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n            return;\n        }\n        const rect = this.getCellRect(col, row);\n        const visibleRect = _getScrollableVisibleRect(this);\n        if (visibleRect.contains(rect)) {\n            return;\n        }\n        const { scrollable } = this[_];\n        if (!isFrozenCell || !isFrozenCell.col) {\n            if (rect.left < visibleRect.left) {\n                scrollable.scrollLeft -= visibleRect.left - rect.left;\n            }\n            else if (visibleRect.right < rect.right) {\n                scrollable.scrollLeft -= visibleRect.right - rect.right;\n            }\n        }\n        if (!isFrozenCell || !isFrozenCell.row) {\n            if (rect.top < visibleRect.top) {\n                scrollable.scrollTop -= visibleRect.top - rect.top;\n            }\n            else if (visibleRect.bottom < rect.bottom) {\n                scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n            }\n        }\n    }\n    /**\n     * Moves the focus cursor to the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    setFocusCursor(col, row) {\n        const { focusControl } = this[_];\n        const oldEditMode = focusControl.editMode;\n        focusControl.setFocusRect(this.getCellRect(col, row));\n        _updatedSelection.call(this);\n        if (oldEditMode && !focusControl.editMode) {\n            focusControl.resetInputStatus();\n        }\n    }\n    /**\n     * Focus the cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    focusCell(col, row) {\n        this.setFocusCursor(col, row);\n        // Failure occurs in IE if focus is not last\n        this[_].focusControl.focus();\n    }\n    /**\n     * Redraws the range of the given cell.\n     * @param  {number} col The column index of cell.\n     * @param  {number} row The row index of cell.\n     * @return {void}\n     */\n    invalidateCell(col, row) {\n        this.invalidateGridRect(col, row);\n    }\n    /**\n     * Redraws the range of the given cells.\n     * @param {number} startCol index of the starting column, of the cell\n     * @param {number} startRow index of the starting row, of the cell\n     * @param {number} endCol index of the ending column, of the cell\n     * @param {number} endRow index of the ending row, of the cell\n     * @return {void}\n     */\n    invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n        const offset = this.getOffsetInvalidateCells();\n        if (offset > 0) {\n            startCol -= offset;\n            startRow -= offset;\n            endCol += offset;\n            endRow += offset;\n        }\n        const visibleRect = _getVisibleRect(this);\n        const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n        const invalidateTarget = visibleRect.intersection(cellsRect);\n        if (invalidateTarget) {\n            const { frozenColCount, frozenRowCount } = this[_];\n            if (frozenColCount > 0 && endCol >= frozenColCount) {\n                const frozenRect = _getFrozenColsRect(this);\n                if (frozenRect.intersection(invalidateTarget)) {\n                    invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\n                }\n            }\n            if (frozenRowCount > 0 && endRow >= frozenRowCount) {\n                const frozenRect = _getFrozenRowsRect(this);\n                if (frozenRect.intersection(invalidateTarget)) {\n                    invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n                }\n            }\n            _invalidateRect(this, invalidateTarget);\n        }\n    }\n    invalidateCellRange(range) {\n        this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\n    }\n    /**\n     * Redraws the whole grid.\n     * @return {void}\n     */\n    invalidate() {\n        const visibleRect = _getVisibleRect(this);\n        _invalidateRect(this, visibleRect);\n    }\n    /**\n     * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\n     * @returns {number}\n     */\n    get visibleRowCount() {\n        const { frozenRowCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleTop = frozenRowCount > 0\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\n            : visibleRect.top;\n        const initRow = _getTargetRowAt.call(this, visibleTop);\n        if (!initRow) {\n            return 0;\n        }\n        const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n        let count = 0;\n        const { rowCount } = this;\n        for (let row = startRow; row < rowCount; row++) {\n            const height = _getRowHeight.call(this, row);\n            const bottom = absoluteTop + height;\n            if (visibleRect.bottom < bottom) {\n                break;\n            }\n            count++;\n            absoluteTop = bottom;\n        }\n        return count;\n    }\n    /**\n     * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\n     * @returns {number}\n     */\n    get visibleColCount() {\n        const { frozenColCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleLeft = frozenColCount > 0\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\n            : visibleRect.left;\n        const initCol = _getTargetColAt(this, visibleLeft);\n        if (!initCol) {\n            return 0;\n        }\n        const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n        let count = 0;\n        const { colCount } = this;\n        for (let col = startCol; col < colCount; col++) {\n            const width = _getColWidth(this, col);\n            const right = absoluteLeft + width;\n            if (visibleRect.right < right) {\n                break;\n            }\n            count++;\n            absoluteLeft = right;\n        }\n        return count;\n    }\n    /**\n     * Get the index of the first row in the scrollable region that is visible.\n     * @returns {number}\n     */\n    get topRow() {\n        const { frozenRowCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleTop = frozenRowCount > 0\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\n            : visibleRect.top;\n        const initRow = _getTargetRowAt.call(this, visibleTop);\n        if (!initRow) {\n            return 0;\n        }\n        return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n    }\n    /**\n     * Get the index of the first column in the scrollable region that is visible.\n     * @returns {number}\n     */\n    get leftCol() {\n        const { frozenColCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleLeft = frozenColCount > 0\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\n            : visibleRect.left;\n        const initCol = _getTargetColAt(this, visibleLeft);\n        if (!initCol) {\n            return 0;\n        }\n        return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n    }\n    /**\n     * gets or sets the number of pixels that an element's content is scrolled vertically\n     */\n    get scrollTop() {\n        return this[_].scrollable.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this[_].scrollable.scrollTop = scrollTop;\n    }\n    /**\n     * gets or sets the number of pixels that an element's content is scrolled from its left edge\n     */\n    get scrollLeft() {\n        return this[_].scrollable.scrollLeft;\n    }\n    set scrollLeft(scrollLeft) {\n        this[_].scrollable.scrollLeft = scrollLeft;\n    }\n    /**\n     * Get the value of cell with the copy action.\n     * <p>\n     * Please implement\n     * </p>\n     *\n     * @protected\n     * @param col Column index of cell.\n     * @param row Row index of cell.\n     * @param range Copy range.\n     * @return {string} the value of cell\n     */\n    getCopyCellValue(_col, _row, _range) {\n        //Please implement get cell value!!\n    }\n    /**\n     * Get the overflowed text in the cell rectangle, from the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {string | null} The text overflowing the cell rect.\n     */\n    getCellOverflowText(col, row) {\n        const key = `${col}:${row}`;\n        return this[_].cellTextOverflows[key] || null;\n    }\n    /**\n     * Set the overflowed text in the cell rectangle, to the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @param  {string} overflowText The overflowed text in the cell rectangle.\n     * @return {void}\n     */\n    setCellOverflowText(col, row, overflowText) {\n        const key = `${col}:${row}`;\n        if (overflowText) {\n            this[_].cellTextOverflows[key] =\n                typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\n        }\n        else {\n            delete this[_].cellTextOverflows[key];\n        }\n    }\n    addDisposable(disposable) {\n        if (!disposable ||\n            !disposable.dispose ||\n            typeof disposable.dispose !== \"function\") {\n            throw new Error(\"not disposable!\");\n        }\n        const disposables = (this[_].disposables = this[_].disposables || []);\n        disposables.push(disposable);\n    }\n    /**\n     * Dispose the grid instance.\n     * @returns {void}\n     */\n    dispose() {\n        super.dispose();\n        const protectedSpace = this[_];\n        protectedSpace.handler.dispose();\n        protectedSpace.scrollable.dispose();\n        protectedSpace.focusControl.dispose();\n        protectedSpace.columnResizer.dispose();\n        protectedSpace.cellSelector.dispose();\n        if (protectedSpace.disposables) {\n            protectedSpace.disposables.forEach((disposable) => disposable.dispose());\n            protectedSpace.disposables = null;\n        }\n        const { parentElement } = protectedSpace.element;\n        if (parentElement) {\n            parentElement.removeChild(protectedSpace.element);\n        }\n    }\n    getAttachCellsArea(range) {\n        return {\n            element: this.getElement(),\n            rect: _toRelativeRect(this, this.getCellRangeRect(range)),\n        };\n    }\n    onKeyDownMove(evt) {\n        _onKeyDownMove.call(this, evt);\n    }\n    bindEventsInternal() {\n        //nop\n    }\n    getTargetRowAtInternal(_absoluteY) {\n        // \n    }\n    getRowsHeightInternal(_startRow, _endRow) {\n        // \n    }\n    getRowHeightInternal(_row) {\n        // \n    }\n    getScrollHeightInternal(_row) {\n        // \n    }\n    getMoveLeftColByKeyDownInternal({ col }) {\n        return col - 1;\n    }\n    getMoveRightColByKeyDownInternal({ col }) {\n        return col + 1;\n    }\n    getMoveUpRowByKeyDownInternal({ row }) {\n        return row - 1;\n    }\n    getMoveDownRowByKeyDownInternal({ row }) {\n        return row + 1;\n    }\n    getOffsetInvalidateCells() {\n        return 0;\n    }\n    getCopyRangeInternal(range) {\n        return range;\n    }\n    _getInitContext() {\n        const ctx = this[_].context;\n        //\n        ctx.fillStyle = \"white\";\n        ctx.strokeStyle = \"black\";\n        ctx.textAlign = \"left\";\n        ctx.textBaseline = \"top\";\n        ctx.lineWidth = 1;\n        ctx.font = this.font || \"16px sans-serif\";\n        return ctx;\n    }\n    fireListeners(type, ...event) {\n        return super.fireListeners(type, ...event);\n    }\n}\nexports.DrawGrid = DrawGrid;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventTarget = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst symbolManager_1 = require(\"../internal/symbolManager\");\n//private symbol\n/** @private */\nconst _ = symbolManager_1.get();\n/** @private */\nlet nextId = 1;\n/**\n * event target.\n */\nclass EventTarget {\n    constructor() {\n        this[_a] = {\n            listeners: {},\n            listenerData: {},\n        };\n    }\n    /**\n     * Adds an event listener.\n     * @param  {string} type The event type id.\n     * @param  {function} listener Callback method.\n     * @return {number} unique id for the listener.\n     */\n    listen(type, listener) {\n        const list = this[_].listeners[type] || (this[_].listeners[type] = []);\n        list.push(listener);\n        const id = nextId++;\n        this[_].listenerData[id] = {\n            type,\n            listener,\n            remove: () => {\n                delete this[_].listenerData[id];\n                const index = list.indexOf(listener);\n                list.splice(index, 1);\n                if (!this[_].listeners[type].length) {\n                    delete this[_].listeners[type];\n                }\n            },\n        };\n        return id;\n    }\n    /**\n     * Removes an event listener which was added with listen() by the id returned by listen().\n     * @param  {number} id the id returned by listen().\n     * @return {void}\n     */\n    unlisten(id) {\n        if (!this[_]) {\n            return;\n        }\n        this[_].listenerData[id].remove();\n    }\n    addEventListener(type, listener) {\n        this.listen(type, listener);\n    }\n    removeEventListener(type, listener) {\n        if (!this[_]) {\n            return;\n        }\n        utils_1.each(this[_].listenerData, (obj, id) => {\n            if (obj.type === type && obj.listener === listener) {\n                this.unlisten(id);\n            }\n        });\n    }\n    hasListeners(type) {\n        if (!this[_]) {\n            return false;\n        }\n        return !!this[_].listeners[type];\n    }\n    /**\n     * Fires all registered listeners\n     * @param  {string}    type The type of the listeners to fire.\n     * @param  {...*} args fire arguments\n     * @return {*} the result of the last listener\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    fireListeners(type, ...args) {\n        if (!this[_]) {\n            return [];\n        }\n        const list = this[_].listeners[type];\n        if (!list) {\n            return [];\n        }\n        return list\n            .map((listener) => listener.call(this, ...args))\n            .filter((r) => r != null);\n    }\n    dispose() {\n        delete this[_];\n    }\n}\nexports.EventTarget = EventTarget;\n_a = _;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\nconst DataSource_1 = require(\"./data/DataSource\");\nObject.defineProperty(exports, \"DataSource\", { enumerable: true, get: function () { return DataSource_1.DataSource; } });\nconst CachedDataSource_1 = require(\"./data/CachedDataSource\");\nObject.defineProperty(exports, \"CachedDataSource\", { enumerable: true, get: function () { return CachedDataSource_1.CachedDataSource; } });\nconst FilterDataSource_1 = require(\"./data/FilterDataSource\");\nObject.defineProperty(exports, \"FilterDataSource\", { enumerable: true, get: function () { return FilterDataSource_1.FilterDataSource; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CachedDataSource = void 0;\nconst DataSource_1 = require(\"./DataSource\");\n/** @private */\nfunction _setFieldCache(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfCache, index, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    const recCache = fCache[index] || (fCache[index] = new Map());\n    recCache.set(field, value);\n}\n/**\n * grid data source for caching Promise data\n *\n * @classdesc cheetahGrid.data.CachedDataSource\n * @memberof cheetahGrid.data\n */\nclass CachedDataSource extends DataSource_1.DataSource {\n    constructor(opt) {\n        super(opt);\n        this._rCache = {};\n        this._fCache = {};\n    }\n    static get EVENT_TYPE() {\n        return DataSource_1.DataSource.EVENT_TYPE;\n    }\n    static ofArray(array) {\n        return new CachedDataSource({\n            get: (index) => array[index],\n            length: array.length,\n            source: array,\n        });\n    }\n    getOriginal(index) {\n        if (this._rCache && this._rCache[index]) {\n            return this._rCache[index];\n        }\n        return super.getOriginal(index);\n    }\n    getOriginalField(index, field) {\n        const rowCache = this._fCache && this._fCache[index];\n        if (rowCache) {\n            const cache = rowCache.get(field);\n            if (cache) {\n                return cache;\n            }\n        }\n        return super.getOriginalField(index, field);\n    }\n    setOriginalField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        const fCache = this._fCache;\n        if (fCache && fCache[index]) {\n            delete fCache[index]; // clear row cache\n        }\n        return super.setOriginalField(index, field, value);\n    }\n    clearCache() {\n        if (this._rCache) {\n            this._rCache = {};\n        }\n        if (this._fCache) {\n            this._fCache = {};\n        }\n    }\n    fieldPromiseCallBackInternal(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        _setFieldCache(this._fCache, index, field, value);\n    }\n    recordPromiseCallBackInternal(index, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    record) {\n        this._rCache[index] = record;\n    }\n    dispose() {\n        super.dispose();\n    }\n}\nexports.CachedDataSource = CachedDataSource;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataSource = void 0;\nconst sort = __importStar(require(\"../internal/sort\"));\nconst utils_1 = require(\"../internal/utils\");\nconst EventTarget_1 = require(\"../core/EventTarget\");\n/** @private */\nfunction isFieldAssessor(field) {\n    if (utils_1.obj.isObject(field)) {\n        const a = field;\n        if (a.get && a.set) {\n            return true;\n        }\n    }\n    return false;\n}\n/** @private */\nconst EVENT_TYPE = {\n    UPDATE_LENGTH: \"update_length\",\n    UPDATED_LENGTH: \"updated_length\",\n    UPDATED_ORDER: \"updated_order\",\n};\n/** @private */\nfunction getValue(value, setPromiseBack) {\n    const maybePromiseValue = utils_1.getOrApply(value);\n    if (utils_1.isPromise(maybePromiseValue)) {\n        const promiseValue = maybePromiseValue.then((r) => {\n            setPromiseBack(r);\n            return r;\n        });\n        //\n        setPromiseBack(promiseValue);\n        return promiseValue;\n    }\n    else {\n        return maybePromiseValue;\n    }\n}\n/** @private */\nfunction getField(record, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nsetPromiseBack) {\n    if (record == null) {\n        return undefined;\n    }\n    if (utils_1.isPromise(record)) {\n        return record.then((r) => getField(r, field, setPromiseBack));\n    }\n    const fieldGet = isFieldAssessor(field) ? field.get : field;\n    if (fieldGet in record) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = record[fieldGet];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return getValue(fieldResult, setPromiseBack);\n    }\n    if (typeof fieldGet === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = fieldGet(record);\n        return getValue(fieldResult, setPromiseBack);\n    }\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    const ss = `${fieldGet}`.split(\".\");\n    if (ss.length <= 1) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = record[fieldGet];\n        return getValue(fieldResult, setPromiseBack);\n    }\n    const fieldResult = utils_1.applyChainSafe(record, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\n    return getValue(fieldResult, setPromiseBack);\n}\n/** @private */\nfunction setField(record, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    if (record == null) {\n        return false;\n    }\n    const fieldSet = isFieldAssessor(field) ? field.set : field;\n    if (fieldSet in record) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        record[fieldSet] = value;\n    }\n    else if (typeof fieldSet === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return fieldSet(record, value);\n    }\n    else if (typeof fieldSet === \"string\") {\n        const ss = `${fieldSet}`.split(\".\");\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let obj = record;\n        const { length } = ss;\n        for (let i = 0; i < length; i++) {\n            const f = ss[i];\n            if (i === length - 1) {\n                obj[f] = value;\n            }\n            else {\n                obj = obj[f] || (obj[f] = {});\n            }\n        }\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        record[fieldSet] = value;\n    }\n    return true;\n}\n/** @private */\nfunction _getIndex(sortedIndexMap, index) {\n    if (!sortedIndexMap) {\n        return index;\n    }\n    const mapIndex = sortedIndexMap[index];\n    return mapIndex != null ? mapIndex : index;\n}\n/**\n * grid data source\n *\n * @classdesc cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\nclass DataSource extends EventTarget_1.EventTarget {\n    constructor(obj) {\n        var _a;\n        super();\n        this._sortedIndexMap = null;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\n        this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\n        this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\n    }\n    static get EVENT_TYPE() {\n        return EVENT_TYPE;\n    }\n    static ofArray(array) {\n        return new DataSource({\n            get: (index) => array[index],\n            length: array.length,\n            source: array,\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get source() {\n        return this._source;\n    }\n    get(index) {\n        return this.getOriginal(_getIndex(this._sortedIndexMap, index));\n    }\n    getField(index, field) {\n        return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    hasField(index, field) {\n        return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\n    }\n    setField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\n    }\n    sort(field, order) {\n        const sortedIndexMap = new Array(this._length);\n        const orderFn = order !== \"desc\"\n            ? (v1, v2) => (v1 === v2 ? 0 : v1 > v2 ? 1 : -1)\n            : (v1, v2) => (v1 === v2 ? 0 : v1 < v2 ? 1 : -1);\n        return sort\n            .sortPromise((index) => sortedIndexMap[index] != null\n            ? sortedIndexMap[index]\n            : (sortedIndexMap[index] = index), (index, rel) => {\n            sortedIndexMap[index] = rel;\n        }, this._length, orderFn, (index) => this.getOriginalField(index, field))\n            .then(() => {\n            this._sortedIndexMap = sortedIndexMap;\n            this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n        });\n    }\n    get length() {\n        return this._length;\n    }\n    set length(length) {\n        if (this._length === length) {\n            return;\n        }\n        const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n        if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\n            return;\n        }\n        this._length = length;\n        this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n    }\n    get dataSource() {\n        return this;\n    }\n    dispose() {\n        super.dispose();\n    }\n    getOriginal(index) {\n        return getValue(this._get(index), (val) => {\n            this.recordPromiseCallBackInternal(index, val);\n        });\n    }\n    getOriginalField(index, field) {\n        if (field == null) {\n            return undefined;\n        }\n        const record = this.getOriginal(index);\n        return getField(record, field, (val) => {\n            this.fieldPromiseCallBackInternal(index, field, val);\n        });\n    }\n    hasOriginalField(index, field) {\n        if (field == null) {\n            return false;\n        }\n        if (typeof field === \"function\") {\n            return true;\n        }\n        const record = this.getOriginal(index);\n        return Boolean(record && field in record);\n    }\n    setOriginalField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        if (field == null) {\n            return false;\n        }\n        const record = this.getOriginal(index);\n        if (utils_1.isPromise(record)) {\n            return record.then((r) => setField(r, field, value));\n        }\n        return setField(record, field, value);\n    }\n    fieldPromiseCallBackInternal(_index, _field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _value) {\n        //\n    }\n    recordPromiseCallBackInternal(_index, _record) {\n        //\n    }\n}\nexports.DataSource = DataSource;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nDataSource.EMPTY = new DataSource({\n    get() {\n        /*noop */\n    },\n    length: 0,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterDataSource = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst DataSource_1 = require(\"./DataSource\");\nconst EventHandler_1 = require(\"../internal/EventHandler\");\n/** @private */\nclass DataSourceIterator {\n    constructor(dataSource) {\n        this._dataSource = dataSource;\n        this._curIndex = -1;\n        this._data = [];\n    }\n    hasNext() {\n        const next = this._curIndex + 1;\n        return this._dataSource.length > next;\n    }\n    next() {\n        const next = this._curIndex + 1;\n        const data = this._getIndexData(next);\n        this._curIndex = next;\n        return data;\n    }\n    movePrev() {\n        this._curIndex--;\n    }\n    _getIndexData(index, nest) {\n        const dataSource = this._dataSource;\n        const data = this._data;\n        if (index < data.length) {\n            return data[index];\n        }\n        if (dataSource.length <= index) {\n            return undefined;\n        }\n        const record = this._dataSource.get(index);\n        data[index] = record;\n        if (utils_1.isPromise(record)) {\n            record.then((val) => {\n                data[index] = val;\n            });\n            if (!nest) {\n                for (let i = 1; i <= 100; i++) {\n                    this._getIndexData(index + i, true);\n                }\n            }\n        }\n        return record;\n    }\n}\n/** @private */\nclass FilterData {\n    constructor(dc, original, filter) {\n        this._cancel = false;\n        this._owner = dc;\n        this._dataSourceItr = new DataSourceIterator(original);\n        this._filter = filter;\n        this._filterdList = [];\n        this._queues = [];\n    }\n    get(index) {\n        if (this._cancel) {\n            return undefined;\n        }\n        const filterdList = this._filterdList;\n        if (index < filterdList.length) {\n            return filterdList[index];\n        }\n        const queues = this._queues;\n        const indexQueue = queues[index];\n        if (indexQueue) {\n            return indexQueue;\n        }\n        return queues[index] || this._findIndex(index);\n    }\n    cancel() {\n        this._cancel = true;\n    }\n    _findIndex(index) {\n        if (window.Promise) {\n            const timeout = Date.now() + 100;\n            let count = 0;\n            return this._findIndexWithTimeout(index, () => {\n                count++;\n                if (count >= 100) {\n                    count = 0;\n                    return timeout < Date.now();\n                }\n                return false;\n            });\n        }\n        return this._findIndexWithTimeout(index, () => false);\n    }\n    _findIndexWithTimeout(index, testTimeout) {\n        const filterdList = this._filterdList;\n        const filter = this._filter;\n        const dataSourceItr = this._dataSourceItr;\n        const queues = this._queues;\n        while (dataSourceItr.hasNext()) {\n            if (this._cancel) {\n                return undefined;\n            }\n            const record = dataSourceItr.next();\n            if (utils_1.isPromise(record)) {\n                dataSourceItr.movePrev();\n                const queue = record.then((_value) => {\n                    queues[index] = null;\n                    return this.get(index);\n                });\n                queues[index] = queue;\n                return queue;\n            }\n            if (filter(record)) {\n                filterdList.push(record);\n                if (index < filterdList.length) {\n                    return filterdList[index];\n                }\n            }\n            if (testTimeout()) {\n                const promise = new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve();\n                    }, 300);\n                });\n                const queue = promise.then(() => {\n                    queues[index] = null;\n                    return this.get(index);\n                });\n                queues[index] = queue;\n                return queue;\n            }\n        }\n        const dc = this._owner;\n        dc.length = filterdList.length;\n        return undefined;\n    }\n}\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @memberof cheetahGrid.data\n */\nclass FilterDataSource extends DataSource_1.DataSource {\n    constructor(dataSource, filter) {\n        super(dataSource);\n        this._filterData = null;\n        this._dataSource = dataSource;\n        this.filter = filter;\n        const handler = (this._handler = new EventHandler_1.EventHandler());\n        handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n            // reset\n            // eslint-disable-next-line no-self-assign\n            this.filter = this.filter;\n        });\n        utils_1.each(DataSource_1.DataSource.EVENT_TYPE, (type) => {\n            handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\n        });\n    }\n    static get EVENT_TYPE() {\n        return DataSource_1.DataSource.EVENT_TYPE;\n    }\n    get filter() {\n        var _a;\n        return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\n    }\n    set filter(filter) {\n        if (this._filterData) {\n            this._filterData.cancel();\n        }\n        this._filterData = filter\n            ? new FilterData(this, this._dataSource, filter)\n            : null;\n        this.length = this._dataSource.length;\n    }\n    getOriginal(index) {\n        if (!this._filterData) {\n            return super.getOriginal(index);\n        }\n        return this._filterData.get(index);\n    }\n    sort(field, order) {\n        return this._dataSource.sort(field, order);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get source() {\n        return this._dataSource.source;\n    }\n    get dataSource() {\n        return this._dataSource;\n    }\n    dispose() {\n        this._handler.dispose();\n        super.dispose();\n    }\n}\nexports.FilterDataSource = FilterDataSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Inline = void 0;\nconst utils_1 = require(\"../internal/utils\");\nfunction getWidth(ctx, content) {\n    return ctx.measureText(content).width;\n}\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n    const chars = [];\n    let ret = itr.next();\n    for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n        chars.push(ret);\n    }\n    let beforeWidth = getWidth(ctx, chars.join(\"\"));\n    if (beforeWidth > width) {\n        while (chars.length) {\n            const c = chars.pop();\n            beforeWidth -= getWidth(ctx, c || \"\");\n            if (beforeWidth <= width) {\n                break;\n            }\n        }\n    }\n    else if (beforeWidth < width) {\n        while (ret !== null) {\n            const charWidth = getWidth(ctx, ret);\n            if (beforeWidth + charWidth > width) {\n                break;\n            }\n            chars.push(ret);\n            beforeWidth += charWidth;\n            ret = itr.next();\n        }\n    }\n    const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\n    const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\n    return {\n        before: beforeContent ? new Inline(beforeContent) : null,\n        after: afterContent ? new Inline(afterContent) : null,\n    };\n}\nclass Inline {\n    constructor(content) {\n        this._content = content != null ? content : \"\";\n    }\n    width({ ctx }) {\n        return getWidth(ctx, this._content);\n    }\n    font() {\n        return null;\n    }\n    color() {\n        return null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n                left: offsetLeft,\n                right: offsetRight,\n                top: offsetTop,\n                bottom: offsetBottom,\n            },\n        });\n    }\n    canBreak() {\n        return !!this._content;\n    }\n    splitIndex(index) {\n        const content = this._content;\n        const itr = utils_1.str.genChars(content);\n        const chars = [];\n        let ret = itr.next();\n        for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n            chars.push(ret);\n        }\n        const beforeContent = chars.join(\"\");\n        const afterContent = content.slice(beforeContent.length);\n        return {\n            before: beforeContent ? new Inline(beforeContent) : null,\n            after: afterContent ? new Inline(afterContent) : null,\n        };\n    }\n    breakWord(ctx, width) {\n        const content = this._content;\n        const allWidth = this.width({ ctx });\n        const candidate = Math.floor((this._content.length * width) / allWidth);\n        const itr = utils_1.str.genWords(content);\n        return breakWidth(ctx, content, itr, candidate, width);\n    }\n    breakAll(ctx, width) {\n        const content = this._content;\n        const allWidth = this.width({ ctx });\n        const candidate = Math.floor((this._content.length * width) / allWidth);\n        const itr = utils_1.str.genChars(content);\n        return breakWidth(ctx, content, itr, candidate, width);\n    }\n    toString() {\n        return this._content;\n    }\n}\nexports.Inline = Inline;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineDrawer = void 0;\nconst Inline_1 = require(\"./Inline\");\nclass InlineDrawer extends Inline_1.Inline {\n    constructor({ draw, width, \n    // height,\n    color, }) {\n        super();\n        this._draw = draw;\n        this._width = width;\n        // this._height = height;\n        this._color = color;\n    }\n    width(_arg) {\n        return this._width;\n    }\n    font() {\n        return null;\n    }\n    color() {\n        var _a;\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        this._draw({\n            ctx,\n            canvashelper,\n            rect,\n            offset,\n            offsetLeft,\n            offsetRight,\n            offsetTop,\n            offsetBottom,\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineDrawer = InlineDrawer;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineIcon = void 0;\nconst fonts = __importStar(require(\"../internal/fonts\"));\nconst Inline_1 = require(\"./Inline\");\nclass InlineIcon extends Inline_1.Inline {\n    constructor(icon) {\n        super();\n        this._icon = icon || {};\n    }\n    width({ ctx }) {\n        const icon = this._icon;\n        if (icon.width) {\n            return icon.width;\n        }\n        if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\n            ctx.save();\n            ctx.canvas.style.letterSpacing = \"normal\";\n            try {\n                ctx.font = icon.font || ctx.font;\n                return ctx.measureText(icon.content || \"\").width;\n            }\n            finally {\n                ctx.canvas.style.letterSpacing = \"\";\n                ctx.restore();\n            }\n        }\n        return 0; //unknown\n    }\n    font() {\n        var _a;\n        return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\n    }\n    color() {\n        var _a;\n        return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        const icon = this._icon;\n        return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\n    }\n    onReady(callback) {\n        const icon = this._icon;\n        if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\n            fonts.load(icon.font, icon.content || \"\", callback);\n        }\n    }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        const icon = this._icon;\n        if (icon.content) {\n            ctx.canvas.style.letterSpacing = \"normal\";\n            try {\n                // eslint-disable-next-line no-self-assign\n                ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\n                canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n                    offset: offset + 1,\n                    padding: {\n                        left: offsetLeft,\n                        right: offsetRight,\n                        top: offsetTop,\n                        bottom: offsetBottom,\n                    },\n                });\n            }\n            finally {\n                ctx.canvas.style.letterSpacing = \"\";\n            }\n        }\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineIcon = InlineIcon;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineImage = void 0;\nconst Inline_1 = require(\"./Inline\");\nconst imgs_1 = require(\"../internal/imgs\");\nconst utils_1 = require(\"../internal/utils\");\nclass InlineImage extends Inline_1.Inline {\n    constructor({ src, width, height, imageLeft, imageTop, imageWidth, imageHeight, }) {\n        super();\n        this._inlineImgPromise = null;\n        this._inlineImg = null;\n        this._src = src;\n        this._width = width;\n        this._height = height;\n        this._imageLeft = imageLeft;\n        this._imageTop = imageTop;\n        this._imageWidth = imageWidth;\n        this._imageHeight = imageHeight;\n        this._onloaded = [];\n        if (utils_1.isPromise(src)) {\n            src.then((s) => {\n                this._src = s;\n                this._loadImage(s);\n            });\n        }\n        else {\n            this._loadImage(src);\n        }\n    }\n    _loadImage(src) {\n        const img = (this._inlineImgPromise = imgs_1.getCacheOrLoad(\"InlineImage\", 50, src));\n        if (utils_1.isPromise(img)) {\n            img.then((i) => {\n                this._inlineImg = i;\n                this._onloaded.forEach((fn) => fn());\n            });\n        }\n        else {\n            this._inlineImg = img;\n        }\n    }\n    width(_arg) {\n        var _a, _b;\n        return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\n    }\n    font() {\n        return null;\n    }\n    color() {\n        return null;\n    }\n    canDraw() {\n        return !!this._inlineImg;\n    }\n    onReady(callback) {\n        if (utils_1.isPromise(this._src) || utils_1.isPromise(this._inlineImgPromise)) {\n            this._onloaded.push(() => callback());\n        }\n    }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        const img = this._inlineImg;\n        canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n                left: offsetLeft,\n                right: offsetRight,\n                top: offsetTop,\n                bottom: offsetBottom,\n            },\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineImage = InlineImage;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlinePath2D = void 0;\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\nconst Inline_1 = require(\"./Inline\");\nconst canvases_1 = require(\"../internal/canvases\");\nclass InlinePath2D extends Inline_1.Inline {\n    constructor({ path, width, height, color }) {\n        super();\n        // IEPath2Dpolyfill\n        const Path2D = path2DManager.getPath2D();\n        this._path = new Path2D(path);\n        this._width = width;\n        this._height = height;\n        this._color = color;\n    }\n    width(_arg) {\n        return this._width;\n    }\n    font() {\n        return null;\n    }\n    color() {\n        var _a;\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        offset++;\n        const padding = {\n            left: offsetLeft,\n            right: offsetRight,\n            top: offsetTop,\n            bottom: offsetBottom,\n        };\n        ctx.save();\n        try {\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            //clip\n            ctx.clip();\n            //\n            const pos = canvases_1.calcStartPosition(ctx, rect, this._width, this._height, {\n                offset,\n                padding,\n            });\n            ctx.translate(pos.x, pos.y);\n            ctx.fill(this._path);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlinePath2D = InlinePath2D;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineSvg = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst InlineImage_1 = require(\"./InlineImage\");\nfunction buildSvgDataUrl(svg) {\n    const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\n    const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n    return url;\n}\nfunction getSvgElement(svg) {\n    if (typeof svg === \"string\") {\n        const parser = new DOMParser();\n        return parser.parseFromString(svg, \"image/svg+xml\")\n            .children[0];\n    }\n    else {\n        return svg;\n    }\n}\nclass InlineSvg extends InlineImage_1.InlineImage {\n    constructor({ svg, width, height }) {\n        var _a, _b;\n        const svgElem = utils_1.then(svg, getSvgElement);\n        const elmWidth = !utils_1.isPromise(svgElem)\n            ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined : undefined;\n        const elmHeight = !utils_1.isPromise(svgElem)\n            ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined : undefined;\n        const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\n        const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\n        super({\n            src: utils_1.then(svg, buildSvgDataUrl),\n            width: width || numElmWidth,\n            height: height || numElmHeight,\n            imageWidth: numElmWidth,\n            imageHeight: numElmHeight,\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineSvg = InlineSvg;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\nconst icons = __importStar(require(\"../icons\"));\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\nconst Inline_1 = require(\"./Inline\");\nconst InlineDrawer_1 = require(\"./InlineDrawer\");\nconst InlineIcon_1 = require(\"./InlineIcon\");\nconst InlineImage_1 = require(\"./InlineImage\");\nconst InlinePath2D_1 = require(\"./InlinePath2D\");\nconst InlineSvg_1 = require(\"./InlineSvg\");\nconst canvases_1 = require(\"../internal/canvases\");\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n            offset,\n            padding,\n        });\n        path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nfunction isIconConstructorOption(icon) {\n    if (icon.font && icon.content) {\n        return true;\n    }\n    return false;\n}\nfunction isInlineImageConstructorOption(icon) {\n    if (icon.src) {\n        return true;\n    }\n    return false;\n}\nfunction isInlineSvgConstructorOption(icon) {\n    if (icon.path) {\n        return true;\n    }\n    return false;\n}\nfunction iconOf(icon) {\n    if (icon instanceof Inline_1.Inline) {\n        return icon;\n    }\n    if (!icon) {\n        return null;\n    }\n    if (isIconConstructorOption(icon)) {\n        return new InlineIcon_1.InlineIcon(icon);\n    }\n    if (isInlineImageConstructorOption(icon)) {\n        return new InlineImage_1.InlineImage({\n            src: icon.src,\n            width: icon.width,\n            height: icon.width,\n        });\n    }\n    if (icon.svg) {\n        return new InlineSvg_1.InlineSvg({\n            svg: icon.svg,\n            width: icon.width,\n            height: icon.width,\n        });\n    }\n    if (isInlineSvgConstructorOption(icon)) {\n        return new InlinePath2D_1.InlinePath2D({\n            path: icon.path,\n            width: icon.width,\n            height: icon.width,\n            color: icon.color,\n        });\n    }\n    const regedIcons = icons.get();\n    if (icon.name && regedIcons[icon.name]) {\n        const regedIcon = regedIcons[icon.name];\n        const width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n        return new InlineDrawer_1.InlineDrawer({\n            draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n                drawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n                    offset: offset + 1,\n                    padding: {\n                        left: offsetLeft,\n                        right: offsetRight,\n                        top: offsetTop,\n                        bottom: offsetBottom,\n                    },\n                });\n            },\n            width,\n            height: width,\n            color: icon.color,\n        });\n    }\n    return new InlineIcon_1.InlineIcon(icon);\n}\nexports.iconOf = iconOf;\nfunction of(content) {\n    if (content == null) {\n        return null;\n    }\n    if (content instanceof Inline_1.Inline) {\n        return content;\n    }\n    return new Inline_1.Inline(content);\n}\nexports.of = of;\nfunction buildInlines(icons, inline) {\n    const result = [];\n    if (icons) {\n        result.push(...icons\n            .map((icon) => iconOf(icon))\n            .filter((i) => i != null));\n    }\n    if (Array.isArray(inline)\n    // && inline.filter(il => il instanceof Inline).length <- ?\n    ) {\n        result.push(...inline.map((il) => of(il)).filter((i) => i != null));\n    }\n    else {\n        const il = of(inline);\n        if (il) {\n            result.push(il);\n        }\n    }\n    return result;\n}\nexports.buildInlines = buildInlines;\nfunction string(inline) {\n    return buildInlines(undefined, inline).join(\"\");\n}\nexports.string = string;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInternal = void 0;\nfunction getInternal() {\n    console.warn(\"use internal!!\");\n    return {\n        color: require(\"./internal/color\"),\n        sort: require(\"./internal/sort\"),\n        calc: require(\"./internal/calc\"),\n        symbolManager: require(\"./internal/symbolManager\"),\n        path2DManager: require(\"./internal/path2DManager\"),\n    };\n}\nexports.getInternal = getInternal;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\nconst BaseAction_1 = require(\"./action/BaseAction\");\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\nconst CheckHeaderAction_1 = require(\"./action/CheckHeaderAction\");\nObject.defineProperty(exports, \"CheckHeaderAction\", { enumerable: true, get: function () { return CheckHeaderAction_1.CheckHeaderAction; } });\nconst SortHeaderAction_1 = require(\"./action/SortHeaderAction\");\nObject.defineProperty(exports, \"SortHeaderAction\", { enumerable: true, get: function () { return SortHeaderAction_1.SortHeaderAction; } });\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\n    get disabled() {\n        return this._disabled;\n    }\n}\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\n    get disabled() {\n        return this._disabled;\n    }\n}\nexports.ACTIONS = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    SORT: new ImmutableSortHeaderAction(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new ImmutableCheckHeaderAction(),\n};\nfunction of(headerAction) {\n    if (!headerAction) {\n        return undefined;\n    }\n    else if (typeof headerAction === \"string\") {\n        const key = headerAction.toUpperCase();\n        return exports.ACTIONS[key] || of(null);\n    }\n    else {\n        return headerAction;\n    }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n    if (headerCell.sort) {\n        if (typeof headerCell.sort === \"function\") {\n            const sortMethod = headerCell.sort;\n            // 0.9.0 Backward compatibility\n            const sort = ({ order, col, grid }) => sortMethod.call(headerCell, order, col, grid);\n            return new ImmutableSortHeaderAction({ sort });\n        }\n        return exports.ACTIONS.SORT;\n    }\n    return of(headerCell.headerAction);\n}\nexports.ofCell = ofCell;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAction = void 0;\nclass BaseAction {\n    constructor(option = {}) {\n        this._disabled = !!option.disabled || false;\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(disabled) {\n        this._disabled = disabled;\n        this.onChangeDisabledInternal();\n    }\n    clone() {\n        return new BaseAction(this);\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n    onChangeDisabledInternal() {\n        // impl\n    }\n}\nexports.BaseAction = BaseAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeaderAction = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst BaseAction_1 = require(\"./BaseAction\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId();\nfunction getState(grid) {\n    let state = grid[CHECK_HEADER_STATE_ID];\n    if (!state) {\n        state = { elapsed: {}, block: {} };\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n    }\n    return state;\n}\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\n    clone() {\n        return new CheckHeaderAction(this);\n    }\n    bindGridEvent(grid, cellId) {\n        const state = getState(grid);\n        const action = ({ col, row }) => {\n            const range = grid.getCellRange(col, row);\n            const cellKey = `${range.start.col}:${range.start.row}`;\n            if (this.disabled || state.block[cellKey]) {\n                return;\n            }\n            const checked = grid.getHeaderValue(range.start.col, range.start.row);\n            grid.setHeaderValue(range.start.col, range.start.row, !checked);\n            const onChange = () => {\n                // checkbox animation\n                animate_1.animate(200, (point) => {\n                    if (point === 1) {\n                        delete state.elapsed[cellKey];\n                    }\n                    else {\n                        state.elapsed[cellKey] = point;\n                    }\n                    grid.invalidateCellRange(range);\n                });\n            };\n            onChange();\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (this.disabled) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n        ];\n    }\n}\nexports.CheckHeaderAction = CheckHeaderAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeaderAction = void 0;\nconst BaseAction_1 = require(\"./BaseAction\");\nconst actionBind_1 = require(\"./actionBind\");\nclass SortHeaderAction extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        var _a;\n        super(option);\n        this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\n    }\n    get sort() {\n        return this._sort;\n    }\n    set sort(sort) {\n        this._sort = sort;\n        this.onChangeDisabledInternal();\n    }\n    clone() {\n        return new SortHeaderAction(this);\n    }\n    _executeSort(newState, grid) {\n        if (typeof this._sort === \"function\") {\n            this._sort({\n                order: newState.order || \"asc\",\n                col: newState.col,\n                row: newState.row,\n                grid,\n            });\n        }\n        else {\n            const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\n            const field = grid.getField(newState.col, fieldRow);\n            if (field == null) {\n                return;\n            }\n            grid.dataSource.sort(field, newState.order || \"asc\");\n        }\n    }\n    bindGridEvent(grid, cellId) {\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        const action = (cell) => {\n            if (this.disabled) {\n                return;\n            }\n            const state = grid.sortState;\n            let newState;\n            const range = grid.getCellRange(cell.col, cell.row);\n            if (isTarget(state.col, cell.row)) {\n                newState = {\n                    col: range.start.col,\n                    row: range.start.row,\n                    order: state.order === \"asc\" ? \"desc\" : \"asc\",\n                };\n            }\n            else {\n                newState = {\n                    col: range.start.col,\n                    row: range.start.row,\n                    order: \"asc\",\n                };\n            }\n            grid.sortState = newState;\n            this._executeSort(newState, grid);\n            grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (_e) => {\n                    if (this.disabled) {\n                        return false;\n                    }\n                    return true;\n                },\n            }),\n        ];\n    }\n}\nexports.SortHeaderAction = SortHeaderAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst utils_1 = require(\"../../internal/utils\");\nconst KEY_ENTER = 13;\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    let inMouse;\n    return [\n        // click\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            action({\n                col: e.col,\n                row: e.row,\n            });\n        }),\n        // mouse move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOver) {\n                if (!mouseOver({\n                    col: e.col,\n                    row: e.row,\n                })) {\n                    return;\n                }\n            }\n            grid.getElement().style.cursor = \"pointer\";\n            inMouse = true;\n        }),\n        //MOUSEENTER'col-resize'move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (inMouse && !grid.getElement().style.cursor) {\n                grid.getElement().style.cursor = \"pointer\";\n            }\n        }),\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOut) {\n                mouseOut({\n                    col: e.col,\n                    row: e.row,\n                });\n            }\n            grid.getElement().style.cursor = \"\";\n            inMouse = false;\n        }),\n    ];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\n    acceptKeys = [...acceptKeys, KEY_ENTER];\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [\n        // enter key down\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n            var _a;\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\n                return;\n            }\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n                // When moving with the enter key, no action is taken with the enter key.\n                return;\n            }\n            const sel = grid.selection.select;\n            if (!isTarget(sel.col, sel.row)) {\n                return;\n            }\n            action({\n                col: sel.col,\n                row: sel.row,\n            });\n            utils_1.event.cancel(e.event);\n        }),\n    ];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\nconst CheckHeaderStyle_1 = require(\"./style/CheckHeaderStyle\");\nObject.defineProperty(exports, \"CheckHeaderStyle\", { enumerable: true, get: function () { return CheckHeaderStyle_1.CheckHeaderStyle; } });\nconst MultilineTextHeaderStyle_1 = require(\"./style/MultilineTextHeaderStyle\");\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", { enumerable: true, get: function () { return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle; } });\nconst SortHeaderStyle_1 = require(\"./style/SortHeaderStyle\");\nObject.defineProperty(exports, \"SortHeaderStyle\", { enumerable: true, get: function () { return SortHeaderStyle_1.SortHeaderStyle; } });\nconst Style_1 = require(\"./style/Style\");\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\nfunction of(headerStyle, StyleClass) {\n    if (headerStyle) {\n        if (headerStyle instanceof Style_1.Style) {\n            return headerStyle;\n        }\n        else if (typeof headerStyle === \"function\") {\n            return of(headerStyle(), StyleClass);\n        }\n        return new StyleClass(headerStyle);\n    }\n    else {\n        return StyleClass.DEFAULT;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseStyle = void 0;\nconst EventTarget_1 = require(\"../../core/EventTarget\");\nconst EVENT_TYPE = {\n    CHANGE_STYLE: \"change_style\",\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n    constructor({ bgColor } = {}) {\n        super();\n        this._bgColor = bgColor;\n    }\n    static get EVENT_TYPE() {\n        return EVENT_TYPE;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n    }\n    get bgColor() {\n        return this._bgColor;\n    }\n    set bgColor(bgColor) {\n        this._bgColor = bgColor;\n        this.doChangeStyle();\n    }\n    doChangeStyle() {\n        this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n    }\n    clone() {\n        return new BaseStyle(this);\n    }\n}\nexports.BaseStyle = BaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass CheckHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n        this._borderColor = borderColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new CheckHeaderStyle());\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    get borderColor() {\n        return this._borderColor;\n    }\n    set borderColor(borderColor) {\n        this._borderColor = borderColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new CheckHeaderStyle(this);\n    }\n}\nexports.CheckHeaderStyle = CheckHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass MultilineTextHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._lineHeight = style.lineHeight || \"1em\";\n        this._autoWrapText = style.autoWrapText || false;\n        this._lineClamp = style.lineClamp;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new MultilineTextHeaderStyle());\n    }\n    clone() {\n        return new MultilineTextHeaderStyle(this);\n    }\n    get lineHeight() {\n        return this._lineHeight;\n    }\n    set lineHeight(lineHeight) {\n        this._lineHeight = lineHeight;\n        this.doChangeStyle();\n    }\n    get lineClamp() {\n        return this._lineClamp;\n    }\n    set lineClamp(lineClamp) {\n        this._lineClamp = lineClamp;\n        this.doChangeStyle();\n    }\n    get autoWrapText() {\n        return this._autoWrapText;\n    }\n    set autoWrapText(autoWrapText) {\n        this._autoWrapText = autoWrapText;\n        this.doChangeStyle();\n    }\n}\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass SortHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._sortArrowColor = style.sortArrowColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\n    }\n    get sortArrowColor() {\n        return this._sortArrowColor;\n    }\n    set sortArrowColor(sortArrowColor) {\n        this._sortArrowColor = sortArrowColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new SortHeaderStyle(this);\n    }\n}\nexports.SortHeaderStyle = SortHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._textAlign = style.textAlign || \"left\";\n        this._textBaseline = style.textBaseline || \"middle\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n    }\n    get textAlign() {\n        return this._textAlign;\n    }\n    set textAlign(textAlign) {\n        this._textAlign = textAlign;\n        this.doChangeStyle();\n    }\n    get textBaseline() {\n        return this._textBaseline;\n    }\n    set textBaseline(textBaseline) {\n        this._textBaseline = textBaseline;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new StdBaseStyle(this);\n    }\n}\nexports.StdBaseStyle = StdBaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Style = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nlet defaultStyle;\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._color = style.color;\n        this._font = style.font;\n        this._textOverflow = style.textOverflow || \"ellipsis\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\n    }\n    get color() {\n        return this._color;\n    }\n    set color(color) {\n        this._color = color;\n        this.doChangeStyle();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n        this.doChangeStyle();\n    }\n    get textOverflow() {\n        return this._textOverflow;\n    }\n    set textOverflow(textOverflow) {\n        this._textOverflow = textOverflow;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new Style(this);\n    }\n}\nexports.Style = Style;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\nconst BaseHeader_1 = require(\"./type/BaseHeader\");\nObject.defineProperty(exports, \"BaseHeader\", { enumerable: true, get: function () { return BaseHeader_1.BaseHeader; } });\nconst CheckHeader_1 = require(\"./type/CheckHeader\");\nObject.defineProperty(exports, \"CheckHeader\", { enumerable: true, get: function () { return CheckHeader_1.CheckHeader; } });\nconst Header_1 = require(\"./type/Header\");\nObject.defineProperty(exports, \"Header\", { enumerable: true, get: function () { return Header_1.Header; } });\nconst MultilineTextHeader_1 = require(\"./type/MultilineTextHeader\");\nObject.defineProperty(exports, \"MultilineTextHeader\", { enumerable: true, get: function () { return MultilineTextHeader_1.MultilineTextHeader; } });\nconst SortHeader_1 = require(\"./type/SortHeader\");\nObject.defineProperty(exports, \"SortHeader\", { enumerable: true, get: function () { return SortHeader_1.SortHeader; } });\nconst TYPES = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DEFAULT: new Header_1.Header(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    SORT: new SortHeader_1.SortHeader(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new CheckHeader_1.CheckHeader(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader(),\n};\nfunction of(headerType) {\n    if (!headerType) {\n        return TYPES.DEFAULT;\n    }\n    else if (typeof headerType === \"string\") {\n        const key = headerType.toUpperCase();\n        return TYPES[key] || of(null);\n    }\n    else {\n        return headerType;\n    }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n    if (headerCell.sort) {\n        return TYPES.SORT;\n    }\n    return of(headerCell.headerType);\n}\nexports.ofCell = ofCell;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseHeader = void 0;\nconst styleContents = __importStar(require(\"../style\"));\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\nclass BaseHeader {\n    constructor(_options = {}) {\n        this.onDrawCell = this.onDrawCell.bind(this); //\n    }\n    get StyleClass() {\n        return BaseStyle_1.BaseStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        const { style, drawCellBase } = info;\n        const helper = grid.getGridCanvasHelper();\n        drawCellBase();\n        //\n        this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\n    }\n    convertInternal(value) {\n        if (typeof value === \"function\") {\n            value = value();\n        }\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        return value != null ? `${value}` : \"\";\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n}\nexports.BaseHeader = BaseHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst CheckHeaderStyle_1 = require(\"../style/CheckHeaderStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getState(grid) {\n    let state = grid[CHECK_HEADER_STATE_ID];\n    if (!state) {\n        state = { elapsed: {}, block: {} };\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n    }\n    return state;\n}\nclass CheckHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return CheckHeaderStyle_1.CheckHeaderStyle;\n    }\n    clone() {\n        return new CheckHeader(this);\n    }\n    drawInternal(value, context, style, helper, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    grid, { drawCellBase }) {\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, color, font, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const { elapsed: { [cellKey]: elapsed }, } = getState(grid);\n        const checked = grid.getHeaderValue(range.start.col, range.start.row);\n        const opt = {\n            textAlign,\n            textBaseline,\n            borderColor,\n            checkBgColor,\n            uncheckBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\n        helper.text([inlineCheck, value], context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n        });\n    }\n}\nexports.CheckHeader = CheckHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Header = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst Style_1 = require(\"../style/Style\");\nclass Header extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return Style_1.Style;\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        const { textAlign, textBaseline, color, font, bgColor, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.text(value, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n        });\n    }\n}\nexports.Header = Header;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst MultilineTextHeaderStyle_1 = require(\"../style/MultilineTextHeaderStyle\");\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\n    }\n    clone() {\n        return new MultilineTextHeader(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        const { textAlign, textBaseline, color, font, bgColor, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const multilines = value\n            .replace(/\\r?\\n/g, \"\\n\")\n            .replace(/\\r/g, \"\\n\")\n            .split(\"\\n\");\n        helper.testFontLoad(font, value, context);\n        helper.multilineText(multilines, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            lineHeight,\n            autoWrapText,\n            lineClamp,\n            textOverflow,\n        });\n    }\n}\nexports.MultilineTextHeader = MultilineTextHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst SortHeaderStyle_1 = require(\"../style/SortHeaderStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nconst canvases_1 = require(\"../../internal/canvases\");\nclass SortHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return SortHeaderStyle_1.SortHeaderStyle;\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        const { textAlign, textBaseline = \"middle\", color, bgColor, font, textOverflow, sortArrowColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const state = grid.sortState;\n        let order = undefined;\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        if (utils_1.cellInRange(range, state.col, state.row)) {\n            ({ order } = state);\n        }\n        const ctx = context.getContext();\n        const arrowSize = canvases_1.getFontSize(ctx, font).width * 1.2;\n        helper.text(value, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n            icons: [\n                {\n                    name: order != null\n                        ? order === \"asc\"\n                            ? \"arrow_downward\"\n                            : \"arrow_upward\"\n                        : undefined,\n                    width: arrowSize,\n                    color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\",\n                },\n            ],\n        });\n    }\n}\nexports.SortHeader = SortHeader;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(require(\"./header/action\"));\nexports.action = action;\nconst style = __importStar(require(\"./header/style\"));\nexports.style = style;\nconst type = __importStar(require(\"./header/type\"));\nexports.type = type;\n","\"use strict\";\n/*eslint-disable camelcase*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.get = void 0;\nconst utils_1 = require(\"./internal/utils\");\nconst icons_1 = require(\"./plugins/icons\");\nconst builtins = {\n    get arrow_upward() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\n    },\n    get arrow_downward() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\n    },\n    get edit() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg\");\n    },\n    get add() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg\");\n    },\n    get star() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg\");\n    },\n    get star_border() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\n    },\n    get star_half() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\n    },\n};\nfunction get() {\n    return utils_1.extend(builtins, icons_1.icons);\n}\nexports.get = get;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventHandler = void 0;\nconst utils_1 = require(\"./utils\");\n/** @private */\nlet nextId = 1;\nclass EventHandler {\n    constructor() {\n        this._listeners = {};\n    }\n    on(target, type, listener, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ...options) {\n        if (target.addEventListener) {\n            target.addEventListener(type, listener, ...options);\n        }\n        const obj = {\n            target,\n            type,\n            listener,\n            options,\n        };\n        const id = nextId++;\n        this._listeners[id] = obj;\n        return id;\n    }\n    once(target, type, listener, ...options) {\n        const id = this.on(target, type, (...args) => {\n            this.off(id);\n            listener(...args);\n        }, ...options);\n        return id;\n    }\n    tryWithOffEvents(target, type, call) {\n        const list = [];\n        try {\n            utils_1.each(this._listeners, (obj) => {\n                if (obj.target === target && obj.type === type) {\n                    if (obj.target.removeEventListener) {\n                        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n                    }\n                    list.push(obj);\n                }\n            });\n            call();\n        }\n        finally {\n            list.forEach((obj) => {\n                if (obj.target.addEventListener) {\n                    obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n                }\n            });\n        }\n    }\n    off(id) {\n        if (id == null) {\n            return;\n        }\n        const obj = this._listeners[id];\n        if (!obj) {\n            return;\n        }\n        delete this._listeners[id];\n        if (obj.target.removeEventListener) {\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    fire(target, type, ...args) {\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target === target && obj.type === type) {\n                obj.listener.call(obj.target, ...args);\n            }\n        });\n    }\n    hasListener(target, type) {\n        let result = false;\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target === target && obj.type === type) {\n                result = true;\n            }\n        });\n        return result;\n    }\n    clear() {\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target.removeEventListener) {\n                obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n            }\n        });\n        this._listeners = {};\n    }\n    dispose() {\n        this.clear();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._listeners = null;\n    }\n}\nexports.EventHandler = EventHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = void 0;\nclass LRUCache {\n    constructor(cacheSize) {\n        this._list = [];\n        this._map = {};\n        this._cacheSize = cacheSize || 50;\n    }\n    get(key) {\n        const val = this._map[key];\n        if (val) {\n            const list = this._list;\n            const idx = list.indexOf(key);\n            list.splice(idx, 1);\n            list.push(key);\n        }\n        return val;\n    }\n    put(key, value) {\n        const list = this._list;\n        const map = this._map;\n        if (map[key]) {\n            const idx = list.indexOf(key);\n            list.splice(idx, 1);\n        }\n        map[key] = value;\n        list.push(key);\n        if (list.length > this._cacheSize) {\n            const remKey = list.shift() || \"\";\n            delete map[remKey];\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberMap = void 0;\nconst indexFirst = (arr, elm) => {\n    let low = 0;\n    let high = arr.length - 1;\n    while (low <= high) {\n        const i = Math.floor((low + high) / 2);\n        if (arr[i] === elm) {\n            return i;\n        }\n        else if (arr[i] > elm) {\n            high = i - 1;\n        }\n        else {\n            low = i + 1;\n        }\n    }\n    return high < 0 ? 0 : high;\n};\nclass NumberMap {\n    constructor() {\n        this._keys = [];\n        this._vals = {};\n        this._sorted = false;\n    }\n    put(key, value) {\n        if (!(key in this._vals)) {\n            this._keys.push(key);\n            this._sorted = false;\n        }\n        this._vals[key] = value;\n    }\n    get(key) {\n        return this._vals[key];\n    }\n    has(key) {\n        return this._vals[key] != null;\n    }\n    each(keyFrom, keyTo, fn) {\n        const { _keys: keys } = this;\n        const { length } = keys;\n        if (!this._sorted) {\n            keys.sort((a, b) => {\n                if (a < b) {\n                    return -1;\n                }\n                if (a > b) {\n                    return 1;\n                }\n                return 0;\n            });\n            this._sorted = true;\n        }\n        for (let i = indexFirst(keys, keyFrom); i < length; i++) {\n            const key = keys[i];\n            if (keyFrom <= key && key <= keyTo) {\n                fn(this.get(key), key);\n            }\n            else if (keyTo < key) {\n                return;\n            }\n        }\n    }\n}\nexports.NumberMap = NumberMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Rect = void 0;\nclass Rect {\n    constructor(left, top, width, height) {\n        this._left = left;\n        this._top = top;\n        this._width = width;\n        this._height = height;\n    }\n    static bounds(left, top, right, bottom) {\n        return new Rect(left, top, right - left, bottom - top);\n    }\n    static max(rect1, rect2) {\n        return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n    }\n    get left() {\n        return this._left;\n    }\n    set left(left) {\n        const { right } = this;\n        this._left = left;\n        this.right = right;\n    }\n    get top() {\n        return this._top;\n    }\n    set top(top) {\n        const { bottom } = this;\n        this._top = top;\n        this.bottom = bottom;\n    }\n    get width() {\n        return this._width;\n    }\n    set width(width) {\n        this._width = width;\n        this._right = undefined;\n    }\n    get height() {\n        return this._height;\n    }\n    set height(height) {\n        this._height = height;\n        this._bottom = undefined;\n    }\n    get right() {\n        return this._right !== undefined\n            ? this._right\n            : (this._right = this.left + this.width);\n    }\n    set right(right) {\n        this._right = right;\n        this.width = right - this.left;\n    }\n    get bottom() {\n        return this._bottom !== undefined\n            ? this._bottom\n            : (this._bottom = this.top + this.height);\n    }\n    set bottom(bottom) {\n        this._bottom = bottom;\n        this.height = bottom - this.top;\n    }\n    offsetLeft(offset) {\n        this._left += offset;\n        this._right = undefined;\n    }\n    offsetTop(offset) {\n        this._top += offset;\n        this._bottom = undefined;\n    }\n    copy() {\n        return new Rect(this.left, this.top, this.width, this.height);\n    }\n    intersection(rect) {\n        const x0 = Math.max(this.left, rect.left);\n        const x1 = Math.min(this.left + this.width, rect.left + rect.width);\n        if (x0 <= x1) {\n            const y0 = Math.max(this.top, rect.top);\n            const y1 = Math.min(this.top + this.height, rect.top + rect.height);\n            if (y0 <= y1) {\n                return Rect.bounds(x0, y0, x1, y1);\n            }\n        }\n        return null;\n    }\n    contains(another) {\n        return (this.left <= another.left &&\n            this.left + this.width >= another.left + another.width &&\n            this.top <= another.top &&\n            this.top + this.height >= another.top + another.height);\n    }\n    inPoint(x, y) {\n        return (this.left <= x &&\n            this.left + this.width >= x &&\n            this.top <= y &&\n            this.top + this.height >= y);\n    }\n}\nexports.Rect = Rect;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Scrollable = void 0;\nconst style = __importStar(require(\"./style\"));\nconst EventHandler_1 = require(\"./EventHandler\");\nconst utils_1 = require(\"./utils\");\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\nclass Scrollable {\n    constructor() {\n        this._p = 1;\n        this._handler = new EventHandler_1.EventHandler();\n        this._scrollable = document.createElement(\"div\");\n        this._scrollable.classList.add(\"grid-scrollable\");\n        this._height = 0;\n        this._width = 0;\n        this._endPointElement = document.createElement(\"div\");\n        this._endPointElement.classList.add(\"grid-scroll-end-point\");\n        this._update();\n        this._scrollable.appendChild(this._endPointElement);\n        // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n        // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n        // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n        // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n        // this.scrollTop += delta < 0 ? point : -point;\n        // });\n    }\n    calcTop(top) {\n        const relativeTop = top - this.scrollTop;\n        return this._scrollable.scrollTop + relativeTop;\n    }\n    getElement() {\n        return this._scrollable;\n    }\n    setScrollSize(width, height) {\n        this._width = width;\n        this._height = height;\n        this._update();\n    }\n    get scrollWidth() {\n        return this._width;\n    }\n    set scrollWidth(width) {\n        this._width = width;\n        this._update();\n    }\n    get scrollHeight() {\n        return this._height;\n    }\n    set scrollHeight(height) {\n        this._height = height;\n        this._update();\n    }\n    get scrollLeft() {\n        return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\n    }\n    set scrollLeft(scrollLeft) {\n        this._scrollable.scrollLeft = scrollLeft;\n    }\n    get scrollTop() {\n        return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\n    }\n    set scrollTop(scrollTop) {\n        this._scrollable.scrollTop = scrollTop * this._p;\n    }\n    onScroll(fn) {\n        this._handler.on(this._scrollable, \"scroll\", fn);\n    }\n    dispose() {\n        this._handler.dispose();\n    }\n    _update() {\n        let domHeight;\n        if (this._height > MAX_SCROLL) {\n            const sbSize = style.getScrollBarSize();\n            const { offsetHeight } = this._scrollable;\n            const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n            const rScrollRange = this._height - offsetHeight + sbSize;\n            this._p = vScrollRange / rScrollRange;\n            domHeight = MAX_SCROLL;\n        }\n        else {\n            this._p = 1;\n            domHeight = this._height;\n        }\n        this._endPointElement.style.top = `${domHeight.toFixed()}px`;\n        this._endPointElement.style.left = `${this._width.toFixed()}px`;\n    }\n}\nexports.Scrollable = Scrollable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animate = void 0;\nconst utils_1 = require(\"./utils\");\nfunction cubicBezier(x2, y2, x3, y3) {\n    let step;\n    const err = 0.0001;\n    x2 *= 3;\n    y2 *= 3;\n    x3 *= 3;\n    y3 *= 3;\n    return function (t) {\n        let p, a, b, c, d, x, s;\n        if (t < 0 || 1 < t) {\n            throw new Error(`${t}`);\n        }\n        p = step || t;\n        do {\n            a = 1 - p;\n            b = a * a;\n            c = p * p;\n            d = c * p;\n            x = x2 * b * p + x3 * a * c + d;\n            s = t - x;\n            p += s * 0.5;\n        } while (err < Math.abs(s));\n        step = p;\n        return y2 * b * p + y3 * a * c + d;\n    };\n}\nconst EASINGS = {\n    linear(p) {\n        return p;\n    },\n    easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\n    easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\n    easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0),\n};\nconst raf = (utils_1.isNode\n    ? () => { }\n    : window.requestAnimationFrame ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ((fn) => setTimeout(fn, 1)));\nfunction now() {\n    return Date.now();\n}\n/**\n * <pre>\n * Animates.\n * </pre>\n * @function\n * @param {number} duration animation time.\n * @param {function} step step\n * @param {function|string} easing easing\n * @returns {object} Deferred object.\n */\nfunction animate(duration, step, easing) {\n    const startedAt = now();\n    const easingFn = easing == null\n        ? EASINGS.easeInOut\n        : typeof easing === \"string\"\n            ? EASINGS[easing]\n            : easing;\n    let canceledFlg = false;\n    const createAnim = (resolve, reject) => {\n        const anim = () => {\n            const point = now() - startedAt;\n            if (canceledFlg) {\n                //cancel\n                if (reject) {\n                    reject();\n                }\n            }\n            else if (point >= duration) {\n                //end\n                step(1);\n                if (resolve) {\n                    resolve();\n                }\n            }\n            else {\n                step(easingFn(point / duration));\n                raf(anim);\n            }\n        };\n        return anim;\n    };\n    const cancel = () => {\n        canceledFlg = true;\n    };\n    if (typeof Promise !== \"undefined\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const result = new Promise((resolve, reject) => {\n            const anim = createAnim(resolve, reject);\n            step(0);\n            anim();\n        });\n        result.cancel = cancel;\n        return result;\n    }\n    else {\n        const anim = createAnim(() => { }, () => { });\n        step(0);\n        anim();\n        return {\n            cancel,\n        };\n    }\n}\nexports.animate = animate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toPx = void 0;\nconst utils_1 = require(\"./utils\");\nconst TYPE_PAREN = 0;\nconst TYPE_UNIT = 1;\nconst TYPE_OPERATOR = 2;\nconst TYPE_NUMBER = 3;\nconst NODE_TYPE_UNIT = 10;\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\nconst NODE_TYPE_NUMBER = 12;\nconst TABULATION = 0x09;\nconst CARRIAGE_RETURN = 0x0d;\nconst LINE_FEED = 0x0a;\nconst FORM_FEED = 0x0c;\nconst SPACE = 0x20;\nconst PERCENT = 0x25;\nconst FULL_STOP = 0x2e;\nconst DIGIT_0 = 0x30;\nconst DIGIT_9 = 0x39;\nconst LATIN_CAPITAL_A = 0x41;\nconst LATIN_CAPITAL_Z = 0x5a;\nconst LATIN_SMALL_A = 0x61;\nconst LATIN_SMALL_Z = 0x7a;\nfunction isUpperLetter(cp) {\n    return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\n}\nfunction isLowerLetter(cp) {\n    return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\n}\nfunction isLetter(cp) {\n    return isLowerLetter(cp) || isUpperLetter(cp);\n}\nfunction isWhitespace(cp) {\n    return (cp === TABULATION ||\n        cp === LINE_FEED ||\n        cp === FORM_FEED ||\n        cp === CARRIAGE_RETURN ||\n        cp === SPACE);\n}\nfunction isDigit(cp) {\n    return cp >= DIGIT_0 && cp <= DIGIT_9;\n}\nfunction isDot(cp) {\n    return cp === FULL_STOP;\n}\nfunction isUnit(cp) {\n    return isLetter(cp) || cp === PERCENT;\n}\nfunction createError(calc) {\n    return new Error(`calc parse error: ${calc}`);\n}\n/**\n * tokenize\n * @param {string} calc calc expression\n * @returns {Array} tokens\n * @private\n */\nfunction tokenize(calc) {\n    const exp = calc.replace(/calc\\(/g, \"(\").trim();\n    const tokens = [];\n    const len = exp.length;\n    for (let index = 0; index < len; index++) {\n        const c = exp[index];\n        const cp = c.charCodeAt(0);\n        if (c === \"(\" || c === \")\") {\n            tokens.push({ value: c, type: TYPE_PAREN });\n        }\n        else if (c === \"*\" || c === \"/\") {\n            tokens.push({ value: c, type: TYPE_OPERATOR });\n        }\n        else if (c === \"+\" || c === \"-\") {\n            index = parseSign(c, index + 1) - 1;\n        }\n        else if (isDigit(cp) || isDot(cp)) {\n            index = parseNum(c, index + 1) - 1;\n        }\n        else if (isWhitespace(cp)) {\n            // skip\n        }\n        else {\n            throw createError(calc);\n        }\n    }\n    function parseSign(sign, start) {\n        if (start < len) {\n            const c = exp[start];\n            const cp = c.charCodeAt(0);\n            if (isDigit(cp) || isDot(cp)) {\n                return parseNum(sign + c, start + 1);\n            }\n        }\n        tokens.push({ value: sign, type: TYPE_OPERATOR });\n        return start;\n    }\n    function parseNum(num, start) {\n        let index = start;\n        for (; index < len; index++) {\n            const c = exp[index];\n            const cp = c.charCodeAt(0);\n            if (isDigit(cp)) {\n                num += c;\n            }\n            else if (c === \".\") {\n                if (num.indexOf(\".\") >= 0) {\n                    throw createError(calc);\n                }\n                num += c;\n            }\n            else if (isUnit(cp)) {\n                return parseUnit(num, c, index + 1);\n            }\n            else {\n                break;\n            }\n        }\n        if (num === \".\") {\n            throw createError(calc);\n        }\n        tokens.push({ value: parseFloat(num), type: TYPE_NUMBER });\n        return index;\n    }\n    function parseUnit(num, unit, start) {\n        let index = start;\n        for (; index < len; index++) {\n            const c = exp[index];\n            const cp = c.charCodeAt(0);\n            if (isUnit(cp)) {\n                unit += c;\n            }\n            else {\n                break;\n            }\n        }\n        tokens.push({ value: parseFloat(num), unit, type: TYPE_UNIT });\n        return index;\n    }\n    return tokens;\n}\nconst PRECEDENCE = {\n    \"*\": 3,\n    \"/\": 3,\n    \"+\": 2,\n    \"-\": 2,\n};\nfunction lex(tokens, calc) {\n    function buildBinaryExpNode(stack) {\n        const right = stack.pop();\n        const op = stack.pop();\n        const left = stack.pop();\n        if (!left ||\n            !left.nodeType ||\n            !op ||\n            op.type !== TYPE_OPERATOR ||\n            !right ||\n            !right.nodeType) {\n            throw createError(calc);\n        }\n        return {\n            nodeType: NODE_TYPE_BINARY_EXPRESSION,\n            left,\n            op,\n            right,\n        };\n    }\n    const stack = [];\n    while (tokens.length) {\n        const token = tokens.shift();\n        if (token.type === TYPE_PAREN && token.value === \"(\") {\n            let deep = 0;\n            const closeIndex = utils_1.array.findIndex(tokens, (t) => {\n                if (t.type === TYPE_PAREN && t.value === \"(\") {\n                    deep++;\n                }\n                else if (t.type === TYPE_PAREN && t.value === \")\") {\n                    if (!deep) {\n                        return true;\n                    }\n                    deep--;\n                }\n                return false;\n            });\n            if (closeIndex === -1) {\n                throw createError(calc);\n            }\n            stack.push(lex(tokens.splice(0, closeIndex), calc));\n            tokens.shift();\n        }\n        else if (token.type === TYPE_OPERATOR) {\n            if (stack.length >= 3) {\n                const beforeOp = stack[stack.length - 2].value;\n                if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\n                    stack.push(buildBinaryExpNode(stack));\n                }\n            }\n            stack.push(token);\n        }\n        else if (token.type === TYPE_UNIT) {\n            const { value: num, unit } = token;\n            stack.push({\n                nodeType: NODE_TYPE_UNIT,\n                value: num,\n                unit,\n            });\n        }\n        else if (token.type === TYPE_NUMBER) {\n            stack.push({\n                nodeType: NODE_TYPE_NUMBER,\n                value: token.value,\n            });\n        }\n    }\n    while (stack.length > 1) {\n        stack.push(buildBinaryExpNode(stack));\n    }\n    return stack[0];\n}\nfunction parse(calcStr) {\n    const tokens = tokenize(calcStr);\n    return lex(tokens, calcStr);\n}\nfunction calcNode(node, context) {\n    if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\n        const left = calcNode(node.left, context);\n        const right = calcNode(node.right, context);\n        switch (node.op.value) {\n            case \"+\":\n                return left + right;\n            case \"-\":\n                return left - right;\n            case \"*\":\n                return left * right;\n            case \"/\":\n                return left / right;\n            default:\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                throw new Error(`calc error. unknown operator: ${node.op.value}`);\n        }\n    }\n    else if (node.nodeType === NODE_TYPE_UNIT) {\n        switch (node.unit) {\n            case \"%\":\n                return (node.value * context.full) / 100;\n            case \"em\":\n                return node.value * context.em;\n            case \"px\":\n                return node.value;\n            default:\n                throw new Error(`calc error. unknown unit: ${node.unit}`);\n        }\n    }\n    else if (node.nodeType === NODE_TYPE_NUMBER) {\n        return node.value;\n    }\n    throw new Error(\"calc error.\");\n}\nfunction toPxInternal(value, context) {\n    const ast = parse(value);\n    return calcNode(ast, context);\n}\nfunction toPx(value, context) {\n    if (typeof value === \"string\") {\n        return toPxInternal(value.trim(), context);\n    }\n    return value - 0;\n}\nexports.toPx = toPx;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\nconst fontSizeCache = {};\nfunction getFontSize(ctx, font) {\n    const fontName = font || ctx.font;\n    if (fontSizeCache[fontName]) {\n        return fontSizeCache[fontName];\n    }\n    const bk = ctx.font;\n    try {\n        ctx.font = fontName;\n        const em = ctx.measureText(\"\").width;\n        return (fontSizeCache[fontName] = {\n            width: em,\n            height: em,\n        });\n    }\n    finally {\n        ctx.font = bk;\n    }\n}\nexports.getFontSize = getFontSize;\nfunction calcBasePosition(ctx, rect, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\n    return calcStartPosition(ctx, rect, 0, 0, {\n        offset,\n        padding: {\n            left: paddingLeft,\n            right: paddingRight,\n            top: paddingTop,\n            bottom: paddingBottom,\n        },\n    });\n}\nexports.calcBasePosition = calcBasePosition;\nfunction calcStartPosition(ctx, rect, width, height, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\n    const textAlign = ctx.textAlign || \"left\";\n    const textBaseline = ctx.textBaseline || \"middle\";\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    let x = rect.left + offset + paddingLeft;\n    if (textAlign === \"right\" || textAlign === \"end\") {\n        x = rect.right - width - offset - paddingRight;\n    }\n    else if (textAlign === \"center\") {\n        x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n    }\n    let y = rect.top + offset + paddingTop;\n    if (textBaseline === \"bottom\" ||\n        textBaseline === \"alphabetic\" ||\n        textBaseline === \"ideographic\") {\n        y = rect.bottom - height - offset - paddingBottom;\n    }\n    else if (textBaseline === \"middle\") {\n        y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n    }\n    return { x, y };\n}\nexports.calcStartPosition = calcStartPosition;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.colorToRGB = void 0;\nconst rgbMap = {};\nfunction styleColorToRGB(color) {\n    const dummy = document.createElement(\"div\");\n    const { style } = dummy;\n    style.color = color;\n    style.position = \"fixed\";\n    style.height = \"1px\";\n    style.width = \"1px\";\n    style.opacity = \"0\";\n    document.body.appendChild(dummy);\n    const { color: styleColor } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n    document.body.removeChild(dummy);\n    return colorToRGB0(styleColor || \"\");\n}\nfunction hexToNum(hex) {\n    return parseInt(hex, 16);\n}\nfunction createRGB(r, g, b, a = 1) {\n    return { r, g, b, a };\n}\nfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\n    return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\nfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2, }) {\n    return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\nfunction testRGB({ r, g, b, a }) {\n    return (0 <= r &&\n        r <= 255 &&\n        0 <= g &&\n        g <= 255 &&\n        0 <= b &&\n        b <= 255 &&\n        0 <= a &&\n        a <= 1);\n}\nfunction rateToByte(r) {\n    return Math.ceil((r * 255) / 100);\n}\nfunction colorToRGB0(color) {\n    if (/^#[0-9a-f]{3}$/i.exec(color)) {\n        return tripleHexToRGB(color);\n    }\n    if (/^#[0-9a-f]{6}$/i.exec(color)) {\n        return sextupleHexToRGB(color);\n    }\n    let ret = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])), Number(ret[7]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    return null;\n}\nfunction colorToRGB(color) {\n    if (typeof color !== \"string\") {\n        return createRGB(0, 0, 0, 0);\n    }\n    color = color.toLowerCase().trim();\n    if (rgbMap[color]) {\n        return rgbMap[color];\n    }\n    return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\nexports.colorToRGB = colorToRGB;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\nfunction createElement(tagName, { classList, text, html, } = {}) {\n    const element = document.createElement(tagName);\n    if (classList) {\n        if (Array.isArray(classList)) {\n            element.classList.add(...classList);\n        }\n        else {\n            element.classList.add(classList);\n        }\n    }\n    if (text) {\n        element.textContent = text;\n    }\n    else if (html) {\n        element.innerHTML = html;\n    }\n    return element;\n}\nexports.createElement = createElement;\nfunction empty(dom) {\n    let c;\n    while ((c = dom.firstChild)) {\n        dom.removeChild(c);\n    }\n}\nexports.empty = empty;\nfunction isNode(arg) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n    if (isNode(arg)) {\n        return arg;\n    }\n    const dom = createElement(\"div\", { html: arg });\n    return Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n    if (Array.isArray(arg)) {\n        const result = [];\n        arg.forEach((e) => {\n            result.push(...toNodeList(e));\n        });\n        return result;\n    }\n    const node = toNode(arg);\n    return Array.isArray(node) ? node : [node];\n}\nexports.toNodeList = toNodeList;\nfunction appendHtml(dom, inner) {\n    toNodeList(inner).forEach((node) => {\n        dom.appendChild(node);\n    });\n}\nexports.appendHtml = appendHtml;\nfunction disableFocus(el) {\n    el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\n    el.tabIndex = -1;\n    Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nexports.disableFocus = disableFocus;\nfunction enableFocus(el) {\n    if (\"disableBeforeTabIndex\" in el.dataset) {\n        el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\n    }\n    Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\nexports.enableFocus = enableFocus;\nfunction isFocusable(el) {\n    return (el.tabIndex != null && el.tabIndex > -1);\n}\nexports.isFocusable = isFocusable;\nfunction findPrevSiblingFocusable(el) {\n    let n = el.previousSibling;\n    while (n && !isFocusable(n)) {\n        n = n.previousSibling;\n    }\n    return n;\n}\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\nfunction findNextSiblingFocusable(el) {\n    let n = el.nextSibling;\n    while (n && !isFocusable(n)) {\n        n = n.nextSibling;\n    }\n    return n;\n}\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.load = exports.check = void 0;\nconst utils_1 = require(\"./utils\");\nconst loads = {};\nlet load;\nexports.load = load;\nlet check;\nexports.check = check;\nif (utils_1.isNode) {\n    exports.load = load = function (_font, _testStr, callback) {\n        callback();\n    };\n    exports.check = check = function () {\n        return false;\n    };\n}\nelse {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fontFaceSet = document.fonts;\n    const legacy = !fontFaceSet;\n    exports.load = load = legacy\n        ? function (font, testStr, callback) {\n            //for legacy(IE)\n            if (loads[`${font} @ ${testStr}`]) {\n                callback();\n                return;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            require(\"./legacy/fontwatch/FontWatchRunner\").load(font, testStr, () => {\n                loads[`${font} @ ${testStr}`] = true;\n                callback();\n            }, () => {\n                loads[`${font} @ ${testStr}`] = true;\n                callback();\n            });\n        }\n        : function (font, _testStr, callback) {\n            if (loads.all || loads[font]) {\n                callback();\n                return;\n            }\n            fontFaceSet.ready.then(() => {\n                loads.all = true;\n            });\n            fontFaceSet.load(font).then(() => {\n                loads[font] = true;\n                callback();\n            });\n        };\n    exports.check = check = legacy\n        ? function (font, testStr) {\n            //for legacy(IE)\n            if (loads[`${font} @ ${testStr}`]) {\n                return true;\n            }\n            load(font, testStr, () => { });\n            return false;\n        }\n        : function (font, testStr) {\n            if (loads.all || loads[font]) {\n                return true;\n            }\n            if (!fontFaceSet.check(font)) {\n                load(font, testStr, () => { });\n                return false;\n            }\n            return true;\n        };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transform = void 0;\nconst EventHandler_1 = require(\"./EventHandler\");\nconst utils_1 = require(\"./utils\");\nconst handler = new EventHandler_1.EventHandler();\nlet ratio = 1;\nfunction setRatio() {\n    if (utils_1.isNode) {\n        ratio = 1;\n    }\n    else {\n        ratio = Math.ceil(window.devicePixelRatio || 1);\n        if (ratio > 1 && ratio % 2 !== 0) {\n            ratio += 1;\n        }\n    }\n}\nsetRatio();\nif (!utils_1.isNode) {\n    handler.on(window, \"resize\", setRatio);\n}\nfunction transform(canvas) {\n    const ctx = canvas.getContext(\"2d\");\n    const { getAttribute, setAttribute } = canvas;\n    canvas.getAttribute = function (name) {\n        let result = getAttribute.call(this, name);\n        if (name === \"width\" || name === \"height\") {\n            result = `${Number(result) / ratio}`;\n        }\n        return result;\n    };\n    canvas.setAttribute = function (name, val) {\n        const wh = name === \"width\" || name === \"height\";\n        if (wh) {\n            val = `${Number(val) * ratio}`;\n        }\n        const result = setAttribute.call(this, name, val);\n        if (wh) {\n            ctx.scale(ratio, ratio);\n        }\n        return result;\n    };\n    Object.defineProperty(canvas, \"width\", {\n        get() {\n            return Number(canvas.getAttribute(\"width\"));\n        },\n        set: (val) => {\n            canvas.setAttribute(\"width\", `${Math.floor(val)}`);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n    Object.defineProperty(canvas, \"height\", {\n        get() {\n            return Number(canvas.getAttribute(\"height\"));\n        },\n        set: (val) => {\n            canvas.setAttribute(\"height\", `${Math.floor(val)}`);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n    const { drawImage } = ctx;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx.drawImage = function (img, ...args) {\n        if (img !== canvas || ratio === 1) {\n            return drawImage.call(this, img, ...args);\n        }\n        this.save();\n        try {\n            this.scale(1 / ratio, 1 / ratio);\n            if (args.length > 4) {\n                args[4] *= ratio;\n                args[5] *= ratio;\n            }\n            else {\n                args[0] *= ratio;\n                args[1] *= ratio;\n            }\n            return drawImage.call(this, img, ...args);\n        }\n        finally {\n            this.restore();\n        }\n    };\n    return canvas;\n}\nexports.transform = transform;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.iconPropKeys = exports.toNormarizeArray = exports.getIconProps = void 0;\nconst ICON_PROP_KEYS = [\n    \"content\",\n    \"font\",\n    \"color\",\n    \"className\",\n    \"tagName\",\n    \"isLiga\",\n    \"width\",\n    \"src\",\n    \"svg\",\n    \"name\",\n    \"path\",\n];\nfunction quote(name) {\n    const quoted = [];\n    const split = name.split(/,\\s*/);\n    for (let i = 0; i < split.length; i++) {\n        const part = split[i].replace(/['\"]/g, \"\");\n        if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\n            quoted.push(part);\n        }\n        else {\n            quoted.push(`'${part}'`);\n        }\n    }\n    return quoted.join(\",\");\n}\nconst doms = {};\nconst props = {};\nfunction getIconProps(tagName, className) {\n    const tagProps = props[tagName] || (props[tagName] = {});\n    if (tagProps[className]) {\n        return tagProps[className];\n    }\n    const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n    dom.className = className;\n    document.body.appendChild(dom);\n    try {\n        const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\n        let content = beforeStyle.getPropertyValue(\"content\");\n        if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\n            if (content[0] === content[content.length - 1]) {\n                content = content.substr(1, content.length - 2);\n            }\n        }\n        let font = beforeStyle.getPropertyValue(\"font\");\n        if (!font) {\n            font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\n        }\n        const color = beforeStyle.getPropertyValue(\"color\");\n        const width = dom.clientWidth;\n        const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\n        return (tagProps[className] = {\n            content,\n            font,\n            color,\n            width,\n            isLiga,\n        });\n    }\n    finally {\n        document.body.removeChild(dom);\n    }\n}\nexports.getIconProps = getIconProps;\nfunction toPropArray(prop, count) {\n    const result = [];\n    if (Array.isArray(prop)) {\n        result.push(...prop);\n        for (let i = prop.length; i < count; i++) {\n            result.push(null);\n        }\n    }\n    else {\n        for (let i = 0; i < count; i++) {\n            result.push(prop);\n        }\n    }\n    return result;\n}\nfunction toSimpleArray(iconProps) {\n    if (!iconProps) {\n        return iconProps;\n    }\n    else if (Array.isArray(iconProps)) {\n        return iconProps;\n    }\n    const workData = {};\n    let count = 0;\n    ICON_PROP_KEYS.forEach((k) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const prop = iconProps[k];\n        if (prop) {\n            if (Array.isArray(prop)) {\n                count = Math.max(count, prop.length);\n            }\n            else {\n                count = Math.max(count, 1);\n            }\n        }\n    });\n    ICON_PROP_KEYS.forEach((k) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const arr = toPropArray(iconProps[k], count);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        workData[k] = arr;\n    });\n    const result = [];\n    for (let i = 0; i < count; i++) {\n        const data = {};\n        ICON_PROP_KEYS.forEach((k) => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const val = workData[k][i];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data[k] = val;\n        });\n        result.push(data);\n    }\n    return result;\n}\nfunction normarize(iconProps) {\n    const data = {};\n    for (const k in iconProps) {\n        if (k === \"className\") {\n            continue;\n        }\n        if (isIconKey(k)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data[k] = iconProps[k];\n        }\n    }\n    if (iconProps.className) {\n        const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\n        for (const k in prop) {\n            if (isIconKey(k)) {\n                if (iconProps[k] == null) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    data[k] = prop[k];\n                }\n            }\n        }\n    }\n    return data;\n}\nfunction toNormarizeArray(iconProps) {\n    const icons = toSimpleArray(iconProps);\n    if (!icons) {\n        return icons;\n    }\n    return icons.map((icon) => normarize(icon));\n}\nexports.toNormarizeArray = toNormarizeArray;\nexports.iconPropKeys = ICON_PROP_KEYS;\nfunction isIconKey(k) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ICON_PROP_KEYS.indexOf(k) >= 0;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCacheOrLoad = exports.loadImage = void 0;\nconst LRUCache_1 = require(\"./LRUCache\");\nconst utils_1 = require(\"./utils\");\nconst allCache = {};\nfunction loadImage(src) {\n    if (typeof Promise === \"undefined\") {\n        console.error(\"Promise is not loaded. load Promise before this process.\");\n        return {\n            then() {\n                return this;\n            },\n        };\n    }\n    const img = new Image();\n    const result = new Promise((resolve) => {\n        img.onload = () => {\n            resolve(img);\n        };\n    });\n    img.onerror = () => {\n        const url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n        console.warn(`cannot load: ${url}`);\n        throw new Error(`IMAGE LOAD ERROR: ${url}`);\n    };\n    img.src = src;\n    return result;\n}\nexports.loadImage = loadImage;\nfunction getCacheOrLoad0(cache, src) {\n    return utils_1.then(src, (src) => {\n        const c = cache.get(src);\n        if (c) {\n            return c;\n        }\n        const result = loadImage(src).then((img) => {\n            cache.put(src, img);\n            return img;\n        });\n        cache.put(src, result);\n        return result;\n    });\n}\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n    const cache = allCache[cacheName] ||\n        (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\n    return getCacheOrLoad0(cache, src);\n}\nexports.getCacheOrLoad = getCacheOrLoad;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Path2DShim = void 0;\nconst PathCommandsParser_1 = require(\"./PathCommandsParser\");\nconst parser = new PathCommandsParser_1.PathCommandsParser();\nclass Path2DShim {\n    constructor(arg) {\n        this._ops = [];\n        if (arg === undefined) {\n            return;\n        }\n        if (typeof arg === \"string\") {\n            // try {\n            this._ops = parser.parse(arg);\n            // } catch (e) {\n            // \tthrow e;\n            // }\n        }\n        else if (arg.hasOwnProperty(\"_ops\")) {\n            this._ops = [...arg._ops];\n        }\n        else {\n            throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n        }\n    }\n    arc(...args) {\n        this._ops.push({ op: \"arc\", args });\n    }\n    arcTo(...args) {\n        this._ops.push({ op: \"arcTo\", args });\n    }\n    bezierCurveTo(...args) {\n        this._ops.push({ op: \"bezierCurveTo\", args });\n    }\n    closePath(...args) {\n        this._ops.push({ op: \"closePath\", args });\n    }\n    ellipse(...args) {\n        this._ops.push({ op: \"ellipse\", args });\n    }\n    lineTo(...args) {\n        this._ops.push({ op: \"lineTo\", args });\n    }\n    moveTo(...args) {\n        this._ops.push({ op: \"moveTo\", args });\n    }\n    quadraticCurveTo(...args) {\n        this._ops.push({ op: \"quadraticCurveTo\", args });\n    }\n    rect(...args) {\n        this._ops.push({ op: \"rect\", args });\n    }\n}\nexports.Path2DShim = Path2DShim;\nconst { CanvasRenderingContext2D } = window;\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n    if (args[0] instanceof Path2DShim) {\n        const path = args[0];\n        this.beginPath();\n        path._ops.forEach((op) => {\n            const fn = this[op.op];\n            fn.apply(this, op.args);\n        });\n        originalFill.apply(this, Array.prototype.slice.call(args, 1));\n    }\n    else {\n        originalFill.apply(this, args);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathCommands = void 0;\n/*eslint new-cap: \"off\"*/\nfunction mag(v) {\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\nfunction dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n}\nfunction ratio(u, v) {\n    return dot(u, v) / (mag(u) * mag(v));\n}\nfunction clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction angle(u, v) {\n    let sign = 1.0;\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\n        sign = -1.0;\n    }\n    return sign * Math.acos(clamp(ratio(u, v), -1, 1));\n}\nfunction rotClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\nfunction rotCounterClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\nfunction midPoint(u, v) {\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\nfunction meanVec(u, v) {\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\nfunction pointMul(u, v) {\n    return [u[0] * v[0], u[1] * v[1]];\n}\nfunction scale(c, v) {\n    return [c * v[0], c * v[1]];\n}\nfunction sum(u, v) {\n    return [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n    // Convert from endpoint to center parametrization, as detailed in:\n    //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n    if (rx === 0 || ry === 0) {\n        ctx.lineTo(x2, x1);\n        return;\n    }\n    phi *= Math.PI / 180.0;\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\n    const xPrime2 = pointMul(xPrime, xPrime);\n    let rx2 = Math.pow(rx, 2);\n    let ry2 = Math.pow(ry, 2);\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n    if (lambda > 1) {\n        rx *= lambda;\n        ry *= lambda;\n        rx2 = Math.pow(rx, 2);\n        ry2 = Math.pow(ry, 2);\n    }\n    let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\n        (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n    if (fA === fS) {\n        factor *= -1.0;\n    }\n    const cPrime = scale(factor, [(rx * xPrime[1]) / ry, (-ry * xPrime[0]) / rx]); // F.6.5.2\n    const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\n    const x1UnitVector = [\n        (xPrime[0] - cPrime[0]) / rx,\n        (xPrime[1] - cPrime[1]) / ry,\n    ];\n    const x2UnitVector = [\n        (-1.0 * xPrime[0] - cPrime[0]) / rx,\n        (-1.0 * xPrime[1] - cPrime[1]) / ry,\n    ];\n    const theta = angle([1, 0], x1UnitVector); // F.6.5.5\n    const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n    const start = theta;\n    const end = theta + deltaTheta;\n    ctx.save();\n    ctx.translate(c[0], c[1]);\n    ctx.rotate(phi);\n    ctx.scale(rx, ry);\n    ctx.arc(0, 0, 1, start, end, !fS);\n    ctx.restore();\n}\nclass PathCommands {\n    constructor(ctx) {\n        let lMx;\n        let lMy;\n        let lx = 0;\n        let ly = 0;\n        let reflected;\n        let lastCommand = \"\";\n        function makeReflected() {\n            if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\n                return { x: lx, y: ly };\n            }\n            return reflected;\n        }\n        this.M = (px, py) => {\n            ctx.moveTo(px, py);\n            lMx = px;\n            lMy = py;\n            lx = px;\n            ly = py;\n            lastCommand = \"M\";\n            return this;\n        };\n        this.m = (px, py) => this.M(px + lx, py + ly);\n        this.L = (px, py) => {\n            ctx.lineTo(px, py);\n            lx = px;\n            ly = py;\n            lastCommand = \"L\";\n            return this;\n        };\n        this.l = (px, py) => this.L(px + lx, py + ly);\n        this.H = (px) => this.L(px, ly);\n        this.h = (px) => this.H(px + lx);\n        this.V = (py) => this.L(lx, py);\n        this.v = (py) => this.V(py + ly);\n        this.Z = () => {\n            ctx.closePath();\n            lx = lMx;\n            ly = lMy;\n            lastCommand = \"Z\";\n            return this;\n        };\n        this.z = () => this.Z();\n        //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n        this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n            lx = px;\n            ly = py;\n            reflected = {\n                x: 2 * px - cp2x,\n                y: 2 * py - cp2y,\n            };\n            lastCommand = \"C\";\n            return this;\n        };\n        this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\n        //S x2 y2, x y (or s dx2 dy2, dx dy)\n        this.S = (cpx, cpy, px, py) => {\n            const { x: cp1x, y: cp1y } = makeReflected( /*lastCommand*/);\n            return this.C(cp1x, cp1y, cpx, cpy, px, py);\n        };\n        this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n        //Q x1 y1, x y (or q dx1 dy1, dx dy)\n        this.Q = (cpx, cpy, px, py) => {\n            ctx.quadraticCurveTo(cpx, cpy, px, py);\n            lx = px;\n            ly = py;\n            reflected = {\n                x: 2 * px - cpx,\n                y: 2 * py - cpy,\n            };\n            lastCommand = \"Q\";\n            return this;\n        };\n        this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n        //T x y (or t dx dy)\n        this.T = (px, py) => {\n            const { x: cpx, y: cpy } = makeReflected();\n            return this.Q(cpx, cpy, px, py);\n        };\n        this.t = (px, py) => this.T(px + lx, py + ly);\n        //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n        this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n            const x1 = lx;\n            const y1 = ly;\n            ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n            lx = px;\n            ly = py;\n            lastCommand = \"A\";\n            return this;\n        };\n        //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n        this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n    }\n}\nexports.PathCommands = PathCommands;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathCommandsParser = void 0;\nconst PathCommands_1 = require(\"./PathCommands\");\nfunction pathTokens(d) {\n    let idx = 0;\n    return {\n        next() {\n            let s = \"\";\n            while (d.length > idx) {\n                const c = d[idx];\n                idx++;\n                if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\n                    if (s) {\n                        return s;\n                    }\n                }\n                else {\n                    const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\n                    if (type === \"str\") {\n                        if (s) {\n                            idx--;\n                            return s;\n                        }\n                        return c;\n                    }\n                    if (\"-+\".indexOf(c) > -1) {\n                        if (s) {\n                            idx--;\n                            return s;\n                        }\n                    }\n                    if (c === \".\") {\n                        if (s.indexOf(\".\") > -1) {\n                            idx--;\n                            return s;\n                        }\n                    }\n                    s += c;\n                }\n            }\n            return s || null;\n        },\n    };\n}\nfunction command(builder, cmd, argsProvider) {\n    if (cmd.toUpperCase() === \"M\" ||\n        cmd.toUpperCase() === \"L\" ||\n        cmd.toUpperCase() === \"T\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next());\n        return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\n    }\n    else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\n        builder.command(cmd, argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"Z\") {\n        builder.command(cmd);\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"C\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"A\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else {\n        // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n        console.warn(`unsupported:${cmd}`);\n    }\n    return null;\n}\nclass PathCommandsParser {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._ops = [];\n        this._commands = new PathCommands_1.PathCommands(this);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const buildPush = (op) => (...args) => {\n            this._ops.push({\n                op,\n                args,\n            });\n        };\n        this.moveTo = buildPush(\"moveTo\");\n        this.lineTo = buildPush(\"lineTo\");\n        this.closePath = buildPush(\"closePath\");\n        this.bezierCurveTo = buildPush(\"bezierCurveTo\");\n        this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\n        this.save = buildPush(\"save\");\n        this.translate = buildPush(\"translate\");\n        this.rotate = buildPush(\"rotate\");\n        this.scale = buildPush(\"scale\");\n        this.arc = buildPush(\"arc\");\n        this.restore = buildPush(\"restore\");\n        this.arcTo = buildPush(\"arcTo\");\n        this.ellipse = buildPush(\"ellipse\");\n        this.rect = buildPush(\"rect\");\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    command(name, ...args) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const numArgs = args || [];\n        for (let i = 0; i < args.length; i++) {\n            numArgs[i] -= 0;\n        }\n        const command = this._commands[name];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        command.apply(this, numArgs);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parse(d) {\n        const ops = (this._ops = []);\n        const tokens = pathTokens(d);\n        try {\n            let cmd;\n            let subsequentCommand = \"Z\";\n            while ((cmd = tokens.next())) {\n                if (!isNaN(Number(cmd))) {\n                    let fst = true;\n                    const argsProvider = {\n                        next() {\n                            if (fst) {\n                                fst = false;\n                                return cmd;\n                            }\n                            return tokens.next();\n                        },\n                    };\n                    subsequentCommand =\n                        command(this, subsequentCommand, argsProvider) || \"Z\";\n                }\n                else {\n                    subsequentCommand =\n                        command(this, cmd, tokens) || \"Z\";\n                }\n            }\n        }\n        catch (e) {\n            console.log(`Error: ${d}`);\n            throw e;\n        }\n        return ops;\n    }\n}\nexports.PathCommandsParser = PathCommandsParser;\n","\"use strict\";\n//see https://github.com/typekit/webfontloader\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontRuler = void 0;\nfunction computeStyle(font) {\n    return [\n        {\n            display: \"block\",\n            position: \"absolute\",\n            top: \"-9999px\",\n            left: \"-9999px\",\n            width: \"auto\",\n            height: \"auto\",\n            margin: \"0\",\n            padding: \"0\",\n            \"white-space\": \"nowrap\",\n            font,\n        },\n        {\n            \"font-variant\": \"normal\",\n            \"font-size\": \"300px\",\n            \"font-style\": \"normal\",\n            \"font-weight\": \"400\",\n            \"line-height\": \"normal\",\n        },\n    ];\n}\nclass FontRuler {\n    constructor(font, testStr) {\n        const e = document.createElement(\"span\");\n        e.setAttribute(\"aria-hidden\", \"true\");\n        e.textContent = testStr || \"BESbswy\";\n        computeStyle(font).forEach((style) => {\n            for (const k in style) {\n                const key = k;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                e.style[key] = style[key];\n            }\n        });\n        document.body.appendChild(e);\n        this.el_ = e;\n    }\n    getWidth() {\n        return this.el_.offsetWidth;\n    }\n    remove() {\n        document.body.removeChild(this.el_);\n    }\n}\nexports.FontRuler = FontRuler;\n","\"use strict\";\n//see https://github.com/typekit/webfontloader\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\nconst FontRuler_1 = require(\"./FontRuler\");\nconst LastResortFonts = {\n    SERIF: \"serif\",\n    SANS_SERIF: \"sans-serif\",\n};\nconst watchRunners = {};\nclass FontWatchRunner {\n    constructor(font, testStr) {\n        this.activeCallbacks = [];\n        this.inactiveCallbacks = [];\n        this.status = null;\n        this.lastResortWidths_ = {};\n        this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n        this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n        const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n        const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n        //start\n        this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n        this.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n        lastResortRulerA.remove();\n        lastResortRulerB.remove();\n        this.started_ = Date.now();\n        this.check_();\n    }\n    static load(font, testStr, activeCallback, inactiveCallback) {\n        const c = watchRunners[font] || (watchRunners[font] = {});\n        testStr += \"\";\n        let runner;\n        if (c[testStr]) {\n            runner = c[testStr];\n        }\n        else {\n            runner = c[testStr] = new FontWatchRunner(font, testStr);\n        }\n        runner.then(activeCallback, inactiveCallback);\n    }\n    then(activeCallback, inactiveCallback) {\n        if (this.status) {\n            if (this.status !== \"ng\") {\n                activeCallback();\n            }\n            else {\n                inactiveCallback();\n            }\n        }\n        else {\n            this.activeCallbacks.push(activeCallback);\n            this.inactiveCallbacks.push(inactiveCallback);\n        }\n    }\n    check_() {\n        const widthA = this.fontRulerA_.getWidth();\n        const widthB = this.fontRulerB_.getWidth();\n        if (this.isFallbackFont_(widthA, widthB) ||\n            this.isLastResortFont_(widthA, widthB)) {\n            if (Date.now() - this.started_ >= 3000) {\n                // timeout\n                if (this.isLastResortFont_(widthA, widthB)) {\n                    this.finish_(this.activeCallbacks);\n                    this.status = \"ok\";\n                }\n                else {\n                    this.finish_(this.inactiveCallbacks);\n                    this.status = \"ng\";\n                }\n            }\n            else {\n                setTimeout(() => {\n                    this.check_();\n                }, 50);\n            }\n        }\n        else {\n            this.finish_(this.activeCallbacks);\n            this.status = \"ok\";\n        }\n    }\n    isFallbackFont_(a, b) {\n        return (this.widthMatches_(a, LastResortFonts.SERIF) &&\n            this.widthMatches_(b, LastResortFonts.SANS_SERIF));\n    }\n    widthsMatchLastResortWidths_(a, b) {\n        for (const font in LastResortFonts) {\n            if (LastResortFonts.hasOwnProperty(font)) {\n                if (this.widthMatches_(a, LastResortFonts[font]) &&\n                    this.widthMatches_(b, LastResortFonts[font])) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    widthMatches_(width, lastResortFont) {\n        return width === this.lastResortWidths_[lastResortFont];\n    }\n    isLastResortFont_(a, b) {\n        return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n    }\n    finish_(callbacks) {\n        setTimeout(() => {\n            this.fontRulerA_.remove();\n            this.fontRulerB_.remove();\n            callbacks.forEach((cb) => cb());\n        }, 0);\n    }\n}\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n    if (HAS_WEBKIT_FALLBACK_BUG === null) {\n        const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n        HAS_WEBKIT_FALLBACK_BUG =\n            !!match &&\n                (parseInt(match[1], 10) < 536 ||\n                    (parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11));\n    }\n    return HAS_WEBKIT_FALLBACK_BUG;\n}\nmodule.exports = FontWatchRunner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeToFn = exports.normalize = void 0;\n/** @private */\nfunction extend(a, b) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const o = {};\n    for (const k in a) {\n        o[k] = a[k];\n    }\n    for (const k in b) {\n        o[k] = b[k];\n    }\n    return o;\n}\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\nfunction normalize(options) {\n    if (!options) {\n        return [];\n    }\n    if (Array.isArray(options)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return options.map(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (e) => extend(e, { label: e.caption || e.label }));\n    }\n    if (typeof options === \"string\") {\n        return normalize(JSON.parse(options));\n    }\n    const result = [];\n    for (const k in options) {\n        result.push({\n            value: k,\n            label: options[k],\n        });\n    }\n    return result;\n}\nexports.normalize = normalize;\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\nfunction normalizeToFn(options) {\n    if (typeof options === \"function\") {\n        return (record) => normalize(options(record));\n    }\n    return () => normalize(options);\n}\nexports.normalizeToFn = normalizeToFn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parsePasteRangeBoxValues = void 0;\nfunction parsePasteRangeBoxValues(value) {\n    const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n    const lines = normalizeValue.split(/(?:\\r?\\n)|[\\u2028\\u2029]/g);\n    const values = lines.map((line) => line.split(/\\t/g));\n    const colCount = values.reduce((n, cells) => Math.max(n, cells.length), 0);\n    return {\n        colCount,\n        rowCount: values.length,\n        getCellValue(offsetCol, offsetRow) {\n            var _a;\n            return ((_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) || \"\";\n        },\n    };\n}\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fill = exports.getPath2D = void 0;\nconst utils_1 = require(\"./utils\");\nfunction getPath2D() {\n    if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\n        return Path2D;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    return require(\"./legacy/canvas/Path2DShim\").Path2DShim;\n}\nexports.getPath2D = getPath2D;\nfunction fill(pathModule, ctx, x, y, w, h) {\n    ctx.save();\n    try {\n        const { width, height } = pathModule;\n        const { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = pathModule;\n        w = w || width;\n        h = h || height;\n        const xrate = w / width;\n        const yrate = h / (upsideDown ? -height : height);\n        x = x || 0;\n        y = upsideDown ? (y || 0) + -height * yrate : y || 0;\n        ctx.translate(x, y);\n        ctx.scale(xrate, yrate);\n        if (offsetX !== 0 || offsetY !== 0) {\n            ctx.translate(offsetX, offsetY);\n        }\n        const Path2D = getPath2D();\n        const path2d = (pathModule.path2d =\n            pathModule.path2d || new Path2D(pathModule.d));\n        ctx.fill(path2d);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.fill = fill;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\nconst utils_1 = require(\"./utils\");\nfunction createArray(get, length) {\n    const array = new Array(length);\n    for (let i = 0; i < length; i++) {\n        array[i] = get(i);\n    }\n    return array;\n}\nfunction createArrayPromise(get, getField, length\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    return new Promise((resolve) => {\n        const plist = [];\n        const array = new Array(length);\n        for (let i = 0; i < length; i++) {\n            const data = get(i);\n            const record = {\n                v: data,\n                f: data,\n            };\n            array[i] = record;\n            if (utils_1.isPromise(data)) {\n                plist.push(data.then((v) => {\n                    record.v = v;\n                    record.f = v;\n                }));\n            }\n        }\n        Promise.all(plist)\n            .then(() => getField == null\n            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                array\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                setArrayField(array, getField))\n            .then(resolve);\n    });\n}\nfunction setArrayField(array, getField) {\n    return new Promise((resolve) => {\n        const { length } = array;\n        const plist = [];\n        for (let i = 0; i < length; i++) {\n            const record = array[i];\n            const f = getField(record.v);\n            if (utils_1.isPromise(f)) {\n                plist.push(f.then((v) => {\n                    record.f = v;\n                }));\n            }\n            else {\n                record.f = f;\n            }\n        }\n        Promise.all(plist).then(() => resolve(array));\n    });\n}\nfunction sortArray(array, compare) {\n    Array.prototype.sort.call(array, compare);\n}\nexports.sortArray = sortArray;\nfunction sort(get, set, length, compare, getField) {\n    const old = createArray(get, length);\n    if (getField != null) {\n        old.sort((r1, r2) => compare(getField(r1), getField(r2)));\n    }\n    else {\n        old.sort(compare);\n    }\n    for (let i = 0; i < length; i++) {\n        set(i, old[i]);\n    }\n}\nexports.sort = sort;\nfunction sortPromise(get, set, length, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ncompare, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngetField) {\n    if (typeof Promise !== \"undefined\") {\n        return createArrayPromise(get, getField, length).then((array) => {\n            array.sort((r1, r2) => compare(r1.f, r2.f));\n            for (let i = 0; i < length; i++) {\n                set(i, array[i].v);\n            }\n        });\n    }\n    else {\n        sort(get, set, length, compare, getField);\n        const dummyPromise = {\n            then(fn) {\n                fn();\n                return dummyPromise;\n            },\n            catch() {\n                return dummyPromise;\n            },\n        };\n        return dummyPromise;\n    }\n}\nexports.sortPromise = sortPromise;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getScrollBarSize = exports.initDocument = void 0;\nfunction getScrollBarWidth() {\n    const dummy = document.createElement(\"div\");\n    const { style } = dummy;\n    style.position = \"absolute\";\n    style.height = \"9999px\";\n    style.width = \"calc(100vw - 100%)\";\n    style.opacity = \"0\";\n    dummy.textContent = \"x\";\n    document.body.appendChild(dummy);\n    const { width } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n    document.body.removeChild(dummy);\n    return parseInt(width, 10);\n}\nlet SCROLLBAR_SIZE;\nfunction initDocumentInternal() {\n    require(\"@/internal/style.css\");\n    SCROLLBAR_SIZE = getScrollBarWidth() || 10;\n    const style = document.createElement(\"style\");\n    style.setAttribute(\"type\", \"text/css\");\n    style.setAttribute(\"data-name\", \"cheetah-grid\");\n    style.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n    document.head.appendChild(style);\n}\nlet initDocumentVar = initDocumentInternal;\nfunction initDocument() {\n    initDocumentVar();\n    initDocumentVar = Function.prototype;\n}\nexports.initDocument = initDocument;\nfunction getScrollBarSize() {\n    return SCROLLBAR_SIZE;\n}\nexports.getScrollBarSize = getScrollBarSize;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst utils_1 = require(\"./utils\");\nconst Symbol = utils_1.isNode\n    ? global.Symbol\n    : window.Symbol\n        ? window.Symbol\n        : (() => {\n            function random() {\n                const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n                const cl = c.length;\n                let r = \"\";\n                for (let i = 0; i < 10; i++) {\n                    r += c[Math.floor(Math.random() * cl)];\n                }\n                return r;\n            }\n            return (name) => {\n                if (name) {\n                    return `#${name}_${random()}`;\n                }\n                else {\n                    return `#_${random()}`;\n                }\n            };\n        })();\nconst mem = {};\nfunction get(name) {\n    if (name) {\n        return (mem[name] ? mem[name] : (mem[name] = Symbol(name)));\n    }\n    else {\n        return Symbol();\n    }\n}\nexports.get = get;\nfunction getProtectedSymbol() {\n    return get(\"protected\");\n}\nexports.getProtectedSymbol = getProtectedSymbol;\nfunction getCheckColumnStateId() {\n    return get(\"chkcol.stateID\");\n}\nexports.getCheckColumnStateId = getCheckColumnStateId;\nfunction getRadioColumnStateId() {\n    return get(\"rdcol.stateID\");\n}\nexports.getRadioColumnStateId = getRadioColumnStateId;\nfunction getButtonColumnStateId() {\n    return get(\"btncol.stateID\");\n}\nexports.getButtonColumnStateId = getButtonColumnStateId;\nfunction getColumnFadeinStateId() {\n    return get(\"col.fadein_stateID\");\n}\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\nfunction getBranchGraphColumnStateId() {\n    return get(\"branch_graph_col.stateID\");\n}\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\nfunction getSmallDialogInputEditorStateId() {\n    return get(\"small_dialog_input_editor.stateID\");\n}\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\nfunction getInlineInputEditorStateId() {\n    return get(\"inline_input_editor.stateID\");\n}\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\nfunction getInlineMenuEditorStateId() {\n    return get(\"inline_menu_editor.stateID\");\n}\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\nfunction getCheckHeaderStateId() {\n    return get(\"check_header.stateID\");\n}\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\nexports.isNode = isNode;\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n    get find() {\n        if (arrayFind) {\n            return arrayFind;\n        }\n        if (Array.prototype.find) {\n            arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n        }\n        else {\n            arrayFind = (arr, predicate) => {\n                const index = array.findIndex(arr, predicate);\n                return index >= 0 ? arr[index] : undefined;\n            };\n        }\n        return arrayFind;\n    },\n    get findIndex() {\n        if (arrayFindIndex) {\n            return arrayFindIndex;\n        }\n        if (Array.prototype.findIndex) {\n            arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n        }\n        else {\n            arrayFindIndex = (arr, predicate) => {\n                const { length } = arr;\n                for (let i = 0; i < length; i++) {\n                    const value = arr[i];\n                    if (predicate(value, i, arr)) {\n                        return i;\n                    }\n                }\n                return -1;\n            };\n        }\n        return arrayFindIndex;\n    },\n};\nexports.array = array;\nfunction analyzeUserAgent() {\n    if (isNode) {\n        return {\n            IE: false,\n            Edge: false,\n            Chrome: false,\n            Firefox: false,\n            Safari: false,\n        };\n    }\n    else {\n        const ua = window.navigator.userAgent.toLowerCase();\n        return {\n            IE: !!/(msie|trident)/.exec(ua),\n            Edge: ua.indexOf(\"edge\") > -1,\n            Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\n            Firefox: ua.indexOf(\"firefox\") > -1,\n            Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1,\n        };\n    }\n}\nconst { IE, Chrome, Firefox, Edge, Safari } = analyzeUserAgent();\nfunction setReadonly(obj, name, value) {\n    Object.defineProperty(obj, name, {\n        enumerable: false,\n        configurable: true,\n        value,\n    });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction each(obj, fn) {\n    for (const key in obj) {\n        fn(obj[key], key, obj);\n    }\n}\nexports.each = each;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isObject(obj) {\n    return obj === Object(obj);\n}\nfunction omit(source, omits) {\n    const result = {};\n    for (const key in source) {\n        if (omits.indexOf(key) >= 0) {\n            continue;\n        }\n        Object.defineProperty(result, key, {\n            get() {\n                return source[key];\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    return result;\n}\nexports.omit = omit;\nfunction defaults(source, defs) {\n    const keys = [];\n    const result = {};\n    for (const key in source) {\n        keys.push(key);\n        Object.defineProperty(result, key, {\n            get() {\n                const val = source[key];\n                return val === undefined ? defs[key] : val;\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    for (const key in defs) {\n        if (keys.indexOf(key) >= 0) {\n            continue;\n        }\n        Object.defineProperty(result, key, {\n            get() {\n                const val = source[key];\n                return val === undefined ? defs[key] : val;\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    return result;\n}\nexports.defaults = defaults;\nfunction extend(...args) {\n    const result = {};\n    args.forEach((source) => {\n        for (const key in source) {\n            Object.defineProperty(result, key, {\n                get() {\n                    return source[key];\n                },\n                set(val) {\n                    source[key] = val;\n                },\n                configurable: true,\n                enumerable: true,\n            });\n        }\n    });\n    return result;\n}\nexports.extend = extend;\nfunction isDescendantElement(root, target) {\n    while (target.parentElement) {\n        const p = target.parentElement;\n        if (root === p) {\n            return true;\n        }\n        target = p;\n    }\n    return false;\n}\nexports.isDescendantElement = isDescendantElement;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction applyChainSafe(obj, fn, ...names) {\n    let value = obj;\n    for (let i = 0; i < names.length && value != null; i++) {\n        value = fn(value, names[i]);\n    }\n    return value;\n}\nexports.applyChainSafe = applyChainSafe;\nfunction getChainSafe(obj, ...names) {\n    return applyChainSafe(obj, (val, name) => val[name], ...names);\n}\nexports.getChainSafe = getChainSafe;\nfunction getOrApply(value, ...args) {\n    if (typeof value === \"function\") {\n        return value(...args);\n    }\n    else {\n        return value;\n    }\n}\nexports.getOrApply = getOrApply;\n/* eslint-enable @typescript-eslint/no-explicit-any */\nfunction endsWith(str, searchString, position) {\n    const subjectString = str.toString();\n    if (typeof position !== \"number\" ||\n        !isFinite(position) ||\n        Math.floor(position) !== position ||\n        position > subjectString.length) {\n        position = subjectString.length;\n    }\n    position -= searchString.length;\n    const lastIndex = subjectString.lastIndexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n}\nfunction genChars(s) {\n    // Surrogate Code Point\n    // [\\uD800-\\uDBFF]\n    // Variation Selectors\n    // FVS [\\u180B-\\u180D]\n    // VS1VS16 [\\uFE00-\\uFE0F]\n    // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n    const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n    return {\n        next() {\n            const res = re.exec(s);\n            return res !== null ? res[0] : null;\n        },\n    };\n}\nfunction genWords(s) {\n    const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n    return {\n        next() {\n            const res = re.exec(s);\n            return res !== null ? res[0] : null;\n        },\n    };\n}\nfunction isPromise(data) {\n    return Boolean(data && typeof data.then === \"function\");\n}\nexports.isPromise = isPromise;\nfunction then(result, callback) {\n    return isPromise(result) ? result.then((r) => callback(r)) : callback(result);\n}\nexports.then = then;\nfunction getMouseButtons(e) {\n    if (e.buttons != null) {\n        return e.buttons;\n    }\n    /*for legacy*/\n    if (e.which != null) {\n        if (e.which === 3) {\n            //right?\n            return 4;\n        }\n        if (e.which === 2) {\n            //middle?\n            return 4;\n        }\n        return e.which; //left or no\n    }\n    if (e.button === 0 || e.button === 1) {\n        return 1; //candidate left\n    }\n    if (e.button === 2) {\n        return 2; // right\n    }\n    return 0; //no or middle?\n}\nfunction getKeyCode(e) {\n    return e.keyCode || e.which;\n}\nfunction isTouchEvent(e) {\n    return !!e.changedTouches;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getIgnoreCase(obj, name) {\n    if (obj[name]) {\n        return obj[name];\n    }\n    const l = name.toLowerCase();\n    if (obj[l]) {\n        return obj[l];\n    }\n    const u = name.toLowerCase();\n    if (obj[u]) {\n        return obj[u];\n    }\n    for (const k in obj) {\n        if (k.toLowerCase() === l) {\n            return obj[k];\n        }\n    }\n    return undefined;\n}\nexports.getIgnoreCase = getIgnoreCase;\nfunction cancel(e) {\n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction toBoxArray(obj) {\n    if (!Array.isArray(obj)) {\n        return [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\n    }\n    if (obj.length === 3) {\n        return [\n            obj[0] /*top*/,\n            obj[1] /*right*/,\n            obj[2] /*bottom*/,\n            obj[1] /*left*/,\n        ];\n    }\n    if (obj.length === 2) {\n        return [\n            obj[0] /*top*/,\n            obj[1] /*right*/,\n            obj[0] /*bottom*/,\n            obj[1] /*left*/,\n        ];\n    }\n    if (obj.length === 1) {\n        return [\n            obj[0] /*top*/,\n            obj[0] /*right*/,\n            obj[0] /*bottom*/,\n            obj[0] /*left*/,\n        ];\n    }\n    return obj;\n}\nfunction cellEquals(a, b) {\n    return a.col === b.col && a.row === b.row;\n}\nexports.cellEquals = cellEquals;\nfunction cellInRange(range, col, row) {\n    return (range.start.col <= col &&\n        col <= range.end.col &&\n        range.start.row <= row &&\n        row <= range.end.row);\n}\nexports.cellInRange = cellInRange;\nexports.browser = {\n    IE,\n    Edge,\n    Chrome,\n    Firefox,\n    Safari,\n    // Chrome 33554431\n    // FireFox 17895588\n    // IE 10737433\n    heightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433,\n};\nexports.obj = {\n    setReadonly,\n    isObject,\n};\nexports.str = {\n    endsWith,\n    genChars,\n    genWords,\n};\nexports.event = {\n    getMouseButtons,\n    getKeyCode,\n    isTouchEvent,\n    cancel,\n};\nexports.style = {\n    toBoxArray,\n};\nexports.emptyFn = Function.prototype;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LG_EVENT_TYPE = void 0;\nconst DG_EVENT_TYPE_1 = require(\"../core/DG_EVENT_TYPE\");\nconst utils_1 = require(\"../internal/utils\");\nexports.LG_EVENT_TYPE = utils_1.extend(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\n    CHANGED_VALUE: \"changed_value\",\n    CHANGED_HEADER_VALUE: \"changed_header_value\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar simple_header_layout_1 = require(\"./internal/simple-header-layout\");\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", { enumerable: true, get: function () { return simple_header_layout_1.SimpleHeaderLayoutMap; } });\nvar multi_layout_1 = require(\"./internal/multi-layout\");\nObject.defineProperty(exports, \"MultiLayoutMap\", { enumerable: true, get: function () { return multi_layout_1.MultiLayoutMap; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiLayoutMap = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerAction = __importStar(require(\"../../../header/action\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nconst utils_1 = require(\"./utils\");\nfunction normalizeLayout(layout) {\n    if (Array.isArray(layout)) {\n        return {\n            header: layout,\n            body: layout,\n        };\n    }\n    return layout;\n}\nlet seqId = 0;\nclass LayoutObjectGrid {\n    constructor(layout, transform) {\n        this.objects = [];\n        this.objectGrid = [];\n        this.objectMap = {};\n        this.columnCount = 0;\n        this.columnWidths = [];\n        layout.forEach((rowLayout, row) => {\n            let col = 0;\n            rowLayout.forEach((cell) => {\n                var _a, _b;\n                const id = seqId++;\n                const obj = transform(cell, id);\n                this.objects.push(obj);\n                this.objectMap[id] = obj;\n                col = this._findStartCell(col, row);\n                const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\n                const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\n                const endRow = row + rowSpan;\n                const endCol = col + colSpan;\n                for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\n                    const objectGridRow = this._getObjectGridRow(rowIndex);\n                    for (let colIndex = col; colIndex < endCol; colIndex++) {\n                        objectGridRow[colIndex] = obj;\n                    }\n                }\n                if (colSpan === 1) {\n                    this._setWidthDataIfAbsent(col, cell);\n                }\n                this._useColumnIndex(endCol - 1);\n                col = endCol;\n            });\n        });\n    }\n    get rowCount() {\n        return this.objectGrid.length;\n    }\n    _findStartCell(col, row) {\n        const objectGridRow = this._getObjectGridRow(row);\n        for (let index = col; index < objectGridRow.length; index++) {\n            if (!objectGridRow[index]) {\n                return index;\n            }\n        }\n        return objectGridRow.length;\n    }\n    _getObjectGridRow(row) {\n        return this.objectGrid[row] || (this.objectGrid[row] = []);\n    }\n    _useColumnIndex(col) {\n        if (this.columnCount > col) {\n            return;\n        }\n        this.columnCount = col + 1;\n    }\n    _setWidthDataIfAbsent(col, cell) {\n        if (!this.columnWidths[col]) {\n            if (cell.width != null ||\n                cell.maxWidth != null ||\n                cell.minWidth != null) {\n                this.columnWidths[col] = {\n                    width: cell.width,\n                    maxWidth: cell.maxWidth,\n                    minWidth: cell.minWidth,\n                };\n            }\n        }\n    }\n}\nclass MultiLayoutMap {\n    constructor(layout) {\n        this._columnWidths = [];\n        this._emptyDataCache = new utils_1.EmptyDataCache();\n        const hbLayouut = normalizeLayout(layout);\n        const header = (this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\n            return {\n                id,\n                caption: hd.caption,\n                field: hd.headerField || hd.field,\n                style: hd.headerStyle,\n                headerType: headerType.ofCell(hd),\n                action: headerAction.ofCell(hd),\n                define: hd,\n            };\n        }));\n        const body = (this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\n            return {\n                id,\n                field: colDef.field,\n                width: colDef.width,\n                minWidth: colDef.minWidth,\n                maxWidth: colDef.maxWidth,\n                icon: colDef.icon,\n                message: colDef.message,\n                columnType: columns.type.of(colDef.columnType),\n                action: columns.action.of(colDef.action),\n                style: colDef.style,\n                define: colDef,\n            };\n        }));\n        const columnCount = (this._columnCount = Math.max(header.columnCount, body.columnCount));\n        for (let col = 0; col < columnCount; col++) {\n            const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\n            this._columnWidths[col] = widthDef;\n        }\n    }\n    get columnWidths() {\n        return this._columnWidths;\n    }\n    get headerRowCount() {\n        return this._header.rowCount;\n    }\n    get bodyRowCount() {\n        return this._body.rowCount;\n    }\n    get colCount() {\n        return this._columnCount;\n    }\n    get headerObjects() {\n        return this._header.objects;\n    }\n    get columnObjects() {\n        return this._body.objects;\n    }\n    getCellId(col, row) {\n        var _a, _b, _c, _d;\n        if (this.headerRowCount <= row) {\n            const bodyRow = row - this.headerRowCount;\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\n            return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n        }\n        //in header\n        return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\n    }\n    getHeader(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._header.objectMap[id] ||\n            this._emptyDataCache.getHeader(col, row));\n    }\n    getBody(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._body.objectMap[id] ||\n            this._emptyDataCache.getBody(col, row));\n    }\n    getBodyLayoutRangeById(id) {\n        var _a;\n        for (let row = 0; row < this.bodyRowCount; row++) {\n            const objectGridRow = this._body.objectGrid[row];\n            if (!objectGridRow) {\n                continue;\n            }\n            for (let col = 0; col < this.colCount; col++) {\n                if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return this._getCellRange(this._body, col, row, 0);\n                }\n            }\n        }\n        throw new Error(`can not found body layout @id=${id}`);\n    }\n    getCellRange(col, row) {\n        if (this.headerRowCount <= row) {\n            const recordIndex = this.getRecordIndexByRow(row);\n            const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\n            const bodyRow = row - this.headerRowCount;\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\n            return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\n        }\n        //in header\n        return this._getCellRange(this._header, col, row, 0);\n    }\n    getRecordIndexByRow(row) {\n        if (row < this.headerRowCount) {\n            return -1;\n        }\n        else {\n            const bodyRow = row - this.headerRowCount;\n            return Math.floor(bodyRow / this.bodyRowCount);\n        }\n    }\n    getRecordStartRowByRecordIndex(index) {\n        return this.headerRowCount + index * this.bodyRowCount;\n    }\n    _getCellRange(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    layout, col, layoutRow, offsetRow) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        const result = {\n            start: { col, row: layoutRow + offsetRow },\n            end: { col, row: layoutRow + offsetRow },\n        };\n        const { objectGrid } = layout;\n        const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n        if (id == null) {\n            return result;\n        }\n        for (let c = col - 1; c >= 0; c--) {\n            if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\n                break;\n            }\n            result.start.col = c;\n        }\n        for (let c = col + 1; c < layout.columnCount; c++) {\n            if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\n                break;\n            }\n            result.end.col = c;\n        }\n        for (let r = layoutRow - 1; r >= 0; r--) {\n            if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\n                break;\n            }\n            result.start.row = r + offsetRow;\n        }\n        for (let r = layoutRow + 1; r < layout.rowCount; r++) {\n            if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\n                break;\n            }\n            result.end.row = r + offsetRow;\n        }\n        return result;\n    }\n}\nexports.MultiLayoutMap = MultiLayoutMap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SimpleHeaderLayoutMap = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerAction = __importStar(require(\"../../../header/action\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nconst utils_1 = require(\"./utils\");\nlet seqId = 0;\nclass SimpleHeaderLayoutMap {\n    constructor(header) {\n        this.bodyRowCount = 1;\n        this._emptyDataCache = new utils_1.EmptyDataCache();\n        this._columns = [];\n        this._headerCellIds = [];\n        this._headerObjects = this._addHeaders(0, header, []);\n        this._headerObjectMap = this._headerObjects.reduce((o, e) => {\n            o[e.id] = e;\n            return o;\n        }, {});\n    }\n    get columnWidths() {\n        return this._columns;\n    }\n    get headerRowCount() {\n        return this._headerCellIds.length;\n    }\n    get colCount() {\n        return this._columns.length;\n    }\n    get headerObjects() {\n        return this._headerObjects;\n    }\n    get columnObjects() {\n        return this._columns;\n    }\n    getCellId(col, row) {\n        if (this.headerRowCount <= row) {\n            return this._columns[col].id;\n        }\n        //in header\n        return this._headerCellIds[row][col];\n    }\n    getHeader(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._headerObjectMap[id] ||\n            this._emptyDataCache.getHeader(col, row));\n    }\n    getBody(col, _row) {\n        return this._columns[col] || this._emptyDataCache.getBody(col, 0);\n    }\n    getBodyLayoutRangeById(id) {\n        for (let col = 0; col < this.colCount; col++) {\n            if (id === this._columns[col].id) {\n                return {\n                    start: { col, row: 0 },\n                    end: { col, row: 0 },\n                };\n            }\n        }\n        throw new Error(`can not found body layout @id=${id}`);\n    }\n    getCellRange(col, row) {\n        const result = { start: { col, row }, end: { col, row } };\n        if (this.headerRowCount <= row) {\n            return result;\n        }\n        //in header\n        const id = this.getCellId(col, row);\n        for (let c = col - 1; c >= 0; c--) {\n            if (id !== this.getCellId(c, row)) {\n                break;\n            }\n            result.start.col = c;\n        }\n        for (let c = col + 1; c < this.colCount; c++) {\n            if (id !== this.getCellId(c, row)) {\n                break;\n            }\n            result.end.col = c;\n        }\n        for (let r = row - 1; r >= 0; r--) {\n            if (id !== this.getCellId(col, r)) {\n                break;\n            }\n            result.start.row = r;\n        }\n        for (let r = row + 1; r < this.headerRowCount; r++) {\n            if (id !== this.getCellId(col, r)) {\n                break;\n            }\n            result.end.row = r;\n        }\n        return result;\n    }\n    getRecordIndexByRow(row) {\n        if (row < this.headerRowCount) {\n            return -1;\n        }\n        else {\n            return row - this.headerRowCount;\n        }\n    }\n    getRecordStartRowByRecordIndex(index) {\n        return this.headerRowCount + index;\n    }\n    _addHeaders(row, header, roots) {\n        const results = [];\n        const rowCells = this._headerCellIds[row] || this._newRow(row);\n        header.forEach((hd) => {\n            const col = this._columns.length;\n            const id = seqId++;\n            const cell = {\n                id,\n                caption: hd.caption,\n                field: hd.headerField || hd.field,\n                style: hd.headerStyle,\n                headerType: headerType.ofCell(hd),\n                action: headerAction.ofCell(hd),\n                define: hd,\n            };\n            results[id] = cell;\n            rowCells[col] = id;\n            for (let r = row - 1; r >= 0; r--) {\n                this._headerCellIds[r][col] = roots[r];\n            }\n            if (hd.columns) {\n                this._addHeaders(row + 1, hd.columns, [\n                    ...roots,\n                    id,\n                ]).forEach((c) => results.push(c));\n            }\n            else {\n                const colDef = hd;\n                this._columns.push({\n                    id: seqId++,\n                    field: colDef.field,\n                    width: colDef.width,\n                    minWidth: colDef.minWidth,\n                    maxWidth: colDef.maxWidth,\n                    icon: colDef.icon,\n                    message: colDef.message,\n                    columnType: columns.type.of(colDef.columnType),\n                    action: columns.action.of(colDef.action),\n                    style: colDef.style,\n                    define: colDef,\n                });\n                for (let r = row + 1; r < this._headerCellIds.length; r++) {\n                    this._headerCellIds[r][col] = id;\n                }\n            }\n        });\n        return results;\n    }\n    _newRow(row) {\n        const newRow = (this._headerCellIds[row] = []);\n        if (!this._columns.length) {\n            return newRow;\n        }\n        const prev = this._headerCellIds[row - 1];\n        for (let col = 0; col < prev.length; col++) {\n            newRow[col] = prev[col];\n        }\n        return newRow;\n    }\n}\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nlet seqId = -1;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyHeaderData() {\n    return {\n        id: seqId--,\n        define: {},\n        headerType: headerType.of(null),\n    };\n}\nexports.newEmptyHeaderData = newEmptyHeaderData;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyColumnData() {\n    return {\n        id: seqId--,\n        define: {},\n        columnType: columns.type.of(null),\n        style: null,\n    };\n}\nexports.newEmptyColumnData = newEmptyColumnData;\nclass EmptyDataCache {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.headers = [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.columns = [];\n    }\n    getHeader(col, row) {\n        const rows = this.headers[row] || (this.headers[row] = []);\n        return rows[col] || (rows[col] = newEmptyHeaderData());\n    }\n    getBody(col, row) {\n        const rows = this.columns[row] || (this.columns[row] = []);\n        return rows[col] || (rows[col] = newEmptyColumnData());\n    }\n}\nexports.EmptyDataCache = EmptyDataCache;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = void 0;\nconst columns = __importStar(require(\"./columns\"));\nexports.columns = columns;\nconst core = __importStar(require(\"./core\"));\nexports.core = core;\nconst data = __importStar(require(\"./data\"));\nexports.data = data;\nconst headers = __importStar(require(\"./headers\"));\nexports.headers = headers;\nconst icons = __importStar(require(\"./icons\"));\nconst register = __importStar(require(\"./register\"));\nexports.register = register;\nconst themes = __importStar(require(\"./themes\"));\nexports.themes = themes;\nconst tools = __importStar(require(\"./tools\"));\nexports.tools = tools;\nconst ListGrid_1 = require(\"./ListGrid\");\nObject.defineProperty(exports, \"ListGrid\", { enumerable: true, get: function () { return ListGrid_1.ListGrid; } });\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\nObject.defineProperty(exports, \"GridCanvasHelper\", { enumerable: true, get: function () { return GridCanvasHelper_1.GridCanvasHelper; } });\nvar get_internal_1 = require(\"./get-internal\");\nObject.defineProperty(exports, \"_getInternal\", { enumerable: true, get: function () { return get_internal_1.getInternal; } });\n/** @private */\nfunction getIcons() {\n    return icons.get();\n}\nexports.getIcons = getIcons;\n// backward compatibility\nexports.default = {\n    core,\n    tools,\n    // impl Grids\n    ListGrid: ListGrid_1.ListGrid,\n    // objects\n    columns,\n    headers,\n    themes,\n    data,\n    // helper\n    GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\n    //plugin registers\n    register,\n    get icons() {\n        return getIcons();\n    },\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"default\", {\n    enumerable: false,\n    configurable: true,\n    get() {\n        return themes.getDefault();\n    },\n    set(defaultTheme) {\n        themes.setDefault(defaultTheme);\n    },\n});\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"choices\", {\n    enumerable: false,\n    configurable: true,\n    get() {\n        return themes.getChoices();\n    },\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.icons = void 0;\nexports.icons = {};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.themes = void 0;\nexports.themes = {};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.icons = exports.icon = exports.theme = void 0;\nconst icons_1 = require(\"./plugins/icons\");\nconst themes_1 = require(\"./plugins/themes\");\nfunction register(obj, name, value) {\n    const old = obj[name];\n    obj[name] = value;\n    return old;\n}\nfunction registers(obj, values) {\n    for (const k in values) {\n        obj[k] = values[k];\n    }\n}\nfunction theme(name, theme) {\n    if (theme != null) {\n        return register(themes_1.themes, name, theme);\n    }\n    else {\n        return themes_1.themes[name];\n    }\n}\nexports.theme = theme;\nfunction icon(name, icon) {\n    if (icon != null) {\n        return register(icons_1.icons, name, icon);\n    }\n    else {\n        return icons_1.icons[name];\n    }\n}\nexports.icon = icon;\nfunction icons(icons) {\n    return registers(icons_1.icons, icons);\n}\nexports.icons = icons;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\nconst utils_1 = require(\"./internal/utils\");\nconst theme_1 = require(\"./themes/theme\");\nconst BASIC_1 = __importDefault(require(\"./themes/BASIC\"));\nconst MATERIAL_DESIGN_1 = __importDefault(require(\"./themes/MATERIAL_DESIGN\"));\nconst themes_1 = require(\"./plugins/themes\");\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\nconst builtin = {\n    BASIC: exports.BASIC,\n    MATERIAL_DESIGN: exports.MATERIAL_DESIGN,\n};\nlet defTheme = exports.MATERIAL_DESIGN;\nexports.theme = { Theme: theme_1.Theme };\nfunction of(value) {\n    if (!value) {\n        return null;\n    }\n    if (typeof value === \"string\") {\n        const t = utils_1.getIgnoreCase(getChoices(), value);\n        if (t) {\n            return t;\n        }\n        return null;\n    }\n    if (value instanceof theme_1.Theme) {\n        return value;\n    }\n    return new theme_1.Theme(value);\n}\nexports.of = of;\nfunction getDefault() {\n    return defTheme;\n}\nexports.getDefault = getDefault;\nfunction setDefault(defaultTheme) {\n    defTheme = of(defaultTheme) || defTheme;\n}\nexports.setDefault = setDefault;\nfunction getChoices() {\n    return utils_1.extend(builtin, themes_1.themes);\n}\nexports.getChoices = getChoices;\n","\"use strict\";\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction DEFAULT_BG_COLOR(args) {\n    const { row, grid } = args;\n    if (row < grid.frozenRowCount) {\n        return \"#FFF\";\n    }\n    const index = grid.getRecordIndexByRow(row);\n    if (!(index & 1)) {\n        return \"#FFF\";\n    }\n    else {\n        return \"#F6F6F6\";\n    }\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n    let stop;\n    const stopsKey = [];\n    for (stop in colorStops) {\n        stopsKey.push(`${stop}@${colorStops[stop]}`);\n    }\n    const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\n    const ret = cacheLinearGradient[key];\n    if (ret) {\n        return ret;\n    }\n    const grad = context.createLinearGradient(left, top, left, bottom);\n    for (stop in colorStops) {\n        grad.addColorStop(Number(stop), colorStops[stop]);\n    }\n    return (cacheLinearGradient[key] = grad);\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n    const { col, grid, grid: { frozenRowCount }, context, } = args;\n    const { left, top } = grid.getCellRelativeRect(col, 0);\n    const { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n    return getLinearGradient(context, left, top, left, bottom, {\n        0: \"#FFF\",\n        1: \"#D3D3D3\",\n    });\n}\n/**\n * basic theme\n * @name BASIC\n * @memberof cheetahGrid.themes.choices\n */\nexports.default = {\n    color: \"#000\",\n    // frozenRowsColor: '#000',\n    defaultBgColor: DEFAULT_BG_COLOR,\n    frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n    selectionBgColor: \"#CCE0FF\",\n    borderColor: \"#000\",\n    // frozenRowsBorderColor: '#000',\n    highlightBorderColor: \"#5E9ED6\",\n    checkbox: {\n        uncheckBgColor: \"#FFF\",\n        checkBgColor: \"rgb(76, 73, 72)\",\n        borderColor: \"#000\",\n    },\n    radioButton: {\n        checkColor: \"rgb(76, 73, 72)\",\n        checkBorderColor: \"#000\",\n        uncheckBorderColor: \"#000\",\n        uncheckBgColor: \"#FFF\",\n        checkBgColor: \"#FFF\",\n    },\n    button: {\n        color: \"#FFF\",\n        bgColor: \"#2196F3\",\n    },\n    header: {\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\n    },\n    underlayBackgroundColor: \"#F6F6F6\",\n};\n","\"use strict\";\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n    const { row, grid: { frozenRowCount }, } = args;\n    if (frozenRowCount - 1 === row) {\n        return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\n    }\n    else {\n        return [\"#f2f2f2\"];\n    }\n}\nfunction BORDER_COLOR(args) {\n    const { col, row, grid } = args;\n    const { colCount, frozenColCount, recordRowCount } = grid;\n    let top = \"#ccc7c7\";\n    let bottom = \"#ccc7c7\";\n    if (recordRowCount > 1) {\n        const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n        const endRow = startRow + recordRowCount - 1;\n        if (startRow !== row) {\n            top = null;\n        }\n        if (endRow !== row) {\n            bottom = null;\n        }\n    }\n    if (frozenColCount - 1 === col) {\n        return [top, \"#f2f2f2\", bottom, null];\n    }\n    if (colCount - 1 === col) {\n        return [top, \"#f2f2f2\", bottom, null];\n    }\n    return [top, null, bottom, null];\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @memberof cheetahGrid.themes.choices\n */\nexports.default = {\n    color: \"rgba(0, 0, 0, 0.87)\",\n    frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\n    defaultBgColor: \"#FFF\",\n    // frozenRowsBgColor: '#FFF',\n    selectionBgColor: \"#CCE0FF\",\n    borderColor: BORDER_COLOR,\n    frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n    highlightBorderColor: \"#5E9ED6\",\n    checkbox: {\n        // uncheckBgColor: '#FFF',\n        checkBgColor: \"rgb(76, 73, 72)\",\n        borderColor: \"rgba(0, 0, 0, 0.26)\",\n    },\n    radioButton: {\n        checkColor: \"rgb(76, 73, 72)\",\n        checkBorderColor: \"rgb(76, 73, 72)\",\n        uncheckBorderColor: \"rgb(189, 189, 189)\",\n    },\n    button: {\n        color: \"#FFF\",\n        bgColor: \"#2196F3\",\n    },\n    header: {\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\n    },\n    underlayBackgroundColor: \"#FFF\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Theme = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst symbolManager_1 = require(\"../internal/symbolManager\");\n//private symbol\nconst _ = symbolManager_1.get();\nfunction getProp(obj, superObj, names, defNames) {\n    return (utils_1.getChainSafe(obj, ...names) ||\n        utils_1.getChainSafe(superObj, ...names) ||\n        (defNames && utils_1.getChainSafe(obj, ...defNames)) ||\n        (defNames && utils_1.getChainSafe(superObj, ...defNames)));\n}\nclass Theme {\n    constructor(obj, superTheme) {\n        this._checkbox = null;\n        this._radioButton = null;\n        this._button = null;\n        this._header = null;\n        this[_] = {\n            obj,\n            superTheme: superTheme,\n        };\n    }\n    get font() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"font\"]);\n    }\n    get underlayBackgroundColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\n    }\n    // color\n    get color() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"color\"]);\n    }\n    get frozenRowsColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\n    }\n    // background\n    get defaultBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"defaultBgColor\"]);\n    }\n    get frozenRowsBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\n    }\n    get selectionBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\n    }\n    get highlightBgColor() {\n        if (this.hasProperty([\"highlightBgColor\"])) {\n            const { obj, superTheme } = this[_];\n            return getProp(obj, superTheme, [\"highlightBgColor\"]);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return (args) => {\n            const color = args.row < args.grid.frozenRowCount\n                ? this.frozenRowsBgColor\n                : this.defaultBgColor;\n            if (typeof color === \"function\") {\n                return color(args);\n            }\n            return color;\n        };\n    }\n    // border\n    get borderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"borderColor\"]);\n    }\n    get frozenRowsBorderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\n    }\n    get highlightBorderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\n    }\n    get checkbox() {\n        const { obj, superTheme } = this[_];\n        return (this._checkbox ||\n            (this._checkbox = {\n                get uncheckBgColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n                },\n                get checkBgColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"checkBgColor\"], [\"borderColor\"]);\n                },\n                get borderColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"borderColor\"], [\"borderColor\"]);\n                },\n            }));\n    }\n    get radioButton() {\n        const { obj, superTheme } = this[_];\n        return (this._radioButton ||\n            (this._radioButton = {\n                get checkColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkColor\"], [\"color\"]);\n                },\n                get uncheckBorderColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"uncheckBorderColor\"], [\"borderColor\"]);\n                },\n                get checkBorderColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkBorderColor\"], [\"borderColor\"]);\n                },\n                get uncheckBgColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n                },\n                get checkBgColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkBgColor\"], [\"defaultBgColor\"]);\n                },\n            }));\n    }\n    get button() {\n        const { obj, superTheme } = this[_];\n        return (this._button ||\n            (this._button = {\n                get color() {\n                    return getProp(obj, superTheme, [\"button\", \"color\"], [\"color\"]);\n                },\n                get bgColor() {\n                    return getProp(obj, superTheme, [\"button\", \"bgColor\"], [\"defaultBgColor\"]);\n                },\n            }));\n    }\n    get header() {\n        const { obj, superTheme } = this[_];\n        return (this._header ||\n            (this._header = {\n                get sortArrowColor() {\n                    return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\n                },\n            }));\n    }\n    hasProperty(names) {\n        const { obj, superTheme } = this[_];\n        return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\n    }\n    extends(obj) {\n        return new Theme(obj, this);\n    }\n}\nexports.Theme = Theme;\nfunction hasThemeProperty(obj, names) {\n    if (obj instanceof Theme) {\n        return obj.hasProperty(names);\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let o = obj;\n        if (!o) {\n            return false;\n        }\n        for (let index = 0; index < names.length; index++) {\n            const name = names[index];\n            o = o[name];\n            if (!o) {\n                return false;\n            }\n        }\n        return !!o;\n    }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.canvashelper = void 0;\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\nexports.canvashelper = canvashelper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\nconst canvases_1 = require(\"../internal/canvases\");\nconst { ceil, PI } = Math;\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n    function strokeRectLines(positions) {\n        for (let i = 0; i < borderColors.length; i++) {\n            const color = borderColors[i];\n            const preColor = borderColors[i - 1];\n            if (color) {\n                if (preColor !== color) {\n                    if (preColor) {\n                        ctx.strokeStyle = preColor;\n                        ctx.stroke();\n                    }\n                    const pos1 = positions[i];\n                    ctx.beginPath();\n                    ctx.moveTo(pos1.x, pos1.y);\n                }\n                const pos2 = positions[i + 1];\n                ctx.lineTo(pos2.x, pos2.y);\n            }\n            else {\n                if (preColor) {\n                    ctx.strokeStyle = preColor;\n                    ctx.stroke();\n                }\n            }\n        }\n        const preColor = borderColors[borderColors.length - 1];\n        if (preColor) {\n            ctx.strokeStyle = preColor;\n            ctx.stroke();\n        }\n    }\n    if (borderColors[0] === borderColors[1] &&\n        borderColors[0] === borderColors[2] &&\n        borderColors[0] === borderColors[3]) {\n        if (borderColors[0]) {\n            ctx.strokeStyle = borderColors[0];\n            ctx.strokeRect(left, top, width, height);\n        }\n    }\n    else {\n        strokeRectLines([\n            { x: left, y: top },\n            { x: left + width, y: top },\n            { x: left + width, y: top + height },\n            { x: left, y: top + height },\n            { x: left, y: top },\n        ]);\n    }\n}\nexports.strokeColorsRect = strokeColorsRect;\nfunction roundRect(ctx, left, top, width, height, radius) {\n    ctx.beginPath();\n    ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n    ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n    ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n    ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n    ctx.closePath();\n}\nexports.roundRect = roundRect;\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n    roundRect(ctx, left, top, width, height, radius);\n    ctx.fill();\n}\nexports.fillRoundRect = fillRoundRect;\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n    roundRect(ctx, left, top, width, height, radius);\n    ctx.stroke();\n}\nexports.strokeRoundRect = strokeRoundRect;\nfunction fillCircle(ctx, left, top, width, height) {\n    const min = Math.min(width, height) / 2;\n    ctx.beginPath();\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.fill();\n}\nexports.fillCircle = fillCircle;\nfunction strokeCircle(ctx, left, top, width, height) {\n    const min = Math.min(width, height) / 2;\n    ctx.beginPath();\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.stroke();\n}\nexports.strokeCircle = strokeCircle;\nfunction fillTextRect(ctx, text, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcBasePosition(ctx, rect, {\n            offset,\n            padding,\n        });\n        ctx.fillText(text, pos.x, pos.y);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.fillTextRect = fillTextRect;\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcStartPosition(ctx, rect, destWidth, destHeight, {\n            offset,\n            padding,\n        });\n        ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawInlineImageRect = drawInlineImageRect;\n/**\n * Returns an object containing the width of the checkbox.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the checkbox\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction measureCheckbox(ctx) {\n    return {\n        width: canvases_1.getFontSize(ctx, null).width,\n    };\n}\nexports.measureCheckbox = measureCheckbox;\n/**\n * Returns an object containing the width of the radio button.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the radio button\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction measureRadioButton(ctx) {\n    return {\n        width: canvases_1.getFontSize(ctx, null).width,\n    };\n}\nexports.measureRadioButton = measureRadioButton;\n/**\n * draw Checkbox\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {boolean|number} check checkbox check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction drawCheckbox(ctx, x, y, check, { uncheckBgColor = \"#FFF\", checkBgColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", boxSize = measureCheckbox(ctx).width, } = {}) {\n    const checkPoint = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\n    ctx.save();\n    try {\n        ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n        const leftX = ceil(x);\n        const topY = ceil(y);\n        const size = ceil(boxSize);\n        fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = borderColor;\n        strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\n        if (check) {\n            ctx.lineWidth = ceil(boxSize / 10);\n            ctx.strokeStyle = uncheckBgColor;\n            let leftWidth = boxSize / 4;\n            let rightWidth = (boxSize / 2) * 0.9;\n            const leftLeftPos = x + boxSize * 0.2;\n            const leftTopPos = y + boxSize / 2;\n            if (checkPoint < 0.5) {\n                leftWidth *= checkPoint * 2;\n            }\n            ctx.beginPath();\n            ctx.moveTo(leftLeftPos, leftTopPos);\n            ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n            if (checkPoint > 0.5) {\n                if (checkPoint < 1) {\n                    rightWidth *= (checkPoint - 0.5) * 2;\n                }\n                ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n            }\n            ctx.stroke();\n        }\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawCheckbox = drawCheckbox;\n/**\n * draw Radio button\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {boolean|number} check radio button check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction drawRadioButton(ctx, x, y, check, { checkColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", bgColor = \"#FFF\", boxSize = measureRadioButton(ctx).width, } = {}) {\n    const ratio = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\n    ctx.save();\n    try {\n        ctx.fillStyle = bgColor;\n        const leftX = ceil(x);\n        const topY = ceil(y);\n        const size = ceil(boxSize);\n        fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = borderColor;\n        strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\n        if (check) {\n            const checkSize = (size * ratio) / 2;\n            const padding = (size - checkSize) / 2;\n            ctx.fillStyle = checkColor;\n            fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\n        }\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawRadioButton = drawRadioButton;\n/**\n * draw Button\n */\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n    const { backgroundColor = \"#FFF\", bgColor = backgroundColor, radius = 4, shadow = {}, } = option;\n    ctx.save();\n    try {\n        ctx.fillStyle = bgColor;\n        if (shadow) {\n            const { color = \"rgba(0, 0, 0, 0.24)\", blur = 1, offsetX = 0, offsetY = 2, offset: { x: ox = offsetX, y: oy = offsetY } = {}, } = shadow;\n            ctx.shadowColor = color;\n            ctx.shadowBlur = blur; //\n            ctx.shadowOffsetX = ox;\n            ctx.shadowOffsetY = oy;\n        }\n        fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawButton = drawButton;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTooltip = void 0;\nclass BaseTooltip {\n    constructor(grid) {\n        this._grid = grid;\n    }\n    dispose() {\n        this.detachTooltipElement();\n        if (this._tooltipElement) {\n            this._tooltipElement.dispose();\n        }\n        this._tooltipElement = undefined;\n    }\n    _getTooltipElement() {\n        if (this._tooltipElement) {\n            return this._tooltipElement;\n        }\n        return (this._tooltipElement = this.createTooltipElementInternal());\n    }\n    attachTooltipElement(col, row, content) {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement.attach(this._grid, col, row, content);\n    }\n    moveTooltipElement(col, row) {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement.move(this._grid, col, row);\n    }\n    detachTooltipElement() {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement._detach();\n    }\n}\nexports.BaseTooltip = BaseTooltip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tooltip = void 0;\nconst BaseTooltip_1 = require(\"./BaseTooltip\");\nconst TooltipElement_1 = require(\"./internal/TooltipElement\");\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\n    createTooltipElementInternal() {\n        return new TooltipElement_1.TooltipElement();\n    }\n}\nexports.Tooltip = Tooltip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TooltipHandler = void 0;\nconst LG_EVENT_TYPE_1 = require(\"../list-grid/LG_EVENT_TYPE\");\nconst Tooltip_1 = require(\"./Tooltip\");\nconst utils_1 = require(\"../internal/utils\");\nconst TOOLTIP_INSTANCE_FACTORY = {\n    \"overflow-text\"(grid) {\n        return new Tooltip_1.Tooltip(grid);\n    },\n};\nfunction getTooltipInstanceInfo(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngrid, col, row) {\n    //\n    // overflow text tooltip\n    const overflowText = grid.getCellOverflowText(col, row);\n    if (overflowText) {\n        return {\n            type: \"overflow-text\",\n            content: overflowText,\n        };\n    }\n    return null;\n}\nclass TooltipHandler {\n    constructor(grid) {\n        this._grid = grid;\n        this._tooltipInstances = {};\n        this._bindGridEvent(grid);\n    }\n    dispose() {\n        const tooltipInstances = this._tooltipInstances;\n        for (const k in tooltipInstances) {\n            tooltipInstances[k].dispose();\n        }\n        delete this._tooltipInstances;\n        this._attachInfo = null;\n    }\n    _attach(col, row) {\n        const info = this._attachInfo;\n        const instanceInfo = this._getTooltipInstanceInfo(col, row);\n        if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n            info.instance.detachTooltipElement();\n            this._attachInfo = null;\n        }\n        if (!instanceInfo) {\n            return;\n        }\n        const { instance } = instanceInfo;\n        instance.attachTooltipElement(col, row, instanceInfo.content);\n        const range = this._grid.getCellRange(col, row);\n        this._attachInfo = { range, instance };\n    }\n    _move(col, row) {\n        const info = this._attachInfo;\n        if (!info || !utils_1.cellInRange(info.range, col, row)) {\n            return;\n        }\n        const { instance } = info;\n        instance.moveTooltipElement(col, row);\n    }\n    _detach() {\n        const info = this._attachInfo;\n        if (!info) {\n            return;\n        }\n        const { instance } = info;\n        instance.detachTooltipElement();\n        this._attachInfo = null;\n    }\n    _isAttachCell(col, row) {\n        const info = this._attachInfo;\n        if (!info) {\n            return false;\n        }\n        return utils_1.cellInRange(info.range, col, row);\n    }\n    _bindGridEvent(grid) {\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (e.related) {\n                if (this._isAttachCell(e.col, e.row)) {\n                    return;\n                }\n            }\n            this._attach(e.col, e.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (e.related) {\n                if (this._isAttachCell(e.related.col, e.related.row)) {\n                    return;\n                }\n            }\n            this._detach();\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            if (this._isAttachCell(e.col, e.row)) {\n                this._detach();\n            }\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n            const info = this._attachInfo;\n            if (!info) {\n                return;\n            }\n            this._move(info.range.start.col, info.range.start.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\n            if (this._isAttachCell(e.col, e.row)) {\n                this._detach();\n                this._attach(e.col, e.row);\n            }\n        });\n    }\n    _getTooltipInstanceInfo(col, row) {\n        const grid = this._grid;\n        const tooltipInstances = this._tooltipInstances;\n        const info = getTooltipInstanceInfo(grid, col, row);\n        if (!info) {\n            return null;\n        }\n        const { type } = info;\n        const instance = tooltipInstances[type] ||\n            (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n        return {\n            instance,\n            type,\n            content: info.content,\n        };\n    }\n}\nexports.TooltipHandler = TooltipHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TooltipElement = void 0;\nconst EventHandler_1 = require(\"../../internal/EventHandler\");\nconst dom_1 = require(\"../../internal/dom\");\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createTooltipDomElement() {\n    require(\"@/tooltip/internal/TooltipElement.css\");\n    const rootElement = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const messageElement = dom_1.createElement(\"pre\", {\n        classList: [CONTENT_CLASSNAME],\n    });\n    rootElement.appendChild(messageElement);\n    return rootElement;\n}\nclass TooltipElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        const rootElement = (this._rootElement = createTooltipDomElement());\n        this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n    }\n    dispose() {\n        this.detach();\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            rootElement.parentElement.removeChild(rootElement);\n        }\n        this._handler.dispose();\n        delete this._rootElement;\n        delete this._messageElement;\n    }\n    attach(grid, col, row, content) {\n        const rootElement = this._rootElement;\n        const messageElement = this._messageElement;\n        rootElement.classList.remove(SHOWN_CLASSNAME);\n        rootElement.classList.add(HIDDEN_CLASSNAME);\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n            messageElement.textContent = content;\n        }\n        else {\n            this._detach();\n        }\n    }\n    move(grid, col, row) {\n        const rootElement = this._rootElement;\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n        }\n        else {\n            this._detach();\n        }\n    }\n    detach() {\n        this._detach();\n    }\n    _detach() {\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            // rootElement.parentElement.removeChild(rootElement);\n            rootElement.classList.remove(SHOWN_CLASSNAME);\n            rootElement.classList.add(HIDDEN_CLASSNAME);\n        }\n    }\n    _attachCell(grid, col, row) {\n        const rootElement = this._rootElement;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        const { bottom: top, left, width } = rect;\n        const { frozenRowCount, frozenColCount } = grid;\n        if (row >= frozenRowCount && frozenRowCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n            if (top < frozenRect.bottom) {\n                return false; //\n            }\n        }\n        else {\n            if (top < 0) {\n                return false; //\n            }\n        }\n        if (col >= frozenColCount && frozenColCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n            if (left < frozenRect.right) {\n                return false; //\n            }\n        }\n        else {\n            if (left < 0) {\n                return false; //\n            }\n        }\n        const { offsetHeight, offsetWidth } = element;\n        if (offsetHeight < top) {\n            return false; //\n        }\n        if (offsetWidth < left) {\n            return false; //\n        }\n        rootElement.style.top = `${top.toFixed()}px`;\n        rootElement.style.left = `${(left + width / 2).toFixed()}px`;\n        rootElement.style.minWidth = `${width.toFixed()}px`;\n        if (rootElement.parentElement !== element) {\n            element.appendChild(rootElement);\n        }\n        return true;\n    }\n}\nexports.TooltipElement = TooltipElement;\n"],"sourceRoot":""}