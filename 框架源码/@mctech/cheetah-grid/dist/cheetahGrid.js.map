{"version":3,"sources":["cheetahGrid/webpack/universalModuleDefinition","cheetahGrid/webpack/bootstrap","cheetahGrid/node_modules/material-design-icons/content/svg/production/ic_add_48px.svg","cheetahGrid/node_modules/material-design-icons/image/svg/production/ic_edit_48px.svg","cheetahGrid/node_modules/material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg","cheetahGrid/node_modules/material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg","cheetahGrid/node_modules/material-design-icons/toggle/svg/production/ic_star_24px.svg","cheetahGrid/node_modules/material-design-icons/toggle/svg/production/ic_star_border_24px.svg","cheetahGrid/node_modules/material-design-icons/toggle/svg/production/ic_star_half_24px.svg","cheetahGrid/../src/js/columns/action/internal/InlineInputElement.css","cheetahGrid/../src/js/columns/action/internal/InlineMenuElement.css","cheetahGrid/../src/js/columns/action/internal/SmallDialogInputElement.css","cheetahGrid/../src/js/columns/message/internal/ErrorMessageElement.css","cheetahGrid/../src/js/columns/message/internal/MessageElement.css","cheetahGrid/../src/js/columns/message/internal/WarningMessageElement.css","cheetahGrid/../src/js/internal/style.css","cheetahGrid/../src/js/tooltip/internal/TooltipElement.css","cheetahGrid/node_modules/css-loader/dist/runtime/api.js","cheetahGrid/node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","cheetahGrid/node_modules/webpack/buildin/global.js","cheetahGrid/../src/js/columns/action/internal/InlineInputElement.css*","cheetahGrid/../src/js/columns/action/internal/InlineMenuElement.css*","cheetahGrid/../src/js/columns/action/internal/SmallDialogInputElement.css*","cheetahGrid/../src/js/columns/message/internal/ErrorMessageElement.css*","cheetahGrid/../src/js/columns/message/internal/MessageElement.css*","cheetahGrid/../src/js/columns/message/internal/WarningMessageElement.css*","cheetahGrid/../src/js/internal/style.css*","cheetahGrid/../src/js/tooltip/internal/TooltipElement.css*","cheetahGrid/./GridCanvasHelper.js","cheetahGrid/./ListGrid.js","cheetahGrid/./columns.js","cheetahGrid/./columns/action.js","cheetahGrid/./columns/action/Action.js","cheetahGrid/./columns/action/BaseAction.js","cheetahGrid/./columns/action/BaseInputEditor.js","cheetahGrid/./columns/action/ButtonAction.js","cheetahGrid/./columns/action/CheckEditor.js","cheetahGrid/./columns/action/Editor.js","cheetahGrid/./columns/action/InlineInputEditor.js","cheetahGrid/./columns/action/InlineMenuEditor.js","cheetahGrid/./columns/action/RadioEditor.js","cheetahGrid/./columns/action/SmallDialogInputEditor.js","cheetahGrid/./columns/action/action-utils.js","cheetahGrid/./columns/action/actionBind.js","cheetahGrid/./columns/action/internal/InlineInputElement.js","cheetahGrid/./columns/action/internal/InlineMenuElement.js","cheetahGrid/./columns/action/internal/SmallDialogInputElement.js","cheetahGrid/./columns/action/internal/input-value-handler.js","cheetahGrid/./columns/message/BaseMessage.js","cheetahGrid/./columns/message/ErrorMessage.js","cheetahGrid/./columns/message/InfoMessage.js","cheetahGrid/./columns/message/MessageHandler.js","cheetahGrid/./columns/message/WarningMessage.js","cheetahGrid/./columns/message/internal/ErrorMessageElement.js","cheetahGrid/./columns/message/internal/MessageElement.js","cheetahGrid/./columns/message/internal/WarningMessageElement.js","cheetahGrid/./columns/message/messageUtils.js","cheetahGrid/./columns/style.js","cheetahGrid/./columns/style/BaseStyle.js","cheetahGrid/./columns/style/BranchGraphStyle.js","cheetahGrid/./columns/style/ButtonStyle.js","cheetahGrid/./columns/style/CheckStyle.js","cheetahGrid/./columns/style/IconStyle.js","cheetahGrid/./columns/style/ImageStyle.js","cheetahGrid/./columns/style/MenuStyle.js","cheetahGrid/./columns/style/MultilineTextStyle.js","cheetahGrid/./columns/style/NumberStyle.js","cheetahGrid/./columns/style/PercentCompleteBarStyle.js","cheetahGrid/./columns/style/RadioStyle.js","cheetahGrid/./columns/style/StdBaseStyle.js","cheetahGrid/./columns/style/Style.js","cheetahGrid/./columns/type.js","cheetahGrid/./columns/type/BaseColumn.js","cheetahGrid/./columns/type/BranchGraphColumn.js","cheetahGrid/./columns/type/ButtonColumn.js","cheetahGrid/./columns/type/CheckColumn.js","cheetahGrid/./columns/type/Column.js","cheetahGrid/./columns/type/IconColumn.js","cheetahGrid/./columns/type/ImageColumn.js","cheetahGrid/./columns/type/MenuColumn.js","cheetahGrid/./columns/type/MultilineTextColumn.js","cheetahGrid/./columns/type/NumberColumn.js","cheetahGrid/./columns/type/PercentCompleteBarColumn.js","cheetahGrid/./columns/type/RadioColumn.js","cheetahGrid/./columns/type/columnUtils.js","cheetahGrid/./columns/utils/index.js","cheetahGrid/./core.js","cheetahGrid/./core/DG_EVENT_TYPE.js","cheetahGrid/./core/DrawGrid.js","cheetahGrid/./core/EventTarget.js","cheetahGrid/./data.js","cheetahGrid/./data/CachedDataSource.js","cheetahGrid/./data/DataSource.js","cheetahGrid/./data/FilterDataSource.js","cheetahGrid/./element/Inline.js","cheetahGrid/./element/InlineDrawer.js","cheetahGrid/./element/InlineIcon.js","cheetahGrid/./element/InlineImage.js","cheetahGrid/./element/InlinePath2D.js","cheetahGrid/./element/InlineSvg.js","cheetahGrid/./element/inlines.js","cheetahGrid/./get-internal.js","cheetahGrid/./header/action.js","cheetahGrid/./header/action/BaseAction.js","cheetahGrid/./header/action/CheckHeaderAction.js","cheetahGrid/./header/action/SortHeaderAction.js","cheetahGrid/./header/action/actionBind.js","cheetahGrid/./header/style.js","cheetahGrid/./header/style/BaseStyle.js","cheetahGrid/./header/style/CheckHeaderStyle.js","cheetahGrid/./header/style/MultilineTextHeaderStyle.js","cheetahGrid/./header/style/SortHeaderStyle.js","cheetahGrid/./header/style/StdBaseStyle.js","cheetahGrid/./header/style/Style.js","cheetahGrid/./header/type.js","cheetahGrid/./header/type/BaseHeader.js","cheetahGrid/./header/type/CheckHeader.js","cheetahGrid/./header/type/Header.js","cheetahGrid/./header/type/MultilineTextHeader.js","cheetahGrid/./header/type/SortHeader.js","cheetahGrid/./headers.js","cheetahGrid/./icons.js","cheetahGrid/./internal/EventHandler.js","cheetahGrid/./internal/LRUCache.js","cheetahGrid/./internal/NumberMap.js","cheetahGrid/./internal/Rect.js","cheetahGrid/./internal/Scrollable.js","cheetahGrid/./internal/animate.js","cheetahGrid/./internal/calc.js","cheetahGrid/./internal/canvases.js","cheetahGrid/./internal/color.js","cheetahGrid/./internal/dom.js","cheetahGrid/./internal/fonts.js","cheetahGrid/./internal/hiDPI.js","cheetahGrid/./internal/icons.js","cheetahGrid/./internal/imgs.js","cheetahGrid/./internal/legacy/canvas/Path2DShim.js","cheetahGrid/./internal/legacy/canvas/PathCommands.js","cheetahGrid/./internal/legacy/canvas/PathCommandsParser.js","cheetahGrid/./internal/legacy/fontwatch/FontRuler.js","cheetahGrid/./internal/legacy/fontwatch/FontWatchRunner.js","cheetahGrid/./internal/menu-items.js","cheetahGrid/./internal/paste-utils.js","cheetahGrid/./internal/path2DManager.js","cheetahGrid/./internal/sort.js","cheetahGrid/./internal/style.js","cheetahGrid/./internal/symbolManager.js","cheetahGrid/./internal/utils.js","cheetahGrid/./list-grid/LG_EVENT_TYPE.js","cheetahGrid/./list-grid/layout-map/index.js","cheetahGrid/./list-grid/layout-map/internal/multi-layout.js","cheetahGrid/./list-grid/layout-map/internal/simple-header-layout.js","cheetahGrid/./list-grid/layout-map/internal/utils.js","cheetahGrid/./main.js","cheetahGrid/./plugins/icons.js","cheetahGrid/./plugins/themes.js","cheetahGrid/./register.js","cheetahGrid/./themes.js","cheetahGrid/./themes/BASIC.js","cheetahGrid/./themes/MATERIAL_DESIGN.js","cheetahGrid/./themes/theme.js","cheetahGrid/./tools.js","cheetahGrid/./tools/canvashelper.js","cheetahGrid/./tooltip/BaseTooltip.js","cheetahGrid/./tooltip/Tooltip.js","cheetahGrid/./tooltip/TooltipHandler.js","cheetahGrid/./tooltip/internal/TooltipElement.js"],"names":["__createBinding","Object","create","o","m","k","k2","undefined","defineProperty","enumerable","get","__setModuleDefault","v","value","__importStar","mod","__esModule","result","hasOwnProperty","call","exports","GridCanvasHelper","calc","require","canvashelper","fonts","inlineUtils","themes","canvases_1","utils_1","InlineDrawer_1","Rect_1","color_1","toBoxArray","style","INLINE_ELLIPSIS","of","invalidateCell","context","grid","col","row","getColor","color","getOrApply","getFont","font","getThemeColor","names","gridThemeColor","getChainSafe","theme","getDefault","defaultThemeColor","args","testFontLoad","check","load","drawInlines","ctx","inlines","rect","offset","offsetTop","offsetBottom","drawInline","inline","offsetLeft","offsetRight","canDraw","save","fillStyle","draw","restore","onReady","length","inlineWidths","map","width","reduce","a","b","forEach","index","inlineWidth","buildInlines","icons","inlineToString","string","getOverflowInline","textOverflow","isAllowOverflow","trim","Boolean","getOverflowInlinesIndex","maxWidth","lineWidth","i","remWidth","isOverflowInlines","breakWidthInlines","indexData","beforeInlines","overflow","afterInlines","slice","canBreak","before","after","breakWord","breakAll","splitIndex","push","truncateInlines","option","overflowInline","ellipsisWidth","_inlineRect","textAlign","textBaseline","truncInlines","setCellOverflowText","_multiInlineRect","multiInlines","lineHeight","autoWrapText","lineClamp","rectHeight","height","Math","max","floor","buildedMultiInlines","procLineClamp","hasNext","join","concat","procLine","lineRow","buildedInline","paddingTop","paddingBottom","em","getFontSize","pad","calcElapsedColor","startColor","endColor","elapsedTime","startColorRGB","colorToRGB","endColorRGB","getRGB","colorName","start","end","diff","ceil","drawCheckbox","helper","animElapsedTime","uncheckBgColor","checkbox","checkBgColor","borderColor","positionOpt","boxWidth","measureCheckbox","pos","calcStartPosition","x","y","drawRadioButton","checkColor","radioButton","uncheckBorderColor","checkBorderColor","measureRadioButton","bgColor","ThemeResolver","constructor","_checkbox","_radioButton","_button","_header","_grid","name","underlayBackgroundColor","frozenRowsColor","defaultBgColor","frozenRowsBgColor","selectionBgColor","highlightBgColor","frozenRowsBorderColor","highlightBorderColor","button","header","sortArrowColor","strokeRect","left","top","Array","isArray","strokeStyle","borderColors","strokeColorsRect","_theme","createCalculator","calcWidth","toPx","full","getRect","getContext","calcHeight","obj","toBoxPixelArray","calculator","box","drawWithClip","drawRect","getDrawRect","beginPath","clip","drawBorderWithClip","clipLeft","clipWidth","clipTop","clipHeight","text","padding","isFrozenCell","paddingNums","Rect","multilineText","multilines","fillText","fillCell","fillColor","fill","fillCellWithState","getFillColorState","fillRect","fillRectWithState","sel","getSelection","cellEquals","select","cellInRange","range","border","startOffset","borderWithState","selection","moveTo","lineTo","bottom","stroke","right","buildCheckBoxInline","self","InlineDrawer","caption","shadow","drawButton","radius","ListGrid","data_1","layout_map_1","MessageHandler_1","style_1","DrawGrid_1","GridCanvasHelper_1","style_2","LG_EVENT_TYPE_1","TooltipHandler_1","symbolManager_1","paste_utils_1","_","getProtectedSymbol","_getCellRange","layoutMap","getCellRange","_updateRect","setRectFilter","startCol","startRow","endCol","endRow","c","getColWidth","r","getRowHeight","bounds","_getCellValue","headerRowCount","getHeader","field","getBody","_getField","_setCellValue","_getRecordIndexByRow","dataSource","setField","_getCellMessage","message","promises","msg","isPromise","hasMessage","Promise","resolve","reject","p","then","_getCellIcon0","icon","isObject","retIcon","iconOpt","iconPropKeys","f","_hasField","_getCellIcon","getField","hasField","_onDrawValue","cellValue","gridCanvasHelper","drawCellBg","fillOpt","drawCellBorder","frozenColCount","frozenRowCount","_borderWithState","drawCellBase","info","getRecord","getRowRecord","getIcon","getMessage","messageHandler","selRecordIndex","getRecordIndexByRow","selId","getCellId","isSelectCell","_refreshHeader","_a","protectedSpace","headerEvents","id","unlisten","layout","MultiLayoutMap","SimpleHeaderLayoutMap","headerObjects","cell","ids","headerType","bindGridEvent","BaseStyle","listen","EVENT_TYPE","CHANGE_STYLE","invalidate","action","columnObjects","columnType","columnWidths","column","minWidth","setColWidth","setMinColWidth","setMaxColWidth","headerRowHeight","setRowHeight","colCount","_refreshRowCount","rowCount","bodyRowCount","_tryWithUpdateDataSource","fn","dataSourceEventIds","handler","off","on","DataSource","UPDATED_LENGTH","UPDATED_ORDER","_setRecords","records","newDataSource","CachedDataSource","ofArray","addDisposable","_setDataSource","EMPTY","_onRangePaste","test","selectionRange","values","parsePasteRangeBoxValues","pasteRowCount","min","pasteColCount","hasEditable","actionColumnsBox","bodyRow","actionColumnsRow","offsetCol","body","editable","getRecordStartRowByRecordIndex","startRowOffset","duplicate","actionRow","valuesRow","offsetRow","valuesCol","getCellValue","record","oldValue","onPasteCellRangeBox","newEnd","invalidateCellRange","_onRangeDelete","deleteRowCount","deleteColCount","_record","_oldValue","onDeleteCellRangeBox","DrawGrid","options","omit","disabled","readOnly","allowRangePaste","sortState","order","MessageHandler","tooltipHandler","TooltipHandler","window","updateSize","updateScroll","LG_EVENT_TYPE","dispose","recordRowCount","oldState","oldField","getHeaderField","newState","newField","setHeaderValue","headerValues","Map","getColumnDefine","define","getColumnType","hd","getHeaderDefine","getColumnIndexByField","getCellRangeByField","colObj","find","layoutRange","getBodyLayoutRangeById","focusGridCell","newFocus","focusCell","invalidateGridRect","makeVisibleGridCell","_b","_c","makeVisibleCell","getGridCanvasHelper","getHeaderCellRange","getCopyCellValue","cellRange","columnData","onDrawCell","doGetCellValue","valueCallback","doChangeValue","changeValueCallback","ret","fireListeners","CHANGED_VALUE","doSetPasteValue","getHeaderValue","newValue","set","CHANGED_HEADER_VALUE","getLayoutCellId","bindEventsInternal","SELECTED_CELL","e","PASTE_CELL","multi","event","cancel","normalizeValue","DELETE_CELL","getMoveLeftColByKeyDownInternal","getMoveRightColByKeyDownInternal","getMoveUpRowByKeyDownInternal","getMoveDownRowByKeyDownInternal","getOffsetInvalidateCells","getCopyRangeInternal","type","InlineMenuEditor","InlineInputEditor","SmallDialogInputEditor","ButtonAction","RadioEditor","CheckEditor","Action","Editor","BaseAction","ACTIONS","Action_1","BaseAction_1","ButtonAction_1","CheckEditor_1","Editor_1","InlineInputEditor_1","InlineMenuEditor_1","RadioEditor_1","SmallDialogInputEditor_1","ImmutableCheckEditor","_disabled","_readOnly","ImmutableRadioEditor","ImmutableInputEditor","CHECK","INPUT","RADIO","columnAction","key","toUpperCase","actionBind_1","action_utils_1","_action","clone","getState","cellId","state","isDisabledRecord","bindCellClickAction","mouseOver","mouseActiveCell","mouseOut","bindCellKeyAction","onChangeDisabledInternal","BaseInputEditor","DG_EVENT_TYPE_1","KEY_ENTER","KEY_F2","open","isReadOnlyRecord","onOpenCellInternal","input","onInputCellInternal","isTarget","DG_EVENT_TYPE","INPUT_CELL","DBLCLICK_CELL","DBLTAP_CELL","KEYDOWN","keyCode","stopCellMoving","onChangeSelectCellInternal","selected","SCROLL","onGridScrollInternal","EDITABLEINPUT_CELL","MODIFY_STATUS_EDITABLEINPUT_CELL","baseRect","getCellRect","rangeRect","getCellRangeRect","parseFloat","toFixed","onSetInputAttrsInternal","BUTTON_COLUMN_STATE_ID","getButtonColumnStateId","setReadonly","animate_1","CHECK_COLUMN_STATE_ID","getCheckColumnStateId","_state","block","elapsed","cellKey","toggleValue","onChange","animate","point","_e","selrange","pasteValue","onChangeReadOnlyInternal","BaseInputEditor_1","InlineInputElement_1","getInlineInputEditorStateId","globalElement","bindGridCount","attachInput","editor","InlineInputElement","element","attach","detachInput","gridFocus","detach","_classList","classList","_type","inputValue","_cell","_selected","setInputAttrs","InlineMenuElement_1","type_1","menu_items_1","getInlineMenuEditorStateId","attachMenu","InlineMenuElement","detachMenu","_options","normalizeToFn","CLICK_CELL","MOUSEOVER_CELL","getElement","cursor","MOUSEMOVE_CELL","MOUSEOUT_CELL","pasteOpt","_pasteDataToOptionValue","_textToOptionValue","hasOptions","normalizePasteValueStr","captionOpt","array","opt","label","MenuColumn","utils_2","RADIO_COLUMN_STATE_ID","getRadioColumnStateId","defaultGroupResolver","recordStartRow","targetRow","_group","group","toBoolean","targets","actionCell","flag","SmallDialogInputElement_1","getSmallDialogInputEditorStateId","SmallDialogInputElement","_helperText","helperText","_inputValidator","inputValidator","_validator","validator","getBooleanOptionOfRecord","val","exec","replace","KEY_SPACE","acceptKeys","indexOf","keyboardOptions","moveCellOnEnter","EventHandler_1","dom_1","input_value_handler_1","KEY_TAB","CLASSNAME","createInputElement","createElement","add","_handler","EventHandler","_input","_bindInputEvents","_beforePropEditor","parentElement","removeChild","remove","getAttachCellsArea","appendChild","setInputValue","_activeData","focus","selectionStart","selectionEnd","document","createTextRange","collapse","moveEnd","moveStart","tryWithOffEvents","_attaching","setTimeout","_isActive","stopPropagationOnly","stopPropagation","contains","getKeyCode","_onKeydownEnter","_onKeydownTab","onKeyDownMove","moveCellOnTab","KEY_UP","KEY_DOWN","KEY_ESC","ITEM_CLASSNAME","HIDDEN_CLASSNAME","SHOWN_CLASSNAME","EMPTY_ITEM_CLASSNAME","findItemParents","target","el","createMenuElement","attachElement","menu","optionToLi","html","item","tabIndex","dataset","valueindex","span","appendHtml","openMenu","empty","emptyItemEl","valueItemEl","focusEl","children","prototype","focusIndex","allHeight","offsetHeight","transformOrigin","menuClientRect","getBoundingClientRect","scaleDiff","orgMenuTop","menuTop","menuBottom","winBottom","innerHeight","winMargin","closeMenu","_col","_row","disableFocus","_menu","_bindMenuEvents","_doChangeValue","Number","n","findPrevSiblingFocusable","findNextSiblingFocusable","shiftKey","querySelector","isFocusable","items","querySelectorAll","INPUT_CLASSNAME","_focus","createDialogElement","bindProps","dialog","unbindProps","_dialog","_bindDialogEvents","errorMessage","activeData","_onInputValue","browser","IE","_beforeValue","_validate","res","onKeyupAndPress","_onInputValueChange","inputOnly","sign","once","BaseMessage","_messageElement","detachMessageElement","_getMessageElement","createMessageElementInternal","attachMessageElement","messageElement","moveMessageElement","move","_detach","drawCellMessage","drawCellMessageInternal","ErrorMessage","messageUtils","BaseMessage_1","ErrorMessageElement_1","RED_A100","ErrorMessageElement","_message","_info","hasFocusGrid","_ctx","drawExclamationMarkBox","InfoMessage","MessageElement_1","GREY_L2","MessageElement","ErrorMessage_1","InfoMessage_1","WarningMessage_1","EMPTY_MESSAGE","MESSAGE_INSTANCE_FACTORY","error","warning","WarningMessage","normalizeMessage","original","toLowerCase","_attachInfo","_messageInstances","_bindGridEvent","messageInstances","instance","_getMessageInstanceOfMessage","_attach","_move","onSelectMessage","setMessageData","newSel","FOCUS_GRID","BLUR_GRID","WarningMessageElement_1","DEEP_ORANGE_A100","WarningMessageElement","MESSAGE_CLASSNAME","_rootElement","createMessageDomElement","rootElement","_attachCell","textContent","frozenRect","offsetWidth","drawInfomationMarkBox","boxRect","copy","MenuStyle","MultilineTextStyle","PercentCompleteBarStyle","IconStyle","ImageStyle","ButtonStyle","RadioStyle","CheckStyle","NumberStyle","Style","BaseStyle_1","ButtonStyle_1","CheckStyle_1","IconStyle_1","ImageStyle_1","MenuStyle_1","MultilineTextStyle_1","NumberStyle_1","PercentCompleteBarStyle_1","RadioStyle_1","Style_1","columnStyle","StyleClassDef","DEFAULT","EventTarget_1","STYLE_EVENT_TYPE","defaultStyle","EventTarget","_bgColor","doChangeStyle","BranchGraphStyle","DEFAULT_BRANCH_COLORS","_name","_branchColors","branchColors","_margin","margin","_circleSize","circleSize","_branchLineWidth","branchLineWidth","_mergeStyle","mergeStyle","defaults","buttonBgColor","_buttonBgColor","StdBaseStyle_1","StdBaseStyle","_uncheckBgColor","_checkBgColor","_borderColor","_imageSizing","imageSizing","appearance","_appearance","_lineHeight","_autoWrapText","_lineClamp","DEFAULT_BAR_COLOR","num","_barColor","barColor","_barBgColor","barBgColor","_barHeight","barHeight","_checkColor","_uncheckBorderColor","_checkBorderColor","_textAlign","_textBaseline","_color","_font","_padding","_textOverflow","MultilineTextColumn","BranchGraphColumn","IconColumn","PercentCompleteBarColumn","ImageColumn","ButtonColumn","RadioColumn","CheckColumn","NumberColumn","Column","BranchGraphColumn_1","ButtonColumn_1","CheckColumn_1","Column_1","IconColumn_1","ImageColumn_1","MenuColumn_1","MultilineTextColumn_1","NumberColumn_1","PercentCompleteBarColumn_1","RadioColumn_1","TYPES","NUMBER","BUTTON","IMAGE","MULTILINETEXT","BaseColumn","styleContents","COLUMN_FADEIN_STATE_ID","getColumnFadeinStateId","isFadeinWhenCallbackInPromise","fadeinWhenCallbackInPromise","configure","getFadeinState","cells","_generateFadeinPointAction","drawInternal","stateKey","opacity","cellState","globalAlpha","fadeinMgr","activeFadeins","margeAnimate","bind","_fadeinWhenCallbackInPromise","StyleClass","promise","Date","now","all","currentContext","toCurrentContext","time","actStyle","convertInternal","drawMessageInternal","_cellId","BaseColumn_1","BranchGraphStyle_1","getBranchGraphColumnStateId","getAllColumnData","callback","allData","data","dataIndex","d","BranchLine","fromIndex","toIndex","colorIndex","BranchPoint","commit","lines","tag","mergeLines","filter","l","froms","tos","t","splice","merge","joinLine","timeline","branchIndex","reverse","j","tl","branch","branches","from","to","findBranchRootIndex","fromTargetIndex","branchTargetFromIndex","branchPoint","targetLine","commitTag","commitMerge","fromTargetLine","pop","calcCommand","command","timelineData","commands","cmd","calcBranchesInfo","calcBranchXPoints","w","textWidth","measureText","renderMerge","upLineIndex","downLineIndex","branchXPoints","lineCap","upX","upRect","getCellRelativeRect","upY","bezierCurveTo","downX","downRect","downY","_start","_cache","cache","clearCache","has","_value","upLineIndexKey","downLineIndexKey","line","pointIndex","sort","arc","PI","closePath","utils","_caption","withCaption","active","loadIcons","blur","offsetY","repeatArray","count","Infinity","_tagName","tagName","_className","className","_content","content","_iconWidth","iconWidth","isNaN","imgs_1","MAX_LRU_CACHE_SIZE","getImage","url","getCacheOrLoad","calcKeepAspectRatioSize","maxHeight","newWidth","newHeight","drawImage","normalize","withOptions","_convertInternal","basePadding","textPadding","iconPadding","path","console","warn","split","defaultFotmat","_format","format","Intl","NumberFormat","fmt","withFormat","MARGIN","_min","_max","_formatter","formatter","svalue","str","endsWith","substr","rate","barMaxWidth","barTop","barLeft","barSize","argIcon","iconList","toNormarizeArray","MOUSEDOWN_CELL","MOUSEUP_CELL","MOUSEENTER_CELL","MOUSELEAVE_CELL","CONTEXTMENU_CELL","RESIZE_COLUMN","hiDPI","NumberMap_1","Scrollable_1","isTouchEvent","getMouseButtons","cancelEvent","createRootElement","KEY_BS","KEY_END","KEY_HOME","KEY_LEFT","KEY_RIGHT","KEY_DEL","KEY_ALPHA_A","KEY_ALPHA_C","KEY_ALPHA_V","_vibrate","navigator","vibrate","_getTargetRowAt","absoluteY","internal","getTargetRowAtInternal","findBefore","startBottom","_getRowHeight","findAfter","candRow","defaultRowHeight","_getRowsHeight","_getTargetColAt","absoluteX","_getColWidth","_getTargetFrozenRowAt","scroll","_getTargetFrozenColAt","_getFrozenRowsRect","canvas","_getFrozenColsRect","_getCellDrawing","drawCells","_putCellDrawing","_removeCellDrawing","keys","_drawCell","absoluteLeft","absoluteTop","visibleRect","skipAbsoluteTop","skipAbsoluteLeft","drawLayers","cellDrawing","dcContext","DrawCellContext","pCol","_delayMode","terminate","_drawRow","initFrozenCol","initCol","drawRight","drawOuter","outerLeft","_getInitContext","_invalidateRect","_getVisibleRect","initRow","_getColsWidth","drawBottom","initFrozenRow","DrawLayers","outerTop","_toPxWidth","round","calcWidthContext","_adjustColWidth","orgWidth","limits","_getColWidthLimits","_applyColWidthLimits","_getColWidthDefine","colWidthsMap","defaultColWidth","limit","colWidthsLimit","minDef","maxDef","isAutoDefine","_calcAutoColWidthExpr","shortCircuit","fullWidth","sumMin","others","autoCount","hasLimitsOnAuto","def","expr","autoPx","strDefs","_colWidthDefineToPxWidth","_setColWidth","put","_storeAutoColWidthExprs","defaultColPxWidth","each","adj","getRowHeightInternal","rowHeightsMap","_setRowHeight","getRowsHeightInternal","h","_getScrollWidth","_getScrollHeight","getScrollHeightInternal","_onScroll","lastLeft","lastTop","moveX","scrollable","scrollLeft","moveY","scrollTop","abs","redrawRect","_onKeyDownMove","ctrlKey","metaKey","hmove","vmove","_moveFocusCell","selectAllOnCtrlA","vDir","hDir","shiftKeyFlg","extendRange","beforeRange","beforeRect","_setFocusCell","afterRange","afterRect","intersection","invalidateRect","_updatedSelection","focusControl","selCol","selRow","results","editMode","findIndex","storeInputStatus","setDefaultInputStatus","_getMouseAbstractPoint","evt","changedTouches","clientX","pageX","scrollX","clientY","pageY","scrollY","_bindEvents","getCellEventArgsSet","abstractPos","getCellAt","eventArgs","canResizeColumn","disableColumnResize","eventArgsSet","resizeCol","_getResizeColAt","columnResizer","cellSelector","hasListeners","doubleTapBefore","longTouchId","defaultPrevented","clearTimeout","isMouseover","mouseEnterCell","mouseOverCell","onMouseenterCell","related","onMouseleaveCell","beforeMouseCell","onMouseoverCell","onMouseoutCell","scrollElement","enterCell","outCell","leaveCell","moving","lastMoving","onKeyDown","onScroll","copyRange","copyValue","copyCellValue","strCellValue","onCopy","onPaste","rangeBoxValues","pasteCellEvent","onInput","onDelete","onFocus","focusedGrid","onBlur","abstractX","abstractY","inPoint","cellRect","_getScrollableVisibleRect","frozenColsWidth","frozenRowsHeight","_toRelativeRect","absoluteRect","BaseMouseDownMover","_events","_started","_moved","last","_mouseEndPoint","pt","_bindMoveAndUp","events","mousemove","_mouseMove","mouseup","_mouseUp","touchmove","passive","touchend","touchcancel","_moveInternal","_upInternal","CellSelector","_getTargetCell","oldCol","oldRow","newCol","newRow","makeVisibleCol","makeVisibleRow","ColumnResizer","_x","_preX","_invalidateAbsoluteLeft","_targetCol","pre","afterSize","setSafeInputValue","FocusControl","_scrollable","_isComposition","_compositionEnd","lastInputValue","inputClear","handleCompositionEnd","stopCellMove","fireKeyDownMove","deleteCellValueOnDel","Edge","isDescendantElement","dummyInput","pasteText","clipboardData","getData","types","setData","_keyDownMoveCallback","setFocusRect","calcTop","getScrollBarSize","resetInputStatus","composition","atts","attributes","removeNames","att","_inputStatus","nodeName","removeName","removeAttribute","setAttribute","inputStatus","Selection","_sel","_end","_wrapFireSelectedEvent","_setSelectCell","keepSelect","_isWraped","_updateGridRange","points","needChange","_layers","addDraw","level","DrawLayer","list","_level","_list","drawing","_rectFilter","_mode","_rect","_drawRect","_drawing","_selection","_drawLayers","_childContexts","_cancel","rectFilter","_getRectInternal","_isOutOfRange","_toRelativeDrawRect","addLayerDraw","fRect","onTerminate","_onTerminate","protectedKey","initDocument","Scrollable","transform","alpha","NumberMap","cellTextOverflows","setFocusCursor","cfg","config","scrollHeight","scrollWidth","setScrollSize","getMaxColWidth","maxwidth","getMinColWidth","minwidth","getCellsRect","isFrozenStartCell","isFrozenEndCell","isFrozenRow","isFrozenCol","getRowAt","frozen","getColAt","oldEditMode","cellsRect","invalidateTarget","visibleRowCount","visibleTop","visibleColCount","visibleLeft","topRow","leftCol","_range","getCellOverflowText","overflowText","disposable","Error","disposables","_absoluteY","_startRow","_endRow","nextId","listeners","listenerData","listener","addEventListener","removeEventListener","FilterDataSource","DataSource_1","CachedDataSource_1","FilterDataSource_1","_setFieldCache","fCache","recCache","_rCache","_fCache","source","getOriginal","getOriginalField","rowCache","setOriginalField","fieldPromiseCallBackInternal","recordPromiseCallBackInternal","isFieldAssessor","UPDATE_LENGTH","getValue","setPromiseBack","maybePromiseValue","promiseValue","fieldGet","fieldResult","ss","applyChainSafe","emptyFn","fieldSet","_getIndex","sortedIndexMap","mapIndex","_sortedIndexMap","_get","_length","_source","hasOriginalField","orderFn","v1","v2","sortPromise","rel","_index","_field","DataSourceIterator","_dataSource","_curIndex","_data","next","_getIndexData","movePrev","nest","FilterData","dc","_owner","_dataSourceItr","_filter","_filterdList","_queues","filterdList","queues","indexQueue","_findIndex","timeout","_findIndexWithTimeout","testTimeout","dataSourceItr","queue","_filterData","Inline","getWidth","breakWidth","itr","candidateIndex","chars","beforeWidth","charWidth","beforeContent","afterContent","_callback","fillTextRect","genChars","allWidth","candidate","genWords","toString","Inline_1","_draw","_width","_arg","InlineIcon","_icon","letterSpacing","InlineImage","src","imageLeft","imageTop","imageWidth","imageHeight","_inlineImgPromise","_inlineImg","_src","_height","_imageLeft","_imageTop","_imageWidth","_imageHeight","_onloaded","s","_loadImage","img","drawInlineImageRect","InlinePath2D","path2DManager","Path2D","getPath2D","_path","translate","InlineSvg","InlineImage_1","buildSvgDataUrl","svg","XMLSerializer","serializeToString","encodeURIComponent","getSvgElement","parser","DOMParser","parseFromString","svgElem","elmWidth","getAttribute","elmHeight","numElmWidth","numElmHeight","iconOf","InlineIcon_1","InlinePath2D_1","InlineSvg_1","drawRegisteredIcon","drawWidth","drawHeight","isIconConstructorOption","isInlineImageConstructorOption","isInlineSvgConstructorOption","regedIcons","regedIcon","il","getInternal","symbolManager","ofCell","CheckHeaderAction","SortHeaderAction","CheckHeaderAction_1","SortHeaderAction_1","ImmutableSortHeaderAction","ImmutableCheckHeaderAction","SORT","headerAction","headerCell","sortMethod","CHECK_HEADER_STATE_ID","getCheckHeaderStateId","checked","_sort","_executeSort","fieldRow","inMouse","MultilineTextHeaderStyle","CheckHeaderStyle","SortHeaderStyle","CheckHeaderStyle_1","MultilineTextHeaderStyle_1","SortHeaderStyle_1","headerStyle","_sortArrowColor","MultilineTextHeader","CheckHeader","SortHeader","Header","BaseHeader","BaseHeader_1","CheckHeader_1","Header_1","MultilineTextHeader_1","SortHeader_1","inlineCheck","arrowSize","icons_1","builtins","arrow_upward","arrow_downward","edit","star","star_border","star_half","extend","_listeners","fire","hasListener","clear","LRUCache","cacheSize","_map","_cacheSize","idx","remKey","shift","indexFirst","arr","elm","low","high","_keys","_vals","_sorted","keyFrom","keyTo","_left","_top","rect1","rect2","_right","_bottom","x0","x1","y0","y1","another","MAX_SCROLL","heightLimit","_p","_endPointElement","_update","relativeTop","domHeight","sbSize","vScrollRange","rScrollRange","cubicBezier","x2","y2","x3","y3","step","err","EASINGS","linear","easeIn","easeOut","easeInOut","raf","isNode","requestAnimationFrame","duration","easing","startedAt","easingFn","canceledFlg","createAnim","anim","TYPE_PAREN","TYPE_UNIT","TYPE_OPERATOR","TYPE_NUMBER","NODE_TYPE_UNIT","NODE_TYPE_BINARY_EXPRESSION","NODE_TYPE_NUMBER","TABULATION","CARRIAGE_RETURN","LINE_FEED","FORM_FEED","SPACE","PERCENT","FULL_STOP","DIGIT_0","DIGIT_9","LATIN_CAPITAL_A","LATIN_CAPITAL_Z","LATIN_SMALL_A","LATIN_SMALL_Z","isUpperLetter","cp","isLowerLetter","isLetter","isWhitespace","isDigit","isDot","isUnit","createError","tokenize","exp","tokens","len","charCodeAt","parseSign","parseNum","parseUnit","unit","PRECEDENCE","lex","buildBinaryExpNode","stack","op","nodeType","token","deep","closeIndex","beforeOp","parse","calcStr","calcNode","node","toPxInternal","ast","calcBasePosition","fontSizeCache","fontName","bk","paddingLeft","paddingRight","rgbMap","styleColorToRGB","dummy","position","styleColor","defaultView","getComputedStyle","colorToRGB0","hexToNum","hex","parseInt","createRGB","g","tripleHexToRGB","sextupleHexToRGB","r1","r2","g1","g2","b1","b2","testRGB","rateToByte","rgb","enableFocus","toNodeList","innerHTML","dom","firstChild","arg","toNode","childNodes","inner","disableBeforeTabIndex","previousSibling","nextSibling","loads","_testStr","fontFaceSet","legacy","testStr","ready","ratio","setRatio","devicePixelRatio","wh","scale","configurable","getIconProps","ICON_PROP_KEYS","quote","quoted","part","doms","props","tagProps","beforeStyle","getPropertyValue","clientWidth","isLiga","toPropArray","prop","toSimpleArray","iconProps","workData","normarize","isIconKey","loadImage","LRUCache_1","allCache","Image","onload","onerror","getCacheOrLoad0","cacheName","Path2DShim","PathCommandsParser_1","PathCommandsParser","_ops","arcTo","ellipse","quadraticCurveTo","CanvasRenderingContext2D","originalFill","apply","PathCommands","mag","sqrt","pow","dot","u","clamp","angle","acos","rotClockwise","cost","cos","sint","sin","rotCounterClockwise","midPoint","meanVec","pointMul","sum","ellipseFromEllipticalArc","rx","ry","phi","fA","fS","xPrime","xPrime2","rx2","ry2","lambda","factor","cPrime","x1UnitVector","x2UnitVector","theta","deltaTheta","rotate","lMx","lMy","lx","ly","reflected","lastCommand","makeReflected","M","px","py","L","H","V","Z","z","C","cp1x","cp1y","cp2x","cp2y","S","cpx","cpy","Q","q","T","A","xAxisRotation","largeArcFlag","sweepFlag","PathCommands_1","pathTokens","builder","argsProvider","_commands","buildPush","numArgs","ops","subsequentCommand","fst","log","FontRuler","computeStyle","display","el_","FontRuler_1","LastResortFonts","SERIF","SANS_SERIF","watchRunners","FontWatchRunner","activeCallbacks","inactiveCallbacks","status","lastResortWidths_","fontRulerA_","fontRulerB_","lastResortRulerA","lastResortRulerB","started_","check_","activeCallback","inactiveCallback","runner","widthA","widthB","isFallbackFont_","isLastResortFont_","finish_","widthMatches_","widthsMatchLastResortWidths_","lastResortFont","hasWebKitFallbackBug","callbacks","cb","HAS_WEBKIT_FALLBACK_BUG","match","userAgent","module","JSON","pathModule","ud","upsideDown","offsetX","xrate","yrate","path2d","sortArray","createArray","createArrayPromise","plist","setArrayField","compare","old","dummyPromise","catch","getScrollBarWidth","SCROLLBAR_SIZE","initDocumentInternal","head","initDocumentVar","Function","Symbol","global","random","cl","mem","getIgnoreCase","arrayFind","arrayFindIndex","predicate","analyzeUserAgent","Chrome","Firefox","Safari","ua","omits","defs","root","searchString","subjectString","isFinite","lastIndex","lastIndexOf","re","buttons","which","preventDefault","simple_header_layout_1","multi_layout_1","columns","normalizeLayout","seqId","LayoutObjectGrid","objects","objectGrid","objectMap","columnCount","rowLayout","_findStartCell","rowSpan","colSpan","rowIndex","objectGridRow","_getObjectGridRow","colIndex","_setWidthDataIfAbsent","_useColumnIndex","_columnWidths","_emptyDataCache","EmptyDataCache","hbLayouut","headerField","_body","colDef","_columnCount","widthDef","_d","bodyLayoutRow","recordIndex","layoutRow","_f","_g","_h","_j","_k","_columns","_headerCellIds","_headerObjects","_addHeaders","_headerObjectMap","roots","rowCells","_newRow","prev","newEmptyColumnData","newEmptyHeaderData","headers","rows","register","getIcons","tools","core","ListGrid_1","get_internal_1","default","defaultTheme","setDefault","getChoices","themes_1","registers","__importDefault","MATERIAL_DESIGN","BASIC","theme_1","BASIC_1","MATERIAL_DESIGN_1","Theme","builtin","defTheme","DEFAULT_BG_COLOR","cacheLinearGradient","getLinearGradient","colorStops","stop","stopsKey","grad","createLinearGradient","addColorStop","FROZEN_ROWS_BG_COLOR","FROZEN_ROWS_BORDER_COLOR","BORDER_COLOR","getProp","superObj","defNames","superTheme","hasProperty","hasThemeProperty","extends","strokeCircle","fillCircle","strokeRoundRect","fillRoundRect","roundRect","strokeRectLines","positions","preColor","pos1","pos2","image","srcLeft","srcTop","srcWidth","srcHeight","destWidth","destHeight","boxSize","checkPoint","leftX","topY","size","leftWidth","rightWidth","leftLeftPos","leftTopPos","checkSize","backgroundColor","ox","oy","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","BaseTooltip","detachTooltipElement","_tooltipElement","_getTooltipElement","createTooltipElementInternal","attachTooltipElement","tooltipElement","moveTooltipElement","Tooltip","BaseTooltip_1","TooltipElement_1","TooltipElement","Tooltip_1","TOOLTIP_INSTANCE_FACTORY","getTooltipInstanceInfo","_tooltipInstances","tooltipInstances","instanceInfo","_getTooltipInstanceInfo","_isAttachCell","CONTENT_CLASSNAME","createTooltipDomElement"],"mappings":";;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;QCVA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;;QAEA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;;;QAGA;QACA;;QAEA;QACA;;QAEA;QACA;QACA;QACA,0CAA0C,gCAAgC;QAC1E;QACA;;QAEA;QACA;QACA;QACA,wDAAwD,kBAAkB;QAC1E;QACA,iDAAiD,cAAc;QAC/D;;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA,yCAAyC,iCAAiC;QAC1E,gHAAgH,mBAAmB,EAAE;QACrI;QACA;;QAEA;QACA;QACA;QACA,2BAA2B,0BAA0B,EAAE;QACvD,iCAAiC,eAAe;QAChD;QACA;QACA;;QAEA;QACA,sDAAsD,+DAA+D;;QAErH;QACA;;;QAGA;QACA;;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,E;;;;;;;;;;;;;ACVA;AAAA;AAAA;AAAA;AACqG;AACrG,8BAA8B,mFAA2B;AACzD;AACA,8BAA8B,QAAS,0CAA0C,kBAAkB,4BAA4B,kBAAkB,8BAA8B,sBAAsB;AACrM;AACe,sFAAuB,EAAC;;;;;;;;;;;;;;ACNvC;AAAA;AAAA;AAAA;AACqG;AACrG,8BAA8B,mFAA2B;AAC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;;;ACN1B;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAgB;;AAEhB;AACA;AACA;;AAEA;AACA,4CAA4C,qBAAqB;AACjE;;AAEA;AACA,KAAK;AACL,IAAI;AACJ;;;AAGA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,qBAAqB,iBAAiB;AACtC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,oBAAoB,qBAAqB;AACzC;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,8BAA8B;;AAE9B;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;;AAEA;AACA,CAAC;;;AAGD;AACA;AACA;AACA,qDAAqD,cAAc;AACnE;AACA,C;;;;;;;;;;;;;AC7Fa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;AACA;AACA;AACA;AACA,uDAAuD;;AAEvD;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,CAAC;;AAED;;AAEA;AACA;;AAEA,iBAAiB,wBAAwB;AACzC;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,iBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,gBAAgB,KAAwC,GAAG,sBAAiB,GAAG,SAAI;;AAEnF;AACA;AACA;AACA;;AAEA;AACA;AACA,GAAG;;AAEH;AACA;AACA,GAAG;AACH;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;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","file":"cheetahGrid.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cheetahGrid\"] = factory();\n\telse\n\t\troot[\"cheetahGrid\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./main.js\");\n","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z\"/></svg>\n\t@ material-design-icons/content/svg/production/ic_add_48px.svg\n\t*/\n\td: 'M38 26H26v12h-4V26H10v-4h12V10h4v12h12v4z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z\"/></svg>\n\t@ material-design-icons/image/svg/production/ic_edit_48px.svg\n\t*/\n\td: 'M6 34.5V42h7.5l22.13-22.13-7.5-7.5L6 34.5zm35.41-20.41c.78-.78.78-2.05 0-2.83l-4.67-4.67c-.78-.78-2.05-.78-2.83 0l-3.66 3.66 7.5 7.5 3.66-3.66z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path fill=\"#010101\" d=\"M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\n\t*/\n\td: 'M40 24l-2.82-2.82L26 32.34V8h-4v24.34L10.84 21.16 8 24l16 16 16-16z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"48\" height=\"48\" viewBox=\"0 0 48 48\"><path d=\"M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z\"/></svg>\n\t@ material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\n\t*/\n\td: 'M8 24l2.83 2.83L22 15.66V40h4V15.66l11.17 11.17L40 24 24 8 8 24z',\n\twidth: 48,\n\theight: 48,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_24px.svg\n\t*/\n\td: 'M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_border_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4l-3.76 2.27 1-4.28-3.32-2.88 4.38-.38L12 6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","module.exports = {\n\t/*\n\toriginal svg\n\t<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\"><path d=\"M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z\"/></svg>\n\t@ material-design-icons/toggle/svg/production/ic_star_half_24px.svg\n\t*/\n\td: 'M22 9.24l-7.19-.62L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21 12 17.27 18.18 21l-1.63-7.03L22 9.24zM12 15.4V6.1l1.71 4.04 4.38.38-3.32 2.88 1 4.28L12 15.4z',\n\twidth: 24,\n\theight: 24,\n\t\n};","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-input::-ms-clear{visibility:hidden}.cheetah-grid__inline-input{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__inline-menu{position:absolute;color:rgba(0,0,0,.87);-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;padding:8px 0;background-color:#fafafa;list-style-type:none;border-radius:2px;max-height:calc(100vh - 40px);overflow-y:auto}.cheetah-grid__inline-menu--hidden{-webkit-transform:scale(.9);transform:scale(.9);-webkit-box-shadow:none;box-shadow:none;opacity:0;pointer-events:none;-webkit-transition:all 50ms ease-out;transition:all 50ms ease-out}.cheetah-grid__inline-menu--hidden *{pointer-events:none}.cheetah-grid__inline-menu--shown{-webkit-transform:translateY(-7px);transform:translateY(-7px);-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);opacity:1;-webkit-transition:all .15s ease-out;transition:all .15s ease-out}.cheetah-grid__inline-menu__menu-item{height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:start;-ms-flex-pack:start;justify-content:flex-start;outline:none;cursor:pointer;position:relative;overflow:hidden;padding:0 16px}.cheetah-grid__inline-menu__menu-item--empty{color:rgba(0,0,0,.38)}.cheetah-grid__inline-menu__menu-item:before{content:\\\"\\\";position:absolute;top:-50%;left:-50%;width:200%;height:200%;background-color:#000;opacity:0;pointer-events:none;-webkit-transition:opacity 15ms linear;transition:opacity 15ms linear}.cheetah-grid__inline-menu__menu-item:hover:before,.cheetah-grid__inline-menu__menu-item[data-select]:before{opacity:.04}.cheetah-grid__inline-menu__menu-item:focus:before{opacity:.12}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__small-dialog-input__input::-ms-clear{visibility:hidden}@-webkit-keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}@keyframes cheetah-grid__small-dialog-input--hidden-animation{0%{opacity:1}99%{opacity:1}to{opacity:0}}.cheetah-grid__small-dialog-input{position:absolute;-webkit-box-sizing:content-box;box-sizing:content-box;margin:-1px auto auto -1px;border-radius:3px;background-color:#fafafa;-webkit-transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,-webkit-box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out;transition:padding .15s ease-out,box-shadow .15s ease-out,-webkit-box-shadow .15s ease-out}.cheetah-grid__small-dialog-input--hidden{-webkit-box-shadow:none;box-shadow:none;padding:0;pointer-events:none;-webkit-animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;animation:cheetah-grid__small-dialog-input--hidden-animation .15s ease-out;opacity:0}.cheetah-grid__small-dialog-input--shown{-webkit-box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);box-shadow:0 3px 1px -2px rgba(0,0,0,.2),0 2px 2px 0 rgba(0,0,0,.14),0 1px 5px 0 rgba(0,0,0,.12);padding:8px 24px}.cheetah-grid__small-dialog-input__input{width:100%;height:100%;-webkit-box-sizing:border-box;box-sizing:border-box;padding:3px 2px 0 4px;border:none;border-bottom:1px solid rgba(0,0,0,.87);outline:none;background-color:transparent;-webkit-transition:all .3s ease-out;transition:all .3s ease-out}.cheetah-grid__small-dialog-input__input:focus{border-bottom:1px solid #2196f3;-webkit-box-shadow:0 1px 0 0 #2196f3;box-shadow:0 1px 0 0 #2196f3}.cheetah-grid__small-dialog-input:after{content:\\\"\\\";font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%;padding-top:8px}.cheetah-grid__small-dialog-input.helper-text--right-justified:after{text-align:right}.cheetah-grid__small-dialog-input[data-helper-text]:after{content:attr(data-helper-text);color:rgba(0,0,0,.87)}.cheetah-grid__small-dialog-input[data-error-message] input{border-bottom:1px solid #ff1744;-webkit-box-shadow:0 1px 0 0 #ff1744;box-shadow:0 1px 0 0 #ff1744}.cheetah-grid__small-dialog-input[data-error-message]:after{content:attr(data-error-message);color:#ff1744;text-align:left}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__error-message-element{border-top:1px solid #ff1744;color:#ff1744}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__message-element{position:absolute;margin-top:-2px;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:0 0 3px 3px;background-color:hsla(0,0%,98%,.85);padding:8px 2px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;border-top:1px solid rgba(0,0,0,.87);color:rgba(0,0,0,.87)}.cheetah-grid__message-element--hidden{display:none}.cheetah-grid__message-element--shown{display:block}.cheetah-grid__message-element__message{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;display:block;width:100%}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid__warning-message-element{border-top:1px solid #dd2c00;color:#dd2c00}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".cheetah-grid .grid-scrollable{height:100%;width:100%;position:absolute;overflow:scroll}.cheetah-grid .grid-scroll-end-point{opacity:0;position:relative}.cheetah-grid{position:relative;width:100%;height:100%}.cheetah-grid>canvas{position:absolute;width:0;height:0}.cheetah-grid .grid-focus-control{position:relative!important;width:1px;height:1px;opacity:0;padding:0;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box;pointer-events:none;max-width:0;max-height:0;float:none!important}.cheetah-grid input.grid-focus-control::-ms-clear{visibility:hidden}.cheetah-grid input.grid-focus-control.composition{opacity:1;max-width:none;max-height:none}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","// Imports\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@-webkit-keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}@keyframes cheetah-grid__tooltip-element--shown-animation{0%{opacity:0;-webkit-transform:scale(.8) translateX(-60%);transform:scale(.8) translateX(-60%)}to{opacity:1;-webkit-transform:scale(1) translateX(-50%);transform:scale(1) translateX(-50%)}}.cheetah-grid__tooltip-element{position:absolute;-webkit-box-sizing:border-box;box-sizing:border-box;border-radius:3px;background-color:#232f34;padding:8px;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;color:#fff}.cheetah-grid__tooltip-element--hidden{opacity:0;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-transition:opacity 75ms linear;transition:opacity 75ms linear}.cheetah-grid__tooltip-element--shown{opacity:1;-webkit-transform:translateX(-50%);transform:translateX(-50%);-webkit-animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out;animation:cheetah-grid__tooltip-element--shown-animation .15s ease-out}.cheetah-grid__tooltip-element__content{font-family:Roboto;font-size:12px;font-size:.75rem;min-height:1em;line-height:1;width:100%;display:block;white-space:pre-wrap;margin:0;-webkit-box-sizing:border-box;box-sizing:border-box}\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\n// css base code, injected by the css-loader\n// eslint-disable-next-line func-names\nmodule.exports = function (useSourceMap) {\n  var list = []; // return the list of modules as css string\n\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = cssWithMappingToString(item, useSourceMap);\n\n      if (item[2]) {\n        return \"@media \".concat(item[2], \" {\").concat(content, \"}\");\n      }\n\n      return content;\n    }).join('');\n  }; // import a list of modules into the list\n  // eslint-disable-next-line func-names\n\n\n  list.i = function (modules, mediaQuery, dedupe) {\n    if (typeof modules === 'string') {\n      // eslint-disable-next-line no-param-reassign\n      modules = [[null, modules, '']];\n    }\n\n    var alreadyImportedModules = {};\n\n    if (dedupe) {\n      for (var i = 0; i < this.length; i++) {\n        // eslint-disable-next-line prefer-destructuring\n        var id = this[i][0];\n\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n\n    for (var _i = 0; _i < modules.length; _i++) {\n      var item = [].concat(modules[_i]);\n\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        // eslint-disable-next-line no-continue\n        continue;\n      }\n\n      if (mediaQuery) {\n        if (!item[2]) {\n          item[2] = mediaQuery;\n        } else {\n          item[2] = \"\".concat(mediaQuery, \" and \").concat(item[2]);\n        }\n      }\n\n      list.push(item);\n    }\n  };\n\n  return list;\n};\n\nfunction cssWithMappingToString(item, useSourceMap) {\n  var content = item[1] || ''; // eslint-disable-next-line prefer-destructuring\n\n  var cssMapping = item[3];\n\n  if (!cssMapping) {\n    return content;\n  }\n\n  if (useSourceMap && typeof btoa === 'function') {\n    var sourceMapping = toComment(cssMapping);\n    var sourceURLs = cssMapping.sources.map(function (source) {\n      return \"/*# sourceURL=\".concat(cssMapping.sourceRoot || '').concat(source, \" */\");\n    });\n    return [content].concat(sourceURLs).concat([sourceMapping]).join('\\n');\n  }\n\n  return [content].join('\\n');\n} // Adapted from convert-source-map (MIT)\n\n\nfunction toComment(sourceMap) {\n  // eslint-disable-next-line no-undef\n  var base64 = btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))));\n  var data = \"sourceMappingURL=data:application/json;charset=utf-8;base64,\".concat(base64);\n  return \"/*# \".concat(data, \" */\");\n}","\"use strict\";\n\nvar isOldIE = function isOldIE() {\n  var memo;\n  return function memorize() {\n    if (typeof memo === 'undefined') {\n      // Test for IE <= 9 as proposed by Browserhacks\n      // @see http://browserhacks.com/#hack-e71d8692f65334173fee715c222cb805\n      // Tests for existence of standard globals is to allow style-loader\n      // to operate correctly into non-standard environments\n      // @see https://github.com/webpack-contrib/style-loader/issues/177\n      memo = Boolean(window && document && document.all && !window.atob);\n    }\n\n    return memo;\n  };\n}();\n\nvar getTarget = function getTarget() {\n  var memo = {};\n  return function memorize(target) {\n    if (typeof memo[target] === 'undefined') {\n      var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n      if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n        try {\n          // This will throw an exception if access to iframe is blocked\n          // due to cross-origin restrictions\n          styleTarget = styleTarget.contentDocument.head;\n        } catch (e) {\n          // istanbul ignore next\n          styleTarget = null;\n        }\n      }\n\n      memo[target] = styleTarget;\n    }\n\n    return memo[target];\n  };\n}();\n\nvar stylesInDom = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDom.length; i++) {\n    if (stylesInDom[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var index = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3]\n    };\n\n    if (index !== -1) {\n      stylesInDom[index].references++;\n      stylesInDom[index].updater(obj);\n    } else {\n      stylesInDom.push({\n        identifier: identifier,\n        updater: addStyle(obj, options),\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction insertStyleElement(options) {\n  var style = document.createElement('style');\n  var attributes = options.attributes || {};\n\n  if (typeof attributes.nonce === 'undefined') {\n    var nonce = typeof __webpack_nonce__ !== 'undefined' ? __webpack_nonce__ : null;\n\n    if (nonce) {\n      attributes.nonce = nonce;\n    }\n  }\n\n  Object.keys(attributes).forEach(function (key) {\n    style.setAttribute(key, attributes[key]);\n  });\n\n  if (typeof options.insert === 'function') {\n    options.insert(style);\n  } else {\n    var target = getTarget(options.insert || 'head');\n\n    if (!target) {\n      throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n    }\n\n    target.appendChild(style);\n  }\n\n  return style;\n}\n\nfunction removeStyleElement(style) {\n  // istanbul ignore if\n  if (style.parentNode === null) {\n    return false;\n  }\n\n  style.parentNode.removeChild(style);\n}\n/* istanbul ignore next  */\n\n\nvar replaceText = function replaceText() {\n  var textStore = [];\n  return function replace(index, replacement) {\n    textStore[index] = replacement;\n    return textStore.filter(Boolean).join('\\n');\n  };\n}();\n\nfunction applyToSingletonTag(style, index, remove, obj) {\n  var css = remove ? '' : obj.media ? \"@media \".concat(obj.media, \" {\").concat(obj.css, \"}\") : obj.css; // For old IE\n\n  /* istanbul ignore if  */\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = replaceText(index, css);\n  } else {\n    var cssNode = document.createTextNode(css);\n    var childNodes = style.childNodes;\n\n    if (childNodes[index]) {\n      style.removeChild(childNodes[index]);\n    }\n\n    if (childNodes.length) {\n      style.insertBefore(cssNode, childNodes[index]);\n    } else {\n      style.appendChild(cssNode);\n    }\n  }\n}\n\nfunction applyToTag(style, options, obj) {\n  var css = obj.css;\n  var media = obj.media;\n  var sourceMap = obj.sourceMap;\n\n  if (media) {\n    style.setAttribute('media', media);\n  } else {\n    style.removeAttribute('media');\n  }\n\n  if (sourceMap && typeof btoa !== 'undefined') {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    while (style.firstChild) {\n      style.removeChild(style.firstChild);\n    }\n\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nvar singleton = null;\nvar singletonCounter = 0;\n\nfunction addStyle(obj, options) {\n  var style;\n  var update;\n  var remove;\n\n  if (options.singleton) {\n    var styleIndex = singletonCounter++;\n    style = singleton || (singleton = insertStyleElement(options));\n    update = applyToSingletonTag.bind(null, style, styleIndex, false);\n    remove = applyToSingletonTag.bind(null, style, styleIndex, true);\n  } else {\n    style = insertStyleElement(options);\n    update = applyToTag.bind(null, style, options);\n\n    remove = function remove() {\n      removeStyleElement(style);\n    };\n  }\n\n  update(obj);\n  return function updateStyle(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap) {\n        return;\n      }\n\n      update(obj = newObj);\n    } else {\n      remove();\n    }\n  };\n}\n\nmodule.exports = function (list, options) {\n  options = options || {}; // Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\n  // tags it will allow on a page\n\n  if (!options.singleton && typeof options.singleton !== 'boolean') {\n    options.singleton = isOldIE();\n  }\n\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    if (Object.prototype.toString.call(newList) !== '[object Array]') {\n      return;\n    }\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDom[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDom[_index].references === 0) {\n        stylesInDom[_index].updater();\n\n        stylesInDom.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./InlineMenuElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./SmallDialogInputElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./ErrorMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./MessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./WarningMessageElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../node_modules/postcss-loader/src/index.js??ref--5-2!./style.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","var api = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\");\n            var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--5-1!../../../../node_modules/postcss-loader/src/index.js??ref--5-2!./TooltipElement.css\");\n\n            content = content.__esModule ? content.default : content;\n\n            if (typeof content === 'string') {\n              content = [[module.id, content, '']];\n            }\n\nvar options = {};\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = api(content, options);\n\n\n\nmodule.exports = content.locals || {};","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.GridCanvasHelper = void 0;\nconst calc = __importStar(require(\"./internal/calc\"));\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\nconst fonts = __importStar(require(\"./internal/fonts\"));\nconst inlineUtils = __importStar(require(\"./element/inlines\"));\nconst themes = __importStar(require(\"./themes\"));\nconst canvases_1 = require(\"./internal/canvases\");\nconst utils_1 = require(\"./internal/utils\");\nconst InlineDrawer_1 = require(\"./element/InlineDrawer\");\nconst Rect_1 = require(\"./internal/Rect\");\nconst color_1 = require(\"./internal/color\");\nconst { toBoxArray } = utils_1.style;\nconst INLINE_ELLIPSIS = inlineUtils.of(\"\\u2026\");\nfunction invalidateCell(context, grid) {\n    const { col, row } = context;\n    grid.invalidateCell(col, row);\n}\nfunction getColor(color, col, row, grid, context) {\n    return utils_1.getOrApply(color, {\n        col,\n        row,\n        grid,\n        context,\n    });\n}\nfunction getFont(font, col, row, grid, context) {\n    if (font == null) {\n        return undefined;\n    }\n    return utils_1.getOrApply(font, {\n        col,\n        row,\n        grid,\n        context,\n    });\n}\nfunction getThemeColor(grid, ...names) {\n    const gridThemeColor = utils_1.getChainSafe(grid.theme, ...names);\n    if (gridThemeColor == null) {\n        // use default theme\n        return utils_1.getChainSafe(themes.getDefault(), ...names);\n    }\n    if (typeof gridThemeColor !== \"function\") {\n        return gridThemeColor;\n    }\n    let defaultThemeColor;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ((args) => {\n        const color = gridThemeColor(args);\n        if (color != null) {\n            // use grid theme\n            return color;\n        }\n        // use default theme\n        defaultThemeColor =\n            defaultThemeColor || utils_1.getChainSafe(themes.getDefault(), ...names);\n        return utils_1.getOrApply(defaultThemeColor, args);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    });\n}\nfunction testFontLoad(font, value, context, grid) {\n    if (font) {\n        if (!fonts.check(font, value)) {\n            fonts.load(font, value, () => invalidateCell(context, grid));\n            return false;\n        }\n    }\n    return true;\n}\nfunction drawInlines(ctx, inlines, rect, offset, offsetTop, offsetBottom, col, row, grid) {\n    function drawInline(inline, offsetLeft, offsetRight) {\n        if (inline.canDraw()) {\n            ctx.save();\n            try {\n                ctx.fillStyle = getColor(inline.color() || ctx.fillStyle, col, row, grid, ctx);\n                ctx.font = inline.font() || ctx.font;\n                inline.draw({\n                    ctx,\n                    canvashelper,\n                    rect,\n                    offset,\n                    offsetLeft,\n                    offsetRight,\n                    offsetTop,\n                    offsetBottom,\n                });\n            }\n            finally {\n                ctx.restore();\n            }\n        }\n        else {\n            inline.onReady(() => grid.invalidateCell(col, row));\n            //noop\n        }\n    }\n    if (inlines.length === 1) {\n        //1\n        const inline = inlines[0];\n        drawInline(inline, 0, 0);\n    }\n    else {\n        const inlineWidths = inlines.map((inline) => (inline.width({ ctx }) || 0) - 0);\n        let offsetRight = inlineWidths.reduce((a, b) => a + b);\n        let offsetLeft = 0;\n        inlines.forEach((inline, index) => {\n            const inlineWidth = inlineWidths[index];\n            offsetRight -= inlineWidth;\n            drawInline(inline, offsetLeft, offsetRight);\n            offsetLeft += inlineWidth;\n        });\n    }\n}\nfunction buildInlines(icons, inline) {\n    return inlineUtils.buildInlines(icons, inline || \"\");\n}\nfunction inlineToString(inline) {\n    return inlineUtils.string(inline);\n}\nfunction getOverflowInline(textOverflow) {\n    if (!isAllowOverflow(textOverflow) || textOverflow === \"ellipsis\") {\n        return INLINE_ELLIPSIS;\n    }\n    textOverflow = textOverflow.trim();\n    if (textOverflow.length === 1) {\n        return inlineUtils.of(textOverflow[0]);\n    }\n    return INLINE_ELLIPSIS;\n}\nfunction isAllowOverflow(textOverflow) {\n    return Boolean(textOverflow && textOverflow !== \"clip\" && typeof textOverflow === \"string\");\n}\nfunction getOverflowInlinesIndex(ctx, inlines, width) {\n    const maxWidth = width - 3; /*buffer*/\n    let lineWidth = 0;\n    for (let i = 0; i < inlines.length; i++) {\n        const inline = inlines[i];\n        const inlineWidth = (inline.width({ ctx }) || 0) - 0;\n        if (lineWidth + inlineWidth > maxWidth) {\n            return {\n                index: i,\n                lineWidth,\n                remWidth: maxWidth - lineWidth,\n            };\n        }\n        lineWidth += inlineWidth;\n    }\n    return null;\n}\nfunction isOverflowInlines(ctx, inlines, width) {\n    return !!getOverflowInlinesIndex(ctx, inlines, width);\n}\nfunction breakWidthInlines(ctx, inlines, width) {\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n    if (!indexData) {\n        return {\n            beforeInlines: inlines,\n            overflow: false,\n            afterInlines: [],\n        };\n    }\n    const { index, remWidth } = indexData;\n    const inline = inlines[index];\n    const beforeInlines = inlines.slice(0, index);\n    const afterInlines = [];\n    if (inline.canBreak()) {\n        let { before, after } = inline.breakWord(ctx, remWidth);\n        if (!before && !beforeInlines.length) {\n            ({ before, after } = inline.breakAll(ctx, remWidth));\n        }\n        if (!before && !beforeInlines.length) {\n            // Always return one char\n            ({ before, after } = inline.splitIndex(1));\n        }\n        if (before) {\n            beforeInlines.push(before);\n        }\n        if (after) {\n            afterInlines.push(after);\n        }\n        afterInlines.push(...inlines.slice(index + 1));\n    }\n    else {\n        if (!beforeInlines.length) {\n            // Always return one char\n            beforeInlines.push(inline);\n        }\n        afterInlines.push(...inlines.slice(beforeInlines.length));\n    }\n    return {\n        beforeInlines,\n        overflow: true,\n        afterInlines,\n    };\n}\nfunction truncateInlines(ctx, inlines, width, option) {\n    const indexData = getOverflowInlinesIndex(ctx, inlines, width);\n    if (!indexData) {\n        return {\n            inlines,\n            overflow: false,\n        };\n    }\n    const { index, lineWidth } = indexData;\n    const inline = inlines[index];\n    const overflowInline = getOverflowInline(option);\n    const ellipsisWidth = overflowInline.width({ ctx });\n    const remWidth = width - lineWidth - ellipsisWidth;\n    const result = inlines.slice(0, index);\n    if (inline.canBreak()) {\n        const { before } = inline.breakAll(ctx, remWidth);\n        if (before) {\n            result.push(before);\n        }\n    }\n    result.push(overflowInline);\n    return {\n        inlines: result,\n        overflow: true,\n    };\n}\nfunction _inlineRect(grid, ctx, inline, rect, col, row, { offset, color, textAlign, textBaseline, font, textOverflow, icons, }) {\n    //style\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = font || ctx.font;\n    let inlines = buildInlines(icons, inline);\n    if (isAllowOverflow(textOverflow) &&\n        isOverflowInlines(ctx, inlines, rect.width)) {\n        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, rect.width, textOverflow);\n        inlines = truncInlines;\n        grid.setCellOverflowText(col, row, overflow && inlineToString(inline));\n    }\n    else {\n        grid.setCellOverflowText(col, row, false);\n    }\n    drawInlines(ctx, inlines, rect, offset, 0, 0, col, row, grid);\n}\n// eslint-disable-next-line complexity\nfunction _multiInlineRect(grid, ctx, multiInlines, rect, col, row, { offset, color, textAlign, textBaseline, font, lineHeight, autoWrapText, lineClamp, textOverflow, icons, }) {\n    //style\n    ctx.fillStyle = getColor(color || ctx.fillStyle, col, row, grid, ctx);\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    ctx.font = font || ctx.font;\n    if (lineClamp === \"auto\") {\n        const rectHeight = rect.height - offset * 2 - 2; /*offset added by Inline#draw*/\n        lineClamp = Math.max(Math.floor(rectHeight / lineHeight), 1);\n    }\n    let buildedMultiInlines;\n    if (autoWrapText || lineClamp > 0 || isAllowOverflow(textOverflow)) {\n        const { width } = rect;\n        buildedMultiInlines = [];\n        const procLineClamp = lineClamp > 0\n            ? (inlines, hasNext) => {\n                if (buildedMultiInlines.length + 1 >= lineClamp) {\n                    if (inlines.length === 0 && hasNext) {\n                        buildedMultiInlines.push([getOverflowInline(textOverflow)]);\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                    }\n                    else {\n                        const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\n                        buildedMultiInlines.push(hasNext && !overflow\n                            ? truncInlines.concat([getOverflowInline(textOverflow)])\n                            : truncInlines);\n                        if (overflow || hasNext) {\n                            grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                        }\n                    }\n                    return false;\n                }\n                return true;\n            }\n            : () => true;\n        const procLine = autoWrapText\n            ? (inlines, hasNext) => {\n                if (!procLineClamp(inlines, hasNext)) {\n                    return false;\n                }\n                while (inlines.length) {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    const { beforeInlines, afterInlines } = breakWidthInlines(ctx, inlines, width);\n                    buildedMultiInlines.push(beforeInlines);\n                    inlines = afterInlines;\n                }\n                return true;\n            }\n            : isAllowOverflow(textOverflow)\n                ? (inlines, hasNext) => {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    const { inlines: truncInlines, overflow } = truncateInlines(ctx, inlines, width, textOverflow);\n                    buildedMultiInlines.push(truncInlines);\n                    if (overflow) {\n                        grid.setCellOverflowText(col, row, multiInlines.map(inlineToString).join(\"\\n\"));\n                    }\n                    return true;\n                }\n                : (inlines, hasNext) => {\n                    if (!procLineClamp(inlines, hasNext)) {\n                        return false;\n                    }\n                    buildedMultiInlines.push(inlines);\n                    return true;\n                };\n        grid.setCellOverflowText(col, row, false);\n        for (let lineRow = 0; lineRow < multiInlines.length; lineRow++) {\n            const inline = multiInlines[lineRow];\n            const buildedInline = buildInlines(lineRow === 0 ? icons : undefined, inline);\n            if (!procLine(buildedInline, lineRow + 1 < multiInlines.length)) {\n                break;\n            }\n        }\n    }\n    else {\n        grid.setCellOverflowText(col, row, false);\n        buildedMultiInlines = multiInlines.map((inline, lineRow) => buildInlines(lineRow === 0 ? icons : undefined, inline));\n    }\n    let paddingTop = 0;\n    let paddingBottom = lineHeight * (buildedMultiInlines.length - 1);\n    if (ctx.textBaseline === \"top\" || ctx.textBaseline === \"hanging\") {\n        const em = canvases_1.getFontSize(ctx, ctx.font).height;\n        const pad = (lineHeight - em) / 2;\n        paddingTop += pad;\n        paddingBottom -= pad;\n    }\n    else if (ctx.textBaseline === \"bottom\" ||\n        ctx.textBaseline === \"alphabetic\" ||\n        ctx.textBaseline === \"ideographic\") {\n        const em = canvases_1.getFontSize(ctx, ctx.font).height;\n        const pad = (lineHeight - em) / 2;\n        paddingTop -= pad;\n        paddingBottom += pad;\n    }\n    buildedMultiInlines.forEach((buildedInline) => {\n        drawInlines(ctx, buildedInline, rect, offset, paddingTop, paddingBottom, col, row, grid);\n        paddingTop += lineHeight;\n        paddingBottom -= lineHeight;\n    });\n}\nfunction calcElapsedColor(startColor, endColor, elapsedTime) {\n    const startColorRGB = color_1.colorToRGB(startColor);\n    const endColorRGB = color_1.colorToRGB(endColor);\n    const getRGB = (colorName) => {\n        const start = startColorRGB[colorName];\n        const end = endColorRGB[colorName];\n        if (elapsedTime >= 1) {\n            return end;\n        }\n        if (elapsedTime <= 0) {\n            return start;\n        }\n        const diff = start - end;\n        return Math.ceil(start - diff * elapsedTime);\n    };\n    return `rgb(${getRGB(\"r\")}, ${getRGB(\"g\")}, ${getRGB(\"b\")})`;\n}\nfunction drawCheckbox(ctx, rect, col, row, check, helper, { animElapsedTime = 1, uncheckBgColor = helper.theme.checkbox.uncheckBgColor, checkBgColor = helper.theme.checkbox.checkBgColor, borderColor = helper.theme.checkbox.borderColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\n    const boxWidth = canvashelper.measureCheckbox(ctx).width;\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n    borderColor = helper.getColor(borderColor, col, row, ctx);\n    if (0 < animElapsedTime && animElapsedTime < 1) {\n        uncheckBgColor = check\n            ? uncheckBgColor\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n        checkBgColor = check\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\n            : checkBgColor;\n    }\n    canvashelper.drawCheckbox(ctx, pos.x, pos.y, check ? animElapsedTime : false, {\n        uncheckBgColor,\n        checkBgColor,\n        borderColor,\n    });\n}\nfunction drawRadioButton(ctx, rect, col, row, check, helper, { animElapsedTime = 1, checkColor = helper.theme.radioButton.checkColor, uncheckBorderColor = helper.theme.radioButton.uncheckBorderColor, checkBorderColor = helper.theme.radioButton.checkBorderColor, uncheckBgColor = helper.theme.radioButton.uncheckBgColor, checkBgColor = helper.theme.radioButton.checkBgColor, textAlign = \"center\", textBaseline = \"middle\", }, positionOpt = {}) {\n    const boxWidth = canvashelper.measureRadioButton(ctx).width;\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    const pos = canvases_1.calcStartPosition(ctx, rect, boxWidth + 1 /*+1*/, boxWidth + 1 /*+1*/, positionOpt);\n    checkColor = helper.getColor(checkColor, col, row, ctx);\n    uncheckBorderColor = helper.getColor(uncheckBorderColor, col, row, ctx);\n    checkBorderColor = helper.getColor(checkBorderColor, col, row, ctx);\n    uncheckBgColor = helper.getColor(uncheckBgColor, col, row, ctx);\n    checkBgColor = helper.getColor(checkBgColor, col, row, ctx);\n    let borderColor = check ? checkBorderColor : uncheckBorderColor;\n    let bgColor = check ? checkBgColor : uncheckBgColor;\n    if (0 < animElapsedTime && animElapsedTime < 1) {\n        borderColor = check\n            ? calcElapsedColor(uncheckBorderColor, checkBorderColor, animElapsedTime)\n            : calcElapsedColor(checkBorderColor, uncheckBorderColor, animElapsedTime);\n        bgColor = check\n            ? calcElapsedColor(uncheckBgColor, checkBgColor, animElapsedTime)\n            : calcElapsedColor(checkBgColor, uncheckBgColor, animElapsedTime);\n    }\n    canvashelper.drawRadioButton(ctx, pos.x, pos.y, check ? animElapsedTime : 1 - animElapsedTime, {\n        checkColor,\n        borderColor,\n        bgColor,\n    });\n}\nclass ThemeResolver {\n    constructor(grid) {\n        this._checkbox = null;\n        this._radioButton = null;\n        this._button = null;\n        this._header = null;\n        this._grid = grid;\n    }\n    getThemeColor(...name) {\n        return getThemeColor(this._grid, ...name);\n    }\n    get font() {\n        return getThemeColor(this._grid, \"font\");\n    }\n    get underlayBackgroundColor() {\n        return getThemeColor(this._grid, \"underlayBackgroundColor\");\n    }\n    // color\n    get color() {\n        return getThemeColor(this._grid, \"color\");\n    }\n    get frozenRowsColor() {\n        return getThemeColor(this._grid, \"frozenRowsColor\");\n    }\n    // background\n    get defaultBgColor() {\n        return getThemeColor(this._grid, \"defaultBgColor\");\n    }\n    get frozenRowsBgColor() {\n        return getThemeColor(this._grid, \"frozenRowsBgColor\");\n    }\n    get selectionBgColor() {\n        return getThemeColor(this._grid, \"selectionBgColor\");\n    }\n    get highlightBgColor() {\n        return getThemeColor(this._grid, \"highlightBgColor\");\n    }\n    // border\n    get borderColor() {\n        return getThemeColor(this._grid, \"borderColor\");\n    }\n    get frozenRowsBorderColor() {\n        return getThemeColor(this._grid, \"frozenRowsBorderColor\");\n    }\n    get highlightBorderColor() {\n        return getThemeColor(this._grid, \"highlightBorderColor\");\n    }\n    get checkbox() {\n        const grid = this._grid;\n        return (this._checkbox ||\n            (this._checkbox = {\n                get uncheckBgColor() {\n                    return getThemeColor(grid, \"checkbox\", \"uncheckBgColor\");\n                },\n                get checkBgColor() {\n                    return getThemeColor(grid, \"checkbox\", \"checkBgColor\");\n                },\n                get borderColor() {\n                    return getThemeColor(grid, \"checkbox\", \"borderColor\");\n                },\n            }));\n    }\n    get radioButton() {\n        const grid = this._grid;\n        return (this._radioButton ||\n            (this._radioButton = {\n                get checkColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkColor\");\n                },\n                get uncheckBorderColor() {\n                    return getThemeColor(grid, \"radioButton\", \"uncheckBorderColor\");\n                },\n                get checkBorderColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkBorderColor\");\n                },\n                get uncheckBgColor() {\n                    return getThemeColor(grid, \"radioButton\", \"uncheckBgColor\");\n                },\n                get checkBgColor() {\n                    return getThemeColor(grid, \"radioButton\", \"checkBgColor\");\n                },\n            }));\n    }\n    get button() {\n        const grid = this._grid;\n        return (this._button ||\n            (this._button = {\n                get color() {\n                    return getThemeColor(grid, \"button\", \"color\");\n                },\n                get bgColor() {\n                    return getThemeColor(grid, \"button\", \"bgColor\");\n                },\n            }));\n    }\n    get header() {\n        const grid = this._grid;\n        return (this._header ||\n            (this._header = {\n                get sortArrowColor() {\n                    return getThemeColor(grid, \"header\", \"sortArrowColor\");\n                },\n            }));\n    }\n}\nfunction strokeRect(ctx, color, left, top, width, height) {\n    if (!Array.isArray(color)) {\n        if (color) {\n            ctx.strokeStyle = color;\n            ctx.strokeRect(left, top, width, height);\n        }\n    }\n    else {\n        const borderColors = toBoxArray(color);\n        canvashelper.strokeColorsRect(ctx, borderColors, left, top, width, height);\n    }\n}\nclass GridCanvasHelper {\n    constructor(grid) {\n        this._grid = grid;\n        this._theme = new ThemeResolver(grid);\n    }\n    createCalculator(context, font) {\n        return {\n            calcWidth(width) {\n                return calc.toPx(width, {\n                    get full() {\n                        const rect = context.getRect();\n                        return rect.width;\n                    },\n                    get em() {\n                        return canvases_1.getFontSize(context.getContext(), font).width;\n                    },\n                });\n            },\n            calcHeight(height) {\n                return calc.toPx(height, {\n                    get full() {\n                        const rect = context.getRect();\n                        return rect.height;\n                    },\n                    get em() {\n                        return canvases_1.getFontSize(context.getContext(), font).height;\n                    },\n                });\n            },\n        };\n    }\n    getColor(color, col, row, ctx) {\n        return getColor(color, col, row, this._grid, ctx);\n    }\n    toBoxArray(obj) {\n        return toBoxArray(obj);\n    }\n    toBoxPixelArray(value, context, font) {\n        if (typeof value === \"string\" || Array.isArray(value)) {\n            const calculator = this.createCalculator(context, font);\n            const box = toBoxArray(value);\n            return [\n                calculator.calcHeight(box[0]),\n                calculator.calcWidth(box[1]),\n                calculator.calcHeight(box[2]),\n                calculator.calcWidth(box[3]),\n            ];\n        }\n        return toBoxArray(value);\n    }\n    get theme() {\n        return this._theme;\n    }\n    drawWithClip(context, draw) {\n        const drawRect = context.getDrawRect();\n        if (!drawRect) {\n            return;\n        }\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            ctx.beginPath();\n            ctx.rect(drawRect.left, drawRect.top, drawRect.width, drawRect.height);\n            //clip\n            ctx.clip();\n            draw(ctx);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    drawBorderWithClip(context, draw) {\n        const drawRect = context.getDrawRect();\n        if (!drawRect) {\n            return;\n        }\n        const rect = context.getRect();\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            //clip\n            ctx.beginPath();\n            let clipLeft = drawRect.left;\n            let clipWidth = drawRect.width;\n            if (drawRect.left === rect.left) {\n                clipLeft += -1;\n                clipWidth += 1;\n            }\n            let clipTop = drawRect.top;\n            let clipHeight = drawRect.height;\n            if (drawRect.top === rect.top) {\n                clipTop += -1;\n                clipHeight += 1;\n            }\n            ctx.rect(clipLeft, clipTop, clipWidth, clipHeight);\n            ctx.clip();\n            draw(ctx);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    text(text, context, { padding, offset = 2, color, textAlign = \"left\", textBaseline = \"middle\", font, textOverflow = \"clip\", icons, } = {}) {\n        let rect = context.getRect();\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            if (padding) {\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\n                const left = rect.left + paddingNums[3];\n                const top = rect.top + paddingNums[0];\n                const width = rect.width - paddingNums[1] - paddingNums[3];\n                const height = rect.height - paddingNums[0] - paddingNums[2];\n                rect = new Rect_1.Rect(left, top, width, height);\n            }\n            _inlineRect(this._grid, ctx, text, rect, col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    multilineText(multilines, context, { padding, offset = 2, color, textAlign = \"left\", textBaseline = \"middle\", font, lineHeight = \"1em\", autoWrapText = false, lineClamp = 0, textOverflow = \"clip\", icons, } = {}) {\n        let rect = context.getRect();\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            if (padding) {\n                const paddingNums = this.toBoxPixelArray(padding, context, font);\n                const left = rect.left + paddingNums[3];\n                const top = rect.top + paddingNums[0];\n                const width = rect.width - paddingNums[1] - paddingNums[3];\n                const height = rect.height - paddingNums[0] - paddingNums[2];\n                rect = new Rect_1.Rect(left, top, width, height);\n            }\n            const calculator = this.createCalculator(context, font);\n            lineHeight = calculator.calcHeight(lineHeight);\n            _multiInlineRect(this._grid, ctx, multilines, rect, col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                lineHeight,\n                autoWrapText,\n                lineClamp,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    fillText(text, x, y, context, { color, textAlign = \"left\", textBaseline = \"top\", font, } = {}) {\n        const { col, row } = context;\n        if (!color) {\n            ({ color } = this.theme);\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell && isFrozenCell.row) {\n                color = this.theme.frozenRowsColor;\n            }\n        }\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            ctx.fillStyle = getColor(color, col, row, this._grid, ctx);\n            ctx.textAlign = textAlign;\n            ctx.textBaseline = textBaseline;\n            ctx.font = font || ctx.font;\n            ctx.fillText(text, x, y);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    fillCell(context, { fillColor = this.theme.defaultBgColor, } = {}) {\n        const rect = context.getRect();\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            ctx.fill();\n        });\n    }\n    fillCellWithState(context, option = {}) {\n        option.fillColor = this.getFillColorState(context, option);\n        this.fillCell(context, option);\n    }\n    fillRect(rect, context, { fillColor = this.theme.defaultBgColor, } = {}) {\n        const ctx = context.getContext();\n        ctx.save();\n        try {\n            const { col, row } = context;\n            ctx.fillStyle = getColor(fillColor, col, row, this._grid, ctx);\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            ctx.fill();\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    fillRectWithState(rect, context, option = {}) {\n        option.fillColor = this.getFillColorState(context, option);\n        this.fillRect(rect, context, option);\n    }\n    getFillColorState(context, option = {}) {\n        const sel = context.getSelection();\n        const { col, row } = context;\n        if (!utils_1.cellEquals(sel.select, context) && utils_1.cellInRange(sel.range, col, row)) {\n            return this.theme.selectionBgColor;\n        }\n        if (option.fillColor) {\n            return option.fillColor;\n        }\n        if (utils_1.cellEquals(sel.select, context)) {\n            return this.theme.highlightBgColor;\n        }\n        const isFrozenCell = this._grid.isFrozenCell(col, row);\n        if (isFrozenCell && isFrozenCell.row) {\n            return this.theme.frozenRowsBgColor;\n        }\n        return this.theme.defaultBgColor;\n    }\n    border(context, { borderColor = this.theme.borderColor, lineWidth = 1, } = {}) {\n        const rect = context.getRect();\n        this.drawBorderWithClip(context, (ctx) => {\n            const { col, row } = context;\n            const borderColors = getColor(borderColor, col, row, this._grid, ctx);\n            if (lineWidth === 1) {\n                ctx.lineWidth = 1;\n                strokeRect(ctx, borderColors, rect.left - 0.5, rect.top - 0.5, rect.width, rect.height);\n            }\n            else if (lineWidth === 2) {\n                ctx.lineWidth = 2;\n                strokeRect(ctx, borderColors, rect.left, rect.top, rect.width - 1, rect.height - 1);\n            }\n            else {\n                ctx.lineWidth = lineWidth;\n                const startOffset = lineWidth / 2 - 1;\n                strokeRect(ctx, borderColors, rect.left + startOffset, rect.top + startOffset, rect.width - lineWidth + 1, rect.height - lineWidth + 1);\n            }\n        });\n    }\n    // Unused in main\n    borderWithState(context, option = {}) {\n        const rect = context.getRect();\n        const sel = context.getSelection();\n        const { col, row } = context;\n        //\n        if (utils_1.cellEquals(sel.select, context)) {\n            option.borderColor = this.theme.highlightBorderColor;\n            option.lineWidth = 2;\n            this.border(context, option);\n        }\n        else {\n            // header color\n            const isFrozenCell = this._grid.isFrozenCell(col, row);\n            if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n                option.borderColor = this.theme.frozenRowsBorderColor;\n            }\n            option.lineWidth = 1;\n            this.border(context, option);\n            //\n            const sel = this._grid.selection.select;\n            if (sel.col + 1 === col && sel.row === row) {\n                //\n                this.drawBorderWithClip(context, (ctx) => {\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1] || ctx.strokeStyle;\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left - 0.5, rect.top);\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\n                    ctx.stroke();\n                });\n            }\n            else if (sel.col === col && sel.row + 1 === row) {\n                //\n                this.drawBorderWithClip(context, (ctx) => {\n                    const borderColors = toBoxArray(getColor(this.theme.highlightBorderColor, sel.col, sel.row, this._grid, ctx));\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[0] || ctx.strokeStyle;\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left, rect.top - 0.5);\n                    ctx.lineTo(rect.right, rect.top - 0.5);\n                    ctx.stroke();\n                });\n            }\n        }\n    }\n    buildCheckBoxInline(check, context, option = {}) {\n        // eslint-disable-next-line @typescript-eslint/no-this-alias\n        const self = this;\n        const ctx = context.getContext();\n        const boxWidth = canvashelper.measureCheckbox(ctx).width;\n        return new InlineDrawer_1.InlineDrawer({\n            draw,\n            width: boxWidth + 3,\n            height: boxWidth + 1,\n            color: undefined,\n        });\n        function draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n            const { col, row } = context;\n            drawCheckbox(ctx, rect, col, row, check, self, option, {\n                offset: offset + 1,\n                padding: {\n                    left: offsetLeft + 1,\n                    right: offsetRight,\n                    top: offsetTop,\n                    bottom: offsetBottom,\n                },\n            });\n        }\n    }\n    checkbox(check, context, option = {}) {\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            drawCheckbox(ctx, context.getRect(), col, row, check, this, option);\n        });\n    }\n    radioButton(check, context, option = {}) {\n        this.drawWithClip(context, (ctx) => {\n            const { col, row } = context;\n            drawRadioButton(ctx, context.getRect(), col, row, check, this, option);\n        });\n    }\n    button(caption, context, { bgColor = this.theme.button.bgColor, padding, offset = 2, color = this.theme.button.color, textAlign = \"center\", textBaseline = \"middle\", shadow, font, textOverflow = \"clip\", icons, } = {}) {\n        const rect = context.getRect();\n        this.drawWithClip(context, (ctx) => {\n            font = getFont(font, context.col, context.row, this._grid, ctx);\n            const { col, row } = context;\n            const paddingNums = this.toBoxPixelArray(padding || rect.height / 8, context, font);\n            const left = rect.left + paddingNums[3];\n            const top = rect.top + paddingNums[0];\n            const width = rect.width - paddingNums[1] - paddingNums[3];\n            const height = rect.height - paddingNums[0] - paddingNums[2];\n            bgColor = getColor(bgColor, context.col, context.row, this._grid, ctx);\n            canvashelper.drawButton(ctx, left, top, width, height, {\n                bgColor,\n                radius: rect.height / 8,\n                // offset,\n                shadow,\n            });\n            _inlineRect(this._grid, ctx, caption, new Rect_1.Rect(left, top, width, height), col, row, {\n                offset,\n                color,\n                textAlign,\n                textBaseline,\n                font,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n    testFontLoad(font, value, context) {\n        return testFontLoad(font, value, context, this._grid);\n    }\n}\nexports.GridCanvasHelper = GridCanvasHelper;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ListGrid = void 0;\nconst icons = __importStar(require(\"./internal/icons\"));\nconst themes = __importStar(require(\"./themes\"));\nconst data_1 = require(\"./data\");\nconst layout_map_1 = require(\"./list-grid/layout-map\");\nconst MessageHandler_1 = require(\"./columns/message/MessageHandler\");\nconst utils_1 = require(\"./internal/utils\");\nconst style_1 = require(\"./columns/style\");\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\nconst style_2 = require(\"./header/style\");\nconst LG_EVENT_TYPE_1 = require(\"./list-grid/LG_EVENT_TYPE\");\nconst Rect_1 = require(\"./internal/Rect\");\nconst TooltipHandler_1 = require(\"./tooltip/TooltipHandler\");\n//protected symbol\nconst symbolManager_1 = require(\"./internal/symbolManager\");\nconst paste_utils_1 = require(\"./internal/paste-utils\");\n/** @private */\nconst _ = symbolManager_1.getProtectedSymbol();\n//private methods\n/** @private */\nfunction _getCellRange(grid, col, row) {\n    return grid[_].layoutMap.getCellRange(col, row);\n}\n/** @private */\nfunction _updateRect(grid, col, row, context) {\n    context.setRectFilter((rect) => {\n        let { left, right, top, bottom } = rect;\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = _getCellRange(grid, col, row);\n        for (let c = col - 1; c >= startCol; c--) {\n            left -= grid.getColWidth(c);\n        }\n        for (let c = col + 1; c <= endCol; c++) {\n            right += grid.getColWidth(c);\n        }\n        for (let r = row - 1; r >= startRow; r--) {\n            top -= grid.getRowHeight(r);\n        }\n        for (let r = row + 1; r <= endRow; r++) {\n            bottom += grid.getRowHeight(r);\n        }\n        return Rect_1.Rect.bounds(left, top, right, bottom);\n    });\n}\n/** @private */\nfunction _getCellValue(grid, col, row) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        const { caption } = grid[_].layoutMap.getHeader(col, row);\n        return typeof caption === \"function\" ? caption() : caption;\n    }\n    else {\n        const { field } = grid[_].layoutMap.getBody(col, row);\n        return _getField(grid, field, row);\n    }\n}\n/** @private */\nfunction _setCellValue(grid, col, row, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        // nop\n        return false;\n    }\n    else {\n        const { field } = grid[_].layoutMap.getBody(col, row);\n        if (field == null) {\n            return false;\n        }\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.setField(index, field, value);\n    }\n}\n/** @private */\nfunction _getCellMessage(grid, col, row) {\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return null;\n    }\n    else {\n        const { message } = grid[_].layoutMap.getBody(col, row);\n        if (!message) {\n            return null;\n        }\n        if (!Array.isArray(message)) {\n            return _getField(grid, message, row);\n        }\n        const promises = [];\n        for (let index = 0; index < message.length; index++) {\n            const msg = _getField(grid, message[index], row);\n            if (utils_1.isPromise(msg)) {\n                promises.push(msg);\n            }\n            else if (MessageHandler_1.hasMessage(msg)) {\n                return msg;\n            }\n        }\n        if (!promises.length) {\n            return null;\n        }\n        return new Promise((resolve, reject) => {\n            promises.forEach((p) => {\n                p.then((msg) => {\n                    if (MessageHandler_1.hasMessage(msg)) {\n                        resolve(msg);\n                    }\n                }, reject);\n            });\n        });\n    }\n}\nfunction _getCellIcon0(grid, icon, row) {\n    if (Array.isArray(icon)) {\n        return icon.map((i) => _getCellIcon0(grid, i, row));\n    }\n    if (!utils_1.obj.isObject(icon) || typeof icon === \"function\") {\n        return _getField(grid, icon, row);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const retIcon = {};\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const iconOpt = icon;\n    icons.iconPropKeys.forEach((k) => {\n        if (iconOpt[k]) {\n            const f = _getField(grid, iconOpt[k], row);\n            if (f != null) {\n                retIcon[k] = f;\n            }\n            else {\n                if (!_hasField(grid, iconOpt[k], row)) {\n                    retIcon[k] = iconOpt[k];\n                }\n            }\n        }\n    });\n    return retIcon;\n}\n/** @private */\nfunction _getCellIcon(grid, col, row) {\n    const { icon } = grid[_].layoutMap.getBody(col, row);\n    if (icon == null) {\n        return null;\n    }\n    return _getCellIcon0(grid, icon, row);\n}\n/** @private */\nfunction _getField(grid, field, row) {\n    if (field == null) {\n        return null;\n    }\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return null;\n    }\n    else {\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.getField(index, field);\n    }\n}\n/** @private */\nfunction _hasField(grid, field, row) {\n    if (field == null) {\n        return false;\n    }\n    if (row < grid[_].layoutMap.headerRowCount) {\n        return false;\n    }\n    else {\n        const index = _getRecordIndexByRow(grid, row);\n        return grid[_].dataSource.hasField(index, field);\n    }\n}\n/** @private */\nfunction _onDrawValue(grid, cellValue, context, { col, row }, style, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ndraw) {\n    const helper = grid[_].gridCanvasHelper;\n    const drawCellBg = ({ bgColor, } = {}) => {\n        const fillOpt = {\n            fillColor: bgColor,\n        };\n        //cell\n        helper.fillCellWithState(context, fillOpt);\n    };\n    const drawCellBorder = () => {\n        if (context.col === grid.frozenColCount - 1) {\n            //\n            const rect = context.getRect();\n            helper.drawWithClip(context, (ctx) => {\n                const borderColor = context.row >= grid.frozenRowCount\n                    ? helper.theme.borderColor\n                    : helper.theme.frozenRowsBorderColor;\n                const borderColors = helper.toBoxArray(helper.getColor(borderColor, context.col, context.row, ctx));\n                if (borderColors[1]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.right - 2.5, rect.top);\n                    ctx.lineTo(rect.right - 2.5, rect.bottom);\n                    ctx.stroke();\n                }\n            });\n        }\n        _borderWithState(grid, helper, context);\n    };\n    const drawCellBase = ({ bgColor, } = {}) => {\n        drawCellBg({ bgColor });\n        drawCellBorder();\n    };\n    const info = {\n        getRecord: () => grid.getRowRecord(row),\n        getIcon: () => _getCellIcon(grid, col, row),\n        getMessage: () => _getCellMessage(grid, col, row),\n        messageHandler: grid[_].messageHandler,\n        style,\n        drawCellBase,\n        drawCellBg,\n        drawCellBorder,\n    };\n    return draw(cellValue, info, context, grid);\n}\n/** @private */\nfunction _borderWithState(grid, helper, context) {\n    const { col, row } = context;\n    const sel = grid.selection.select;\n    const { layoutMap } = grid[_];\n    const rect = context.getRect();\n    const option = {};\n    const selRecordIndex = layoutMap.getRecordIndexByRow(sel.row);\n    const selId = layoutMap.getCellId(sel.col, sel.row);\n    function isSelectCell(col, row) {\n        if (col === sel.col && row === sel.row) {\n            return true;\n        }\n        return (selId != null &&\n            layoutMap.getCellId(col, row) === selId &&\n            layoutMap.getRecordIndexByRow(row) === selRecordIndex);\n    }\n    //\n    if (isSelectCell(col, row)) {\n        option.borderColor = helper.theme.highlightBorderColor;\n        option.lineWidth = 2;\n        helper.border(context, option);\n    }\n    else {\n        option.lineWidth = 1;\n        // header color\n        const isFrozenCell = grid.isFrozenCell(col, row);\n        if (isFrozenCell === null || isFrozenCell === void 0 ? void 0 : isFrozenCell.row) {\n            option.borderColor = helper.theme.frozenRowsBorderColor;\n        }\n        helper.border(context, option);\n        //\n        if (col > 0 && isSelectCell(col - 1, row)) {\n            //\n            helper.drawBorderWithClip(context, (ctx) => {\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n                if (borderColors[1]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[1];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left - 0.5, rect.top);\n                    ctx.lineTo(rect.left - 0.5, rect.bottom);\n                    ctx.stroke();\n                }\n            });\n        }\n        else if (row > 0 && isSelectCell(col, row - 1)) {\n            //\n            helper.drawBorderWithClip(context, (ctx) => {\n                const borderColors = helper.toBoxArray(helper.getColor(helper.theme.highlightBorderColor, sel.col, sel.row, ctx));\n                if (borderColors[0]) {\n                    ctx.lineWidth = 1;\n                    ctx.strokeStyle = borderColors[0];\n                    ctx.beginPath();\n                    ctx.moveTo(rect.left, rect.top - 0.5);\n                    ctx.lineTo(rect.right, rect.top - 0.5);\n                    ctx.stroke();\n                }\n            });\n        }\n    }\n}\n/** @private */\nfunction _refreshHeader(grid) {\n    var _a;\n    const protectedSpace = grid[_];\n    if (protectedSpace.headerEvents) {\n        protectedSpace.headerEvents.forEach((id) => grid.unlisten(id));\n    }\n    const headerEvents = (grid[_].headerEvents = []);\n    headerEvents.forEach((id) => grid.unlisten(id));\n    let layoutMap;\n    if (protectedSpace.layout &&\n        (!Array.isArray(protectedSpace.layout) || protectedSpace.layout.length > 0)) {\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.MultiLayoutMap(protectedSpace.layout);\n    }\n    else {\n        layoutMap = protectedSpace.layoutMap = new layout_map_1.SimpleHeaderLayoutMap((_a = protectedSpace.header) !== null && _a !== void 0 ? _a : []);\n    }\n    layoutMap.headerObjects.forEach((cell) => {\n        const ids = cell.headerType.bindGridEvent(grid, cell.id);\n        headerEvents.push(...ids);\n        if (cell.style) {\n            if (cell.style instanceof style_2.BaseStyle) {\n                const id = cell.style.listen(style_2.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n                    grid.invalidate();\n                });\n                headerEvents.push(id);\n            }\n        }\n        if (cell.action) {\n            const ids = cell.action.bindGridEvent(grid, cell.id);\n            headerEvents.push(...ids);\n        }\n    });\n    layoutMap.columnObjects.forEach((col) => {\n        if (col.action) {\n            const ids = col.action.bindGridEvent(grid, col.id);\n            headerEvents.push(...ids);\n        }\n        if (col.columnType) {\n            const ids = col.columnType.bindGridEvent(grid, col.id);\n            headerEvents.push(...ids);\n        }\n        if (col.style) {\n            if (col.style instanceof style_1.BaseStyle) {\n                const id = col.style.listen(style_1.BaseStyle.EVENT_TYPE.CHANGE_STYLE, () => {\n                    grid.invalidate();\n                });\n                headerEvents.push(id);\n            }\n        }\n    });\n    for (let col = 0; col < layoutMap.columnWidths.length; col++) {\n        const column = layoutMap.columnWidths[col];\n        const { width, minWidth, maxWidth } = column;\n        if (width && (width > 0 || typeof width === \"string\")) {\n            grid.setColWidth(col, width);\n        }\n        if (minWidth && (minWidth > 0 || typeof minWidth === \"string\")) {\n            grid.setMinColWidth(col, minWidth);\n        }\n        if (maxWidth && (maxWidth > 0 || typeof maxWidth === \"string\")) {\n            grid.setMaxColWidth(col, maxWidth);\n        }\n    }\n    const { headerRowHeight } = grid[_];\n    for (let row = 0; row < layoutMap.headerRowCount; row++) {\n        const height = Array.isArray(headerRowHeight)\n            ? headerRowHeight[row]\n            : headerRowHeight;\n        if (height && height > 0) {\n            grid.setRowHeight(row, height);\n        }\n    }\n    grid.colCount = layoutMap.colCount;\n    _refreshRowCount(grid);\n    grid.frozenRowCount = layoutMap.headerRowCount;\n}\n/** @private */\nfunction _refreshRowCount(grid) {\n    const { layoutMap } = grid[_];\n    grid.rowCount =\n        grid[_].dataSource.length * layoutMap.bodyRowCount +\n            layoutMap.headerRowCount;\n}\n/** @private */\nfunction _tryWithUpdateDataSource(grid, fn) {\n    const { dataSourceEventIds } = grid[_];\n    if (dataSourceEventIds) {\n        dataSourceEventIds.forEach((id) => grid[_].handler.off(id));\n    }\n    fn(grid);\n    grid[_].dataSourceEventIds = [\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_LENGTH, () => {\n            _refreshRowCount(grid);\n            grid.invalidate();\n        }),\n        grid[_].handler.on(grid[_].dataSource, data_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n            grid.invalidate();\n        }),\n    ];\n}\n/** @private */\nfunction _setRecords(grid, records = []) {\n    _tryWithUpdateDataSource(grid, () => {\n        grid[_].records = records;\n        const newDataSource = (grid[_].dataSource = data_1.CachedDataSource.ofArray(records));\n        grid.addDisposable(newDataSource);\n    });\n}\n/** @private */\nfunction _setDataSource(grid, dataSource) {\n    _tryWithUpdateDataSource(grid, () => {\n        if (dataSource) {\n            if (dataSource instanceof data_1.DataSource) {\n                grid[_].dataSource = dataSource;\n            }\n            else {\n                const newDataSource = (grid[_].dataSource = new data_1.CachedDataSource(dataSource));\n                grid.addDisposable(newDataSource);\n            }\n        }\n        else {\n            grid[_].dataSource = data_1.DataSource.EMPTY;\n        }\n        grid[_].records = null;\n    });\n}\n/** @private */\nfunction _getRecordIndexByRow(grid, row) {\n    const { layoutMap } = grid[_];\n    return layoutMap.getRecordIndexByRow(row);\n}\n/** @private */\nfunction _onRangePaste(text, test = () => true) {\n    var _a;\n    const { layoutMap } = this[_];\n    const selectionRange = this.selection.range;\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n    const values = paste_utils_1.parsePasteRangeBoxValues(text);\n    const pasteRowCount = Math.min(Math.max(end.row - start.row + 1, values.rowCount), this.rowCount - start.row);\n    const pasteColCount = Math.min(Math.max(end.col - start.col + 1, values.colCount), this.colCount - start.col);\n    let hasEditable = false;\n    const actionColumnsBox = [];\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n        const actionColumnsRow = [];\n        actionColumnsBox.push(actionColumnsRow);\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n            actionColumnsRow[offsetCol] = body;\n            if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n                hasEditable = true;\n            }\n        }\n    }\n    if (!hasEditable) {\n        return;\n    }\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n    const startRowOffset = start.row - startRow;\n    let duplicate = {};\n    let actionRow = startRowOffset;\n    let valuesRow = 0;\n    for (let offsetRow = 0; offsetRow < pasteRowCount; offsetRow++) {\n        let valuesCol = 0;\n        for (let offsetCol = 0; offsetCol < pasteColCount; offsetCol++) {\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n                duplicate[id] = true;\n                const col = start.col + offsetCol;\n                const row = start.row + offsetRow;\n                const cellValue = values.getCellValue(valuesCol, valuesRow);\n                utils_1.then(this.getRowRecord(row), (record) => {\n                    utils_1.then(_getCellValue(this, col, row), (oldValue) => {\n                        if (test({\n                            grid: this,\n                            record: record,\n                            col,\n                            row,\n                            value: cellValue,\n                            oldValue,\n                        })) {\n                            action.onPasteCellRangeBox(this, { col, row }, cellValue);\n                        }\n                    });\n                });\n            }\n            valuesCol++;\n            if (valuesCol >= values.colCount) {\n                valuesCol = 0;\n            }\n        }\n        actionRow++;\n        if (actionRow >= layoutMap.bodyRowCount) {\n            actionRow = 0;\n            duplicate = {};\n        }\n        valuesRow++;\n        if (valuesRow >= values.rowCount) {\n            valuesRow = 0;\n        }\n    }\n    const newEnd = {\n        col: start.col + pasteColCount - 1,\n        row: start.row + pasteRowCount - 1,\n    };\n    this.selection.range = {\n        start,\n        end: newEnd,\n    };\n    this.invalidateCellRange(this.selection.range);\n}\n/** @private */\nfunction _onRangeDelete() {\n    var _a;\n    const { layoutMap } = this[_];\n    const selectionRange = this.selection.range;\n    const { start } = this.getCellRange(selectionRange.start.col, selectionRange.start.row);\n    const { end } = this.getCellRange(selectionRange.end.col, selectionRange.end.row);\n    const deleteRowCount = Math.min(end.row - start.row + 1, this.rowCount - start.row);\n    const deleteColCount = Math.min(end.col - start.col + 1, this.colCount - start.col);\n    let hasEditable = false;\n    const actionColumnsBox = [];\n    for (let bodyRow = 0; bodyRow < layoutMap.bodyRowCount; bodyRow++) {\n        const actionColumnsRow = [];\n        actionColumnsBox.push(actionColumnsRow);\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n            const body = layoutMap.getBody(start.col + offsetCol, bodyRow + layoutMap.headerRowCount);\n            actionColumnsRow[offsetCol] = body;\n            if (!hasEditable && ((_a = body.action) === null || _a === void 0 ? void 0 : _a.editable)) {\n                hasEditable = true;\n            }\n        }\n    }\n    if (!hasEditable) {\n        return;\n    }\n    const startRow = layoutMap.getRecordStartRowByRecordIndex(layoutMap.getRecordIndexByRow(start.row));\n    const startRowOffset = start.row - startRow;\n    let duplicate = {};\n    let actionRow = startRowOffset;\n    for (let offsetRow = 0; offsetRow < deleteRowCount; offsetRow++) {\n        for (let offsetCol = 0; offsetCol < deleteColCount; offsetCol++) {\n            const { action, id } = actionColumnsBox[actionRow][offsetCol];\n            if (!duplicate[id] && (action === null || action === void 0 ? void 0 : action.editable)) {\n                duplicate[id] = true;\n                const col = start.col + offsetCol;\n                const row = start.row + offsetRow;\n                utils_1.then(this.getRowRecord(row), (_record) => {\n                    utils_1.then(_getCellValue(this, col, row), (_oldValue) => {\n                        action.onDeleteCellRangeBox(this, { col, row });\n                    });\n                });\n            }\n        }\n        actionRow++;\n        if (actionRow >= layoutMap.bodyRowCount) {\n            actionRow = 0;\n            duplicate = {};\n        }\n    }\n    this.invalidateCellRange(selectionRange);\n}\n/**\n * ListGrid\n * @classdesc cheetahGrid.ListGrid\n * @memberof cheetahGrid\n */\nclass ListGrid extends DrawGrid_1.DrawGrid {\n    /**\n     * constructor\n     *\n     * @constructor\n     * @param options Constructor options\n     */\n    constructor(options = {}) {\n        var _a;\n        super(utils_1.omit(options, [\"colCount\", \"rowCount\", \"frozenRowCount\"]));\n        this.disabled = false;\n        this.readOnly = false;\n        const protectedSpace = this[_];\n        protectedSpace.header = options.header || [];\n        protectedSpace.layout = options.layout || [];\n        protectedSpace.headerRowHeight = options.headerRowHeight || [];\n        if (options.dataSource) {\n            _setDataSource(this, options.dataSource);\n        }\n        else {\n            _setRecords(this, options.records);\n        }\n        protectedSpace.allowRangePaste = (_a = options.allowRangePaste) !== null && _a !== void 0 ? _a : false;\n        _refreshHeader(this);\n        protectedSpace.sortState = {\n            col: -1,\n            row: -1,\n            order: undefined,\n        };\n        protectedSpace.gridCanvasHelper = new GridCanvasHelper_1.GridCanvasHelper(this);\n        protectedSpace.theme = themes.of(options.theme);\n        protectedSpace.messageHandler = new MessageHandler_1.MessageHandler(this, (col, row) => _getCellMessage(this, col, row));\n        protectedSpace.tooltipHandler = new TooltipHandler_1.TooltipHandler(this);\n        this.invalidate();\n        protectedSpace.handler.on(window, \"resize\", () => {\n            this.updateSize();\n            this.updateScroll();\n            this.invalidate();\n        });\n    }\n    static get EVENT_TYPE() {\n        return LG_EVENT_TYPE_1.LG_EVENT_TYPE;\n    }\n    /**\n     * Dispose the grid instance.\n     * @returns {void}\n     */\n    dispose() {\n        const protectedSpace = this[_];\n        protectedSpace.messageHandler.dispose();\n        protectedSpace.tooltipHandler.dispose();\n        super.dispose();\n    }\n    /**\n     * Gets the define of the header.\n     */\n    get header() {\n        return this[_].header;\n    }\n    /**\n     * Sets the define of the header with the given data.\n     * <pre>\n     * column options\n     * -----\n     * caption: header caption\n     * field: field name\n     * width: column width\n     * minWidth: column min width\n     * maxWidth: column max width\n     * icon: icon name\n     * message: message key name\n     * columnType: column type\n     * action: column action\n     * style: column style\n     * headerType: header type\n     * headerStyle: header style\n     * headerAction: header action\n     * headerField: header field name\n     * sort: define sort setting\n     * -----\n     *\n     * multiline header\n     * -----\n     * caption: header caption\n     * columns: columns define\n     * -----\n     * </pre>\n     */\n    set header(header) {\n        this[_].header = header;\n        _refreshHeader(this);\n    }\n    /**\n     * Gets the define of the layout.\n     */\n    get layout() {\n        return this[_].layout;\n    }\n    /**\n     * Sets the define of the layout with the given data.\n     */\n    set layout(layout) {\n        this[_].layout = layout;\n        _refreshHeader(this);\n    }\n    /**\n     * Get the row count per record\n     */\n    get recordRowCount() {\n        return this[_].layoutMap.bodyRowCount;\n    }\n    /**\n     * Get the records.\n     */\n    get records() {\n        return this[_].records || null;\n    }\n    /**\n     * Set the records from given\n     */\n    set records(records) {\n        if (records == null) {\n            return;\n        }\n        _setRecords(this, records);\n        _refreshRowCount(this);\n        this.invalidate();\n    }\n    /**\n     * Get the data source.\n     */\n    get dataSource() {\n        return this[_].dataSource;\n    }\n    /**\n     * Set the data source from given\n     */\n    set dataSource(dataSource) {\n        _setDataSource(this, dataSource);\n        _refreshRowCount(this);\n        this.invalidate();\n    }\n    /**\n     * Get the theme.\n     */\n    get theme() {\n        return this[_].theme;\n    }\n    /**\n     * Set the theme from given\n     */\n    set theme(theme) {\n        this[_].theme = themes.of(theme);\n        this.invalidate();\n    }\n    /**\n     * If set to true to allow pasting of ranges.\n     */\n    get allowRangePaste() {\n        return this[_].allowRangePaste;\n    }\n    set allowRangePaste(allowRangePaste) {\n        this[_].allowRangePaste = allowRangePaste;\n    }\n    /**\n     * Get the font definition as a string.\n     * @override\n     */\n    get font() {\n        return super.font || this[_].gridCanvasHelper.theme.font;\n    }\n    /**\n     * Set the font definition with the given string.\n     * @override\n     */\n    set font(font) {\n        super.font = font;\n    }\n    /**\n     * Get the background color of the underlay.\n     * @override\n     */\n    get underlayBackgroundColor() {\n        return (super.underlayBackgroundColor ||\n            this[_].gridCanvasHelper.theme.underlayBackgroundColor);\n    }\n    /**\n     * Set the background color of the underlay.\n     * @override\n     */\n    set underlayBackgroundColor(underlayBackgroundColor) {\n        super.underlayBackgroundColor = underlayBackgroundColor;\n    }\n    /**\n     * Get the sort state.\n     */\n    get sortState() {\n        return this[_].sortState;\n    }\n    /**\n     * Sets the sort state.\n     * If `null` to set, the sort state is initialized.\n     */\n    set sortState(sortState) {\n        const oldState = this.sortState;\n        let oldField;\n        if (oldState.col >= 0 && oldState.row >= 0) {\n            oldField = this.getHeaderField(oldState.col, oldState.row);\n        }\n        const newState = (this[_].sortState =\n            sortState != null\n                ? sortState\n                : {\n                    col: -1,\n                    row: -1,\n                    order: undefined,\n                });\n        let newField;\n        if (newState.col >= 0 && newState.row >= 0) {\n            newField = this.getHeaderField(newState.col, newState.row);\n        }\n        // bind header value\n        if (oldField != null && oldField !== newField) {\n            this.setHeaderValue(oldState.col, oldState.row, undefined);\n        }\n        if (newField != null) {\n            this.setHeaderValue(newState.col, newState.row, newState.order);\n        }\n    }\n    /**\n     * Get the header values.\n     */\n    get headerValues() {\n        return this[_].headerValues || (this[_].headerValues = new Map());\n    }\n    /**\n     * Sets the header values.\n     */\n    set headerValues(headerValues) {\n        this[_].headerValues = headerValues || new Map();\n    }\n    /**\n     * Get the field of the given column index.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index.\n     * @return {*} The field object.\n     */\n    getField(col, row) {\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).field;\n    }\n    /**\n     * Get the column define of the given column index.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index.\n     * @return {*} The column define object.\n     */\n    getColumnDefine(col, row) {\n        return this[_].layoutMap.getBody(col, row !== null && row !== void 0 ? row : this[_].layoutMap.headerRowCount).define;\n    }\n    getColumnType(col, row) {\n        return this[_].layoutMap.getBody(col, row).columnType;\n    }\n    /**\n     * Get the header field of the given header cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The header row index.\n     * @return {*} The field object.\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getHeaderField(col, row) {\n        const hd = this[_].layoutMap.getHeader(col, row);\n        return hd.field;\n    }\n    /**\n     * Get the header define of the given header cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The header row index.\n     * @return {*} The header define object.\n     */\n    getHeaderDefine(col, row) {\n        const hd = this[_].layoutMap.getHeader(col, row);\n        return hd.define;\n    }\n    /**\n     * Get the record of the given row index.\n     * @param  {number} row The row index.\n     * @return {object} The record.\n     */\n    getRowRecord(row) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            return undefined;\n        }\n        else {\n            return this[_].dataSource.get(_getRecordIndexByRow(this, row));\n        }\n    }\n    /**\n     * Get the record index of the given row index.\n     * @param  {number} row The row index.\n     */\n    getRecordIndexByRow(row) {\n        return _getRecordIndexByRow(this, row);\n    }\n    /**\n     * Gets the row index starting at the given record index.\n     * @param  {number} index The record index.\n     */\n    getRecordStartRowByRecordIndex(index) {\n        return this[_].layoutMap.getRecordStartRowByRecordIndex(index);\n    }\n    /**\n     * Get the column index of the given field.\n     * @param  {*} field The field.\n     * @return {number} The column index.\n     * @deprecated use `getCellRangeByField` instead\n     */\n    getColumnIndexByField(field) {\n        var _a;\n        const range = this.getCellRangeByField(field, 0);\n        return (_a = range === null || range === void 0 ? void 0 : range.start.col) !== null && _a !== void 0 ? _a : null;\n    }\n    /**\n     * Get the column index of the given field.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {number} The column index.\n     */\n    getCellRangeByField(field, index) {\n        const { layoutMap } = this[_];\n        const colObj = layoutMap.columnObjects.find((col) => col.field === field);\n        if (colObj) {\n            const layoutRange = layoutMap.getBodyLayoutRangeById(colObj.id);\n            const startRow = layoutMap.getRecordStartRowByRecordIndex(index);\n            return {\n                start: {\n                    col: layoutRange.start.col,\n                    row: startRow + layoutRange.start.row,\n                },\n                end: {\n                    col: layoutRange.end.col,\n                    row: startRow + layoutRange.end.row,\n                },\n            };\n        }\n        return null;\n    }\n    /**\n     * Focus the cell.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {void}\n     */\n    focusGridCell(field, index) {\n        var _a;\n        const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = this.selection.range;\n        const newFocus = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n        if (newFocus == null) {\n            return;\n        }\n        this.focusCell(newFocus.col, newFocus.row);\n        this.selection.select = newFocus;\n        this.invalidateGridRect(startCol, startRow, endCol, endRow);\n        this.invalidateCell(newFocus.col, newFocus.row);\n    }\n    /**\n     * Scroll to where cell is visible.\n     * @param  {*} field The field.\n     * @param  {number} index The record index\n     * @return {void}\n     */\n    makeVisibleGridCell(field, index) {\n        var _a, _b, _c;\n        const cell = (_a = this.getCellRangeByField(field, index)) === null || _a === void 0 ? void 0 : _a.start;\n        this.makeVisibleCell((_b = cell === null || cell === void 0 ? void 0 : cell.col) !== null && _b !== void 0 ? _b : 0, (_c = cell === null || cell === void 0 ? void 0 : cell.row) !== null && _c !== void 0 ? _c : this[_].layoutMap.headerRowCount);\n    }\n    getGridCanvasHelper() {\n        return this[_].gridCanvasHelper;\n    }\n    /**\n     * Get cell range information for a given cell.\n     * @param {number} col column index of the cell\n     * @param {number} row row index of the cell\n     * @returns {object} cell range info\n     */\n    getCellRange(col, row) {\n        return _getCellRange(this, col, row);\n    }\n    /**\n     * Get header range information for a given cell.\n     * @param {number} col column index of the cell\n     * @param {number} row row index of the cell\n     * @returns {object} cell range info\n     * @deprecated use `getCellRange` instead\n     */\n    getHeaderCellRange(col, row) {\n        return this.getCellRange(col, row);\n    }\n    getCopyCellValue(col, row, range) {\n        var _a;\n        const cellRange = _getCellRange(this, col, row);\n        const startCol = range\n            ? Math.max(range.start.col, cellRange.start.col)\n            : cellRange.start.col;\n        const startRow = range\n            ? Math.max(range.start.row, cellRange.start.row)\n            : cellRange.start.row;\n        if (startCol !== col || startRow !== row) {\n            return \"\";\n        }\n        const value = _getCellValue(this, col, row);\n        if (row < this[_].layoutMap.headerRowCount) {\n            return value;\n        }\n        const columnData = this[_].layoutMap.getBody(col, row);\n        return ((_a = columnData.columnType.getCopyCellValue(value, this, { col, row })) !== null && _a !== void 0 ? _a : value);\n    }\n    onDrawCell(col, row, context) {\n        const { layoutMap } = this[_];\n        let draw;\n        let style;\n        if (row < layoutMap.headerRowCount) {\n            const hd = layoutMap.getHeader(col, row);\n            draw = hd.headerType.onDrawCell;\n            ({ style } = hd);\n            _updateRect(this, col, row, context);\n        }\n        else {\n            const column = layoutMap.getBody(col, row);\n            draw = column.columnType.onDrawCell;\n            ({ style } = column);\n            _updateRect(this, col, row, context);\n        }\n        const cellValue = _getCellValue(this, col, row);\n        return _onDrawValue(this, cellValue, context, { col, row }, style, draw);\n    }\n    doGetCellValue(col, row, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    valueCallback) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // nop\n            return false;\n        }\n        else {\n            const value = _getCellValue(this, col, row);\n            if (utils_1.isPromise(value)) {\n                //\n                return false;\n            }\n            valueCallback(value);\n        }\n        return true;\n    }\n    doChangeValue(col, row, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    changeValueCallback) {\n        if (row < this[_].layoutMap.headerRowCount) {\n            // nop\n            return false;\n        }\n        else {\n            const record = this.getRowRecord(row);\n            if (utils_1.isPromise(record)) {\n                //\n                return false;\n            }\n            const before = _getCellValue(this, col, row);\n            if (utils_1.isPromise(before)) {\n                //\n                return false;\n            }\n            const after = changeValueCallback(before);\n            if (after === undefined) {\n                return false;\n            }\n            return utils_1.then(_setCellValue(this, col, row, after), (ret) => {\n                if (ret) {\n                    const { field } = this[_].layoutMap.getBody(col, row);\n                    this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, {\n                        col,\n                        row,\n                        record: record,\n                        field: field,\n                        value: after,\n                        oldValue: before,\n                    });\n                }\n                return ret;\n            });\n        }\n    }\n    doSetPasteValue(text, test) {\n        _onRangePaste.call(this, text, test);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    getHeaderValue(col, row) {\n        const field = this.getHeaderField(col, row);\n        return this.headerValues.get(field);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    setHeaderValue(col, row, newValue) {\n        const field = this.getHeaderField(col, row);\n        const oldValue = this.headerValues.get(field);\n        this.headerValues.set(field, newValue);\n        this.fireListeners(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_HEADER_VALUE, {\n            col,\n            row,\n            field,\n            value: newValue,\n            oldValue,\n        });\n    }\n    getLayoutCellId(col, row) {\n        return this[_].layoutMap.getCellId(col, row);\n    }\n    bindEventsInternal() {\n        const grid = this;\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            const range = _getCellRange(this, e.col, e.row);\n            const { start: { col: startCol, row: startRow }, end: { col: endCol, row: endRow }, } = range;\n            if (startCol !== endCol || startRow !== endRow) {\n                this.invalidateCellRange(range);\n            }\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.PASTE_CELL, (e) => {\n            if (!this[_].allowRangePaste) {\n                return;\n            }\n            const { start, end } = this.selection.range;\n            if (!e.multi && utils_1.cellEquals(start, end)) {\n                return;\n            }\n            const { layoutMap } = this[_];\n            if (start.row < layoutMap.headerRowCount) {\n                return;\n            }\n            utils_1.event.cancel(e.event);\n            _onRangePaste.call(this, e.normalizeValue);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.DELETE_CELL, (e) => {\n            const { start } = this.selection.range;\n            const { layoutMap } = this[_];\n            if (start.row < layoutMap.headerRowCount) {\n                return;\n            }\n            utils_1.event.cancel(e.event);\n            _onRangeDelete.call(this);\n        });\n    }\n    getMoveLeftColByKeyDownInternal({ col, row }) {\n        const { start: { col: startCol }, } = _getCellRange(this, col, row);\n        col = startCol;\n        return super.getMoveLeftColByKeyDownInternal({ col, row });\n    }\n    getMoveRightColByKeyDownInternal({ col, row, }) {\n        const { end: { col: endCol }, } = _getCellRange(this, col, row);\n        col = endCol;\n        return super.getMoveRightColByKeyDownInternal({ col, row });\n    }\n    getMoveUpRowByKeyDownInternal({ col, row }) {\n        const { start: { row: startRow }, } = _getCellRange(this, col, row);\n        row = startRow;\n        return super.getMoveUpRowByKeyDownInternal({ col, row });\n    }\n    getMoveDownRowByKeyDownInternal({ col, row }) {\n        const { end: { row: endRow }, } = _getCellRange(this, col, row);\n        row = endRow;\n        return super.getMoveDownRowByKeyDownInternal({ col, row });\n    }\n    getOffsetInvalidateCells() {\n        return 1;\n    }\n    getCopyRangeInternal(range) {\n        const { start } = this.getCellRange(range.start.col, range.start.row);\n        const { end } = this.getCellRange(range.end.col, range.end.row);\n        return { start, end };\n    }\n    fireListeners(type, ...event) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return super.fireListeners(type, ...event);\n    }\n}\nexports.ListGrid = ListGrid;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(require(\"./columns/action\"));\nexports.action = action;\nconst style = __importStar(require(\"./columns/style\"));\nexports.style = style;\nconst type = __importStar(require(\"./columns/type\"));\nexports.type = type;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.InlineMenuEditor = exports.InlineInputEditor = exports.SmallDialogInputEditor = exports.ButtonAction = exports.RadioEditor = exports.CheckEditor = exports.Action = exports.Editor = exports.BaseAction = exports.ACTIONS = void 0;\nconst Action_1 = require(\"./action/Action\");\nObject.defineProperty(exports, \"Action\", { enumerable: true, get: function () { return Action_1.Action; } });\nconst BaseAction_1 = require(\"./action/BaseAction\");\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\nconst ButtonAction_1 = require(\"./action/ButtonAction\");\nObject.defineProperty(exports, \"ButtonAction\", { enumerable: true, get: function () { return ButtonAction_1.ButtonAction; } });\nconst CheckEditor_1 = require(\"./action/CheckEditor\");\nObject.defineProperty(exports, \"CheckEditor\", { enumerable: true, get: function () { return CheckEditor_1.CheckEditor; } });\nconst Editor_1 = require(\"./action/Editor\");\nObject.defineProperty(exports, \"Editor\", { enumerable: true, get: function () { return Editor_1.Editor; } });\nconst InlineInputEditor_1 = require(\"./action/InlineInputEditor\");\nObject.defineProperty(exports, \"InlineInputEditor\", { enumerable: true, get: function () { return InlineInputEditor_1.InlineInputEditor; } });\nconst InlineMenuEditor_1 = require(\"./action/InlineMenuEditor\");\nObject.defineProperty(exports, \"InlineMenuEditor\", { enumerable: true, get: function () { return InlineMenuEditor_1.InlineMenuEditor; } });\nconst RadioEditor_1 = require(\"./action/RadioEditor\");\nObject.defineProperty(exports, \"RadioEditor\", { enumerable: true, get: function () { return RadioEditor_1.RadioEditor; } });\nconst SmallDialogInputEditor_1 = require(\"./action/SmallDialogInputEditor\");\nObject.defineProperty(exports, \"SmallDialogInputEditor\", { enumerable: true, get: function () { return SmallDialogInputEditor_1.SmallDialogInputEditor; } });\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableCheckEditor extends CheckEditor_1.CheckEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableRadioEditor extends RadioEditor_1.RadioEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nclass ImmutableInputEditor extends SmallDialogInputEditor_1.SmallDialogInputEditor {\n    get disabled() {\n        return this._disabled;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n}\nexports.ACTIONS = {\n    CHECK: new ImmutableCheckEditor(),\n    INPUT: new ImmutableInputEditor(),\n    RADIO: new ImmutableRadioEditor(),\n};\nfunction of(columnAction) {\n    if (!columnAction) {\n        return undefined;\n    }\n    else if (typeof columnAction === \"string\") {\n        const key = columnAction.toUpperCase();\n        return exports.ACTIONS[key] || of(null);\n    }\n    else {\n        return columnAction;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Action = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst BaseAction_1 = require(\"./BaseAction\");\nconst action_utils_1 = require(\"./action-utils\");\nclass Action extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        super(option);\n        this._action = option.action || (() => { });\n    }\n    get editable() {\n        return false;\n    }\n    get action() {\n        return this._action;\n    }\n    set action(action) {\n        this._action = action;\n    }\n    clone() {\n        return new Action(this);\n    }\n    getState(_grid) {\n        return {};\n    }\n    bindGridEvent(grid, cellId) {\n        const state = this.getState(grid);\n        const action = (cell) => {\n            if (action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return;\n            }\n            const record = grid.getRowRecord(cell.row);\n            this._action(record, cell);\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n        ];\n    }\n    onPasteCellRangeBox() {\n        // noop\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n}\nexports.Action = Action;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAction = void 0;\nclass BaseAction {\n    constructor(option = {}) {\n        this._disabled = option.disabled || false;\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(disabled) {\n        this._disabled = disabled;\n        this.onChangeDisabledInternal();\n    }\n    onChangeDisabledInternal() {\n        // abstruct\n    }\n}\nexports.BaseAction = BaseAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseInputEditor = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass BaseInputEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n    }\n    bindGridEvent(grid, cellId) {\n        const open = (cell) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return false;\n            }\n            this.onOpenCellInternal(grid, cell);\n            return true;\n        };\n        const input = (cell, value) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return;\n            }\n            this.onInputCellInternal(grid, cell, value);\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                input({\n                    col: e.col,\n                    row: e.row,\n                }, e.value);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                utils_1.event.cancel(e.event);\n                input({\n                    col: e.col,\n                    row: e.row,\n                }, e.normalizeValue);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                open({\n                    col: cell.col,\n                    row: cell.row,\n                });\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                open({\n                    col: e.col,\n                    row: e.row,\n                });\n                utils_1.event.cancel(e.event);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n                    return;\n                }\n                const sel = grid.selection.select;\n                if (!isTarget(sel.col, sel.row)) {\n                    return;\n                }\n                if (open({\n                    col: sel.col,\n                    row: sel.row,\n                })) {\n                    e.stopCellMoving();\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (e) => {\n                this.onChangeSelectCellInternal(grid, { col: e.col, row: e.row }, e.selected);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n                this.onGridScrollInternal(grid);\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return false;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                    return false;\n                }\n                return true;\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                    return;\n                }\n                const range = grid.getCellRange(cell.col, cell.row);\n                if (range.start.col !== range.end.col ||\n                    range.start.row !== range.end.row) {\n                    const { input } = cell;\n                    const baseRect = grid.getCellRect(cell.col, cell.row);\n                    const rangeRect = grid.getCellRangeRect(range);\n                    input.style.top = `${(parseFloat(input.style.top) +\n                        (rangeRect.top - baseRect.top)).toFixed()}px`;\n                    input.style.left = `${(parseFloat(input.style.left) +\n                        (rangeRect.left - baseRect.left)).toFixed()}px`;\n                    input.style.width = `${rangeRect.width.toFixed()}px`;\n                    input.style.height = `${rangeRect.height.toFixed()}px`;\n                }\n                this.onSetInputAttrsInternal(grid, {\n                    col: cell.col,\n                    row: cell.row,\n                }, cell.input);\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        grid.doChangeValue(cell.col, cell.row, () => value);\n    }\n    onDeleteCellRangeBox(grid, cell) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        grid.doChangeValue(cell.col, cell.row, () => \"\");\n    }\n}\nexports.BaseInputEditor = BaseInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonAction = void 0;\nconst Action_1 = require(\"./Action\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\nclass ButtonAction extends Action_1.Action {\n    getState(grid) {\n        let state = grid[BUTTON_COLUMN_STATE_ID];\n        if (!state) {\n            state = {};\n            utils_1.obj.setReadonly(grid, BUTTON_COLUMN_STATE_ID, state);\n        }\n        return state;\n    }\n}\nexports.ButtonAction = ButtonAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckEditor = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\nclass CheckEditor extends Editor_1.Editor {\n    clone() {\n        return new CheckEditor(this);\n    }\n    bindGridEvent(grid, cellId) {\n        let _state = grid[CHECK_COLUMN_STATE_ID];\n        if (!_state) {\n            _state = { block: {}, elapsed: {} };\n            utils_1.obj.setReadonly(grid, CHECK_COLUMN_STATE_ID, _state);\n        }\n        const state = _state;\n        const action = (cell) => {\n            const range = grid.getCellRange(cell.col, cell.row);\n            const cellKey = `${range.start.col}:${range.start.row}`;\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n                state.block[cellKey]) {\n                return;\n            }\n            const ret = grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n            if (ret) {\n                const onChange = () => {\n                    // checkbox animation\n                    animate_1.animate(200, (point) => {\n                        if (point === 1) {\n                            delete state.elapsed[cellKey];\n                        }\n                        else {\n                            state.elapsed[cellKey] = point;\n                        }\n                        grid.invalidateCellRange(range);\n                    });\n                };\n                if (utils_1.isPromise(ret)) {\n                    state.block[cellKey] = true;\n                    ret.then(() => {\n                        delete state.block[cellKey];\n                        onChange();\n                    });\n                }\n                else {\n                    onChange();\n                }\n            }\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action: (_e) => {\n                    const selrange = grid.selection.range;\n                    const { col } = grid.selection.select;\n                    for (let { row } = selrange.start; row <= selrange.end.row; row++) {\n                        if (!isTarget(col, row)) {\n                            continue;\n                        }\n                        action({\n                            col,\n                            row,\n                        });\n                    }\n                },\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                const pasteValue = e.normalizeValue.trim();\n                grid.doGetCellValue(e.col, e.row, (value) => {\n                    const newValue = action_utils_1.toggleValue(value);\n                    if (`${newValue}`.trim() === pasteValue) {\n                        utils_1.event.cancel(e.event);\n                        action({\n                            col: e.col,\n                            row: e.row,\n                        });\n                    }\n                });\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const pasteValue = value.trim();\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            const newValue = action_utils_1.toggleValue(value);\n            if (`${newValue}`.trim() === pasteValue) {\n                grid.doChangeValue(cell.col, cell.row, action_utils_1.toggleValue);\n            }\n        });\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n}\nexports.CheckEditor = CheckEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Editor = void 0;\nconst BaseAction_1 = require(\"./BaseAction\");\nclass Editor extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        super(option);\n        this._readOnly = option.readOnly || false;\n    }\n    get editable() {\n        return true;\n    }\n    get readOnly() {\n        return this._readOnly;\n    }\n    set readOnly(readOnly) {\n        this._readOnly = readOnly;\n        this.onChangeReadOnlyInternal();\n    }\n    onChangeReadOnlyInternal() {\n        // abstruct\n    }\n}\nexports.Editor = Editor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineInputEditor = void 0;\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\nconst InlineInputElement_1 = require(\"./internal/InlineInputElement\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst _ = symbolManager_1.getInlineInputEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new InlineInputElement_1.InlineInputElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nfunction doChangeValue(_grid) {\n    if (globalElement) {\n        globalElement.doChangeValue();\n    }\n}\nclass InlineInputEditor extends BaseInputEditor_1.BaseInputEditor {\n    constructor(option = {}) {\n        super(option);\n        this._classList = option.classList;\n        this._type = option.type;\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n    }\n    clone() {\n        return new InlineInputEditor(this);\n    }\n    onInputCellInternal(grid, cell, inputValue) {\n        attachInput(grid, cell, this, inputValue);\n    }\n    onOpenCellInternal(grid, cell) {\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            attachInput(grid, cell, this, value);\n        });\n    }\n    onChangeSelectCellInternal(grid, _cell, _selected) {\n        doChangeValue(grid);\n        detachInput();\n    }\n    onGridScrollInternal(grid) {\n        doChangeValue(grid);\n        detachInput(true);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onSetInputAttrsInternal(grid, _cell, input) {\n        InlineInputElement_1.InlineInputElement.setInputAttrs(this, grid, input);\n    }\n}\nexports.InlineInputEditor = InlineInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineMenuEditor = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst InlineMenuElement_1 = require(\"./internal/InlineMenuElement\");\nconst type_1 = require(\"../type\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst menu_items_1 = require(\"../../internal/menu-items\");\nconst _ = symbolManager_1.getInlineMenuEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachMenu(grid, cell, editor, value, record) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new InlineMenuElement_1.InlineMenuElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value, record);\n}\nfunction detachMenu(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nconst KEY_ENTER = 13;\nconst KEY_F2 = 113;\nclass InlineMenuEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n        this._classList = option.classList;\n        this._options = menu_items_1.normalizeToFn(option.options);\n    }\n    dispose() {\n        // noop\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get options() {\n        return this._options;\n    }\n    set options(options) {\n        this._options = menu_items_1.normalizeToFn(options);\n    }\n    clone() {\n        return new InlineMenuEditor(this);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachMenu(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachMenu(true);\n    }\n    bindGridEvent(grid, cellId) {\n        const open = (cell) => {\n            if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n                return false;\n            }\n            grid.doGetCellValue(cell.col, cell.row, (value) => {\n                const record = grid.getRowRecord(cell.row);\n                if (utils_1.isPromise(record)) {\n                    return;\n                }\n                attachMenu(grid, cell, this, value, record);\n            });\n            return true;\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (cell) => {\n                if (!isTarget(cell.col, cell.row)) {\n                    return;\n                }\n                open({\n                    col: cell.col,\n                    row: cell.row,\n                });\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n                if (e.keyCode !== KEY_F2 && e.keyCode !== KEY_ENTER) {\n                    return;\n                }\n                const sel = grid.selection.select;\n                if (!isTarget(sel.col, sel.row)) {\n                    return;\n                }\n                if (open({\n                    col: sel.col,\n                    row: sel.row,\n                })) {\n                    e.stopCellMoving();\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (_e) => {\n                detachMenu();\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, () => {\n                detachMenu(true);\n            }),\n            // mouse move\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                grid.getElement().style.cursor = \"pointer\";\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                if (!grid.getElement().style.cursor) {\n                    grid.getElement().style.cursor = \"pointer\";\n                }\n            }),\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                grid.getElement().style.cursor = \"\";\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, e.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                    return;\n                }\n                const record = grid.getRowRecord(e.row);\n                if (utils_1.isPromise(record)) {\n                    return;\n                }\n                const pasteOpt = this._pasteDataToOptionValue(e.normalizeValue, grid, e, record);\n                if (pasteOpt) {\n                    utils_1.event.cancel(e.event);\n                    utils_1.then(grid.doChangeValue(e.col, e.row, () => pasteOpt.value), () => {\n                        const range = grid.getCellRange(e.col, e.row);\n                        grid.invalidateCellRange(range);\n                    });\n                }\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const record = grid.getRowRecord(cell.row);\n        if (utils_1.isPromise(record)) {\n            return;\n        }\n        const pasteOpt = this._pasteDataToOptionValue(value, grid, cell, record);\n        if (pasteOpt) {\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n        }\n    }\n    onDeleteCellRangeBox(grid, cell) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const record = grid.getRowRecord(cell.row);\n        if (utils_1.isPromise(record)) {\n            return;\n        }\n        const pasteOpt = this._pasteDataToOptionValue(\"\", grid, cell, record);\n        if (pasteOpt) {\n            grid.doChangeValue(cell.col, cell.row, () => pasteOpt.value);\n        }\n    }\n    _pasteDataToOptionValue(value, grid, cell, record) {\n        const options = this._options(record);\n        const pasteOpt = _textToOptionValue(value, options);\n        if (pasteOpt) {\n            return pasteOpt;\n        }\n        const columnType = grid.getColumnType(cell.col, cell.row);\n        if (hasOptions(columnType)) {\n            // Find with caption.\n            const pasteValue = normalizePasteValueStr(value);\n            const captionOpt = utils_1.array.find(columnType.options, (opt) => normalizePasteValueStr(opt.label) === pasteValue);\n            if (captionOpt) {\n                return _textToOptionValue(captionOpt.value, options);\n            }\n        }\n        return undefined;\n    }\n}\nexports.InlineMenuEditor = InlineMenuEditor;\nfunction _textToOptionValue(value, options) {\n    const pasteValue = normalizePasteValueStr(value);\n    const pasteOpt = utils_1.array.find(options, (opt) => normalizePasteValueStr(opt.value) === pasteValue);\n    if (pasteOpt) {\n        return pasteOpt;\n    }\n    return undefined;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction normalizePasteValueStr(value) {\n    if (value == null) {\n        return \"\";\n    }\n    return `${value}`.trim();\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction hasOptions(columnType) {\n    if (columnType instanceof type_1.MenuColumn) {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    if (Array.isArray(columnType.options)) {\n        return true;\n    }\n    return false;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioEditor = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst utils_1 = require(\"../../internal/utils\");\nconst action_utils_1 = require(\"./action-utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst Editor_1 = require(\"./Editor\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_2 = require(\"../utils\");\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nconst defaultGroupResolver = ({ grid, col, row }) => {\n    const cellId = grid.getLayoutCellId(col, row);\n    const recordStartRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n    const offsetRow = row - recordStartRow;\n    const result = [];\n    const { rowCount, recordRowCount } = grid;\n    for (let targetRow = grid.frozenRowCount + offsetRow; targetRow < rowCount; targetRow += recordRowCount) {\n        if (grid.getLayoutCellId(col, targetRow) === cellId) {\n            result.push({ col, row: targetRow });\n        }\n    }\n    return result;\n};\nclass RadioEditor extends Editor_1.Editor {\n    constructor(option = {}) {\n        super(option);\n        this._group = option.group || defaultGroupResolver;\n    }\n    clone() {\n        return new RadioEditor(this);\n    }\n    get group() {\n        return this._group;\n    }\n    set group(group) {\n        this._group = group;\n    }\n    bindGridEvent(grid, cellId) {\n        let _state = grid[RADIO_COLUMN_STATE_ID];\n        if (!_state) {\n            _state = { block: {}, elapsed: {} };\n            utils_1.obj.setReadonly(grid, RADIO_COLUMN_STATE_ID, _state);\n        }\n        const state = _state;\n        const action = (cell) => {\n            this._action(grid, cell);\n        };\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (action_utils_1.isDisabledRecord(this.disabled, grid, e.row)) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n            // paste value\n            grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, (e) => {\n                if (e.multi) {\n                    // ignore multi cell values\n                    return;\n                }\n                const selectionRange = grid.selection.range;\n                if (!utils_1.cellEquals(selectionRange.start, selectionRange.end)) {\n                    // ignore multi paste values\n                    return;\n                }\n                if (!isTarget(e.col, e.row)) {\n                    return;\n                }\n                const pasteValue = e.normalizeValue.trim();\n                if (!utils_2.toBoolean(pasteValue)) {\n                    return;\n                }\n                utils_1.event.cancel(e.event);\n                action({\n                    col: e.col,\n                    row: e.row,\n                });\n            }),\n        ];\n    }\n    onPasteCellRangeBox(grid, cell, value) {\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row)) {\n            return;\n        }\n        const pasteValue = value.trim();\n        if (!utils_2.toBoolean(pasteValue)) {\n            return;\n        }\n        this._action(grid, {\n            col: cell.col,\n            row: cell.row,\n        });\n    }\n    onDeleteCellRangeBox() {\n        // noop\n    }\n    _action(grid, cell) {\n        const state = grid[RADIO_COLUMN_STATE_ID];\n        const range = grid.getCellRange(cell.col, cell.row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n            action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n            state.block[cellKey]) {\n            return;\n        }\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            if (utils_2.toBoolean(value)) {\n                return;\n            }\n            const targets = this._group({ grid, col: cell.col, row: cell.row });\n            targets.forEach(({ col, row }) => {\n                const range = grid.getCellRange(col, row);\n                const cellKey = `${range.start.col}:${range.start.row}`;\n                if (action_utils_1.isReadOnlyRecord(this.readOnly, grid, cell.row) ||\n                    action_utils_1.isDisabledRecord(this.disabled, grid, cell.row) ||\n                    state.block[cellKey]) {\n                    return;\n                }\n                actionCell(grid, col, row, col === cell.col && row === cell.row);\n            });\n        });\n    }\n}\nexports.RadioEditor = RadioEditor;\nfunction actionCell(grid, col, row, flag) {\n    grid.doGetCellValue(col, row, (value) => {\n        if (utils_2.toBoolean(value) === flag) {\n            return;\n        }\n        const state = grid[RADIO_COLUMN_STATE_ID];\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const ret = grid.doChangeValue(col, row, action_utils_1.toggleValue);\n        if (ret) {\n            const onChange = () => {\n                // checkbox animation\n                animate_1.animate(200, (point) => {\n                    if (point === 1) {\n                        delete state.elapsed[cellKey];\n                    }\n                    else {\n                        state.elapsed[cellKey] = point;\n                    }\n                    grid.invalidateCellRange(range);\n                });\n            };\n            if (utils_1.isPromise(ret)) {\n                state.block[cellKey] = true;\n                ret.then(() => {\n                    delete state.block[cellKey];\n                    onChange();\n                });\n            }\n            else {\n                onChange();\n            }\n        }\n    });\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmallDialogInputEditor = void 0;\nconst BaseInputEditor_1 = require(\"./BaseInputEditor\");\nconst SmallDialogInputElement_1 = require(\"./internal/SmallDialogInputElement\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst _ = symbolManager_1.getSmallDialogInputEditorStateId();\nfunction getState(grid) {\n    let state = grid[_];\n    if (!state) {\n        state = {};\n        utils_1.obj.setReadonly(grid, _, state);\n    }\n    return state;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nlet globalElement = null;\nlet bindGridCount = 0;\nfunction attachInput(grid, cell, editor, value) {\n    const state = getState(grid);\n    if (!globalElement) {\n        globalElement = new SmallDialogInputElement_1.SmallDialogInputElement();\n    }\n    if (!state.element) {\n        state.element = globalElement;\n        bindGridCount++;\n        grid.addDisposable({\n            dispose() {\n                bindGridCount--;\n                if (!bindGridCount) {\n                    globalElement === null || globalElement === void 0 ? void 0 : globalElement.dispose();\n                    globalElement = null;\n                    state.element = null;\n                }\n            },\n        });\n    }\n    globalElement.attach(grid, editor, cell.col, cell.row, value);\n}\nfunction detachInput(gridFocus) {\n    if (globalElement) {\n        globalElement.detach(gridFocus);\n    }\n}\nclass SmallDialogInputEditor extends BaseInputEditor_1.BaseInputEditor {\n    constructor(option = {}) {\n        super(option);\n        this._helperText = option.helperText;\n        this._inputValidator = option.inputValidator;\n        this._validator = option.validator;\n        this._classList = option.classList;\n        this._type = option.type;\n    }\n    dispose() {\n        //noop\n    }\n    get classList() {\n        if (!this._classList) {\n            return undefined;\n        }\n        return Array.isArray(this._classList) ? this._classList : [this._classList];\n    }\n    set classList(classList) {\n        this._classList = classList;\n    }\n    get type() {\n        return this._type;\n    }\n    set type(type) {\n        this._type = type;\n    }\n    get helperText() {\n        return this._helperText;\n    }\n    get inputValidator() {\n        return this._inputValidator;\n    }\n    get validator() {\n        return this._validator;\n    }\n    clone() {\n        return new SmallDialogInputEditor(this);\n    }\n    onInputCellInternal(grid, cell, inputValue) {\n        attachInput(grid, cell, this, inputValue);\n    }\n    onOpenCellInternal(grid, cell) {\n        grid.doGetCellValue(cell.col, cell.row, (value) => {\n            attachInput(grid, cell, this, value);\n        });\n    }\n    onChangeSelectCellInternal(_grid, _cell, _selected) {\n        // cancel input\n        detachInput();\n    }\n    onGridScrollInternal(_grid) {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeDisabledInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onChangeReadOnlyInternal() {\n        // cancel input\n        detachInput(true);\n    }\n    onSetInputAttrsInternal(grid, _cell, input) {\n        SmallDialogInputElement_1.SmallDialogInputElement.setInputAttrs(this, grid, input);\n    }\n}\nexports.SmallDialogInputEditor = SmallDialogInputEditor;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toggleValue = exports.isReadOnlyRecord = exports.isDisabledRecord = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nfunction isDisabledRecord(option, grid, row) {\n    if (grid.disabled) {\n        return true;\n    }\n    return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isDisabledRecord = isDisabledRecord;\nfunction isReadOnlyRecord(option, grid, row) {\n    if (grid.readOnly) {\n        return true;\n    }\n    return getBooleanOptionOfRecord(option, grid, row);\n}\nexports.isReadOnlyRecord = isReadOnlyRecord;\nfunction toggleValue(val) {\n    if (typeof val === \"number\") {\n        if (val === 0) {\n            return 1;\n        }\n        else {\n            return 0;\n        }\n    }\n    else if (typeof val === \"string\") {\n        if (val === \"false\") {\n            return \"true\";\n        }\n        else if (val === \"off\") {\n            return \"on\";\n        }\n        else if (/^0+$/.exec(val)) {\n            return val.replace(/^(0*)0$/, \"$11\");\n        }\n        else if (val === \"true\") {\n            return \"false\";\n        }\n        else if (val === \"on\") {\n            return \"off\";\n        }\n        else if (/^0*1$/.exec(val)) {\n            return val.replace(/^(0*)1$/, \"$10\");\n        }\n    }\n    return !val;\n}\nexports.toggleValue = toggleValue;\nfunction getBooleanOptionOfRecord(option, grid, row) {\n    if (typeof option === \"function\") {\n        const record = grid.getRowRecord(row);\n        if (utils_1.isPromise(record)) {\n            return true;\n        }\n        return !!option(record);\n    }\n    return !!option;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst KEY_ENTER = 13;\nconst KEY_SPACE = 32;\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [\n        // click\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n                return;\n            }\n            action({\n                col: e.col,\n                row: e.row,\n            });\n        }),\n        // mouse move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(e.row))) {\n                return;\n            }\n            if (mouseOver) {\n                if (!mouseOver({\n                    col: e.col,\n                    row: e.row,\n                })) {\n                    return;\n                }\n            }\n            grid.getElement().style.cursor = \"pointer\";\n        }),\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOut) {\n                mouseOut({\n                    col: e.col,\n                    row: e.row,\n                });\n            }\n            grid.getElement().style.cursor = \"\";\n        }),\n    ];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    acceptKeys = [...acceptKeys, KEY_ENTER, KEY_SPACE];\n    return [\n        // enter key down\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n            var _a;\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\n                return;\n            }\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n                // When moving with the enter key, no action is taken with the enter key.\n                return;\n            }\n            const sel = grid.selection.select;\n            if (!isTarget(sel.col, sel.row)) {\n                return;\n            }\n            if (utils_1.isPromise(grid.getRowRecord(sel.row))) {\n                return;\n            }\n            action({\n                col: sel.col,\n                row: sel.row,\n            });\n            utils_1.event.cancel(e.event);\n        }),\n    ];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineInputElement = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst utils_1 = require(\"../../../internal/utils\");\nconst input_value_handler_1 = require(\"./input-value-handler\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst CLASSNAME = \"cheetah-grid__inline-input\";\nfunction createInputElement() {\n    require(\"@/columns/action/internal/InlineInputElement.css\");\n    return dom_1.createElement(\"input\", { classList: CLASSNAME });\n}\nfunction setInputAttrs(editor, _grid, input) {\n    const { classList, type } = editor;\n    if (classList) {\n        input.classList.add(...classList);\n    }\n    input.type = type || \"\";\n}\nclass InlineInputElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._input = createInputElement();\n        this._bindInputEvents();\n    }\n    static setInputAttrs(editor, grid, input) {\n        setInputAttrs(editor, grid, input);\n    }\n    dispose() {\n        var _a;\n        const input = this._input;\n        this.detach();\n        this._handler.dispose();\n        delete this._input;\n        this._beforePropEditor = null;\n        (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n    }\n    attach(grid, editor, col, row, value) {\n        const input = this._input;\n        const handler = this._handler;\n        if (this._beforePropEditor) {\n            const { classList } = this._beforePropEditor;\n            if (classList) {\n                input.classList.remove(...classList);\n            }\n        }\n        input.style.font = grid.font || \"16px sans-serif\";\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        input.style.top = `${rect.top.toFixed()}px`;\n        input.style.left = `${rect.left.toFixed()}px`;\n        input.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n        element.appendChild(input);\n        setInputAttrs(editor, grid, input);\n        input_value_handler_1.setInputValue(input, value);\n        this._activeData = { grid, col, row, editor };\n        this._beforePropEditor = editor;\n        const focus = () => {\n            input.focus();\n            const end = input.value.length;\n            try {\n                if (typeof input.selectionStart !== \"undefined\") {\n                    input.selectionStart = end;\n                    input.selectionEnd = end;\n                    return;\n                }\n            }\n            catch (e) {\n                //ignore\n            }\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            if (document.selection) {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                const range = input.createTextRange();\n                range.collapse();\n                range.moveEnd(\"character\", end);\n                range.moveStart(\"character\", end);\n                range.select();\n            }\n        };\n        handler.tryWithOffEvents(input, \"blur\", () => {\n            focus();\n        });\n        this._attaching = true;\n        setTimeout(() => {\n            delete this._attaching;\n        });\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const { grid, col, row } = this._activeData;\n            const input = this._input;\n            this._handler.tryWithOffEvents(input, \"blur\", () => {\n                var _a;\n                (_a = input.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(input);\n            });\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n    }\n    doChangeValue() {\n        if (!this._isActive()) {\n            return;\n        }\n        const input = this._input;\n        const { value } = input;\n        const { grid, col, row } = this._activeData;\n        grid.doChangeValue(col, row, () => value);\n    }\n    _isActive() {\n        const input = this._input;\n        if (!input || !input.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindInputEvents() {\n        const handler = this._handler;\n        const input = this._input;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(input, \"click\", stopPropagationOnly);\n        handler.on(input, \"mousedown\", stopPropagationOnly);\n        handler.on(input, \"touchstart\", stopPropagationOnly);\n        handler.on(input, \"dblclick\", stopPropagationOnly);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n        });\n        handler.on(input, \"compositionend\", (_e) => {\n            input.classList.remove(\"composition\");\n        });\n        handler.on(input, \"keydown\", (e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(e);\n            }\n            else if (keyCode === KEY_TAB) {\n                this._onKeydownTab(e);\n            }\n        });\n        handler.on(input, \"blur\", (_e) => {\n            this.doChangeValue();\n            this.detach();\n        });\n    }\n    _onKeydownEnter(e) {\n        var _a;\n        if (!this._isActive() || this._attaching) {\n            return;\n        }\n        const { grid } = this._activeData;\n        this.doChangeValue();\n        this.detach(true);\n        utils_1.event.cancel(e);\n        if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n            grid.onKeyDownMove(e);\n        }\n    }\n    _onKeydownTab(e) {\n        var _a;\n        if (!this._isActive()) {\n            return;\n        }\n        const { grid } = this._activeData;\n        if (!((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab)) {\n            return;\n        }\n        this.doChangeValue();\n        this.detach(true);\n        grid.onKeyDownMove(e);\n    }\n}\nexports.InlineInputElement = InlineInputElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineMenuElement = void 0;\nconst dom_1 = require(\"../../../internal/dom\");\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst utils_1 = require(\"../../../internal/utils\");\nconst KEY_TAB = 9;\nconst KEY_ENTER = 13;\nconst KEY_UP = 38;\nconst KEY_DOWN = 40;\nconst KEY_ESC = 27;\nconst CLASSNAME = \"cheetah-grid__inline-menu\";\nconst ITEM_CLASSNAME = `${CLASSNAME}__menu-item`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst EMPTY_ITEM_CLASSNAME = `${ITEM_CLASSNAME}--empty`;\nfunction findItemParents(target) {\n    let el = target;\n    while (el && !el.classList.contains(ITEM_CLASSNAME)) {\n        el = el.parentElement;\n        if (!el || el.classList.contains(CLASSNAME)) {\n            return null;\n        }\n    }\n    return el;\n}\nfunction createMenuElement() {\n    require(\"@/columns/action/internal/InlineMenuElement.css\");\n    return dom_1.createElement(\"ul\", { classList: CLASSNAME });\n}\nfunction attachElement(element, rect, menu) {\n    menu.style.top = `${rect.top.toFixed()}px`;\n    menu.style.left = `${rect.left.toFixed()}px`;\n    menu.style.width = `${rect.width.toFixed()}px`;\n    menu.style.lineHeight = `${rect.height.toFixed()}px`;\n    element.appendChild(menu);\n}\nfunction optionToLi({ classList, label, value, html }, index) {\n    const item = dom_1.createElement(\"li\", { classList: ITEM_CLASSNAME });\n    item.tabIndex = 0;\n    item.dataset.valueindex = `${index}`;\n    if (classList) {\n        item.classList.add(...(Array.isArray(classList) ? classList : [classList]));\n    }\n    if (label) {\n        const span = dom_1.createElement(\"span\", { text: label });\n        item.appendChild(span);\n    }\n    else if (html) {\n        dom_1.appendHtml(item, html);\n    }\n    if (value === \"\" || value == null) {\n        item.classList.add(EMPTY_ITEM_CLASSNAME);\n    }\n    return item;\n}\nfunction openMenu(grid, editor, col, row, value, options, menu) {\n    const { classList } = editor;\n    menu.classList.remove(SHOWN_CLASSNAME);\n    menu.classList.add(HIDDEN_CLASSNAME);\n    dom_1.empty(menu);\n    menu.style.font = grid.font || \"16px sans-serif\";\n    let emptyItemEl = null;\n    let valueItemEl = null;\n    options.forEach((option, i) => {\n        const item = optionToLi(option, i);\n        menu.appendChild(item);\n        if (option.value === value) {\n            valueItemEl = item;\n            item.dataset.select = \"select\";\n        }\n        if (item.classList.contains(EMPTY_ITEM_CLASSNAME)) {\n            emptyItemEl = item;\n        }\n    });\n    const focusEl = valueItemEl || emptyItemEl || menu.children[0];\n    if (classList) {\n        menu.classList.add(...classList);\n    }\n    const children = Array.prototype.slice.call(menu.children, 0);\n    const focusIndex = children.indexOf(focusEl);\n    const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n    // Cover the right line\n    rect.width++;\n    // append for calculation\n    attachElement(element, rect, menu);\n    // Make the selection item at the middle\n    let offset = 0;\n    let allHeight = 0;\n    for (let i = 0; i < children.length; i++) {\n        const { offsetHeight } = children[i];\n        if (i < focusIndex) {\n            offset += offsetHeight;\n        }\n        allHeight += offsetHeight;\n    }\n    rect.offsetTop(-offset);\n    menu.style.transformOrigin = `center ${offset + Math.ceil(children[focusIndex].offsetHeight / 2)}px 0px`;\n    attachElement(element, rect, menu);\n    // Control not to overflow the screen range\n    const menuClientRect = menu.getBoundingClientRect();\n    const scaleDiff = (allHeight - menuClientRect.height) / 2;\n    const orgMenuTop = menuClientRect.top - scaleDiff;\n    let menuTop = orgMenuTop;\n    const menuBottom = menuTop + allHeight;\n    const winBottom = window.innerHeight;\n    const winMargin = 20;\n    if (menuBottom > winBottom - winMargin) {\n        const diff = menuBottom - winBottom + winMargin;\n        menuTop -= diff;\n    }\n    if (menuTop < 0 /*winTop*/ + winMargin) {\n        menuTop = winMargin;\n    }\n    if (menuTop !== orgMenuTop) {\n        rect.offsetTop(-(orgMenuTop - menuTop));\n        // re update\n        attachElement(element, rect, menu);\n    }\n    if (focusEl) {\n        focusEl.focus();\n    }\n    menu.classList.remove(HIDDEN_CLASSNAME);\n    menu.classList.add(SHOWN_CLASSNAME);\n}\nfunction closeMenu(_grid, _col, _row, menu) {\n    menu.classList.remove(SHOWN_CLASSNAME);\n    menu.classList.add(HIDDEN_CLASSNAME);\n    dom_1.disableFocus(menu);\n}\nclass InlineMenuElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._menu = createMenuElement();\n        this._bindMenuEvents();\n    }\n    dispose() {\n        var _a;\n        const menu = this._menu;\n        this.detach();\n        this._handler.dispose();\n        delete this._menu;\n        this._beforePropEditor = null;\n        (_a = menu.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(menu);\n    }\n    attach(grid, editor, col, row, value, record) {\n        const menu = this._menu;\n        if (this._beforePropEditor) {\n            const { classList } = this._beforePropEditor;\n            if (classList) {\n                menu.classList.remove(...classList);\n            }\n        }\n        const options = editor.options(record);\n        openMenu(grid, editor, col, row, value, options, menu);\n        this._activeData = { grid, col, row, editor, options };\n        this._beforePropEditor = editor;\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const { grid, col, row } = this._activeData;\n            const menu = this._menu;\n            closeMenu(grid, col, row, menu);\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n    }\n    _doChangeValue(valueindex) {\n        if (!this._isActive()) {\n            return;\n        }\n        const { grid, col, row, options } = this._activeData;\n        const option = options[Number(valueindex)];\n        if (option) {\n            const { value } = option;\n            grid.doChangeValue(col, row, () => value);\n        }\n    }\n    _isActive() {\n        const menu = this._menu;\n        if (!menu || !menu.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindMenuEvents() {\n        const handler = this._handler;\n        const menu = this._menu;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(menu, \"mousedown\", stopPropagationOnly);\n        handler.on(menu, \"touchstart\", stopPropagationOnly);\n        handler.on(menu, \"dblclick\", stopPropagationOnly);\n        handler.on(menu, \"click\", (e) => {\n            e.stopPropagation();\n            const item = findItemParents(e.target);\n            if (!item) {\n                return;\n            }\n            const { valueindex } = item.dataset;\n            this._doChangeValue(valueindex || \"\");\n            this.detach(true);\n        });\n        handler.on(menu, \"keydown\", (e) => {\n            const item = findItemParents(e.target);\n            if (!item) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(menu, item, e);\n            }\n            else if (keyCode === KEY_ESC) {\n                this.detach(true);\n                utils_1.event.cancel(e);\n            }\n            else if (keyCode === KEY_UP) {\n                const n = dom_1.findPrevSiblingFocusable(item);\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n            else if (keyCode === KEY_DOWN) {\n                const n = dom_1.findNextSiblingFocusable(item);\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n            else if (keyCode === KEY_TAB) {\n                this._onKeydownTab(menu, item, e);\n            }\n        });\n    }\n    _onKeydownEnter(_menu, item, e) {\n        var _a;\n        const grid = this._isActive() ? this._activeData.grid : null;\n        const { valueindex } = item.dataset;\n        this._doChangeValue(valueindex || \"\");\n        this.detach(true);\n        utils_1.event.cancel(e);\n        if (grid) {\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n                grid.onKeyDownMove(e);\n            }\n        }\n    }\n    _onKeydownTab(menu, item, e) {\n        var _a;\n        if (this._isActive()) {\n            const { grid } = this._activeData;\n            if ((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) {\n                const { valueindex } = item.dataset;\n                this._doChangeValue(valueindex || \"\");\n                this.detach(true);\n                grid.onKeyDownMove(e);\n                return;\n            }\n        }\n        if (!e.shiftKey) {\n            if (!dom_1.findNextSiblingFocusable(item)) {\n                let n = menu.querySelector(`.${ITEM_CLASSNAME}`);\n                if (!dom_1.isFocusable(n)) {\n                    n = dom_1.findNextSiblingFocusable(n);\n                }\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n        }\n        else {\n            if (!dom_1.findPrevSiblingFocusable(item)) {\n                const items = menu.querySelectorAll(`.${ITEM_CLASSNAME}`);\n                let n = items[items.length - 1];\n                if (!dom_1.isFocusable(n)) {\n                    n = dom_1.findPrevSiblingFocusable(n);\n                }\n                if (n) {\n                    n.focus();\n                    utils_1.event.cancel(e);\n                }\n            }\n        }\n    }\n}\nexports.InlineMenuElement = InlineMenuElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SmallDialogInputElement = void 0;\nconst utils_1 = require(\"../../../internal/utils\");\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst input_value_handler_1 = require(\"./input-value-handler\");\nconst CLASSNAME = \"cheetah-grid__small-dialog-input\";\nconst INPUT_CLASSNAME = `${CLASSNAME}__input`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nconst KEY_ENTER = 13;\nconst KEY_ESC = 27;\nfunction _focus(input, handler) {\n    const focus = () => {\n        input.focus();\n        const end = input.value.length;\n        try {\n            if (typeof input.selectionStart !== \"undefined\") {\n                input.selectionStart = end;\n                input.selectionEnd = end;\n                return;\n            }\n        }\n        catch (e) {\n            //ignore\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        if (document.selection) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const range = input.createTextRange();\n            range.collapse();\n            range.moveEnd(\"character\", end);\n            range.moveStart(\"character\", end);\n            range.select();\n        }\n    };\n    handler.tryWithOffEvents(input, \"blur\", () => {\n        focus();\n    });\n}\nfunction createDialogElement() {\n    require(\"@/columns/action/internal/SmallDialogInputElement.css\");\n    const element = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const input = dom_1.createElement(\"input\", { classList: INPUT_CLASSNAME });\n    input.readOnly = true;\n    input.tabIndex = -1;\n    element.appendChild(input);\n    return element;\n}\nfunction bindProps(grid, dialog, input, editor) {\n    const { classList, helperText } = editor;\n    if (classList) {\n        dialog.classList.add(...classList);\n    }\n    if (helperText && typeof helperText !== \"function\") {\n        dialog.dataset.helperText = helperText;\n    }\n    setInputAttrs(editor, grid, input);\n}\nfunction unbindProps(_grid, dialog, input, editor) {\n    const { classList } = editor;\n    if (classList) {\n        dialog.classList.remove(...classList);\n    }\n    delete dialog.dataset.helperText;\n    input.type = \"\";\n}\nfunction setInputAttrs(editor, _grid, input) {\n    const { type } = editor;\n    input.type = type || \"\";\n}\nclass SmallDialogInputElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        this._dialog = createDialogElement();\n        this._input = this._dialog.querySelector(`.${INPUT_CLASSNAME}`);\n        this._bindDialogEvents();\n    }\n    static setInputAttrs(editor, grid, input) {\n        setInputAttrs(editor, grid, input);\n    }\n    dispose() {\n        const dialog = this._dialog;\n        this.detach();\n        this._handler.dispose();\n        delete this._dialog;\n        delete this._input;\n        this._beforePropEditor = null;\n        if (dialog.parentElement) {\n            dialog.parentElement.removeChild(dialog);\n        }\n    }\n    attach(grid, editor, col, row, value) {\n        const handler = this._handler;\n        const dialog = this._dialog;\n        const input = this._input;\n        if (this._beforePropEditor) {\n            unbindProps(grid, dialog, input, this._beforePropEditor);\n        }\n        delete dialog.dataset.errorMessage;\n        dialog.classList.remove(SHOWN_CLASSNAME);\n        dialog.classList.add(HIDDEN_CLASSNAME);\n        input.readOnly = true;\n        input.tabIndex = 0;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        dialog.style.top = `${rect.top.toFixed()}px`;\n        dialog.style.left = `${rect.left.toFixed()}px`;\n        dialog.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n        element.appendChild(dialog);\n        input_value_handler_1.setInputValue(input, value);\n        input.style.font = grid.font || \"16px sans-serif\";\n        const activeData = { grid, col, row, editor };\n        this._onInputValue(input, activeData);\n        if (!utils_1.browser.IE) {\n            _focus(input, handler);\n        }\n        else {\n            // On the paste-event on IE, since it may not be focused, it will be delayed and focused.\n            setTimeout(() => _focus(input, handler));\n        }\n        dialog.classList.add(SHOWN_CLASSNAME);\n        dialog.classList.remove(HIDDEN_CLASSNAME);\n        input.readOnly = false;\n        bindProps(grid, dialog, input, editor);\n        this._activeData = activeData;\n        this._beforePropEditor = editor;\n        this._attaching = true;\n        setTimeout(() => {\n            delete this._attaching;\n        });\n    }\n    detach(gridFocus) {\n        if (this._isActive()) {\n            const dialog = this._dialog;\n            const input = this._input;\n            dialog.classList.remove(SHOWN_CLASSNAME);\n            dialog.classList.add(HIDDEN_CLASSNAME);\n            input.readOnly = true;\n            input.tabIndex = -1;\n            const { grid, col, row } = this._activeData;\n            const range = grid.getCellRange(col, row);\n            grid.invalidateCellRange(range);\n            if (gridFocus) {\n                grid.focus();\n            }\n        }\n        this._activeData = null;\n        this._beforeValue = null;\n    }\n    _doChangeValue() {\n        if (!this._isActive()) {\n            return false;\n        }\n        const input = this._input;\n        const { value } = input;\n        return utils_1.then(this._validate(value), (res) => {\n            if (res && value === input.value) {\n                const { grid, col, row } = this._activeData;\n                grid.doChangeValue(col, row, () => value);\n                return true;\n            }\n            return false;\n        });\n    }\n    _isActive() {\n        const dialog = this._dialog;\n        if (!dialog || !dialog.parentElement) {\n            return false;\n        }\n        if (!this._activeData) {\n            return false;\n        }\n        return true;\n    }\n    _bindDialogEvents() {\n        const handler = this._handler;\n        const dialog = this._dialog;\n        const input = this._input;\n        const stopPropagationOnly = (e) => e.stopPropagation(); // grid\n        handler.on(dialog, \"click\", stopPropagationOnly);\n        handler.on(dialog, \"dblclick\", stopPropagationOnly);\n        handler.on(dialog, \"mousedown\", stopPropagationOnly);\n        handler.on(dialog, \"touchstart\", stopPropagationOnly);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n        });\n        handler.on(input, \"compositionend\", (_e) => {\n            input.classList.remove(\"composition\");\n            this._onInputValue(input);\n        });\n        const onKeyupAndPress = (_e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            this._onInputValue(input);\n        };\n        handler.on(input, \"keyup\", onKeyupAndPress);\n        handler.on(input, \"keypress\", onKeyupAndPress);\n        handler.on(input, \"keydown\", (e) => {\n            if (input.classList.contains(\"composition\")) {\n                return;\n            }\n            const keyCode = utils_1.event.getKeyCode(e);\n            if (keyCode === KEY_ESC) {\n                this.detach(true);\n                utils_1.event.cancel(e);\n            }\n            else if (keyCode === KEY_ENTER) {\n                this._onKeydownEnter(e);\n            }\n            else {\n                this._onInputValue(input);\n            }\n        });\n    }\n    _onKeydownEnter(e) {\n        if (this._attaching) {\n            return;\n        }\n        const input = this._input;\n        const { value } = input;\n        utils_1.then(this._doChangeValue(), (r) => {\n            var _a;\n            if (r && value === input.value) {\n                const grid = this._isActive() ? this._activeData.grid : null;\n                this.detach(true);\n                if ((_a = grid === null || grid === void 0 ? void 0 : grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) {\n                    grid.onKeyDownMove(e);\n                }\n            }\n        });\n        utils_1.event.cancel(e);\n    }\n    _onInputValue(input, activeData) {\n        const before = this._beforeValue;\n        const { value } = input;\n        if (before !== value) {\n            this._onInputValueChange(value, activeData);\n        }\n        this._beforeValue = value;\n    }\n    _onInputValueChange(after, activeData) {\n        activeData = (activeData || this._activeData);\n        const dialog = this._dialog;\n        const { grid, col, row, editor } = activeData;\n        if (typeof editor.helperText === \"function\") {\n            const helperText = editor.helperText(after, { grid, col, row });\n            if (helperText) {\n                dialog.dataset.helperText = helperText;\n            }\n            else {\n                delete dialog.dataset.helperText;\n            }\n        }\n        if (\"errorMessage\" in dialog.dataset) {\n            this._validate(after, true);\n        }\n    }\n    _validate(value, inputOnly) {\n        const dialog = this._dialog;\n        const input = this._input;\n        const { grid, col, row, editor } = this._activeData;\n        let message = \"\";\n        if (editor.inputValidator) {\n            message = editor.inputValidator(value, { grid, col, row });\n        }\n        return utils_1.then(message, (message) => {\n            if (!message && editor.validator && !inputOnly) {\n                message = editor.validator(value, { grid, col, row });\n            }\n            return utils_1.then(message, (message) => {\n                if (message && value === input.value) {\n                    dialog.dataset.errorMessage = message;\n                }\n                else {\n                    delete dialog.dataset.errorMessage;\n                }\n                return !message;\n            });\n        });\n    }\n}\nexports.SmallDialogInputElement = SmallDialogInputElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.setInputValue = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nfunction setInputValue(input, value) {\n    const sign = input.type === \"number\" && value === \"-\";\n    if (sign) {\n        // When `type=\"number\"`, the minus sign is not accepted, so change it to `type=\"text\"` once.\n        input.type = \"\";\n        let handler = new EventHandler_1.EventHandler();\n        const dispose = () => {\n            if (handler) {\n                handler.dispose();\n                handler = null;\n            }\n        };\n        handler.once(input, \"input\", (_e) => {\n            input.type = \"number\";\n            dispose();\n        });\n        handler.once(input, \"blur\", (_e) => {\n            dispose();\n        });\n    }\n    input.value = value !== null && value !== void 0 ? value : \"\";\n}\nexports.setInputValue = setInputValue;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseMessage = void 0;\nclass BaseMessage {\n    constructor(grid) {\n        this._messageElement = null;\n        this._grid = grid;\n    }\n    dispose() {\n        this.detachMessageElement();\n        if (this._messageElement) {\n            this._messageElement.dispose();\n        }\n        this._messageElement = null;\n    }\n    _getMessageElement() {\n        return (this._messageElement ||\n            (this._messageElement = this.createMessageElementInternal()));\n    }\n    attachMessageElement(col, row, message) {\n        const messageElement = this._getMessageElement();\n        messageElement.attach(this._grid, col, row, message);\n    }\n    moveMessageElement(col, row) {\n        const messageElement = this._getMessageElement();\n        messageElement.move(this._grid, col, row);\n    }\n    detachMessageElement() {\n        const messageElement = this._getMessageElement();\n        messageElement._detach();\n    }\n    drawCellMessage(message, context, style, helper, grid, info) {\n        this.drawCellMessageInternal(message, context, style, helper, grid, info);\n    }\n}\nexports.BaseMessage = BaseMessage;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst ErrorMessageElement_1 = require(\"./internal/ErrorMessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst RED_A100 = \"#ff8a80\";\nclass ErrorMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new ErrorMessageElement_1.ErrorMessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: RED_A100,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.ErrorMessage = ErrorMessage;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InfoMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst MessageElement_1 = require(\"./internal/MessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst GREY_L2 = \"#e0e0e0\";\nclass InfoMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new MessageElement_1.MessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: GREY_L2,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.InfoMessage = InfoMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageHandler = exports.hasMessage = void 0;\nconst ErrorMessage_1 = require(\"./ErrorMessage\");\nconst InfoMessage_1 = require(\"./InfoMessage\");\nconst LG_EVENT_TYPE_1 = require(\"../../list-grid/LG_EVENT_TYPE\");\nconst WarningMessage_1 = require(\"./WarningMessage\");\nconst utils_1 = require(\"../../internal/utils\");\nconst EMPTY_MESSAGE = {\n    type: \"error\",\n    message: null,\n};\nconst MESSAGE_INSTANCE_FACTORY = {\n    error(grid) {\n        return new ErrorMessage_1.ErrorMessage(grid);\n    },\n    info(grid) {\n        return new InfoMessage_1.InfoMessage(grid);\n    },\n    warning(grid) {\n        return new WarningMessage_1.WarningMessage(grid);\n    },\n};\nfunction normalizeMessage(message) {\n    if (!message || utils_1.isPromise(message)) {\n        return EMPTY_MESSAGE;\n    }\n    if (typeof message === \"string\") {\n        return {\n            type: \"error\",\n            message,\n            original: message,\n        };\n    }\n    const type = message.type || \"error\";\n    if (type && type in MESSAGE_INSTANCE_FACTORY) {\n        return {\n            type: type.toLowerCase(),\n            message: message.message,\n            original: message,\n        };\n    }\n    return {\n        type: \"error\",\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        message: `${message}`,\n        original: message,\n    };\n}\nfunction hasMessage(message) {\n    return !!normalizeMessage(message).message;\n}\nexports.hasMessage = hasMessage;\nclass MessageHandler {\n    constructor(grid, getMessage) {\n        this._attachInfo = null;\n        this._grid = grid;\n        this._messageInstances = {};\n        this._bindGridEvent(grid, getMessage);\n    }\n    dispose() {\n        var _a;\n        const messageInstances = this._messageInstances;\n        for (const k in messageInstances) {\n            (_a = messageInstances[k]) === null || _a === void 0 ? void 0 : _a.dispose();\n        }\n        delete this._messageInstances;\n        delete this._attachInfo;\n    }\n    drawCellMessage(message, context, style, helper, grid, info) {\n        if (!hasMessage(message)) {\n            return;\n        }\n        const instance = this._getMessageInstanceOfMessage(message);\n        instance.drawCellMessage(normalizeMessage(message), context, style, helper, grid, info);\n    }\n    _attach(col, row, message) {\n        const info = this._attachInfo;\n        const instance = this._getMessageInstanceOfMessage(message);\n        if (info && info.instance !== instance) {\n            info.instance.detachMessageElement();\n        }\n        instance.attachMessageElement(col, row, normalizeMessage(message));\n        this._attachInfo = { col, row, instance };\n    }\n    _move(col, row) {\n        const info = this._attachInfo;\n        if (!info || info.col !== col || info.row !== row) {\n            return;\n        }\n        const { instance } = info;\n        instance.moveMessageElement(col, row);\n    }\n    _detach() {\n        const info = this._attachInfo;\n        if (!info) {\n            return;\n        }\n        const { instance } = info;\n        instance.detachMessageElement();\n        this._attachInfo = null;\n    }\n    _bindGridEvent(grid, getMessage) {\n        const onSelectMessage = (sel) => {\n            const setMessageData = (msg) => {\n                if (!hasMessage(msg)) {\n                    this._detach();\n                }\n                else {\n                    this._attach(sel.col, sel.row, msg);\n                }\n            };\n            const message = getMessage(sel.col, sel.row);\n            if (utils_1.isPromise(message)) {\n                this._detach();\n                message.then((msg) => {\n                    const newSel = grid.selection.select;\n                    if (newSel.col !== sel.col || newSel.row !== sel.row) {\n                        return;\n                    }\n                    setMessageData(msg);\n                });\n                return;\n            }\n            setMessageData(message);\n        };\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            if (!e.selected) {\n                return;\n            }\n            if (e.before.col === e.col && e.before.row === e.row) {\n                return;\n            }\n            onSelectMessage(e);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n            const sel = grid.selection.select;\n            this._move(sel.col, sel.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\n            const sel = grid.selection.select;\n            if (sel.col !== e.col || sel.row !== e.row) {\n                return;\n            }\n            onSelectMessage(e);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.FOCUS_GRID, (_e) => {\n            const sel = grid.selection.select;\n            onSelectMessage(sel);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.BLUR_GRID, (_e) => {\n            this._detach();\n        });\n    }\n    _getMessageInstanceOfMessage(message) {\n        const messageInstances = this._messageInstances;\n        const { type } = normalizeMessage(message);\n        return (messageInstances[type] ||\n            (messageInstances[type] = MESSAGE_INSTANCE_FACTORY[type](this._grid)));\n    }\n}\nexports.MessageHandler = MessageHandler;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WarningMessage = void 0;\nconst messageUtils = __importStar(require(\"./messageUtils\"));\nconst BaseMessage_1 = require(\"./BaseMessage\");\nconst WarningMessageElement_1 = require(\"./internal/WarningMessageElement\");\nconst utils_1 = require(\"../../internal/utils\");\nconst DEEP_ORANGE_A100 = \"#ff9e80\";\nclass WarningMessage extends BaseMessage_1.BaseMessage {\n    createMessageElementInternal() {\n        return new WarningMessageElement_1.WarningMessageElement();\n    }\n    drawCellMessageInternal(_message, context, style, helper, grid, _info) {\n        const { bgColor } = style;\n        const { select } = context.getSelection();\n        if (!utils_1.cellInRange(grid.getCellRange(context.col, context.row), select.col, select.row) ||\n            !grid.hasFocusGrid()) {\n            helper.drawBorderWithClip(context, (_ctx) => {\n                messageUtils.drawExclamationMarkBox(context, {\n                    bgColor: DEEP_ORANGE_A100,\n                    color: bgColor,\n                }, helper);\n            });\n        }\n    }\n}\nexports.WarningMessage = WarningMessage;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ErrorMessageElement = void 0;\nconst MessageElement_1 = require(\"./MessageElement\");\nconst CLASSNAME = \"cheetah-grid__error-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass ErrorMessageElement extends MessageElement_1.MessageElement {\n    constructor() {\n        super();\n        require(\"@/columns/message/internal/ErrorMessageElement.css\");\n        this._rootElement.classList.add(CLASSNAME);\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\n    }\n}\nexports.ErrorMessageElement = ErrorMessageElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MessageElement = void 0;\nconst EventHandler_1 = require(\"../../../internal/EventHandler\");\nconst dom_1 = require(\"../../../internal/dom\");\nconst CLASSNAME = \"cheetah-grid__message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createMessageDomElement() {\n    require(\"@/columns/message/internal/MessageElement.css\");\n    const rootElement = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const messageElement = dom_1.createElement(\"span\", {\n        classList: [MESSAGE_CLASSNAME],\n    });\n    rootElement.appendChild(messageElement);\n    return rootElement;\n}\nclass MessageElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        const rootElement = (this._rootElement = createMessageDomElement());\n        this._messageElement = rootElement.querySelector(`.${MESSAGE_CLASSNAME}`);\n    }\n    dispose() {\n        this.detach();\n        this._handler.dispose();\n        delete this._rootElement;\n        delete this._messageElement;\n    }\n    attach(grid, col, row, message) {\n        const rootElement = this._rootElement;\n        const messageElement = this._messageElement;\n        rootElement.classList.remove(SHOWN_CLASSNAME);\n        rootElement.classList.add(HIDDEN_CLASSNAME);\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n            messageElement.textContent = message.message;\n        }\n        else {\n            this._detach();\n        }\n    }\n    move(grid, col, row) {\n        const rootElement = this._rootElement;\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n        }\n        else {\n            this._detach();\n        }\n    }\n    detach() {\n        this._detach();\n    }\n    _detach() {\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            rootElement.parentElement.removeChild(rootElement);\n            rootElement.classList.remove(SHOWN_CLASSNAME);\n            rootElement.classList.add(HIDDEN_CLASSNAME);\n        }\n    }\n    _attachCell(grid, col, row) {\n        const rootElement = this._rootElement;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        const { bottom: top, left, width } = rect;\n        const { frozenRowCount, frozenColCount } = grid;\n        if (row >= frozenRowCount && frozenRowCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n            if (top < frozenRect.bottom) {\n                return false; //\n            }\n        }\n        else {\n            if (top < 0) {\n                return false; //\n            }\n        }\n        if (col >= frozenColCount && frozenColCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n            if (left < frozenRect.right) {\n                return false; //\n            }\n        }\n        else {\n            if (left < 0) {\n                return false; //\n            }\n        }\n        const { offsetHeight, offsetWidth } = element;\n        if (offsetHeight < top) {\n            return false; //\n        }\n        if (offsetWidth < left) {\n            return false; //\n        }\n        rootElement.style.top = `${top.toFixed()}px`;\n        rootElement.style.left = `${left.toFixed()}px`;\n        rootElement.style.width = `${width.toFixed()}px`;\n        if (rootElement.parentElement !== element) {\n            element.appendChild(rootElement);\n        }\n        return true;\n    }\n}\nexports.MessageElement = MessageElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WarningMessageElement = void 0;\nconst MessageElement_1 = require(\"./MessageElement\");\nconst CLASSNAME = \"cheetah-grid__warning-message-element\";\nconst MESSAGE_CLASSNAME = `${CLASSNAME}__message`;\nclass WarningMessageElement extends MessageElement_1.MessageElement {\n    constructor() {\n        super();\n        require(\"@/columns/message/internal/WarningMessageElement.css\");\n        this._rootElement.classList.add(CLASSNAME);\n        this._messageElement.classList.add(MESSAGE_CLASSNAME);\n    }\n}\nexports.WarningMessageElement = WarningMessageElement;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.drawInfomationMarkBox = exports.drawExclamationMarkBox = void 0;\nconst Rect_1 = require(\"../../internal/Rect\");\nfunction drawExclamationMarkBox(context, style, helper) {\n    const { bgColor, color } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect();\n    // draw box\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n    // draw exclamation mark\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, (height / 5) * 3), context, { fillColor });\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 4, width, height / 5), context, { fillColor });\n}\nexports.drawExclamationMarkBox = drawExclamationMarkBox;\nfunction drawInfomationMarkBox(context, style, helper) {\n    const { bgColor, color } = style;\n    const ctx = context.getContext();\n    const rect = context.getRect();\n    // draw box\n    ctx.fillStyle = bgColor;\n    const boxRect = rect.copy();\n    boxRect.left = boxRect.right - 24;\n    ctx.fillRect(boxRect.left, boxRect.top, boxRect.width, boxRect.height - 1);\n    // draw i mark\n    const fillColor = color;\n    const height = 20;\n    const width = height / 5;\n    const left = boxRect.left + (boxRect.width - width) / 2;\n    const top = boxRect.top + (boxRect.height - height) / 2;\n    helper.fillRectWithState(new Rect_1.Rect(left, top, width, height / 5), context, {\n        fillColor,\n    });\n    helper.fillRectWithState(new Rect_1.Rect(left, top + (height / 5) * 2, width, (height / 5) * 3), context, { fillColor });\n}\nexports.drawInfomationMarkBox = drawInfomationMarkBox;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MenuStyle = exports.MultilineTextStyle = exports.PercentCompleteBarStyle = exports.IconStyle = exports.ImageStyle = exports.ButtonStyle = exports.RadioStyle = exports.CheckStyle = exports.NumberStyle = exports.Style = exports.BaseStyle = exports.EVENT_TYPE = void 0;\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\nconst ButtonStyle_1 = require(\"./style/ButtonStyle\");\nObject.defineProperty(exports, \"ButtonStyle\", { enumerable: true, get: function () { return ButtonStyle_1.ButtonStyle; } });\nconst CheckStyle_1 = require(\"./style/CheckStyle\");\nObject.defineProperty(exports, \"CheckStyle\", { enumerable: true, get: function () { return CheckStyle_1.CheckStyle; } });\nconst IconStyle_1 = require(\"./style/IconStyle\");\nObject.defineProperty(exports, \"IconStyle\", { enumerable: true, get: function () { return IconStyle_1.IconStyle; } });\nconst ImageStyle_1 = require(\"./style/ImageStyle\");\nObject.defineProperty(exports, \"ImageStyle\", { enumerable: true, get: function () { return ImageStyle_1.ImageStyle; } });\nconst MenuStyle_1 = require(\"./style/MenuStyle\");\nObject.defineProperty(exports, \"MenuStyle\", { enumerable: true, get: function () { return MenuStyle_1.MenuStyle; } });\nconst MultilineTextStyle_1 = require(\"./style/MultilineTextStyle\");\nObject.defineProperty(exports, \"MultilineTextStyle\", { enumerable: true, get: function () { return MultilineTextStyle_1.MultilineTextStyle; } });\nconst NumberStyle_1 = require(\"./style/NumberStyle\");\nObject.defineProperty(exports, \"NumberStyle\", { enumerable: true, get: function () { return NumberStyle_1.NumberStyle; } });\nconst PercentCompleteBarStyle_1 = require(\"./style/PercentCompleteBarStyle\");\nObject.defineProperty(exports, \"PercentCompleteBarStyle\", { enumerable: true, get: function () { return PercentCompleteBarStyle_1.PercentCompleteBarStyle; } });\nconst RadioStyle_1 = require(\"./style/RadioStyle\");\nObject.defineProperty(exports, \"RadioStyle\", { enumerable: true, get: function () { return RadioStyle_1.RadioStyle; } });\nconst Style_1 = require(\"./style/Style\");\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\nconst { EVENT_TYPE } = BaseStyle_1.BaseStyle;\nexports.EVENT_TYPE = EVENT_TYPE;\nfunction of(columnStyle, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nrecord, StyleClassDef = Style_1.Style) {\n    if (columnStyle) {\n        if (columnStyle instanceof BaseStyle_1.BaseStyle) {\n            return columnStyle;\n        }\n        else if (typeof columnStyle === \"function\") {\n            return of(columnStyle(record), record, StyleClassDef);\n        }\n        else if (record && columnStyle in record) {\n            return of(record[columnStyle], record, StyleClassDef);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return new StyleClassDef(columnStyle);\n    }\n    else {\n        return StyleClassDef.DEFAULT;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseStyle = void 0;\nconst EventTarget_1 = require(\"../../core/EventTarget\");\nconst STYLE_EVENT_TYPE = {\n    CHANGE_STYLE: \"change_style\",\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n    constructor({ bgColor } = {}) {\n        super();\n        this._bgColor = bgColor;\n    }\n    static get EVENT_TYPE() {\n        return STYLE_EVENT_TYPE;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n    }\n    get bgColor() {\n        return this._bgColor;\n    }\n    set bgColor(bgColor) {\n        this._bgColor = bgColor;\n        this.doChangeStyle();\n    }\n    doChangeStyle() {\n        this.fireListeners(STYLE_EVENT_TYPE.CHANGE_STYLE);\n    }\n    clone() {\n        return new BaseStyle(this);\n    }\n}\nexports.BaseStyle = BaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BranchGraphStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nconst DEFAULT_BRANCH_COLORS = (_name, index) => {\n    switch (index % 3) {\n        case 0:\n            return \"#979797\";\n        case 1:\n            return \"#008fb5\";\n        case 2:\n            return \"#f1c109\";\n        default:\n    }\n    return \"#979797\";\n};\nclass BranchGraphStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._branchColors = style.branchColors || DEFAULT_BRANCH_COLORS;\n        this._margin = style.margin || 4;\n        this._circleSize = style.circleSize || 16;\n        this._branchLineWidth = style.branchLineWidth || 4;\n        this._mergeStyle = style.mergeStyle === \"straight\" ? \"straight\" : \"bezier\";\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new BranchGraphStyle());\n    }\n    get branchColors() {\n        return this._branchColors;\n    }\n    set branchColors(branchColors) {\n        this._branchColors = branchColors;\n        this.doChangeStyle();\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(margin) {\n        this._margin = margin;\n        this.doChangeStyle();\n    }\n    get circleSize() {\n        return this._circleSize;\n    }\n    set circleSize(circleSize) {\n        this._circleSize = circleSize;\n        this.doChangeStyle();\n    }\n    get branchLineWidth() {\n        return this._branchLineWidth;\n    }\n    set branchLineWidth(branchLineWidth) {\n        this._branchLineWidth = branchLineWidth;\n        this.doChangeStyle();\n    }\n    get mergeStyle() {\n        return this._mergeStyle;\n    }\n    set mergeStyle(mergeStyle) {\n        this._mergeStyle = mergeStyle;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new BranchGraphStyle(this);\n    }\n}\nexports.BranchGraphStyle = BranchGraphStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass ButtonStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { buttonBgColor } = style;\n        this._buttonBgColor = buttonBgColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new ButtonStyle());\n    }\n    get buttonBgColor() {\n        return this._buttonBgColor;\n    }\n    set buttonBgColor(buttonBgColor) {\n        this._buttonBgColor = buttonBgColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new ButtonStyle(this);\n    }\n}\nexports.ButtonStyle = ButtonStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass CheckStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n        this._borderColor = borderColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new CheckStyle());\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    get borderColor() {\n        return this._borderColor;\n    }\n    set borderColor(borderColor) {\n        this._borderColor = borderColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new CheckStyle(this);\n    }\n}\nexports.CheckStyle = CheckStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IconStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass IconStyle extends Style_1.Style {\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new IconStyle());\n    }\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n    }\n    clone() {\n        return new IconStyle(this);\n    }\n}\nexports.IconStyle = IconStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImageStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass ImageStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        this._imageSizing = style.imageSizing;\n        this._margin = style.margin || 4;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new ImageStyle());\n    }\n    get imageSizing() {\n        return this._imageSizing;\n    }\n    set imageSizing(imageSizing) {\n        this._imageSizing = imageSizing;\n        this.doChangeStyle();\n    }\n    get margin() {\n        return this._margin;\n    }\n    set margin(margin) {\n        this._margin = margin;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new ImageStyle(this);\n    }\n}\nexports.ImageStyle = ImageStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass MenuStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        const { appearance } = style;\n        this._appearance = appearance;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new MenuStyle());\n    }\n    get appearance() {\n        return this._appearance || \"menulist-button\";\n    }\n    set appearance(appearance) {\n        this._appearance = appearance;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new MenuStyle(this);\n    }\n}\nexports.MenuStyle = MenuStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass MultilineTextStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textBaseline: \"top\" }));\n        this._lineHeight = style.lineHeight || \"1em\";\n        this._autoWrapText = style.autoWrapText || false;\n        this._lineClamp = style.lineClamp;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new MultilineTextStyle());\n    }\n    clone() {\n        return new MultilineTextStyle(this);\n    }\n    get lineHeight() {\n        return this._lineHeight;\n    }\n    set lineHeight(lineHeight) {\n        this._lineHeight = lineHeight;\n        this.doChangeStyle();\n    }\n    get lineClamp() {\n        return this._lineClamp;\n    }\n    set lineClamp(lineClamp) {\n        this._lineClamp = lineClamp;\n        this.doChangeStyle();\n    }\n    get autoWrapText() {\n        return this._autoWrapText;\n    }\n    set autoWrapText(autoWrapText) {\n        this._autoWrapText = autoWrapText;\n        this.doChangeStyle();\n    }\n}\nexports.MultilineTextStyle = MultilineTextStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass NumberStyle extends Style_1.Style {\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new NumberStyle());\n    }\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"right\" }));\n    }\n    clone() {\n        return new NumberStyle(this);\n    }\n}\nexports.NumberStyle = NumberStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PercentCompleteBarStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nconst DEFAULT_BAR_COLOR = (num) => {\n    if (num > 80) {\n        return \"#20a8d8\";\n    }\n    if (num > 50) {\n        return \"#4dbd74\";\n    }\n    if (num > 20) {\n        return \"#ffc107\";\n    }\n    return \"#f86c6b\";\n};\nclass PercentCompleteBarStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._barColor = style.barColor || DEFAULT_BAR_COLOR;\n        this._barBgColor = style.barBgColor || \"#f0f3f5\";\n        this._barHeight = style.barHeight || 3;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new PercentCompleteBarStyle());\n    }\n    get barColor() {\n        return this._barColor;\n    }\n    set barColor(barColor) {\n        this._barColor = barColor;\n        this.doChangeStyle();\n    }\n    get barBgColor() {\n        return this._barBgColor;\n    }\n    set barBgColor(barBgColor) {\n        this._barBgColor = barBgColor;\n        this.doChangeStyle();\n    }\n    get barHeight() {\n        return this._barHeight;\n    }\n    set barHeight(barHeight) {\n        this._barHeight = barHeight;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new PercentCompleteBarStyle(this);\n    }\n}\nexports.PercentCompleteBarStyle = PercentCompleteBarStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioStyle = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass RadioStyle extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, } = style;\n        this._checkColor = checkColor;\n        this._uncheckBorderColor = uncheckBorderColor;\n        this._checkBorderColor = checkBorderColor;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new RadioStyle());\n    }\n    get checkColor() {\n        return this._checkColor;\n    }\n    set checkColor(checkColor) {\n        this._checkColor = checkColor;\n        this.doChangeStyle();\n    }\n    get uncheckBorderColor() {\n        return this._uncheckBorderColor;\n    }\n    set uncheckBorderColor(uncheckBorderColor) {\n        this._uncheckBorderColor = uncheckBorderColor;\n        this.doChangeStyle();\n    }\n    get checkBorderColor() {\n        return this._checkBorderColor;\n    }\n    set checkBorderColor(checkBorderColor) {\n        this._checkBorderColor = checkBorderColor;\n        this.doChangeStyle();\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new RadioStyle(this);\n    }\n}\nexports.RadioStyle = RadioStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._textAlign = style.textAlign || \"left\";\n        this._textBaseline = style.textBaseline || \"middle\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n    }\n    get textAlign() {\n        return this._textAlign;\n    }\n    set textAlign(textAlign) {\n        this._textAlign = textAlign;\n        this.doChangeStyle();\n    }\n    get textBaseline() {\n        return this._textBaseline;\n    }\n    set textBaseline(textBaseline) {\n        this._textBaseline = textBaseline;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new StdBaseStyle(this);\n    }\n}\nexports.StdBaseStyle = StdBaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Style = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nlet defaultStyle;\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._color = style.color;\n        this._font = style.font;\n        this._padding = style.padding;\n        this._textOverflow = style.textOverflow || \"clip\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\n    }\n    get color() {\n        return this._color;\n    }\n    set color(color) {\n        this._color = color;\n        this.doChangeStyle();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n        this.doChangeStyle();\n    }\n    get padding() {\n        return this._padding;\n    }\n    set padding(padding) {\n        this._padding = padding;\n        this.doChangeStyle();\n    }\n    get textOverflow() {\n        return this._textOverflow;\n    }\n    set textOverflow(textOverflow) {\n        this._textOverflow = textOverflow;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new Style(this);\n    }\n}\nexports.Style = Style;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MultilineTextColumn = exports.MenuColumn = exports.BranchGraphColumn = exports.IconColumn = exports.PercentCompleteBarColumn = exports.ImageColumn = exports.ButtonColumn = exports.RadioColumn = exports.CheckColumn = exports.NumberColumn = exports.Column = void 0;\nconst BranchGraphColumn_1 = require(\"./type/BranchGraphColumn\");\nObject.defineProperty(exports, \"BranchGraphColumn\", { enumerable: true, get: function () { return BranchGraphColumn_1.BranchGraphColumn; } });\nconst ButtonColumn_1 = require(\"./type/ButtonColumn\");\nObject.defineProperty(exports, \"ButtonColumn\", { enumerable: true, get: function () { return ButtonColumn_1.ButtonColumn; } });\nconst CheckColumn_1 = require(\"./type/CheckColumn\");\nObject.defineProperty(exports, \"CheckColumn\", { enumerable: true, get: function () { return CheckColumn_1.CheckColumn; } });\nconst Column_1 = require(\"./type/Column\");\nObject.defineProperty(exports, \"Column\", { enumerable: true, get: function () { return Column_1.Column; } });\nconst IconColumn_1 = require(\"./type/IconColumn\");\nObject.defineProperty(exports, \"IconColumn\", { enumerable: true, get: function () { return IconColumn_1.IconColumn; } });\nconst ImageColumn_1 = require(\"./type/ImageColumn\");\nObject.defineProperty(exports, \"ImageColumn\", { enumerable: true, get: function () { return ImageColumn_1.ImageColumn; } });\nconst MenuColumn_1 = require(\"./type/MenuColumn\");\nObject.defineProperty(exports, \"MenuColumn\", { enumerable: true, get: function () { return MenuColumn_1.MenuColumn; } });\nconst MultilineTextColumn_1 = require(\"./type/MultilineTextColumn\");\nObject.defineProperty(exports, \"MultilineTextColumn\", { enumerable: true, get: function () { return MultilineTextColumn_1.MultilineTextColumn; } });\nconst NumberColumn_1 = require(\"./type/NumberColumn\");\nObject.defineProperty(exports, \"NumberColumn\", { enumerable: true, get: function () { return NumberColumn_1.NumberColumn; } });\nconst PercentCompleteBarColumn_1 = require(\"./type/PercentCompleteBarColumn\");\nObject.defineProperty(exports, \"PercentCompleteBarColumn\", { enumerable: true, get: function () { return PercentCompleteBarColumn_1.PercentCompleteBarColumn; } });\nconst RadioColumn_1 = require(\"./type/RadioColumn\");\nObject.defineProperty(exports, \"RadioColumn\", { enumerable: true, get: function () { return RadioColumn_1.RadioColumn; } });\nconst TYPES = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DEFAULT: new Column_1.Column(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    NUMBER: new NumberColumn_1.NumberColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new CheckColumn_1.CheckColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    RADIO: new RadioColumn_1.RadioColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    BUTTON: new ButtonColumn_1.ButtonColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    IMAGE: new ImageColumn_1.ImageColumn(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MULTILINETEXT: new MultilineTextColumn_1.MultilineTextColumn(),\n};\nfunction of(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ncolumnType\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    if (!columnType) {\n        return TYPES.DEFAULT;\n    }\n    else if (typeof columnType === \"string\") {\n        const key = columnType.toUpperCase();\n        return TYPES[key] || of(null);\n    }\n    else {\n        return columnType;\n    }\n}\nexports.of = of;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseColumn = void 0;\nconst styleContents = __importStar(require(\"../style\"));\nconst utils_1 = require(\"../../internal/utils\");\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst { setReadonly } = utils_1.obj;\nconst COLUMN_FADEIN_STATE_ID = symbolManager_1.getColumnFadeinStateId();\nfunction isFadeinWhenCallbackInPromise(column, grid) {\n    if (column.fadeinWhenCallbackInPromise != null) {\n        return column.fadeinWhenCallbackInPromise;\n    }\n    return !!grid.configure(\"fadeinWhenCallbackInPromise\");\n}\nfunction getFadeinState(grid) {\n    let state = grid[COLUMN_FADEIN_STATE_ID];\n    if (!state) {\n        state = { cells: {} };\n        setReadonly(grid, COLUMN_FADEIN_STATE_ID, state);\n    }\n    return state;\n}\nfunction _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase) {\n    return (point) => {\n        const state = getFadeinState(grid);\n        const stateKey = `${row}:${col}`;\n        if (point === 1) {\n            delete state.cells[stateKey];\n        }\n        else {\n            state.cells[stateKey] = {\n                opacity: point,\n            };\n        }\n        drawCellBase();\n        drawInternal();\n        const cellState = state.cells[stateKey];\n        if (cellState) {\n            //\n            const ctx = context.getContext();\n            ctx.globalAlpha = 1 - cellState.opacity;\n            try {\n                drawCellBase();\n            }\n            finally {\n                ctx.globalAlpha = 1;\n            }\n        }\n    };\n}\nconst fadeinMgr = {\n    animate(grid, col, row, context, drawInternal, drawCellBase) {\n        // fadein animation\n        const state = getFadeinState(grid);\n        const activeFadeins = [\n            _generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase),\n        ];\n        state.activeFadeins = activeFadeins;\n        animate_1.animate(500, (point) => {\n            activeFadeins.forEach((f) => f(point));\n            if (point === 1) {\n                delete state.activeFadeins;\n            }\n        });\n    },\n    margeAnimate(grid, col, row, context, drawInternal, drawCellBase) {\n        const state = getFadeinState(grid);\n        if (state.activeFadeins) {\n            state.activeFadeins.push(_generateFadeinPointAction(grid, col, row, context, drawInternal, drawCellBase));\n        }\n        else {\n            drawInternal();\n        }\n    },\n};\nclass BaseColumn {\n    constructor(option) {\n        this.onDrawCell = this.onDrawCell.bind(this); //\n        //Promisecallback\n        this._fadeinWhenCallbackInPromise = option === null || option === void 0 ? void 0 : option.fadeinWhenCallbackInPromise;\n    }\n    get fadeinWhenCallbackInPromise() {\n        return this._fadeinWhenCallbackInPromise;\n    }\n    get StyleClass() {\n        return BaseStyle_1.BaseStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        var _a;\n        const { style, getRecord, drawCellBase } = info;\n        const helper = grid.getGridCanvasHelper();\n        drawCellBase();\n        const record = getRecord();\n        let promise;\n        if (utils_1.isPromise(record)) {\n            promise = record;\n        }\n        else if (utils_1.isPromise(cellValue)) {\n            promise = cellValue;\n        }\n        else {\n            const msg = info.getMessage();\n            if (utils_1.isPromise(msg)) {\n                promise = msg;\n            }\n        }\n        //\n        if (promise) {\n            const start = Date.now();\n            return Promise.all([\n                record,\n                cellValue,\n                promise.then(() => cellValue).then(() => info.getMessage()),\n            ]).then(({ 0: record, 1: val, 2: message }) => {\n                const currentContext = context.toCurrentContext();\n                const drawRect = currentContext.getDrawRect();\n                if (!drawRect) {\n                    return;\n                }\n                const time = Date.now() - start;\n                const drawInternal = () => {\n                    const currentContext = context.toCurrentContext();\n                    const drawRect = currentContext.getDrawRect();\n                    if (!drawRect) {\n                        return;\n                    }\n                    const actStyle = styleContents.of(style, record, this.StyleClass);\n                    this.drawInternal(this.convertInternal(val), currentContext, actStyle, helper, grid, info);\n                    this.drawMessageInternal(message, currentContext, actStyle, helper, grid, info);\n                };\n                if (!isFadeinWhenCallbackInPromise(this, grid)) {\n                    drawInternal(); //\n                }\n                else {\n                    const { col, row } = context;\n                    if (time < 80) {\n                        //80msPromiseCallback\n                        fadeinMgr.margeAnimate(grid, col, row, context, drawInternal, drawCellBase);\n                    }\n                    else {\n                        //\n                        fadeinMgr.animate(grid, col, row, context, drawInternal, drawCellBase);\n                    }\n                }\n            });\n        }\n        else {\n            const actStyle = styleContents.of(style, record, this.StyleClass);\n            this.drawInternal(this.convertInternal(cellValue), context, actStyle, helper, grid, info);\n            this.drawMessageInternal(info.getMessage(), context, actStyle, helper, grid, info);\n            //\n            const { col, row } = context;\n            const stateKey = `${col}:${row}`;\n            const cellState = (_a = grid[COLUMN_FADEIN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.cells[stateKey];\n            if (cellState) {\n                const ctx = context.getContext();\n                ctx.globalAlpha = 1 - cellState.opacity;\n                try {\n                    drawCellBase();\n                }\n                finally {\n                    ctx.globalAlpha = 1;\n                }\n            }\n            return undefined;\n        }\n    }\n    convertInternal(value) {\n        return (value != null ? value : \"\");\n    }\n    drawMessageInternal(message, context, style, helper, grid, info) {\n        info.messageHandler.drawCellMessage(message, context, style, helper, grid, info);\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n    getCopyCellValue(value, _grid, _cell) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return value;\n    }\n}\nexports.BaseColumn = BaseColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BranchGraphColumn = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst BranchGraphStyle_1 = require(\"../style/BranchGraphStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst _ = symbolManager_1.getBranchGraphColumnStateId();\nfunction getAllColumnData(grid, field, callback) {\n    const { dataSource } = grid;\n    const allData = [];\n    let promise;\n    for (let index = 0; index < dataSource.length; index++) {\n        const data = dataSource.getField(index, field);\n        if (utils_1.isPromise(data)) {\n            const dataIndex = allData.length;\n            allData.push(undefined);\n            if (!promise) {\n                promise = data.then((d) => {\n                    allData[dataIndex] = d;\n                });\n            }\n            else {\n                promise = promise\n                    .then(() => data)\n                    .then((d) => {\n                    allData[dataIndex] = d;\n                });\n            }\n        }\n        else {\n            allData.push(data);\n        }\n    }\n    if (promise) {\n        promise.then(() => callback(allData));\n    }\n    else {\n        callback(allData);\n    }\n}\nclass BranchLine {\n    constructor({ fromIndex, toIndex, colorIndex, point, }) {\n        this.fromIndex = fromIndex;\n        this.toIndex = toIndex;\n        this.colorIndex = colorIndex;\n        this.point = point;\n    }\n}\nclass BranchPoint {\n    constructor({ index, commit = false, lines = [], tag, }) {\n        this.index = index;\n        this.commit = commit;\n        this.lines = lines;\n        this.tag = tag;\n    }\n    static mergeLines(lines) {\n        const result = lines.filter((l) => l.fromIndex != null && l.toIndex != null);\n        const froms = lines.filter((l) => l.fromIndex != null && l.toIndex == null);\n        const tos = lines.filter((l) => l.fromIndex == null && l.toIndex != null);\n        froms.forEach((f) => {\n            for (let i = 0; i < tos.length; i++) {\n                const t = tos[i];\n                if (t.point) {\n                    continue;\n                }\n                if (f.colorIndex === t.colorIndex) {\n                    f.toIndex = t.toIndex;\n                    tos.splice(i, 1);\n                    break;\n                }\n            }\n            result.push(f);\n        });\n        return result.concat(tos);\n    }\n    static merge(a, b) {\n        if (!a) {\n            return b;\n        }\n        return new BranchPoint({\n            index: a.index,\n            commit: a.commit || b.commit,\n            lines: BranchPoint.mergeLines(a.lines.concat(b.lines)),\n            tag: a.tag || b.tag,\n        });\n    }\n}\nfunction joinLine(timeline, branchIndex) {\n    const reverse = [...timeline].reverse();\n    for (let i = 0; i < reverse.length; i++) {\n        const f = reverse[i][branchIndex];\n        if (f) {\n            f.lines = BranchPoint.mergeLines(f.lines.concat([\n                new BranchLine({\n                    toIndex: branchIndex,\n                    colorIndex: branchIndex,\n                }),\n            ]));\n            for (let j = 0; j < i; j++) {\n                const tl = reverse[j];\n                tl[branchIndex] = new BranchPoint({\n                    index: branchIndex,\n                    lines: [\n                        new BranchLine({\n                            fromIndex: branchIndex,\n                            toIndex: branchIndex,\n                            colorIndex: branchIndex,\n                        }),\n                    ],\n                });\n            }\n            return true;\n        }\n    }\n    return false;\n}\nfunction branch({ timeline, branches }, from, to) {\n    const fromIndex = from != null ? branches.indexOf(from) : -1;\n    let toIndex = branches.indexOf(to);\n    if (toIndex < 0) {\n        toIndex = branches.length;\n        branches.push(to);\n    }\n    function findBranchRootIndex() {\n        for (let index = timeline.length - 1; index >= 0; index--) {\n            const tl = timeline[index];\n            const from = tl[fromIndex];\n            if (from && from.commit) {\n                return index;\n            }\n        }\n        return -1;\n    }\n    if (fromIndex < 0) {\n        return new BranchPoint({\n            index: toIndex,\n        });\n    }\n    else {\n        const fromTargetIndex = findBranchRootIndex();\n        if (fromTargetIndex === -1) {\n            return null;\n        }\n        const branchTargetFromIndex = fromTargetIndex + 1;\n        const branchPoint = new BranchPoint({\n            index: toIndex,\n            lines: [\n                new BranchLine({\n                    fromIndex,\n                    colorIndex: toIndex,\n                }),\n            ],\n        });\n        let point;\n        let result = null;\n        if (branchTargetFromIndex < timeline.length) {\n            const targetLine = timeline[branchTargetFromIndex];\n            point = targetLine[toIndex] = BranchPoint.merge(targetLine[toIndex], branchPoint);\n        }\n        else {\n            point = branchPoint;\n            result = branchPoint;\n        }\n        const from = timeline[fromTargetIndex][fromIndex];\n        from.lines = BranchPoint.mergeLines(from.lines.concat([\n            new BranchLine({\n                toIndex,\n                colorIndex: toIndex,\n                point,\n            }),\n        ]));\n        return result;\n    }\n}\nfunction commit({ timeline, branches }, name) {\n    const index = branches.indexOf(name);\n    if (index < 0) {\n        return null;\n    }\n    const result = new BranchPoint({\n        index,\n        commit: true,\n    });\n    if (joinLine(timeline, index)) {\n        result.lines = BranchPoint.mergeLines(result.lines.concat([\n            new BranchLine({\n                fromIndex: index,\n                colorIndex: index,\n            }),\n        ]));\n    }\n    return result;\n}\nfunction commitTag({ branches }, name, tag) {\n    let index = branches.indexOf(name);\n    if (index < 0) {\n        index = branches.length;\n        branches.push(name);\n    }\n    return new BranchPoint({\n        index,\n        tag,\n    });\n}\nfunction commitMerge({ timeline, branches }, from, to) {\n    const fromIndex = branches.indexOf(from);\n    const toIndex = branches.indexOf(to);\n    if (toIndex < 0 || fromIndex < 0) {\n        return new BranchPoint({\n            index: toIndex,\n            commit: true,\n        });\n    }\n    const result = new BranchPoint({\n        index: toIndex,\n        commit: true,\n        lines: [\n            new BranchLine({\n                fromIndex,\n                colorIndex: fromIndex,\n            }),\n            new BranchLine({\n                fromIndex: toIndex,\n                colorIndex: toIndex,\n            }),\n        ],\n    });\n    const froms = [...timeline];\n    const fromTargetLine = froms.pop();\n    if (fromTargetLine) {\n        fromTargetLine[fromIndex] = BranchPoint.merge(fromTargetLine[fromIndex], new BranchPoint({\n            index: toIndex,\n            lines: [\n                new BranchLine({\n                    toIndex,\n                    colorIndex: fromIndex,\n                }),\n            ],\n        }));\n    }\n    if (joinLine(froms, fromIndex) && fromTargetLine) {\n        fromTargetLine[fromIndex].lines = BranchPoint.mergeLines(fromTargetLine[fromIndex].lines.concat([\n            new BranchLine({\n                fromIndex,\n                colorIndex: fromIndex,\n            }),\n        ]));\n    }\n    joinLine(timeline, toIndex);\n    return result;\n}\nfunction calcCommand(info, command) {\n    const { timeline } = info;\n    const timelineData = [];\n    // const last = timeline.length > 0 ? timeline[timeline.length - 1] : null;\n    const commands = Array.isArray(command) ? command : [command];\n    commands.forEach((cmd) => {\n        if (!cmd) {\n            return;\n        }\n        let point;\n        if (cmd.command === \"branch\") {\n            const from = utils_1.obj.isObject(cmd.branch) ? cmd.branch.from : null;\n            const to = utils_1.obj.isObject(cmd.branch) ? cmd.branch.to : cmd.branch;\n            point = branch(info, from, to);\n        }\n        else if (cmd.command === \"commit\") {\n            const { branch } = cmd;\n            point = commit(info, branch);\n        }\n        else if (cmd.command === \"merge\") {\n            const { from, to } = cmd.branch;\n            point = commitMerge(info, from, to);\n        }\n        else if (cmd.command === \"tag\") {\n            const { branch, tag } = cmd;\n            point = commitTag(info, branch, tag);\n        }\n        if (point && point.index > -1) {\n            timelineData[point.index] = BranchPoint.merge(timelineData[point.index], point);\n        }\n    });\n    timeline.push(timelineData);\n}\nfunction calcBranchesInfo(start, grid, field) {\n    const result = {\n        branches: [],\n        timeline: [],\n    };\n    getAllColumnData(grid, field, (data) => {\n        if (start !== \"top\") {\n            data = [...data].reverse();\n        }\n        data.forEach((command) => {\n            calcCommand(result, command);\n        });\n    });\n    return result;\n}\nfunction calcBranchXPoints(ctx, left, width, radius, branches, timeline) {\n    let w = Math.max(width / branches.length + 1, 5);\n    timeline.forEach((tl) => {\n        tl.forEach((p, index) => {\n            if (index <= 0) {\n                // \n                return;\n            }\n            if (p.tag) {\n                const textWidth = ctx.measureText(p.tag).width;\n                if (w * index + radius * 2 + 4 + textWidth > width) {\n                    w = Math.max((width - radius * 2 - 4 - textWidth) / index, 5);\n                }\n            }\n        });\n    });\n    const result = [];\n    let x = left;\n    branches.forEach(() => {\n        result.push(Math.ceil(x + radius));\n        x += w;\n    });\n    return result;\n}\nfunction renderMerge(grid, ctx, x, y, upLineIndex, downLineIndex, colorIndex, { branchXPoints, \n// margin,\nbranchColors, branchLineWidth, mergeStyle, }, { \n// width,\ncol, row, branches, }) {\n    if (upLineIndex != null || downLineIndex != null) {\n        ctx.strokeStyle = utils_1.getOrApply(branchColors, branches[colorIndex], colorIndex);\n        ctx.lineWidth = branchLineWidth;\n        ctx.lineCap = \"round\";\n        ctx.beginPath();\n        if (upLineIndex != null) {\n            const upX = branchXPoints[upLineIndex];\n            const upRect = grid.getCellRelativeRect(col, row - 1);\n            const upY = upRect.top + upRect.height / 2;\n            ctx.moveTo(upX, upY);\n            if (mergeStyle === \"bezier\") {\n                ctx.bezierCurveTo(upX, (y + upY) / 2, x, (y + upY) / 2, x, y);\n            }\n            else {\n                ctx.lineTo(x, y);\n            }\n        }\n        else {\n            ctx.moveTo(x, y);\n        }\n        if (downLineIndex != null) {\n            const downX = branchXPoints[downLineIndex];\n            const downRect = grid.getCellRelativeRect(col, row + 1);\n            const downY = downRect.top + downRect.height / 2;\n            if (mergeStyle === \"bezier\") {\n                ctx.bezierCurveTo(x, (y + downY) / 2, downX, (y + downY) / 2, downX, downY);\n            }\n            else {\n                ctx.lineTo(downX, downY);\n            }\n        }\n        ctx.stroke();\n    }\n}\n/**\n * BranchGraphColumn\n *\n * Data commands\n * - mastar branch or orphan branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: 'branch name A',\n * }\n * ```\n *\n * - commit\n *\n * ```js\n * {\n * \tcommand: 'commit',\n * \tbranch: 'branch name A'\n * }\n * ```\n *\n * - branch\n *\n * ```js\n * {\n * \tcommand: 'branch',\n * \tbranch: {\n * \t\tfrom: 'branch name A',\n * \t\tto: 'branch name B'\n * \t}\n * }\n * ```\n *\n * - merge\n *\n * ```js\n * {\n * \tcommand: 'merge',\n * \tbranch: {\n * \t\tfrom: 'branch name B',\n * \t\tto: 'branch name A'\n * \t}\n * }\n * ```\n *\n * - tag\n *\n * ```js\n * {\n * \tcommand: 'tag',\n * \tbranch: 'branch name A',\n * \ttag: 'tag name'\n * }\n * ```\n *\n * @memberof cheetahGrid.columns.type\n */\nclass BranchGraphColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n        this._start = option.start || \"bottom\";\n        this._cache = option.cache != null ? option.cache : false;\n    }\n    get StyleClass() {\n        return BranchGraphStyle_1.BranchGraphStyle;\n    }\n    clearCache(grid) {\n        delete grid[_];\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        if (this._cache) {\n            const state = grid[_] || (grid[_] = new Map());\n            const { col, row } = context;\n            const field = grid.getField(col, row);\n            if (!state.has(field)) {\n                state.set(field, calcBranchesInfo(this._start, grid, field));\n            }\n        }\n        return super.onDrawCell(cellValue, info, context, grid);\n    }\n    clone() {\n        return new BranchGraphColumn(this);\n    }\n    drawInternal(_value, context, style, helper, grid, { drawCellBase }) {\n        var _a, _b;\n        const { col, row } = context;\n        const field = grid.getField(col, row);\n        const { timeline, branches } = (_b = (this._cache ? (_a = grid[_]) === null || _a === void 0 ? void 0 : _a.get(field) : null)) !== null && _b !== void 0 ? _b : calcBranchesInfo(this._start, grid, field);\n        const { upLineIndexKey, downLineIndexKey, } = this._start !== \"top\"\n            ? { upLineIndexKey: \"toIndex\", downLineIndexKey: \"fromIndex\" }\n            : { upLineIndexKey: \"fromIndex\", downLineIndexKey: \"toIndex\" };\n        const data = this._start !== \"top\"\n            ? timeline[timeline.length - (row - grid.frozenRowCount) - 1]\n            : timeline[row - grid.frozenRowCount];\n        const { branchColors, branchLineWidth, circleSize, mergeStyle, margin, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const rect = context.getRect();\n        const radius = circleSize / 2;\n        const width = rect.width - margin * 2;\n        helper.drawWithClip(context, (ctx) => {\n            ctx.textAlign = \"left\";\n            ctx.textBaseline = \"middle\";\n            const branchXPoints = calcBranchXPoints(ctx, rect.left + margin, width, radius, branches, timeline);\n            const y = rect.top + rect.height / 2;\n            // draw join lines\n            data\n                .map((point, index) => point\n                ? point.lines.map((line) => ({\n                    colorIndex: line.colorIndex,\n                    upLineIndex: line[upLineIndexKey],\n                    downLineIndex: line[downLineIndexKey],\n                    pointIndex: index,\n                }))\n                : [])\n                .reduce((p, c) => p.concat(c), []) // flatMap\n                // order of overlap\n                .sort((a, b) => b.colorIndex - a.colorIndex)\n                .forEach((line) => {\n                const x = branchXPoints[line.pointIndex];\n                renderMerge(grid, ctx, x, y, line.upLineIndex, line.downLineIndex, line.colorIndex, {\n                    margin,\n                    branchXPoints,\n                    branchLineWidth,\n                    branchColors,\n                    mergeStyle,\n                }, {\n                    width,\n                    col,\n                    row,\n                    branches,\n                });\n            });\n            // draw commit points\n            data.forEach((p, index) => {\n                if (p && p.commit) {\n                    const x = branchXPoints[index];\n                    ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n                    ctx.beginPath();\n                    ctx.arc(x, y, radius, 0, Math.PI * 2, true);\n                    ctx.fill();\n                    ctx.closePath();\n                }\n            });\n            // draw tags\n            data.forEach((p, index) => {\n                if (p && p.tag) {\n                    ctx.fillStyle = utils_1.getOrApply(branchColors, branches[index], index);\n                    ctx.fillText(p.tag, branchXPoints[index] + radius + 4, y);\n                }\n            });\n        });\n    }\n}\nexports.BranchGraphColumn = BranchGraphColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ButtonColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst ButtonStyle_1 = require(\"../style/ButtonStyle\");\nconst Column_1 = require(\"./Column\");\nconst utils_1 = require(\"../../internal/utils\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst BUTTON_COLUMN_STATE_ID = symbolManager_1.getButtonColumnStateId();\nclass ButtonColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._caption = option.caption;\n    }\n    get StyleClass() {\n        return ButtonStyle_1.ButtonStyle;\n    }\n    get caption() {\n        return this._caption;\n    }\n    withCaption(caption) {\n        const c = this.clone();\n        c._caption = caption;\n        return c;\n    }\n    clone() {\n        return new ButtonColumn(this);\n    }\n    convertInternal(value) {\n        return this._caption || super.convertInternal(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, bgColor, color, buttonBgColor, font, padding, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.testFontLoad(font, value, context);\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        let active = false;\n        const state = grid[BUTTON_COLUMN_STATE_ID];\n        if (state) {\n            if (state.mouseActiveCell &&\n                utils_1.cellInRange(range, state.mouseActiveCell.col, state.mouseActiveCell.row)) {\n                active = true;\n            }\n            else {\n                const { select } = context.getSelection();\n                if (utils_1.cellInRange(range, select.col, select.row)) {\n                    active = true;\n                }\n            }\n        }\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.button(value, context, {\n                textAlign,\n                textBaseline,\n                bgColor: buttonBgColor,\n                color,\n                font,\n                padding,\n                shadow: active\n                    ? {\n                        color: \"rgba(0, 0, 0, 0.48)\",\n                        blur: 6,\n                        offsetY: 3,\n                    }\n                    : {},\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.ButtonColumn = ButtonColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst CheckStyle_1 = require(\"../style/CheckStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../utils\");\nconst CHECK_COLUMN_STATE_ID = symbolManager_1.getCheckColumnStateId();\nclass CheckColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return CheckStyle_1.CheckStyle;\n    }\n    clone() {\n        return new CheckColumn(this);\n    }\n    convertInternal(value) {\n        return utils_1.toBoolean(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        var _a;\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const elapsed = (_a = grid[CHECK_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n        const opt = {\n            textAlign,\n            textBaseline,\n            borderColor,\n            checkBgColor,\n            uncheckBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        helper.checkbox(value, context, opt);\n    }\n}\nexports.CheckColumn = CheckColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Column = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst Style_1 = require(\"../style/Style\");\nclass Column extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return Style_1.Style;\n    }\n    clone() {\n        return new Column(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, color, font, bgColor, padding, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.testFontLoad(font, value, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.text(value, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.Column = Column;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IconColumn = void 0;\nconst icons = __importStar(require(\"../../internal/icons\"));\nconst Column_1 = require(\"./Column\");\nconst IconStyle_1 = require(\"../style/IconStyle\");\nfunction repeatArray(val, count) {\n    if (count === Infinity) {\n        count = 0;\n    }\n    const a = [];\n    for (let i = 0; i < count; i++) {\n        a.push(val);\n    }\n    return a;\n}\nclass IconColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._tagName = option.tagName || \"i\";\n        this._className = option.className;\n        this._content = option.content;\n        this._name = option.name;\n        this._iconWidth = option.iconWidth;\n    }\n    get StyleClass() {\n        return IconStyle_1.IconStyle;\n    }\n    clone() {\n        return new IconColumn(this);\n    }\n    drawInternal(value, context, style, helper, grid, info) {\n        const num = Number(value);\n        if (!isNaN(num)) {\n            const icon = {};\n            icons.iconPropKeys.forEach((k) => {\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                icon[k] = style[k];\n            });\n            icon.className = this._className;\n            icon.tagName = this._tagName;\n            if (this._content) {\n                icon.content = this._content;\n            }\n            icon.name = this._name;\n            if (this._iconWidth) {\n                icon.width = this._iconWidth;\n            }\n            info.getIcon = () => repeatArray(icon, num);\n        }\n        else {\n            info.getIcon = () => null;\n        }\n        super.drawInternal(\"\", context, style, helper, grid, info);\n    }\n}\nexports.IconColumn = IconColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImageColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst ImageStyle_1 = require(\"../style/ImageStyle\");\nconst canvases_1 = require(\"../../internal/canvases\");\nconst imgs_1 = require(\"../../internal/imgs\");\nconst MAX_LRU_CACHE_SIZE = 50;\nfunction getImage(url) {\n    return imgs_1.getCacheOrLoad(\"ImageColumn\", MAX_LRU_CACHE_SIZE, url);\n}\nfunction calcKeepAspectRatioSize(width, height, maxWidth, maxHeight) {\n    let newWidth = width;\n    let newHeight = height;\n    if (newWidth > maxWidth) {\n        newWidth = maxWidth;\n        newHeight = (newWidth * height) / width;\n    }\n    if (newHeight > maxHeight) {\n        newHeight = maxHeight;\n        newWidth = (newHeight * width) / height;\n    }\n    return {\n        width: newWidth,\n        height: newHeight,\n    };\n}\nclass ImageColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return ImageStyle_1.ImageStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        return super.onDrawCell(getImage(cellValue), info, context, grid);\n    }\n    clone() {\n        return new ImageColumn(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        if (value) {\n            const { textAlign, textBaseline, margin, bgColor } = style;\n            if (bgColor) {\n                drawCellBase({\n                    bgColor,\n                });\n            }\n            helper.drawWithClip(context, (ctx) => {\n                ctx.textAlign = textAlign;\n                ctx.textBaseline = textBaseline;\n                const rect = context.getRect();\n                if (style.imageSizing === \"keep-aspect-ratio\") {\n                    const { width, height } = calcKeepAspectRatioSize(value.width, value.height, rect.width - margin * 2, rect.height - margin * 2);\n                    const pos = canvases_1.calcStartPosition(ctx, rect, width, height, {\n                        offset: margin,\n                    });\n                    ctx.drawImage(value, 0, 0, value.width, value.height, pos.x, pos.y, width, height);\n                }\n                else {\n                    ctx.drawImage(value, 0, 0, value.width, value.height, rect.left + margin, rect.top + margin, rect.width - margin * 2, rect.height - margin * 2);\n                }\n            });\n        }\n    }\n}\nexports.ImageColumn = ImageColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MenuColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst MenuStyle_1 = require(\"../style/MenuStyle\");\nconst menu_items_1 = require(\"../../internal/menu-items\");\nclass MenuColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n        this._options = menu_items_1.normalize(option.options);\n    }\n    get StyleClass() {\n        return MenuStyle_1.MenuStyle;\n    }\n    clone() {\n        return new MenuColumn(this);\n    }\n    get options() {\n        return this._options;\n    }\n    withOptions(options) {\n        const c = this.clone();\n        c._options = menu_items_1.normalize(options);\n        return c;\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, font, bgColor, padding, textOverflow, appearance, } = style;\n        let { color } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const text = this._convertInternal(value);\n        helper.testFontLoad(font, text, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            const basePadding = helper.toBoxPixelArray(padding || 0, context, font);\n            const textPadding = basePadding.slice(0);\n            textPadding[1] += 26; // icon padding\n            const iconPadding = basePadding.slice(0);\n            iconPadding[1] += 8;\n            if (color == null && (value == null || value === \"\")) {\n                color = \"rgba(0, 0, 0, .38)\";\n            }\n            helper.text(text, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding: textPadding,\n                textOverflow,\n                icons,\n            });\n            if (appearance === \"menulist-button\") {\n                // draw dropdown arrow icon\n                helper.text(\"\", context, {\n                    textAlign: \"right\",\n                    textBaseline,\n                    color,\n                    font,\n                    icons: [\n                        {\n                            path: \"M0 2 5 7 10 2z\",\n                            width: 10,\n                            color: \"rgba(0, 0, 0, .54)\",\n                        },\n                    ],\n                    padding: iconPadding,\n                });\n            }\n            else if (appearance !== \"none\") {\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                console.warn(`unsupported appearance:${appearance}`);\n            }\n        });\n    }\n    convertInternal(value) {\n        return value;\n    }\n    _convertInternal(value) {\n        const options = this._options;\n        for (let i = 0; i < options.length; i++) {\n            const option = options[i];\n            if (option.value === value) {\n                value = option.label;\n                break;\n            }\n        }\n        return super.convertInternal(value);\n    }\n    getCopyCellValue(value) {\n        return this._convertInternal(value);\n    }\n}\nexports.MenuColumn = MenuColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextColumn = void 0;\nconst utils = __importStar(require(\"./columnUtils\"));\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst MultilineTextStyle_1 = require(\"../style/MultilineTextStyle\");\nclass MultilineTextColumn extends BaseColumn_1.BaseColumn {\n    constructor(option = {}) {\n        super(option);\n    }\n    get StyleClass() {\n        return MultilineTextStyle_1.MultilineTextStyle;\n    }\n    clone() {\n        return new MultilineTextColumn(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase, getIcon }) {\n        const { textAlign, textBaseline, color, font, bgColor, padding, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const multilines = value\n            .replace(/\\r?\\n/g, \"\\n\")\n            .replace(/\\r/g, \"\\n\")\n            .split(\"\\n\");\n        helper.testFontLoad(font, value, context);\n        utils.loadIcons(getIcon(), context, helper, (icons, context) => {\n            helper.multilineText(multilines, context, {\n                textAlign,\n                textBaseline,\n                color,\n                font,\n                padding,\n                lineHeight,\n                autoWrapText,\n                lineClamp,\n                textOverflow,\n                icons,\n            });\n        });\n    }\n}\nexports.MultilineTextColumn = MultilineTextColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberColumn = void 0;\nconst Column_1 = require(\"./Column\");\nconst NumberStyle_1 = require(\"../style/NumberStyle\");\nlet defaultFotmat;\nclass NumberColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._format = option.format;\n    }\n    static get defaultFotmat() {\n        return defaultFotmat || (defaultFotmat = new Intl.NumberFormat());\n    }\n    static set defaultFotmat(fmt) {\n        defaultFotmat = fmt;\n    }\n    get StyleClass() {\n        return NumberStyle_1.NumberStyle;\n    }\n    clone() {\n        return new NumberColumn(this);\n    }\n    get format() {\n        return this._format;\n    }\n    withFormat(format) {\n        const c = this.clone();\n        c._format = format;\n        return c;\n    }\n    convertInternal(value) {\n        const num = Number(value);\n        if (isNaN(num)) {\n            return super.convertInternal(value);\n        }\n        const format = this._format || NumberColumn.defaultFotmat;\n        return format.format(num);\n    }\n}\nexports.NumberColumn = NumberColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PercentCompleteBarColumn = void 0;\nconst utils_1 = require(\"../../internal/utils\");\nconst Column_1 = require(\"./Column\");\nconst PercentCompleteBarStyle_1 = require(\"../style/PercentCompleteBarStyle\");\nconst MARGIN = 2;\nclass PercentCompleteBarColumn extends Column_1.Column {\n    constructor(option = {}) {\n        super(option);\n        this._min = option.min || 0;\n        this._max = option.max || this._min + 100;\n        this._formatter = option.formatter || ((v) => v);\n    }\n    get StyleClass() {\n        return PercentCompleteBarStyle_1.PercentCompleteBarStyle;\n    }\n    clone() {\n        return new PercentCompleteBarColumn(this);\n    }\n    drawInternal(value, context, style, helper, grid, info) {\n        super.drawInternal(this._formatter(value), context, style, helper, grid, info);\n        const { barColor, barBgColor, barHeight } = style;\n        let svalue = `${value}`;\n        if (utils_1.str.endsWith(svalue, \"%\")) {\n            svalue = svalue.substr(0, svalue.length - 1);\n        }\n        const num = Number(svalue);\n        if (isNaN(num)) {\n            return;\n        }\n        const rate = num < this._min\n            ? 0\n            : num > this._max\n                ? 1\n                : (num - this._min) / (this._max - this._min);\n        helper.drawWithClip(context, (ctx) => {\n            const rect = context.getRect();\n            const barMaxWidth = rect.width - MARGIN * 2 - 1; /**/\n            const barTop = rect.bottom - MARGIN - barHeight - 1; /**/\n            const barLeft = rect.left + MARGIN;\n            ctx.fillStyle = utils_1.getOrApply(barBgColor, rate * 100) || \"#f0f3f5\";\n            ctx.beginPath();\n            ctx.rect(barLeft, barTop, barMaxWidth, barHeight);\n            ctx.fill();\n            const barSize = Math.min(barMaxWidth * rate, barMaxWidth);\n            ctx.fillStyle = utils_1.getOrApply(barColor, rate * 100) || \"#20a8d8\";\n            ctx.beginPath();\n            ctx.rect(barLeft, barTop, barSize, barHeight);\n            ctx.fill();\n        });\n    }\n}\nexports.PercentCompleteBarColumn = PercentCompleteBarColumn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RadioColumn = void 0;\nconst BaseColumn_1 = require(\"./BaseColumn\");\nconst RadioStyle_1 = require(\"../style/RadioStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../utils\");\nconst RADIO_COLUMN_STATE_ID = symbolManager_1.getRadioColumnStateId();\nclass RadioColumn extends BaseColumn_1.BaseColumn {\n    get StyleClass() {\n        return RadioStyle_1.RadioStyle;\n    }\n    clone() {\n        return new RadioColumn(this);\n    }\n    convertInternal(value) {\n        return utils_1.toBoolean(value);\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        var _a;\n        const { textAlign, textBaseline, checkColor, uncheckBorderColor, checkBorderColor, uncheckBgColor, checkBgColor, bgColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const elapsed = (_a = grid[RADIO_COLUMN_STATE_ID]) === null || _a === void 0 ? void 0 : _a.elapsed[cellKey];\n        const opt = {\n            textAlign,\n            textBaseline,\n            checkColor,\n            uncheckBorderColor,\n            checkBorderColor,\n            uncheckBgColor,\n            checkBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        helper.radioButton(value, context, opt);\n    }\n}\nexports.RadioColumn = RadioColumn;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.loadIcons = void 0;\nconst icons = __importStar(require(\"../../internal/icons\"));\nconst utils_1 = require(\"../../internal/utils\");\nfunction loadIcons(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nicon, context, helper, callback) {\n    let argIcon = undefined;\n    if (icon) {\n        if (utils_1.isPromise(icon)) {\n            icon.then((i) => {\n                loadIcons(i, context.toCurrentContext(), helper, callback);\n            });\n        }\n        else {\n            const iconList = icons.toNormarizeArray(icon);\n            iconList.forEach((i) => {\n                if (i.font && i.content) {\n                    helper.testFontLoad(i.font, i.content, context);\n                }\n            });\n            argIcon = iconList;\n        }\n    }\n    callback(argIcon, context);\n}\nexports.loadIcons = loadIcons;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toBoolean = void 0;\nfunction toBoolean(val) {\n    if (typeof val === \"string\") {\n        if (val === \"false\") {\n            return false;\n        }\n        else if (val === \"off\") {\n            return false;\n        }\n        else if (/^0+$/.exec(val)) {\n            return false;\n        }\n    }\n    return Boolean(val);\n}\nexports.toBoolean = toBoolean;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EVENT_TYPE = exports.DrawGrid = void 0;\nconst DrawGrid_1 = require(\"./core/DrawGrid\");\nObject.defineProperty(exports, \"DrawGrid\", { enumerable: true, get: function () { return DrawGrid_1.DrawGrid; } });\nconst DG_EVENT_TYPE_1 = require(\"./core/DG_EVENT_TYPE\");\nObject.defineProperty(exports, \"EVENT_TYPE\", { enumerable: true, get: function () { return DG_EVENT_TYPE_1.DG_EVENT_TYPE; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DG_EVENT_TYPE = void 0;\n/**\n * DrawGrid event types\n * @classdesc cheetahGrid.core.EVENT_TYPE\n * @memberof cheetahGrid.core\n */\nexports.DG_EVENT_TYPE = {\n    CLICK_CELL: \"click_cell\",\n    DBLCLICK_CELL: \"dblclick_cell\",\n    DBLTAP_CELL: \"dbltap_cell\",\n    MOUSEDOWN_CELL: \"mousedown_cell\",\n    MOUSEUP_CELL: \"mouseup_cell\",\n    SELECTED_CELL: \"selected_cell\",\n    KEYDOWN: \"keydown\",\n    MOUSEMOVE_CELL: \"mousemove_cell\",\n    MOUSEENTER_CELL: \"mouseenter_cell\",\n    MOUSELEAVE_CELL: \"mouseleave_cell\",\n    MOUSEOVER_CELL: \"mouseover_cell\",\n    MOUSEOUT_CELL: \"mouseout_cell\",\n    CONTEXTMENU_CELL: \"contextmenu_cell\",\n    INPUT_CELL: \"input_cell\",\n    PASTE_CELL: \"paste_cell\",\n    DELETE_CELL: \"delete_cell\",\n    EDITABLEINPUT_CELL: \"editableinput_cell\",\n    MODIFY_STATUS_EDITABLEINPUT_CELL: \"modify_status_editableinput_cell\",\n    RESIZE_COLUMN: \"resize_column\",\n    SCROLL: \"scroll\",\n    FOCUS_GRID: \"focus_grid\",\n    BLUR_GRID: \"blur_grid\",\n};\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DrawGrid = void 0;\nconst calc = __importStar(require(\"../internal/calc\"));\nconst hiDPI = __importStar(require(\"../internal/hiDPI\"));\nconst style = __importStar(require(\"../internal/style\"));\nconst utils_1 = require(\"../internal/utils\");\nconst DG_EVENT_TYPE_1 = require(\"./DG_EVENT_TYPE\");\nconst EventHandler_1 = require(\"../internal/EventHandler\");\nconst EventTarget_1 = require(\"./EventTarget\");\nconst NumberMap_1 = require(\"../internal/NumberMap\");\nconst Rect_1 = require(\"../internal/Rect\");\nconst Scrollable_1 = require(\"../internal/Scrollable\");\nconst canvases_1 = require(\"../internal/canvases\");\n//protected symbol\nconst symbolManager_1 = require(\"../internal/symbolManager\");\nconst paste_utils_1 = require(\"../internal/paste-utils\");\nconst { \n/** @private */\nisTouchEvent, \n/** @private */\ngetMouseButtons, \n/** @private */\ngetKeyCode, \n/** @private */\ncancel: cancelEvent, } = utils_1.event;\n/** @private */\nconst _ = symbolManager_1.getProtectedSymbol();\n/** @private */\nfunction createRootElement() {\n    const element = document.createElement(\"div\");\n    element.classList.add(\"cheetah-grid\");\n    return element;\n}\n/** @private */\nconst KEY_BS = 8;\n/** @private */\nconst KEY_TAB = 9;\n/** @private */\nconst KEY_ENTER = 13;\n/** @private */\nconst KEY_END = 35;\n/** @private */\nconst KEY_HOME = 36;\n/** @private */\nconst KEY_LEFT = 37;\n/** @private */\nconst KEY_UP = 38;\n/** @private */\nconst KEY_RIGHT = 39;\n/** @private */\nconst KEY_DOWN = 40;\n/** @private */\nconst KEY_DEL = 46;\n/** @private */\nconst KEY_ALPHA_A = 65;\n/** @private */\nconst KEY_ALPHA_C = 67;\n/** @private */\nconst KEY_ALPHA_V = 86;\n//private methods\n/** @private */\nfunction _vibrate(e) {\n    if (navigator.vibrate && isTouchEvent(e)) {\n        navigator.vibrate(50);\n    }\n}\n/** @private */\nfunction _getTargetRowAt(absoluteY) {\n    const internal = this.getTargetRowAtInternal(absoluteY);\n    if (internal != null) {\n        return internal;\n    }\n    const findBefore = (startRow, startBottom) => {\n        let bottom = startBottom;\n        for (let row = startRow; row >= 0; row--) {\n            const height = _getRowHeight.call(this, row);\n            const top = bottom - height;\n            if (top <= absoluteY && absoluteY < bottom) {\n                return {\n                    top,\n                    row,\n                };\n            }\n            bottom = top;\n        }\n        return null;\n    };\n    const findAfter = (startRow, startBottom) => {\n        let top = startBottom - _getRowHeight.call(this, startRow);\n        const { rowCount } = this[_];\n        for (let row = startRow; row < rowCount; row++) {\n            const height = _getRowHeight.call(this, row);\n            const bottom = top + height;\n            if (top <= absoluteY && absoluteY < bottom) {\n                return {\n                    top,\n                    row,\n                };\n            }\n            top = bottom;\n        }\n        return null;\n    };\n    const candRow = Math.min(Math.ceil(absoluteY / this[_].defaultRowHeight), this.rowCount - 1);\n    const bottom = _getRowsHeight.call(this, 0, candRow);\n    if (absoluteY >= bottom) {\n        return findAfter(candRow, bottom);\n    }\n    else {\n        return findBefore(candRow, bottom);\n    }\n}\n/** @private */\nfunction _getTargetColAt(grid, absoluteX) {\n    let left = 0;\n    const { colCount } = grid[_];\n    for (let col = 0; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        const right = left + width;\n        if (right > absoluteX) {\n            return {\n                left,\n                col,\n            };\n        }\n        left = right;\n    }\n    return null;\n}\n/** @private */\nfunction _getTargetFrozenRowAt(grid, absoluteY) {\n    if (!grid[_].frozenRowCount) {\n        return null;\n    }\n    let { top } = grid[_].scroll;\n    const rowCount = grid[_].frozenRowCount;\n    for (let row = 0; row < rowCount; row++) {\n        const height = _getRowHeight.call(grid, row);\n        const bottom = top + height;\n        if (bottom > absoluteY) {\n            return {\n                top,\n                row,\n            };\n        }\n        top = bottom;\n    }\n    return null;\n}\n/** @private */\nfunction _getTargetFrozenColAt(grid, absoluteX) {\n    if (!grid[_].frozenColCount) {\n        return null;\n    }\n    let { left } = grid[_].scroll;\n    const colCount = grid[_].frozenColCount;\n    for (let col = 0; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        const right = left + width;\n        if (right > absoluteX) {\n            return {\n                left,\n                col,\n            };\n        }\n        left = right;\n    }\n    return null;\n}\n/** @private */\nfunction _getFrozenRowsRect(grid) {\n    if (!grid[_].frozenRowCount) {\n        return null;\n    }\n    const { top } = grid[_].scroll;\n    let height = 0;\n    const rowCount = grid[_].frozenRowCount;\n    for (let row = 0; row < rowCount; row++) {\n        height += _getRowHeight.call(grid, row);\n    }\n    return new Rect_1.Rect(grid[_].scroll.left, top, grid[_].canvas.width, height);\n}\n/** @private */\nfunction _getFrozenColsRect(grid) {\n    if (!grid[_].frozenColCount) {\n        return null;\n    }\n    const { left } = grid[_].scroll;\n    let width = 0;\n    const colCount = grid[_].frozenColCount;\n    for (let col = 0; col < colCount; col++) {\n        width += _getColWidth(grid, col);\n    }\n    return new Rect_1.Rect(left, grid[_].scroll.top, width, grid[_].canvas.height);\n}\n/** @private */\nfunction _getCellDrawing(grid, col, row) {\n    if (!grid[_].drawCells[row]) {\n        return null;\n    }\n    return grid[_].drawCells[row][col];\n}\n/** @private */\nfunction _putCellDrawing(grid, col, row, context) {\n    if (!grid[_].drawCells[row]) {\n        grid[_].drawCells[row] = {};\n    }\n    grid[_].drawCells[row][col] = context;\n}\n/** @private */\nfunction _removeCellDrawing(grid, col, row) {\n    if (!grid[_].drawCells[row]) {\n        return;\n    }\n    delete grid[_].drawCells[row][col];\n    if (Object.keys(grid[_].drawCells[row]).length === 0) {\n        delete grid[_].drawCells[row];\n    }\n}\n/** @private */\nfunction _drawCell(ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers) {\n    const rect = new Rect_1.Rect(absoluteLeft - visibleRect.left, absoluteTop - visibleRect.top, width, height);\n    const drawRect = Rect_1.Rect.bounds(Math.max(absoluteLeft, skipAbsoluteLeft) - visibleRect.left, Math.max(absoluteTop, skipAbsoluteTop) - visibleRect.top, rect.right, rect.bottom);\n    if (drawRect.height > 0 && drawRect.width > 0) {\n        ctx.save();\n        try {\n            const cellDrawing = _getCellDrawing(this, col, row);\n            if (cellDrawing) {\n                cellDrawing.cancel();\n            }\n            const dcContext = new DrawCellContext(col, row, ctx, rect, drawRect, !!cellDrawing, this[_].selection, drawLayers);\n            const p = this.onDrawCell(col, row, dcContext);\n            if (utils_1.isPromise(p)) {\n                //\n                _putCellDrawing(this, col, row, dcContext);\n                const pCol = col;\n                dcContext._delayMode(this, () => {\n                    _removeCellDrawing(this, pCol, row);\n                });\n                p.then(() => {\n                    dcContext.terminate();\n                });\n            }\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n}\n/** @private */\nfunction _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers) {\n    const { colCount } = grid[_];\n    const drawOuter = (col, absoluteLeft) => {\n        //\n        if (col >= colCount - 1 &&\n            grid[_].canvas.width > absoluteLeft - visibleRect.left) {\n            const outerLeft = absoluteLeft - visibleRect.left;\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n            ctx.rect(outerLeft, absoluteTop - visibleRect.top, grid[_].canvas.width - outerLeft, height);\n            ctx.fill();\n            ctx.restore();\n        }\n    };\n    let skipAbsoluteLeft = 0;\n    if (initFrozenCol) {\n        let absoluteLeft = initFrozenCol.left;\n        const count = grid[_].frozenColCount;\n        for (let { col } = initFrozenCol; col < count; col++) {\n            const width = _getColWidth(grid, col);\n            _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, 0, drawLayers);\n            absoluteLeft += width;\n            if (drawRight <= absoluteLeft) {\n                //\n                drawOuter(col, absoluteLeft);\n                return;\n            }\n        }\n        skipAbsoluteLeft = absoluteLeft;\n    }\n    let absoluteLeft = initCol.left;\n    for (let { col } = initCol; col < colCount; col++) {\n        const width = _getColWidth(grid, col);\n        _drawCell.call(grid, ctx, col, absoluteLeft, width, row, absoluteTop, height, visibleRect, skipAbsoluteTop, skipAbsoluteLeft, drawLayers);\n        absoluteLeft += width;\n        if (drawRight <= absoluteLeft) {\n            //\n            drawOuter(col, absoluteLeft);\n            return;\n        }\n    }\n    drawOuter(colCount - 1, absoluteLeft);\n}\n/** @private */\nfunction _getInitContext() {\n    return this._getInitContext();\n}\n/** @private */\nfunction _invalidateRect(grid, drawRect) {\n    const visibleRect = _getVisibleRect(grid);\n    const { rowCount } = grid[_];\n    const ctx = _getInitContext.call(grid);\n    const initRow = _getTargetRowAt.call(grid, Math.max(visibleRect.top, drawRect.top)) || {\n        top: _getRowsHeight.call(grid, 0, rowCount - 1),\n        row: rowCount,\n    };\n    const initCol = _getTargetColAt(grid, Math.max(visibleRect.left, drawRect.left)) || {\n        left: _getColsWidth(grid, 0, grid[_].colCount - 1),\n        col: grid[_].colCount,\n    };\n    const drawBottom = Math.min(visibleRect.bottom, drawRect.bottom);\n    const drawRight = Math.min(visibleRect.right, drawRect.right);\n    const initFrozenRow = _getTargetFrozenRowAt(grid, Math.max(visibleRect.top, drawRect.top));\n    const initFrozenCol = _getTargetFrozenColAt(grid, Math.max(visibleRect.left, drawRect.left));\n    const drawLayers = new DrawLayers();\n    const drawOuter = (row, absoluteTop) => {\n        //\n        if (row >= rowCount - 1 &&\n            grid[_].canvas.height > absoluteTop - visibleRect.top) {\n            const outerTop = absoluteTop - visibleRect.top;\n            ctx.save();\n            ctx.beginPath();\n            ctx.fillStyle = grid.underlayBackgroundColor || \"#F6F6F6\";\n            ctx.rect(0, outerTop, grid[_].canvas.width, grid[_].canvas.height - outerTop);\n            ctx.fill();\n            ctx.restore();\n        }\n    };\n    let skipAbsoluteTop = 0;\n    if (initFrozenRow) {\n        let absoluteTop = initFrozenRow.top;\n        const count = grid[_].frozenRowCount;\n        for (let { row } = initFrozenRow; row < count; row++) {\n            const height = _getRowHeight.call(grid, row);\n            _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, 0, drawLayers);\n            absoluteTop += height;\n            if (drawBottom <= absoluteTop) {\n                //\n                drawOuter(row, absoluteTop);\n                drawLayers.draw(ctx);\n                return;\n            }\n        }\n        skipAbsoluteTop = absoluteTop;\n    }\n    let absoluteTop = initRow.top;\n    for (let { row } = initRow; row < rowCount; row++) {\n        const height = _getRowHeight.call(grid, row);\n        //\n        _drawRow(grid, ctx, initFrozenCol, initCol, drawRight, row, absoluteTop, height, visibleRect, skipAbsoluteTop, drawLayers);\n        absoluteTop += height;\n        if (drawBottom <= absoluteTop) {\n            //\n            drawOuter(row, absoluteTop);\n            drawLayers.draw(ctx);\n            return;\n        }\n    }\n    drawOuter(rowCount - 1, absoluteTop);\n    drawLayers.draw(ctx);\n}\n/** @private */\nfunction _toPxWidth(grid, width) {\n    return Math.round(calc.toPx(width, grid[_].calcWidthContext));\n}\n/** @private */\nfunction _adjustColWidth(grid, col, orgWidth) {\n    const limits = _getColWidthLimits(grid, col);\n    return Math.max(_applyColWidthLimits(limits, orgWidth), 0);\n}\n/** @private */\nfunction _applyColWidthLimits(limits, orgWidth) {\n    if (!limits) {\n        return orgWidth;\n    }\n    if (limits.min) {\n        if (limits.min > orgWidth) {\n            return limits.min;\n        }\n    }\n    if (limits.max) {\n        if (limits.max < orgWidth) {\n            return limits.max;\n        }\n    }\n    return orgWidth;\n}\n/**\n * Gets the definition of the column width.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {string|number} width definition\n * @private\n */\nfunction _getColWidthDefine(grid, col) {\n    const width = grid[_].colWidthsMap.get(col);\n    if (width) {\n        return width;\n    }\n    return grid.defaultColWidth;\n}\n/**\n * Gets the column width limits.\n * @param {DrawGrid} grid grid instance\n * @param {number} col number of column\n * @returns {object|null} the column width limits\n * @private\n */\nfunction _getColWidthLimits(grid, col) {\n    const limit = grid[_].colWidthsLimit[col];\n    if (!limit) {\n        return null;\n    }\n    const result = {};\n    if (limit.min) {\n        result.min = _toPxWidth(grid, limit.min);\n        result.minDef = limit.min;\n    }\n    if (limit.max) {\n        result.max = _toPxWidth(grid, limit.max);\n        result.maxDef = limit.max;\n    }\n    return result;\n}\n/**\n * Checks if the given width definition is `auto`.\n * @param {string|number} width width definition to check\n * @returns {boolean} `true ` if the given width definition is `auto`\n * @private\n */\nfunction isAutoDefine(width) {\n    return Boolean(width && typeof width === \"string\" && width.toLowerCase() === \"auto\");\n}\n/**\n * Creates a formula to calculate the auto width.\n * @param {DrawGrid} grid grid instance\n * @returns {string} formula\n * @private\n */\nfunction _calcAutoColWidthExpr(grid, shortCircuit = true) {\n    const fullWidth = grid[_].calcWidthContext.full;\n    let sumMin = 0;\n    const others = [];\n    let autoCount = 0;\n    const hasLimitsOnAuto = [];\n    for (let col = 0; col < grid[_].colCount; col++) {\n        const def = _getColWidthDefine(grid, col);\n        const limits = _getColWidthLimits(grid, col);\n        if (isAutoDefine(def)) {\n            if (limits) {\n                hasLimitsOnAuto.push(limits);\n                if (limits.min) {\n                    sumMin += limits.min;\n                }\n            }\n            autoCount++;\n        }\n        else {\n            let expr = def;\n            if (limits) {\n                const orgWidth = _toPxWidth(grid, expr);\n                const newWidth = _applyColWidthLimits(limits, orgWidth);\n                if (orgWidth !== newWidth) {\n                    expr = `${newWidth}px`;\n                }\n                sumMin += newWidth;\n            }\n            others.push(expr);\n        }\n        if (shortCircuit && sumMin > fullWidth) {\n            // Returns 0px because it has consumed the full width.\n            return \"0px\";\n        }\n    }\n    if (hasLimitsOnAuto.length && others.length) {\n        const autoPx = (fullWidth -\n            _toPxWidth(grid, `calc(${others\n                .map((c) => (typeof c === \"number\" ? `${c}px` : c))\n                .join(\" + \")})`)) /\n            autoCount;\n        hasLimitsOnAuto.forEach((limits) => {\n            if (limits.min && autoPx < limits.min) {\n                others.push(limits.minDef);\n                autoCount--;\n            }\n            else if (limits.max && limits.max < autoPx) {\n                others.push(limits.maxDef);\n                autoCount--;\n            }\n        });\n        if (shortCircuit && autoCount <= 0) {\n            return `${autoPx}px`;\n        }\n    }\n    if (others.length) {\n        const strDefs = [];\n        let num = 0;\n        others.forEach((c) => {\n            if (typeof c === \"number\") {\n                num += c;\n            }\n            else {\n                strDefs.push(c);\n            }\n        });\n        strDefs.push(`${num}px`);\n        return `calc((100% - (${strDefs.join(\" + \")})) / ${autoCount})`;\n    }\n    else {\n        return `${100 / autoCount}%`;\n    }\n}\n/**\n * Calculate the pixels of width from the definition of width.\n * @param {DrawGrid} grid grid instance\n * @param {string|number} width width definition\n * @returns {number} the pixels of width\n * @private\n */\nfunction _colWidthDefineToPxWidth(grid, width) {\n    if (isAutoDefine(width)) {\n        return _toPxWidth(grid, _calcAutoColWidthExpr(grid));\n    }\n    return _toPxWidth(grid, width);\n}\n/** @private */\nfunction _getColWidth(grid, col) {\n    const width = _getColWidthDefine(grid, col);\n    return _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width));\n}\n/** @private */\nfunction _setColWidth(grid, col, width) {\n    grid[_].colWidthsMap.put(col, width);\n}\n/**\n * Overwrites the definition of a column whose width is set to `auto` with the current auto width formula.\n * @param {DrawGrid} grid grid instance\n * @returns {void}\n * @private\n */\nfunction _storeAutoColWidthExprs(grid) {\n    let expr = null;\n    for (let col = 0; col < grid[_].colCount; col++) {\n        const def = _getColWidthDefine(grid, col);\n        if (isAutoDefine(def)) {\n            _setColWidth(grid, col, expr || (expr = _calcAutoColWidthExpr(grid, false)));\n        }\n    }\n}\n/** @private */\nfunction _getColsWidth(grid, startCol, endCol) {\n    const defaultColPxWidth = _colWidthDefineToPxWidth(grid, grid.defaultColWidth);\n    const colCount = endCol - startCol + 1;\n    let w = defaultColPxWidth * colCount;\n    grid[_].colWidthsMap.each(startCol, endCol, (width, col) => {\n        w +=\n            _adjustColWidth(grid, col, _colWidthDefineToPxWidth(grid, width)) -\n                defaultColPxWidth;\n    });\n    for (let col = startCol; col <= endCol; col++) {\n        if (grid[_].colWidthsMap.has(col)) {\n            continue;\n        }\n        const adj = _adjustColWidth(grid, col, defaultColPxWidth);\n        if (adj !== defaultColPxWidth) {\n            w += adj - defaultColPxWidth;\n        }\n    }\n    return w;\n}\n/** @private */\nfunction _getRowHeight(row) {\n    const internal = this.getRowHeightInternal(row);\n    if (internal != null) {\n        return internal;\n    }\n    const height = this[_].rowHeightsMap.get(row);\n    if (height) {\n        return height;\n    }\n    return this[_].defaultRowHeight;\n}\n/** @private */\nfunction _setRowHeight(grid, row, height) {\n    grid[_].rowHeightsMap.put(row, height);\n}\n/** @private */\nfunction _getRowsHeight(startRow, endRow) {\n    const internal = this.getRowsHeightInternal(startRow, endRow);\n    if (internal != null) {\n        return internal;\n    }\n    const rowCount = endRow - startRow + 1;\n    let h = this[_].defaultRowHeight * rowCount;\n    this[_].rowHeightsMap.each(startRow, endRow, (height) => {\n        h += height - this[_].defaultRowHeight;\n    });\n    return h;\n}\n/** @private */\nfunction _getScrollWidth(grid) {\n    return _getColsWidth(grid, 0, grid[_].colCount - 1);\n}\n/** @private */\nfunction _getScrollHeight(row) {\n    const internal = this.getScrollHeightInternal(row);\n    if (internal != null) {\n        return internal;\n    }\n    let h = this[_].defaultRowHeight * this[_].rowCount;\n    this[_].rowHeightsMap.each(0, this[_].rowCount - 1, (height) => {\n        h += height - this[_].defaultRowHeight;\n    });\n    return h;\n}\n/** @private */\nfunction _onScroll(grid, _e) {\n    const lastLeft = grid[_].scroll.left;\n    const lastTop = grid[_].scroll.top;\n    const moveX = grid[_].scrollable.scrollLeft - lastLeft;\n    const moveY = grid[_].scrollable.scrollTop - lastTop;\n    //\n    grid[_].scroll = {\n        left: grid[_].scrollable.scrollLeft,\n        top: grid[_].scrollable.scrollTop,\n    };\n    const visibleRect = _getVisibleRect(grid);\n    if (Math.abs(moveX) >= visibleRect.width ||\n        Math.abs(moveY) >= visibleRect.height) {\n        //\n        _invalidateRect(grid, visibleRect);\n    }\n    else {\n        //\n        grid[_].context.drawImage(grid[_].canvas, -moveX, -moveY);\n        if (moveX !== 0) {\n            //\n            const redrawRect = visibleRect.copy();\n            if (moveX < 0) {\n                redrawRect.width = -moveX;\n                if (grid[_].frozenColCount > 0) {\n                    //\n                    const frozenRect = _getFrozenColsRect(grid);\n                    redrawRect.width += frozenRect.width;\n                }\n            }\n            else if (moveX > 0) {\n                redrawRect.left = redrawRect.right - moveX;\n            }\n            //\n            _invalidateRect(grid, redrawRect);\n            if (moveX > 0) {\n                if (grid[_].frozenColCount > 0) {\n                    //\n                    _invalidateRect(grid, _getFrozenColsRect(grid));\n                }\n            }\n        }\n        if (moveY !== 0) {\n            //\n            const redrawRect = visibleRect.copy();\n            if (moveY < 0) {\n                redrawRect.height = -moveY;\n                if (grid[_].frozenRowCount > 0) {\n                    //\n                    const frozenRect = _getFrozenRowsRect(grid);\n                    redrawRect.height += frozenRect.height;\n                }\n            }\n            else if (moveY > 0) {\n                redrawRect.top = redrawRect.bottom - moveY;\n            }\n            //\n            _invalidateRect(grid, redrawRect);\n            if (moveY > 0) {\n                if (grid[_].frozenRowCount > 0) {\n                    //\n                    _invalidateRect(grid, _getFrozenRowsRect(grid));\n                }\n            }\n        }\n    }\n}\n/** @private */\n// eslint-disable-next-line complexity\nfunction _onKeyDownMove(e) {\n    var _a, _b, _c;\n    const { shiftKey } = e;\n    const keyCode = getKeyCode(e);\n    const focusCell = shiftKey ? this.selection.focus : this.selection.select;\n    if (keyCode === KEY_LEFT) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, null, \"W\");\n        }\n        else {\n            if (!hmove.call(this, \"W\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_UP) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"N\", null);\n        }\n        else {\n            if (!vmove.call(this, \"N\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_RIGHT) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, null, \"E\");\n        }\n        else {\n            if (!hmove.call(this, \"E\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_DOWN) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"S\", null);\n        }\n        else {\n            if (!vmove.call(this, \"S\")) {\n                return;\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_HOME) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"N\", \"W\");\n        }\n        else {\n            move(this, null, \"W\");\n        }\n        cancelEvent(e);\n    }\n    else if (keyCode === KEY_END) {\n        if (e.ctrlKey || e.metaKey) {\n            move(this, \"S\", \"E\");\n        }\n        else {\n            move(this, null, \"E\");\n        }\n        cancelEvent(e);\n    }\n    else if (((_a = this.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) && keyCode === KEY_TAB) {\n        if (shiftKey) {\n            if (!hmove.call(this, \"W\", false)) {\n                const row = this.getMoveUpRowByKeyDownInternal(focusCell);\n                if (0 > row) {\n                    return;\n                }\n                _moveFocusCell.call(this, this.colCount - 1, row, false);\n            }\n        }\n        else {\n            if (!hmove.call(this, \"E\", false)) {\n                const row = this.getMoveDownRowByKeyDownInternal(focusCell);\n                if (this.rowCount <= row) {\n                    return;\n                }\n                _moveFocusCell.call(this, 0, row, false);\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (((_b = this.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) && keyCode === KEY_ENTER) {\n        if (shiftKey) {\n            if (!vmove.call(this, \"N\", false)) {\n                const col = this.getMoveLeftColByKeyDownInternal(focusCell);\n                if (0 > col) {\n                    return;\n                }\n                _moveFocusCell.call(this, col, this.rowCount - 1, false);\n            }\n        }\n        else {\n            if (!vmove.call(this, \"S\", false)) {\n                const col = this.getMoveRightColByKeyDownInternal(focusCell);\n                if (this.colCount <= col) {\n                    return;\n                }\n                _moveFocusCell.call(this, col, Math.min(this.frozenRowCount, this.rowCount - 1), false);\n            }\n        }\n        cancelEvent(e);\n    }\n    else if (((_c = this.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\n        keyCode === KEY_ALPHA_A &&\n        (e.ctrlKey || e.metaKey)) {\n        this.selection.range = {\n            start: { col: 0, row: 0 },\n            end: { col: this.colCount - 1, row: this.rowCount - 1 },\n        };\n        this.invalidate();\n        cancelEvent(e);\n    }\n    function move(grid, vDir, hDir) {\n        const row = vDir === \"S\" ? grid.rowCount - 1 : vDir === \"N\" ? 0 : focusCell.row;\n        const col = hDir === \"E\" ? grid.colCount - 1 : hDir === \"W\" ? 0 : focusCell.col;\n        _moveFocusCell.call(grid, col, row, shiftKey);\n    }\n    function vmove(vDir, shiftKeyFlg = shiftKey) {\n        let row;\n        if (vDir === \"S\") {\n            row = this.getMoveDownRowByKeyDownInternal(focusCell);\n            if (this.rowCount <= row) {\n                return false;\n            }\n        }\n        else {\n            row = this.getMoveUpRowByKeyDownInternal(focusCell);\n            if (row < 0) {\n                return false;\n            }\n        }\n        const { col } = focusCell;\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\n        return true;\n    }\n    function hmove(hDir, shiftKeyFlg = shiftKey) {\n        let col;\n        if (hDir === \"E\") {\n            col = this.getMoveRightColByKeyDownInternal(focusCell);\n            if (this.colCount <= col) {\n                return false;\n            }\n        }\n        else {\n            col = this.getMoveLeftColByKeyDownInternal(focusCell);\n            if (col < 0) {\n                return false;\n            }\n        }\n        const { row } = focusCell;\n        _moveFocusCell.call(this, col, row, shiftKeyFlg);\n        return true;\n    }\n}\n/** @private */\nfunction _moveFocusCell(col, row, shiftKey) {\n    const offset = this.getOffsetInvalidateCells();\n    function extendRange(range) {\n        if (offset > 0) {\n            range.start.col -= offset;\n            range.start.row -= offset;\n            range.end.col += offset;\n            range.end.row += offset;\n        }\n        return range;\n    }\n    const beforeRange = extendRange(this.selection.range);\n    const beforeRect = this.getCellRangeRect(beforeRange);\n    this.selection._setFocusCell(col, row, shiftKey);\n    this.makeVisibleCell(col, row);\n    this.focusCell(col, row);\n    const afterRange = extendRange(this.selection.range);\n    const afterRect = this.getCellRangeRect(afterRange);\n    if (afterRect.intersection(beforeRect)) {\n        const invalidateRect = Rect_1.Rect.max(afterRect, beforeRect);\n        _invalidateRect(this, invalidateRect);\n    }\n    else {\n        _invalidateRect(this, beforeRect);\n        _invalidateRect(this, afterRect);\n    }\n}\n/** @private */\nfunction _updatedSelection() {\n    const { focusControl } = this[_];\n    const { col: selCol, row: selRow } = this[_].selection.select;\n    const results = this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.EDITABLEINPUT_CELL, {\n        col: selCol,\n        row: selRow,\n    });\n    const editMode = utils_1.array.findIndex(results, (v) => !!v) >= 0;\n    focusControl.editMode = editMode;\n    if (editMode) {\n        focusControl.storeInputStatus();\n        focusControl.setDefaultInputStatus();\n        this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MODIFY_STATUS_EDITABLEINPUT_CELL, {\n            col: selCol,\n            row: selRow,\n            input: focusControl.input,\n        });\n    }\n}\n/** @private */\nfunction _getMouseAbstractPoint(grid, evt) {\n    let e;\n    if (isTouchEvent(evt)) {\n        e = evt.changedTouches[0];\n    }\n    else {\n        e = evt;\n    }\n    const clientX = e.clientX || e.pageX + window.scrollX;\n    const clientY = e.clientY || e.pageY + window.scrollY;\n    const rect = grid[_].canvas.getBoundingClientRect();\n    if (rect.right <= clientX) {\n        return null;\n    }\n    if (rect.bottom <= clientY) {\n        return null;\n    }\n    const x = clientX - rect.left + grid[_].scroll.left;\n    const y = clientY - rect.top + grid[_].scroll.top;\n    return { x, y };\n}\n/** @private */\nfunction _bindEvents() {\n    // eslint-disable-next-line consistent-this, @typescript-eslint/no-this-alias\n    const grid = this;\n    const { handler, element, scrollable } = grid[_];\n    const getCellEventArgsSet = (e) => {\n        const abstractPos = _getMouseAbstractPoint(grid, e);\n        if (!abstractPos) {\n            return {};\n        }\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n        if (cell.col < 0 || cell.row < 0) {\n            return {\n                abstractPos,\n                cell,\n            };\n        }\n        const eventArgs = {\n            col: cell.col,\n            row: cell.row,\n            event: e,\n        };\n        return {\n            abstractPos,\n            cell,\n            eventArgs,\n        };\n    };\n    const canResizeColumn = (col) => {\n        if (grid[_].disableColumnResize) {\n            return false;\n        }\n        const limit = grid[_].colWidthsLimit[col];\n        if (!limit || !limit.min || !limit.max) {\n            return true;\n        }\n        return limit.max !== limit.min;\n    };\n    handler.on(element, \"mousedown\", (e) => {\n        const eventArgsSet = getCellEventArgsSet(e);\n        const { abstractPos, eventArgs } = eventArgsSet;\n        if (!abstractPos) {\n            return;\n        }\n        if (eventArgs) {\n            const results = grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEDOWN_CELL, eventArgs);\n            if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\n                return;\n            }\n        }\n        if (getMouseButtons(e) !== 1) {\n            return;\n        }\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n            //\n            grid[_].columnResizer.start(resizeCol, e);\n        }\n        else {\n            //\n            grid[_].cellSelector.start(e);\n        }\n    });\n    handler.on(element, \"mouseup\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (eventArgs) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEUP_CELL, eventArgs);\n        }\n    });\n    let doubleTapBefore = null;\n    let longTouchId = null;\n    handler.on(element, \"touchstart\", (e) => {\n        if (!doubleTapBefore) {\n            doubleTapBefore = getCellEventArgsSet(e).eventArgs;\n            setTimeout(() => {\n                doubleTapBefore = null;\n            }, 350);\n        }\n        else {\n            const { eventArgs } = getCellEventArgsSet(e);\n            if (eventArgs &&\n                eventArgs.col === doubleTapBefore.col &&\n                eventArgs.row === doubleTapBefore.row) {\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLTAP_CELL, eventArgs);\n            }\n            doubleTapBefore = null;\n            if (e.defaultPrevented) {\n                return;\n            }\n        }\n        longTouchId = setTimeout(() => {\n            //\n            longTouchId = null;\n            const abstractPos = _getMouseAbstractPoint(grid, e);\n            if (!abstractPos) {\n                return;\n            }\n            const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y, 15);\n            if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n                //\n                grid[_].columnResizer.start(resizeCol, e);\n            }\n            else {\n                //\n                grid[_].cellSelector.start(e);\n            }\n        }, 500);\n    });\n    function cancel(_e) {\n        if (longTouchId) {\n            clearTimeout(longTouchId);\n            longTouchId = null;\n        }\n    }\n    handler.on(element, \"touchcancel\", cancel);\n    handler.on(element, \"touchmove\", cancel);\n    handler.on(element, \"touchend\", (e) => {\n        if (longTouchId) {\n            clearTimeout(longTouchId);\n            grid[_].cellSelector.select(e);\n            longTouchId = null;\n        }\n    });\n    let isMouseover = false;\n    let mouseEnterCell = null;\n    let mouseOverCell = null;\n    function onMouseenterCell(cell, related) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEENTER_CELL, {\n            col: cell.col,\n            row: cell.row,\n            related,\n        });\n        mouseEnterCell = cell;\n    }\n    function onMouseleaveCell(related) {\n        const beforeMouseCell = mouseEnterCell;\n        mouseEnterCell = null;\n        if (beforeMouseCell) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSELEAVE_CELL, {\n                col: beforeMouseCell.col,\n                row: beforeMouseCell.row,\n                related,\n            });\n        }\n        return beforeMouseCell || undefined;\n    }\n    function onMouseoverCell(cell, related) {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, {\n            col: cell.col,\n            row: cell.row,\n            related,\n        });\n        mouseOverCell = cell;\n    }\n    function onMouseoutCell(related) {\n        const beforeMouseCell = mouseOverCell;\n        mouseOverCell = null;\n        if (beforeMouseCell) {\n            grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, {\n                col: beforeMouseCell.col,\n                row: beforeMouseCell.row,\n                related,\n            });\n        }\n        return beforeMouseCell || undefined;\n    }\n    const scrollElement = scrollable.getElement();\n    handler.on(scrollElement, \"mouseover\", (_e) => {\n        isMouseover = true;\n    });\n    handler.on(scrollElement, \"mouseout\", (_e) => {\n        isMouseover = false;\n        onMouseoutCell();\n    });\n    handler.on(element, \"mouseleave\", (_e) => {\n        onMouseleaveCell();\n    });\n    handler.on(element, \"mousemove\", (e) => {\n        const eventArgsSet = getCellEventArgsSet(e);\n        const { abstractPos, eventArgs } = eventArgsSet;\n        if (eventArgs) {\n            const beforeMouseCell = mouseEnterCell;\n            if (beforeMouseCell) {\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n                if (beforeMouseCell.col !== eventArgs.col ||\n                    beforeMouseCell.row !== eventArgs.row) {\n                    const enterCell = {\n                        col: eventArgs.col,\n                        row: eventArgs.row,\n                    };\n                    const outCell = onMouseoutCell(enterCell);\n                    const leaveCell = onMouseleaveCell(enterCell);\n                    onMouseenterCell(enterCell, leaveCell);\n                    if (isMouseover) {\n                        onMouseoverCell(enterCell, outCell);\n                    }\n                }\n                else if (isMouseover && !mouseOverCell) {\n                    onMouseoverCell({\n                        col: eventArgs.col,\n                        row: eventArgs.row,\n                    });\n                }\n            }\n            else {\n                const enterCell = {\n                    col: eventArgs.col,\n                    row: eventArgs.row,\n                };\n                onMouseenterCell(enterCell);\n                if (isMouseover) {\n                    onMouseoverCell(enterCell);\n                }\n                grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, eventArgs);\n            }\n        }\n        else {\n            onMouseoutCell();\n            onMouseleaveCell();\n        }\n        if (grid[_].columnResizer.moving(e) || grid[_].cellSelector.moving(e)) {\n            return;\n        }\n        const { style } = element;\n        if (!abstractPos) {\n            if (style.cursor === \"col-resize\") {\n                style.cursor = \"\";\n            }\n            return;\n        }\n        const resizeCol = _getResizeColAt(grid, abstractPos.x, abstractPos.y);\n        if (resizeCol >= 0 && canResizeColumn(resizeCol)) {\n            style.cursor = \"col-resize\";\n        }\n        else {\n            if (style.cursor === \"col-resize\") {\n                style.cursor = \"\";\n            }\n        }\n    });\n    handler.on(element, \"click\", (e) => {\n        if (grid[_].columnResizer.lastMoving(e) ||\n            grid[_].cellSelector.lastMoving(e)) {\n            return;\n        }\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, eventArgs);\n    });\n    handler.on(element, \"contextmenu\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CONTEXTMENU_CELL, eventArgs);\n    });\n    handler.on(element, \"dblclick\", (e) => {\n        if (!grid.hasListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL)) {\n            return;\n        }\n        const { eventArgs } = getCellEventArgsSet(e);\n        if (!eventArgs) {\n            return;\n        }\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DBLCLICK_CELL, eventArgs);\n    });\n    grid[_].focusControl.onKeyDown((evt) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, evt);\n    });\n    grid[_].selection.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, (data) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, data, data.selected);\n    });\n    scrollable.onScroll((e) => {\n        _onScroll(grid, e);\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SCROLL, { event: e });\n    });\n    grid[_].focusControl.onKeyDownMove((e) => {\n        _onKeyDownMove.call(grid, e);\n    });\n    grid.listen(\"copydata\", (range) => {\n        const copyRange = grid.getCopyRangeInternal(range);\n        let copyValue = \"\";\n        for (let { row } = copyRange.start; row <= copyRange.end.row; row++) {\n            for (let { col } = copyRange.start; col <= copyRange.end.col; col++) {\n                const copyCellValue = grid.getCopyCellValue(col, row, copyRange);\n                if (typeof Promise !== \"undefined\" &&\n                    copyCellValue instanceof Promise) {\n                    //\n                }\n                else {\n                    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                    const strCellValue = `${copyCellValue}`;\n                    if (/^\\[object .*\\]$/.exec(strCellValue)) {\n                        //object \n                    }\n                    else {\n                        copyValue += strCellValue;\n                    }\n                }\n                if (col < copyRange.end.col) {\n                    copyValue += \"\\t\";\n                }\n            }\n            copyValue += \"\\n\";\n        }\n        return copyValue;\n    });\n    grid[_].focusControl.onCopy((_e) => utils_1.array.find(grid.fireListeners(\"copydata\", grid[_].selection.range), (r) => r != null));\n    grid[_].focusControl.onPaste(({ value, event }) => {\n        const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n        const { col, row } = grid[_].selection.select;\n        const multi = /[\\r\\n\\u2028\\u2029\\t]/.test(normalizeValue); // is multi cell values\n        let rangeBoxValues = null;\n        const pasteCellEvent = {\n            col,\n            row,\n            value,\n            normalizeValue,\n            multi,\n            get rangeBoxValues() {\n                return (rangeBoxValues !== null && rangeBoxValues !== void 0 ? rangeBoxValues : (rangeBoxValues = paste_utils_1.parsePasteRangeBoxValues(normalizeValue)));\n            },\n            event,\n        };\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.PASTE_CELL, pasteCellEvent);\n    });\n    grid[_].focusControl.onInput((value) => {\n        const { col, row } = grid[_].selection.select;\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.INPUT_CELL, { col, row, value });\n    });\n    grid[_].focusControl.onDelete((event) => {\n        const { col, row } = grid[_].selection.select;\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.DELETE_CELL, { col, row, event });\n    });\n    grid[_].focusControl.onFocus((e) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.FOCUS_GRID, e);\n        grid[_].focusedGrid = true;\n        const { col, row } = grid[_].selection.select;\n        grid.invalidateCell(col, row);\n    });\n    grid[_].focusControl.onBlur((e) => {\n        grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.BLUR_GRID, e);\n        grid[_].focusedGrid = false;\n        const { col, row } = grid[_].selection.select;\n        grid.invalidateCell(col, row);\n    });\n}\n/** @private */\nfunction _getResizeColAt(grid, abstractX, abstractY, offset = 5) {\n    if (grid[_].frozenRowCount <= 0) {\n        return -1;\n    }\n    const frozenRect = _getFrozenRowsRect(grid);\n    if (!frozenRect.inPoint(abstractX, abstractY)) {\n        return -1;\n    }\n    const cell = grid.getCellAt(abstractX, abstractY);\n    const cellRect = grid.getCellRect(cell.col, cell.row);\n    if (abstractX < cellRect.left + offset) {\n        return cell.col - 1;\n    }\n    if (cellRect.right - offset < abstractX) {\n        return cell.col;\n    }\n    return -1;\n}\n/** @private */\nfunction _getVisibleRect(grid) {\n    const { scroll: { left, top }, canvas: { width, height }, } = grid[_];\n    return new Rect_1.Rect(left, top, width, height);\n}\n/** @private */\nfunction _getScrollableVisibleRect(grid) {\n    let frozenColsWidth = 0;\n    if (grid[_].frozenColCount > 0) {\n        //\n        const frozenRect = _getFrozenColsRect(grid);\n        frozenColsWidth = frozenRect.width;\n    }\n    let frozenRowsHeight = 0;\n    if (grid[_].frozenRowCount > 0) {\n        //\n        const frozenRect = _getFrozenRowsRect(grid);\n        frozenRowsHeight = frozenRect.height;\n    }\n    return new Rect_1.Rect(grid[_].scrollable.scrollLeft + frozenColsWidth, grid[_].scrollable.scrollTop + frozenRowsHeight, grid[_].canvas.width - frozenColsWidth, grid[_].canvas.height - frozenRowsHeight);\n}\n/** @private */\nfunction _toRelativeRect(grid, absoluteRect) {\n    const rect = absoluteRect.copy();\n    const visibleRect = _getVisibleRect(grid);\n    rect.offsetLeft(-visibleRect.left);\n    rect.offsetTop(-visibleRect.top);\n    return rect;\n}\n//end private methods\n//\n//\n//\n//\n/**\n * managing mouse down moving\n * @private\n */\nclass BaseMouseDownMover {\n    constructor(grid) {\n        this._grid = grid;\n        this._handler = new EventHandler_1.EventHandler();\n        this._events = {};\n        this._started = false;\n        this._moved = false;\n    }\n    moving(_e) {\n        return !!this._started;\n    }\n    lastMoving(e) {\n        // mouseupclick\n        if (this.moving(e)) {\n            return true;\n        }\n        const last = this._mouseEndPoint;\n        if (!last) {\n            return false;\n        }\n        const pt = _getMouseAbstractPoint(this._grid, e);\n        return pt != null && pt.x === last.x && pt.y === last.y;\n    }\n    _bindMoveAndUp(e) {\n        const events = this._events;\n        const handler = this._handler;\n        if (!isTouchEvent(e)) {\n            events.mousemove = handler.on(document.body, \"mousemove\", (e) => this._mouseMove(e));\n            events.mouseup = handler.on(document.body, \"mouseup\", (e) => this._mouseUp(e));\n        }\n        else {\n            events.touchmove = handler.on(document.body, \"touchmove\", (e) => this._mouseMove(e), { passive: false });\n            events.touchend = handler.on(document.body, \"touchend\", (e) => this._mouseUp(e));\n            events.touchcancel = handler.on(document.body, \"touchcancel\", (e) => this._mouseUp(e));\n        }\n        this._started = true;\n        this._moved = false;\n    }\n    _mouseMove(e) {\n        if (!isTouchEvent(e)) {\n            if (getMouseButtons(e) !== 1) {\n                this._mouseUp(e);\n                return;\n            }\n        }\n        this._moved = this._moveInternal(e) || this._moved /*calculation on after*/;\n        cancelEvent(e);\n    }\n    _moveInternal(_e) {\n        //protected\n        return false;\n    }\n    _mouseUp(e) {\n        const events = this._events;\n        const handler = this._handler;\n        handler.off(events.mousemove);\n        handler.off(events.touchmove);\n        handler.off(events.mouseup);\n        handler.off(events.touchend);\n        // handler.off(this._events.mouseleave);\n        handler.off(events.touchcancel);\n        this._started = false;\n        this._upInternal(e);\n        // mouseupclick\n        if (this._moved) {\n            //\n            this._mouseEndPoint = _getMouseAbstractPoint(this._grid, e);\n            setTimeout(() => {\n                this._mouseEndPoint = null;\n            }, 10);\n        }\n    }\n    _upInternal(_e) {\n        //protected\n    }\n    dispose() {\n        this._handler.dispose();\n    }\n}\n/**\n * managing cell selection operation with mouse\n * @private\n */\nclass CellSelector extends BaseMouseDownMover {\n    start(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return;\n        }\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n        this._bindMoveAndUp(e);\n        this._cell = cell;\n        cancelEvent(e);\n        _vibrate(e);\n    }\n    select(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return;\n        }\n        _moveFocusCell.call(this._grid, cell.col, cell.row, e.shiftKey);\n        this._cell = cell;\n    }\n    _moveInternal(e) {\n        const cell = this._getTargetCell(e);\n        if (!cell) {\n            return false;\n        }\n        const { col: oldCol, row: oldRow } = this._cell;\n        const { col: newCol, row: newRow } = cell;\n        if (oldCol === newCol && oldRow === newRow) {\n            return false;\n        }\n        const grid = this._grid;\n        _moveFocusCell.call(grid, newCol, newRow, true);\n        //make visible\n        const makeVisibleCol = (() => {\n            if (newCol < oldCol && 0 < newCol) {\n                // move left\n                return newCol - 1;\n            }\n            else if (oldCol < newCol && newCol + 1 < grid.colCount) {\n                // move right\n                return newCol + 1;\n            }\n            return newCol;\n        })();\n        const makeVisibleRow = (() => {\n            if (newRow < oldRow && 0 < newRow) {\n                // move up\n                return newRow - 1;\n            }\n            else if (oldRow < newRow && newRow + 1 < grid.rowCount) {\n                // move down\n                return newRow + 1;\n            }\n            return newRow;\n        })();\n        if (makeVisibleCol !== newCol || makeVisibleRow !== newRow) {\n            grid.makeVisibleCell(makeVisibleCol, makeVisibleRow);\n        }\n        this._cell = cell;\n        return true;\n    }\n    _getTargetCell(e) {\n        const grid = this._grid;\n        const abstractPos = _getMouseAbstractPoint(grid, e);\n        if (!abstractPos) {\n            return null;\n        }\n        const cell = grid.getCellAt(abstractPos.x, abstractPos.y);\n        if (cell.col < 0 || cell.row < 0) {\n            return null;\n        }\n        return cell;\n    }\n}\n/**\n * managing row width changing operation with mouse\n * @private\n */\nclass ColumnResizer extends BaseMouseDownMover {\n    constructor(grid) {\n        super(grid);\n        this._x = -1;\n        this._preX = -1;\n        this._invalidateAbsoluteLeft = -1;\n        this._targetCol = -1;\n    }\n    start(col, e) {\n        let pageX;\n        if (!isTouchEvent(e)) {\n            ({ pageX } = e);\n        }\n        else {\n            ({ pageX } = e.changedTouches[0]);\n        }\n        this._x = pageX;\n        this._preX = 0;\n        this._bindMoveAndUp(e);\n        this._targetCol = col;\n        this._invalidateAbsoluteLeft = _getColsWidth(this._grid, 0, col - 1);\n        cancelEvent(e);\n        _vibrate(e);\n    }\n    _moveInternal(e) {\n        const pageX = isTouchEvent(e) ? e.changedTouches[0].pageX : e.pageX;\n        const x = pageX - this._x;\n        const moveX = x - this._preX;\n        this._preX = x;\n        const pre = this._grid.getColWidth(this._targetCol);\n        let afterSize = _adjustColWidth(this._grid, this._targetCol, pre + moveX);\n        if (afterSize < 10 && moveX < 0) {\n            afterSize = 10;\n        }\n        _storeAutoColWidthExprs(this._grid);\n        _setColWidth(this._grid, this._targetCol, afterSize);\n        const rect = _getVisibleRect(this._grid);\n        rect.left = this._invalidateAbsoluteLeft;\n        _invalidateRect(this._grid, rect);\n        this._grid.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.RESIZE_COLUMN, {\n            col: this._targetCol,\n        });\n        return true;\n    }\n    _upInternal(_e) {\n        const grid = this._grid;\n        if (grid.updateScroll()) {\n            grid.invalidate();\n        }\n    }\n}\n/** @private */\nfunction setSafeInputValue(input, value) {\n    const { type } = input;\n    input.type = \"\";\n    input.value = value;\n    if (type) {\n        input.type = type;\n    }\n}\n/**\n * Manage focus\n * @private\n */\nclass FocusControl extends EventTarget_1.EventTarget {\n    constructor(grid, parentElement, scrollable) {\n        super();\n        this._grid = grid;\n        this._scrollable = scrollable;\n        const handler = (this._handler = new EventHandler_1.EventHandler());\n        const input = (this._input = document.createElement(\"input\"));\n        input.classList.add(\"grid-focus-control\");\n        input.readOnly = true;\n        parentElement.appendChild(input);\n        handler.on(input, \"compositionstart\", (_e) => {\n            input.classList.add(\"composition\");\n            input.style.font = grid.font || \"16px sans-serif\";\n            this._isComposition = true;\n            if (this._compositionEnd) {\n                clearTimeout(this._compositionEnd);\n                delete this._compositionEnd;\n            }\n            grid.focus();\n        });\n        let lastInputValue;\n        const inputClear = () => {\n            lastInputValue = input.value;\n            if (this._isComposition) {\n                return;\n            }\n            if (lastInputValue !== \"\") {\n                setSafeInputValue(input, \"\");\n            }\n        };\n        const handleCompositionEnd = () => {\n            this._isComposition = false;\n            input.classList.remove(\"composition\");\n            input.style.font = \"\";\n            const { value } = input;\n            inputClear();\n            if (!input.readOnly) {\n                this.fireListeners(\"input\", value);\n            }\n            if (this._compositionEnd) {\n                clearTimeout(this._compositionEnd);\n                delete this._compositionEnd;\n            }\n        };\n        handler.on(input, \"compositionend\", (_e) => {\n            this._compositionEnd = setTimeout(handleCompositionEnd, 1);\n        });\n        handler.on(input, \"keypress\", (e) => {\n            if (this._isComposition) {\n                return;\n            }\n            if (!input.readOnly && e.key && e.key.length === 1) {\n                if (e.ctrlKey || e.metaKey) {\n                    if (e.key === \"c\") {\n                        //copy! for Firefox & Safari\n                    }\n                    else if (e.key === \"v\") {\n                        //paste! for Firefox & Safari\n                    }\n                }\n                else {\n                    if (e.key === \" \") {\n                        // Since the full-width space cannot be determined, it is processed by \"input\".\n                        return;\n                    }\n                    this.fireListeners(\"input\", e.key);\n                    cancelEvent(e);\n                }\n            }\n            inputClear();\n        });\n        handler.on(input, \"keydown\", (e) => {\n            var _a;\n            if (this._isComposition) {\n                if (this._compositionEnd) {\n                    handleCompositionEnd();\n                    cancelEvent(e);\n                }\n                return;\n            }\n            const keyCode = getKeyCode(e);\n            let stopCellMove = false;\n            const evt = {\n                keyCode,\n                event: e,\n                stopCellMoving() {\n                    stopCellMove = true;\n                },\n            };\n            this.fireListeners(\"keydown\", evt);\n            if (!input.readOnly && lastInputValue) {\n                // for Safari\n                this.fireListeners(\"input\", lastInputValue);\n            }\n            if (!stopCellMove)\n                this.fireKeyDownMove(keyCode, e);\n            if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.deleteCellValueOnDel) &&\n                (keyCode === KEY_DEL || keyCode === KEY_BS)) {\n                this.fireListeners(\"delete\", e);\n            }\n            inputClear();\n        });\n        handler.on(input, \"keyup\", (_e) => {\n            if (this._isComposition) {\n                if (this._compositionEnd) {\n                    handleCompositionEnd();\n                }\n            }\n            inputClear();\n        });\n        handler.on(input, \"input\", (e) => {\n            if (e.data === \" \" || e.data === \"\") {\n                // Since the full-width space cannot be determined on \"keypress\", it is processed by \"input\".\n                this.fireListeners(\"input\", e.data);\n            }\n            inputClear();\n        });\n        if (utils_1.browser.IE) {\n            handler.on(document, \"keydown\", (e) => {\n                if (e.target !== input) {\n                    return;\n                }\n                const keyCode = getKeyCode(e);\n                if (keyCode === KEY_ALPHA_C && e.ctrlKey) {\n                    // When text is not selected copy-event is not emit, on IE.\n                    setSafeInputValue(input, \"dummy\");\n                    input.select();\n                    setTimeout(() => {\n                        setSafeInputValue(input, \"\");\n                    }, 100);\n                }\n                else if (keyCode === KEY_ALPHA_V && e.ctrlKey) {\n                    // When input is read-only paste-event is not emit, on IE.\n                    if (input.readOnly) {\n                        input.readOnly = false;\n                        setTimeout(() => {\n                            input.readOnly = true;\n                            setSafeInputValue(input, \"\");\n                        }, 10);\n                    }\n                }\n            });\n        }\n        if (utils_1.browser.Edge) {\n            handler.once(document, \"keydown\", (e) => {\n                var _a;\n                if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                    return;\n                }\n                // When the input has focus on the first page opening, the paste-event and copy-event is not emit, on Edge.\n                const dummyInput = document.createElement(\"input\");\n                grid.getElement().appendChild(dummyInput);\n                dummyInput.focus();\n                input.focus();\n                (_a = dummyInput.parentElement) === null || _a === void 0 ? void 0 : _a.removeChild(dummyInput);\n            });\n        }\n        handler.on(document, \"paste\", (e) => {\n            if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                return;\n            }\n            let pasteText = undefined;\n            if (utils_1.browser.IE) {\n                // IE\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                pasteText = window.clipboardData.getData(\"Text\");\n            }\n            else {\n                const { clipboardData } = e;\n                if (clipboardData.items) {\n                    // Chrome & Firefox & Edge\n                    pasteText = clipboardData.getData(\"text/plain\");\n                }\n                else {\n                    // Safari\n                    if (-1 !==\n                        Array.prototype.indexOf.call(clipboardData.types, \"text/plain\")) {\n                        pasteText = clipboardData.getData(\"Text\");\n                    }\n                }\n            }\n            if (pasteText != null && pasteText.length) {\n                this.fireListeners(\"paste\", { value: pasteText, event: e });\n            }\n        });\n        handler.on(document, \"copy\", (e) => {\n            if (this._isComposition) {\n                return;\n            }\n            if (!utils_1.isDescendantElement(parentElement, e.target)) {\n                return;\n            }\n            setSafeInputValue(input, \"\");\n            const data = utils_1.array.find(this.fireListeners(\"copy\"), (r) => r != null);\n            if (data != null) {\n                cancelEvent(e);\n                if (utils_1.browser.IE) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    window.clipboardData.setData(\"Text\", data); // IE\n                }\n                else {\n                    e.clipboardData.setData(\"text/plain\", data); // Chrome, Firefox\n                }\n            }\n        });\n        handler.on(input, \"focus\", (e) => {\n            this.fireListeners(\"focus\", e);\n        });\n        handler.on(input, \"blur\", (e) => {\n            this.fireListeners(\"blur\", e);\n        });\n    }\n    fireKeyDownMove(keyCode, e) {\n        var _a, _b, _c;\n        const fn = this._keyDownMoveCallback;\n        if (!fn) {\n            return;\n        }\n        if (this._isComposition) {\n            return;\n        }\n        if (keyCode === KEY_LEFT ||\n            keyCode === KEY_UP ||\n            keyCode === KEY_RIGHT ||\n            keyCode === KEY_DOWN ||\n            keyCode === KEY_HOME ||\n            keyCode === KEY_END) {\n            fn(e);\n        }\n        else if (((_a = this._grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnTab) &&\n            keyCode === KEY_TAB) {\n            fn(e);\n        }\n        else if (((_b = this._grid.keyboardOptions) === null || _b === void 0 ? void 0 : _b.moveCellOnEnter) &&\n            keyCode === KEY_ENTER) {\n            fn(e);\n        }\n        else if (((_c = this._grid.keyboardOptions) === null || _c === void 0 ? void 0 : _c.selectAllOnCtrlA) &&\n            keyCode === KEY_ALPHA_A &&\n            (e.ctrlKey || e.metaKey)) {\n            fn(e);\n        }\n    }\n    onKeyDownMove(fn) {\n        this._keyDownMoveCallback = fn;\n    }\n    onKeyDown(fn) {\n        return this.listen(\"keydown\", fn);\n    }\n    onInput(fn) {\n        return this.listen(\"input\", fn);\n    }\n    onDelete(fn) {\n        return this.listen(\"delete\", fn);\n    }\n    onCopy(fn) {\n        return this.listen(\"copy\", fn);\n    }\n    onPaste(fn) {\n        return this.listen(\"paste\", fn);\n    }\n    onFocus(fn) {\n        return this.listen(\"focus\", fn);\n    }\n    onBlur(fn) {\n        return this.listen(\"blur\", fn);\n    }\n    focus() {\n        // this._input.value = '';\n        this._input.focus();\n    }\n    setFocusRect(rect) {\n        const input = this._input;\n        const top = this._scrollable.calcTop(rect.top);\n        input.style.top = `${(top - style.getScrollBarSize()).toFixed()}px`; //position:relative IE position:relative\n        input.style.left = `${rect.left.toFixed()}px`;\n        input.style.width = `${rect.width.toFixed()}px`;\n        input.style.height = `${rect.height.toFixed()}px`;\n    }\n    get editMode() {\n        return !this._input.readOnly;\n    }\n    set editMode(editMode) {\n        this._input.readOnly = !editMode;\n    }\n    resetInputStatus() {\n        var _a;\n        const el = this._input;\n        if (!el.classList.contains(\"grid-focus-control--stored-status\")) {\n            return;\n        }\n        const composition = el.classList.contains(\"composition\");\n        const atts = el.attributes;\n        const removeNames = [];\n        for (let i = 0, n = atts.length; i < n; i++) {\n            const att = atts[i];\n            if (!((_a = this._inputStatus) === null || _a === void 0 ? void 0 : _a.hasOwnProperty(att.nodeName))) {\n                removeNames.push(att.name);\n            }\n        }\n        removeNames.forEach((removeName) => {\n            el.removeAttribute(removeName);\n        });\n        for (const name in this._inputStatus) {\n            el.setAttribute(name, this._inputStatus[name]);\n        }\n        if (composition) {\n            el.classList.add(\"composition\");\n            el.style.font = this._grid.font || \"16px sans-serif\";\n        }\n        else {\n            el.classList.remove(\"composition\");\n        }\n        el.classList.remove(\"grid-focus-control--stored-status\");\n    }\n    storeInputStatus() {\n        const el = this._input;\n        if (el.classList.contains(\"grid-focus-control--stored-status\")) {\n            return;\n        }\n        const inputStatus = (this._inputStatus = {});\n        const atts = el.attributes;\n        for (let i = 0, n = atts.length; i < n; i++) {\n            const att = atts[i];\n            inputStatus[att.name] = att.value;\n        }\n        el.classList.add(\"grid-focus-control--stored-status\");\n    }\n    setDefaultInputStatus() {\n        // \n        // this._input.style.font = this._grid.font || '16px sans-serif';\n    }\n    get input() {\n        return this._input;\n    }\n    dispose() {\n        super.dispose();\n        this._handler.dispose();\n    }\n}\n/**\n * Selected area management\n */\nclass Selection extends EventTarget_1.EventTarget {\n    constructor(grid) {\n        super();\n        this._grid = grid;\n        this._sel = { col: 0, row: 0 };\n        this._focus = { col: 0, row: 0 };\n        this._start = { col: 0, row: 0 };\n        this._end = { col: 0, row: 0 };\n    }\n    get range() {\n        const start = this._start;\n        const end = this._end;\n        const startCol = Math.min(start.col, end.col);\n        const startRow = Math.min(start.row, end.row);\n        const endCol = Math.max(start.col, end.col);\n        const endRow = Math.max(start.row, end.row);\n        return {\n            start: {\n                col: startCol,\n                row: startRow,\n            },\n            end: {\n                col: endCol,\n                row: endRow,\n            },\n        };\n    }\n    set range(range) {\n        const startCol = Math.min(range.start.col, range.end.col);\n        const startRow = Math.min(range.start.row, range.end.row);\n        const endCol = Math.max(range.start.col, range.end.col);\n        const endRow = Math.max(range.start.row, range.end.row);\n        this._wrapFireSelectedEvent(() => {\n            this._sel = {\n                col: startCol,\n                row: startRow,\n            };\n            this._focus = {\n                col: startCol,\n                row: startRow,\n            };\n            this._start = {\n                col: startCol,\n                row: startRow,\n            };\n            this._end = {\n                col: endCol,\n                row: endRow,\n            };\n            _updatedSelection.call(this._grid);\n        });\n    }\n    get focus() {\n        const { col, row } = this._focus;\n        return { col, row };\n    }\n    get select() {\n        const { col, row } = this._sel;\n        return { col, row };\n    }\n    set select(cell) {\n        this._wrapFireSelectedEvent(() => {\n            const { col = 0, row = 0 } = cell;\n            this._setSelectCell(col, row);\n            this._setFocusCell(col, row, true);\n            _updatedSelection.call(this._grid);\n        });\n    }\n    _setSelectCell(col, row) {\n        this._wrapFireSelectedEvent(() => {\n            this._sel = { col, row };\n            this._start = { col, row };\n        });\n    }\n    _setFocusCell(col, row, keepSelect) {\n        this._wrapFireSelectedEvent(() => {\n            if (!keepSelect) {\n                this._setSelectCell(col, row);\n            }\n            this._focus = { col, row };\n            this._end = { col, row };\n        });\n    }\n    _wrapFireSelectedEvent(callback) {\n        if (this._isWraped) {\n            callback();\n        }\n        else {\n            this._isWraped = true;\n            try {\n                const before = {\n                    col: this._sel.col,\n                    row: this._sel.row,\n                    selected: false,\n                    after: null,\n                };\n                callback();\n                const after = {\n                    col: this._sel.col,\n                    row: this._sel.row,\n                    selected: true,\n                    before: {\n                        col: before.col,\n                        row: before.row,\n                    },\n                };\n                before.after = {\n                    col: after.col,\n                    row: after.row,\n                };\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, before);\n                this.fireListeners(DG_EVENT_TYPE_1.DG_EVENT_TYPE.SELECTED_CELL, after);\n            }\n            finally {\n                this._isWraped = false;\n            }\n        }\n    }\n    _updateGridRange() {\n        const { rowCount, colCount } = this._grid;\n        const points = [this._sel, this._focus, this._start, this._end];\n        let needChange = false;\n        for (let i = 0; i < points.length; i++) {\n            if (colCount <= points[i].col || rowCount <= points[i].row) {\n                needChange = true;\n                break;\n            }\n        }\n        if (!needChange) {\n            return false;\n        }\n        this._wrapFireSelectedEvent(() => {\n            points.forEach((p) => {\n                p.col = Math.min(colCount - 1, p.col);\n                p.row = Math.min(rowCount - 1, p.row);\n            });\n        });\n        return true;\n    }\n}\n/**\n * This class manages the drawing process for each layer\n */\n/** @private */\nclass DrawLayers {\n    constructor() {\n        this._layers = {};\n    }\n    addDraw(level, fn) {\n        const l = this._layers[level] || (this._layers[level] = new DrawLayer(level));\n        l.addDraw(fn);\n    }\n    draw(ctx) {\n        const list = [];\n        for (const k in this._layers) {\n            list.push(this._layers[k]);\n        }\n        list.sort((a, b) => a.level - b.level);\n        list.forEach((l) => l.draw(ctx));\n    }\n}\n/** @private */\nclass DrawLayer {\n    constructor(level) {\n        this._level = level;\n        this._list = [];\n    }\n    get level() {\n        return this._level;\n    }\n    addDraw(fn) {\n        this._list.push(fn);\n    }\n    draw(ctx) {\n        this._list.forEach((fn) => {\n            ctx.save();\n            try {\n                fn(ctx);\n            }\n            finally {\n                ctx.restore();\n            }\n        });\n    }\n}\n/**\n * Context of cell drawing\n * @private\n */\nclass DrawCellContext {\n    //  private _grid: any;\n    //  private _onTerminate: any;\n    /**\n     * constructor\n     * @param {number} col index of column\n     * @param {number} row index of row\n     * @param {CanvasRenderingContext2D} ctx context\n     * @param {Rect} rect rect of cell area\n     * @param {Rect} drawRect rect of drawing area\n     * @param {boolean} drawing `true` if drawing is in progress\n     * @param {object} selection the selection\n     * @param {Array} drawLayers array of draw layers\n     * @private\n     */\n    constructor(col, row, ctx, rect, drawRect, drawing, selection, drawLayers) {\n        this._rectFilter = null;\n        this._col = col;\n        this._row = row;\n        this._mode = 0;\n        this._ctx = ctx;\n        this._rect = rect;\n        this._drawRect = drawRect;\n        this._drawing = drawing;\n        this._selection = selection;\n        this._drawLayers = drawLayers;\n        this._childContexts = [];\n    }\n    get drawing() {\n        if (this._mode === 0) {\n            return this._drawing;\n        }\n        else {\n            return true;\n        }\n    }\n    get row() {\n        return this._row;\n    }\n    get col() {\n        return this._col;\n    }\n    cancel() {\n        this._cancel = true;\n        this._childContexts.forEach((ctx) => {\n            ctx.cancel();\n        });\n    }\n    /**\n     * select status.\n     * @return {object} select status\n     */\n    getSelection() {\n        return {\n            select: this._selection.select,\n            range: this._selection.range,\n        };\n    }\n    /**\n     * Canvas context.\n     * @return {CanvasRenderingContext2D} Canvas context.\n     */\n    getContext() {\n        if (this._mode === 0) {\n            return this._ctx;\n        }\n        else {\n            return _getInitContext.call(this._grid);\n        }\n    }\n    /**\n     * Rectangle of cell.\n     * @return {Rect} rect Rectangle of cell.\n     */\n    getRect() {\n        const rectFilter = this._rectFilter;\n        return rectFilter\n            ? rectFilter(this._getRectInternal())\n            : this._getRectInternal();\n    }\n    setRectFilter(rectFilter) {\n        this._rectFilter = rectFilter;\n    }\n    /**\n     * Rectangle of Drawing range.\n     * @return {Rect} Rectangle of Drawing range.\n     */\n    getDrawRect() {\n        if (this._cancel) {\n            return null;\n        }\n        if (this._mode === 0) {\n            return this._drawRect;\n        }\n        else {\n            if (this._isOutOfRange()) {\n                return null;\n            }\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\n            return this._toRelativeDrawRect(absoluteRect);\n        }\n    }\n    _isOutOfRange() {\n        const { colCount, rowCount } = this._grid;\n        return colCount <= this._col || rowCount <= this._row;\n    }\n    /**\n     * get Context of current state\n     * @return {DrawCellContext} current DrawCellContext.\n     */\n    toCurrentContext() {\n        if (this._mode === 0) {\n            return this;\n        }\n        else {\n            const absoluteRect = this._grid.getCellRect(this._col, this._row);\n            const rect = _toRelativeRect(this._grid, absoluteRect);\n            const drawRect = this._isOutOfRange()\n                ? null\n                : this._toRelativeDrawRect(absoluteRect);\n            const context = new DrawCellContext(this._col, this._row, this.getContext(), rect, drawRect, this.drawing, this._selection, this._drawLayers);\n            // toCurrentContext  toCurrentContext\n            context.toCurrentContext = this.toCurrentContext.bind(this);\n            this._childContexts.push(context);\n            if (this._cancel) {\n                context.cancel();\n            }\n            context._rectFilter = this._rectFilter;\n            return context;\n        }\n    }\n    addLayerDraw(level, fn) {\n        this._drawLayers.addDraw(level, fn);\n    }\n    _toRelativeDrawRect(absoluteRect) {\n        const visibleRect = _getVisibleRect(this._grid);\n        let rect = absoluteRect.copy();\n        if (!rect.intersection(visibleRect)) {\n            return null;\n        }\n        const grid = this._grid;\n        const isFrozenCell = grid.isFrozenCell(this._col, this._row);\n        if (grid.frozenColCount >= 0 && (!isFrozenCell || !isFrozenCell.col)) {\n            const fRect = grid.getCellRect(grid.frozenColCount - 1, this._row);\n            rect = Rect_1.Rect.bounds(Math.max(rect.left, fRect.right), rect.top, rect.right, rect.bottom);\n        }\n        if (grid.frozenRowCount >= 0 && (!isFrozenCell || !isFrozenCell.row)) {\n            const fRect = grid.getCellRect(this._col, grid.frozenRowCount - 1);\n            rect = Rect_1.Rect.bounds(rect.left, Math.max(rect.top, fRect.bottom), rect.right, rect.bottom);\n        }\n        if (!rect.intersection(visibleRect)) {\n            return null;\n        }\n        rect.offsetLeft(-visibleRect.left);\n        rect.offsetTop(-visibleRect.top);\n        return rect;\n    }\n    _delayMode(grid, onTerminate) {\n        this._mode = 1;\n        this._ctx = null;\n        this._rect = null;\n        this._drawRect = null;\n        this._grid = grid;\n        this._onTerminate = onTerminate;\n    }\n    /**\n     * terminate\n     * @return {void}\n     */\n    terminate() {\n        var _a;\n        if (this._mode !== 0) {\n            (_a = this._onTerminate) === null || _a === void 0 ? void 0 : _a.call(this);\n        }\n    }\n    _getRectInternal() {\n        if (this._mode === 0) {\n            return this._rect;\n        }\n        else {\n            if (this._rect) {\n                return this._rect;\n            }\n            return this._grid.getCellRelativeRect(this._col, this._row);\n        }\n    }\n}\n/** @private */\nconst protectedKey = _;\n/**\n * DrawGrid\n * @classdesc cheetahGrid.core.DrawGrid\n * @memberof cheetahGrid.core\n */\nclass DrawGrid extends EventTarget_1.EventTarget {\n    constructor(options = {}) {\n        super();\n        const { rowCount = 10, colCount = 10, frozenColCount = 0, frozenRowCount = 0, defaultRowHeight = 40, defaultColWidth = 80, font, underlayBackgroundColor, keyboardOptions, parentElement, disableColumnResize, } = options;\n        const protectedSpace = (this[_] = {});\n        style.initDocument();\n        protectedSpace.element = createRootElement();\n        protectedSpace.scrollable = new Scrollable_1.Scrollable();\n        protectedSpace.handler = new EventHandler_1.EventHandler();\n        protectedSpace.selection = new Selection(this);\n        protectedSpace.focusControl = new FocusControl(this, protectedSpace.scrollable.getElement(), protectedSpace.scrollable);\n        protectedSpace.canvas = hiDPI.transform(document.createElement(\"canvas\"));\n        protectedSpace.context = protectedSpace.canvas.getContext(\"2d\", {\n            alpha: false,\n        });\n        protectedSpace.rowCount = rowCount;\n        protectedSpace.colCount = colCount;\n        protectedSpace.frozenColCount = frozenColCount;\n        protectedSpace.frozenRowCount = frozenRowCount;\n        protectedSpace.defaultRowHeight = defaultRowHeight;\n        protectedSpace.defaultColWidth = defaultColWidth;\n        protectedSpace.font = font;\n        protectedSpace.underlayBackgroundColor = underlayBackgroundColor;\n        protectedSpace.keyboardOptions = keyboardOptions;\n        protectedSpace.disableColumnResize = disableColumnResize;\n        /////\n        protectedSpace.rowHeightsMap = new NumberMap_1.NumberMap();\n        protectedSpace.colWidthsMap = new NumberMap_1.NumberMap();\n        protectedSpace.colWidthsLimit = {};\n        protectedSpace.calcWidthContext = {\n            _: protectedSpace,\n            get full() {\n                return this._.canvas.width;\n            },\n            get em() {\n                return canvases_1.getFontSize(this._.context, this._.font).width;\n            },\n        };\n        protectedSpace.columnResizer = new ColumnResizer(this);\n        protectedSpace.cellSelector = new CellSelector(this);\n        protectedSpace.drawCells = {};\n        protectedSpace.cellTextOverflows = {};\n        protectedSpace.focusedGrid = false;\n        protectedSpace.element.appendChild(protectedSpace.canvas);\n        protectedSpace.element.appendChild(protectedSpace.scrollable.getElement());\n        protectedSpace.scroll = {\n            left: 0,\n            top: 0,\n        };\n        this.updateScroll();\n        if (parentElement) {\n            parentElement.appendChild(protectedSpace.element);\n            this.updateSize();\n        }\n        else {\n            this.updateSize();\n        }\n        _bindEvents.call(this);\n        this.bindEventsInternal();\n    }\n    static get EVENT_TYPE() {\n        return DG_EVENT_TYPE_1.DG_EVENT_TYPE;\n    }\n    /**\n     * Get root element.\n     * @returns {HTMLElement} root element\n     */\n    getElement() {\n        return this[_].element;\n    }\n    /**\n     * Get canvas element.\n     */\n    get canvas() {\n        return this[_].canvas;\n    }\n    /**\n     * Focus the grid.\n     * @return {void}\n     */\n    focus() {\n        const { col, row } = this[_].selection.select;\n        this.focusCell(col, row);\n    }\n    hasFocusGrid() {\n        return this[_].focusedGrid;\n    }\n    /**\n     * Get the selection instance.\n     */\n    get selection() {\n        return this[_].selection;\n    }\n    /**\n     * Get the number of rows.\n     */\n    get rowCount() {\n        return this[_].rowCount;\n    }\n    /**\n     * Set the number of rows.\n     */\n    set rowCount(rowCount) {\n        this[_].rowCount = rowCount;\n        this.updateScroll();\n        if (this[_].selection._updateGridRange()) {\n            const { col, row } = this[_].selection.focus;\n            this.makeVisibleCell(col, row);\n            this.setFocusCursor(col, row);\n        }\n    }\n    /**\n     * Get the number of columns.\n     */\n    get colCount() {\n        return this[_].colCount;\n    }\n    /**\n     * Set the number of columns.\n     */\n    set colCount(colCount) {\n        this[_].colCount = colCount;\n        this.updateScroll();\n        if (this[_].selection._updateGridRange()) {\n            const { col, row } = this[_].selection.focus;\n            this.makeVisibleCell(col, row);\n            this.setFocusCursor(col, row);\n        }\n    }\n    /**\n     * Get the number of frozen columns.\n     */\n    get frozenColCount() {\n        return this[_].frozenColCount;\n    }\n    /**\n     * Set the number of frozen columns.\n     */\n    set frozenColCount(frozenColCount) {\n        this[_].frozenColCount = frozenColCount;\n    }\n    /**\n     * Get the number of frozen rows.\n     */\n    get frozenRowCount() {\n        return this[_].frozenRowCount;\n    }\n    /**\n     * Set the number of frozen rows.\n     */\n    set frozenRowCount(frozenRowCount) {\n        this[_].frozenRowCount = frozenRowCount;\n    }\n    /**\n     * Get the default row height.\n     *\n     */\n    get defaultRowHeight() {\n        return this[_].defaultRowHeight;\n    }\n    /**\n     * Set the default row height.\n     */\n    set defaultRowHeight(defaultRowHeight) {\n        this[_].defaultRowHeight = defaultRowHeight;\n    }\n    /**\n     * Get the default column width.\n     */\n    get defaultColWidth() {\n        return this[_].defaultColWidth;\n    }\n    /**\n     * Set the default column width.\n     */\n    set defaultColWidth(defaultColWidth) {\n        this[_].defaultColWidth = defaultColWidth;\n    }\n    /**\n     * Get the font definition as a string.\n     */\n    get font() {\n        return this[_].font;\n    }\n    /**\n     * Set the font definition with the given string.\n     */\n    set font(font) {\n        this[_].font = font;\n    }\n    /**\n     * Get the background color of the underlay.\n     */\n    get underlayBackgroundColor() {\n        return this[_].underlayBackgroundColor;\n    }\n    /**\n     * Set the background color of the underlay.\n     */\n    set underlayBackgroundColor(underlayBackgroundColor) {\n        this[_].underlayBackgroundColor = underlayBackgroundColor;\n    }\n    get keyboardOptions() {\n        var _a;\n        return (_a = this[_].keyboardOptions) !== null && _a !== void 0 ? _a : null;\n    }\n    set keyboardOptions(keyboardOptions) {\n        this[_].keyboardOptions = keyboardOptions !== null && keyboardOptions !== void 0 ? keyboardOptions : undefined;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    configure(name, value) {\n        const cfg = this[_].config || (this[_].config = {});\n        if (value != null) {\n            cfg[name] = value;\n        }\n        return cfg[name];\n    }\n    /**\n     * Apply the changed size.\n     * @return {void}\n     */\n    updateSize() {\n        //\n        const { canvas } = this[_];\n        canvas.style.width = \"\";\n        canvas.style.height = \"\";\n        const width = Math.floor(canvas.offsetWidth ||\n            canvas.parentElement.offsetWidth -\n                style.getScrollBarSize() /*for legacy*/);\n        const height = Math.floor(canvas.offsetHeight ||\n            canvas.parentElement.offsetHeight -\n                style.getScrollBarSize() /*for legacy*/);\n        canvas.width = width;\n        canvas.height = height;\n        //style\n        canvas.style.width = `${width}px`;\n        canvas.style.height = `${height}px`;\n        const sel = this[_].selection.select;\n        this[_].focusControl.setFocusRect(this.getCellRect(sel.col, sel.row));\n    }\n    /**\n     * Apply the changed scroll size.\n     * @return {boolean} `true` if there was a change in the scroll size\n     */\n    updateScroll() {\n        const { scrollable } = this[_];\n        const newHeight = _getScrollHeight.call(this);\n        const newWidth = _getScrollWidth(this);\n        if (newHeight === scrollable.scrollHeight &&\n            newWidth === scrollable.scrollWidth) {\n            return false;\n        }\n        scrollable.setScrollSize(newWidth, newHeight);\n        this[_].scroll = {\n            left: scrollable.scrollLeft,\n            top: scrollable.scrollTop,\n        };\n        return true;\n    }\n    /**\n     * Get the row height of the given the row index.\n     * @param  {number} row The row index\n     * @return {number} The row height\n     */\n    getRowHeight(row) {\n        return _getRowHeight.call(this, row);\n    }\n    /**\n     * Set the row height of the given the row index.\n     * @param  {number} row The row index\n     * @param  {number} height The row height\n     * @return {void}\n     */\n    setRowHeight(row, height) {\n        _setRowHeight(this, row, height);\n    }\n    /**\n     * Get the column width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column width\n     */\n    getColWidth(col) {\n        return _getColWidth(this, col);\n    }\n    /**\n     * Set the column widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} width The column width\n     * @return {void}\n     */\n    setColWidth(col, width) {\n        _setColWidth(this, col, width);\n    }\n    /**\n     * Get the column max width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column max width\n     */\n    getMaxColWidth(col) {\n        const obj = this[_].colWidthsLimit[col];\n        return (obj && obj.max) || undefined;\n    }\n    /**\n     * Set the column max widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} maxwidth The column max width\n     * @return {void}\n     */\n    setMaxColWidth(col, maxwidth) {\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n        obj.max = maxwidth;\n    }\n    /**\n     * Get the column min width of the given the column index.\n     * @param  {number} col The column index\n     * @return {number} The column min width\n     */\n    getMinColWidth(col) {\n        const obj = this[_].colWidthsLimit[col];\n        return (obj && obj.min) || undefined;\n    }\n    /**\n     * Set the column min widtht of the given the column index.\n     * @param  {number} col The column index\n     * @param  {number} minwidth The column min width\n     * @return {void}\n     */\n    setMinColWidth(col, minwidth) {\n        const obj = this[_].colWidthsLimit[col] || (this[_].colWidthsLimit[col] = {});\n        obj.min = minwidth;\n    }\n    /**\n     * Get the rect of the cell.\n     * @param {number} col index of column, of the cell\n     * @param {number} row index of row, of the cell\n     * @returns {Rect} the rect of the cell.\n     */\n    getCellRect(col, row) {\n        const isFrozenCell = this.isFrozenCell(col, row);\n        let absoluteLeft = _getColsWidth(this, 0, col - 1);\n        const width = _getColWidth(this, col);\n        if (isFrozenCell && isFrozenCell.col) {\n            absoluteLeft += this[_].scroll.left;\n        }\n        let absoluteTop = _getRowsHeight.call(this, 0, row - 1);\n        const height = _getRowHeight.call(this, row);\n        if (isFrozenCell && isFrozenCell.row) {\n            absoluteTop += this[_].scroll.top;\n        }\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n    }\n    /**\n     * Get the relative rectangle of the cell.\n     * @param {number} col index of column, of the cell\n     * @param {number} row index of row, of the cell\n     * @returns {Rect} the rect of the cell.\n     */\n    getCellRelativeRect(col, row) {\n        return _toRelativeRect(this, this.getCellRect(col, row));\n    }\n    /**\n     * Get the rectangle of the cells area.\n     * @param {number} startCol index of the starting column, of the cell\n     * @param {number} startRow index of the starting row, of the cell\n     * @param {number} endCol index of the ending column, of the cell\n     * @param {number} endRow index of the ending row, of the cell\n     * @returns {Rect} the rect of the cells.\n     */\n    getCellsRect(startCol, startRow, endCol, endRow) {\n        const isFrozenStartCell = this.isFrozenCell(startCol, startRow);\n        const isFrozenEndCell = this.isFrozenCell(endCol, endRow);\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n        let width = _getColsWidth(this, startCol, endCol);\n        if (isFrozenStartCell && isFrozenStartCell.col) {\n            const scrollLeft = this[_].scroll.left;\n            absoluteLeft += scrollLeft;\n            if (!isFrozenEndCell || !isFrozenEndCell.col) {\n                width -= scrollLeft;\n                width = Math.max(width, _getColsWidth(this, startCol, this.frozenColCount - 1));\n            }\n        }\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n        let height = _getRowsHeight.call(this, startRow, endRow);\n        if (isFrozenStartCell && isFrozenStartCell.row) {\n            const scrollTop = this[_].scroll.top;\n            absoluteTop += scrollTop;\n            if (!isFrozenEndCell || !isFrozenEndCell.row) {\n                height -= scrollTop;\n                height = Math.max(height, _getColsWidth(this, startRow, this.frozenRowCount - 1));\n            }\n        }\n        return new Rect_1.Rect(absoluteLeft, absoluteTop, width, height);\n    }\n    getCellRangeRect(range) {\n        return this.getCellsRect(range.start.col, range.start.row, range.end.col, range.end.row);\n    }\n    isFrozenCell(col, row) {\n        const { frozenRowCount, frozenColCount } = this[_];\n        const isFrozenRow = frozenRowCount > 0 && row < frozenRowCount;\n        const isFrozenCol = frozenColCount > 0 && col < frozenColCount;\n        if (isFrozenRow || isFrozenCol) {\n            return {\n                row: isFrozenRow,\n                col: isFrozenCol,\n            };\n        }\n        else {\n            return null;\n        }\n    }\n    getRowAt(absoluteY) {\n        const frozen = _getTargetFrozenRowAt(this, absoluteY);\n        if (frozen) {\n            return frozen.row;\n        }\n        const row = _getTargetRowAt.call(this, absoluteY);\n        return row ? row.row : -1;\n    }\n    getColAt(absoluteX) {\n        const frozen = _getTargetFrozenColAt(this, absoluteX);\n        if (frozen) {\n            return frozen.col;\n        }\n        const col = _getTargetColAt(this, absoluteX);\n        return col ? col.col : -1;\n    }\n    getCellAt(absoluteX, absoluteY) {\n        return {\n            row: this.getRowAt(absoluteY),\n            col: this.getColAt(absoluteX),\n        };\n    }\n    /**\n     * Scroll to where cell is visible.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    makeVisibleCell(col, row) {\n        const isFrozenCell = this.isFrozenCell(col, row);\n        if (isFrozenCell && isFrozenCell.col && isFrozenCell.row) {\n            return;\n        }\n        const rect = this.getCellRect(col, row);\n        const visibleRect = _getScrollableVisibleRect(this);\n        if (visibleRect.contains(rect)) {\n            return;\n        }\n        const { scrollable } = this[_];\n        if (!isFrozenCell || !isFrozenCell.col) {\n            if (rect.left < visibleRect.left) {\n                scrollable.scrollLeft -= visibleRect.left - rect.left;\n            }\n            else if (visibleRect.right < rect.right) {\n                scrollable.scrollLeft -= visibleRect.right - rect.right;\n            }\n        }\n        if (!isFrozenCell || !isFrozenCell.row) {\n            if (rect.top < visibleRect.top) {\n                scrollable.scrollTop -= visibleRect.top - rect.top;\n            }\n            else if (visibleRect.bottom < rect.bottom) {\n                scrollable.scrollTop -= visibleRect.bottom - rect.bottom;\n            }\n        }\n    }\n    /**\n     * Moves the focus cursor to the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    setFocusCursor(col, row) {\n        const { focusControl } = this[_];\n        const oldEditMode = focusControl.editMode;\n        focusControl.setFocusRect(this.getCellRect(col, row));\n        _updatedSelection.call(this);\n        if (oldEditMode && !focusControl.editMode) {\n            focusControl.resetInputStatus();\n        }\n    }\n    /**\n     * Focus the cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {void}\n     */\n    focusCell(col, row) {\n        this.setFocusCursor(col, row);\n        // Failure occurs in IE if focus is not last\n        this[_].focusControl.focus();\n    }\n    /**\n     * Redraws the range of the given cell.\n     * @param  {number} col The column index of cell.\n     * @param  {number} row The row index of cell.\n     * @return {void}\n     */\n    invalidateCell(col, row) {\n        this.invalidateGridRect(col, row);\n    }\n    /**\n     * Redraws the range of the given cells.\n     * @param {number} startCol index of the starting column, of the cell\n     * @param {number} startRow index of the starting row, of the cell\n     * @param {number} endCol index of the ending column, of the cell\n     * @param {number} endRow index of the ending row, of the cell\n     * @return {void}\n     */\n    invalidateGridRect(startCol, startRow, endCol = startCol, endRow = startRow) {\n        const offset = this.getOffsetInvalidateCells();\n        if (offset > 0) {\n            startCol -= offset;\n            startRow -= offset;\n            endCol += offset;\n            endRow += offset;\n        }\n        const visibleRect = _getVisibleRect(this);\n        const cellsRect = this.getCellsRect(startCol, startRow, endCol, endRow);\n        const invalidateTarget = visibleRect.intersection(cellsRect);\n        if (invalidateTarget) {\n            const { frozenColCount, frozenRowCount } = this[_];\n            if (frozenColCount > 0 && endCol >= frozenColCount) {\n                const frozenRect = _getFrozenColsRect(this);\n                if (frozenRect.intersection(invalidateTarget)) {\n                    invalidateTarget.left = Math.min(frozenRect.right - 1, invalidateTarget.left);\n                }\n            }\n            if (frozenRowCount > 0 && endRow >= frozenRowCount) {\n                const frozenRect = _getFrozenRowsRect(this);\n                if (frozenRect.intersection(invalidateTarget)) {\n                    invalidateTarget.top = Math.min(frozenRect.bottom - 1, invalidateTarget.top);\n                }\n            }\n            _invalidateRect(this, invalidateTarget);\n        }\n    }\n    invalidateCellRange(range) {\n        this.invalidateGridRect(range.start.col, range.start.row, range.end.col, range.end.row);\n    }\n    /**\n     * Redraws the whole grid.\n     * @return {void}\n     */\n    invalidate() {\n        const visibleRect = _getVisibleRect(this);\n        _invalidateRect(this, visibleRect);\n    }\n    /**\n     * Get the number of scrollable rows fully visible in the grid. visibleRowCount does not include the frozen rows counted by the frozenRowCount property. It does not include any partially visible rows on the bottom of the grid.\n     * @returns {number}\n     */\n    get visibleRowCount() {\n        const { frozenRowCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleTop = frozenRowCount > 0\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\n            : visibleRect.top;\n        const initRow = _getTargetRowAt.call(this, visibleTop);\n        if (!initRow) {\n            return 0;\n        }\n        const startRow = Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n        let absoluteTop = _getRowsHeight.call(this, 0, startRow - 1);\n        let count = 0;\n        const { rowCount } = this;\n        for (let row = startRow; row < rowCount; row++) {\n            const height = _getRowHeight.call(this, row);\n            const bottom = absoluteTop + height;\n            if (visibleRect.bottom < bottom) {\n                break;\n            }\n            count++;\n            absoluteTop = bottom;\n        }\n        return count;\n    }\n    /**\n     * Get the number of scrollable columns fully visible in the grid. visibleColCount does not include the frozen columns counted by the frozenColCount property. It does not include any partially visible columns on the right of the grid.\n     * @returns {number}\n     */\n    get visibleColCount() {\n        const { frozenColCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleLeft = frozenColCount > 0\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\n            : visibleRect.left;\n        const initCol = _getTargetColAt(this, visibleLeft);\n        if (!initCol) {\n            return 0;\n        }\n        const startCol = Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n        let absoluteLeft = _getColsWidth(this, 0, startCol - 1);\n        let count = 0;\n        const { colCount } = this;\n        for (let col = startCol; col < colCount; col++) {\n            const width = _getColWidth(this, col);\n            const right = absoluteLeft + width;\n            if (visibleRect.right < right) {\n                break;\n            }\n            count++;\n            absoluteLeft = right;\n        }\n        return count;\n    }\n    /**\n     * Get the index of the first row in the scrollable region that is visible.\n     * @returns {number}\n     */\n    get topRow() {\n        const { frozenRowCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleTop = frozenRowCount > 0\n            ? visibleRect.top + _getRowsHeight.call(this, 0, frozenRowCount - 1)\n            : visibleRect.top;\n        const initRow = _getTargetRowAt.call(this, visibleTop);\n        if (!initRow) {\n            return 0;\n        }\n        return Math.max(initRow.top >= visibleTop ? initRow.row : initRow.row + 1, frozenRowCount);\n    }\n    /**\n     * Get the index of the first column in the scrollable region that is visible.\n     * @returns {number}\n     */\n    get leftCol() {\n        const { frozenColCount } = this;\n        const visibleRect = _getVisibleRect(this);\n        const visibleLeft = frozenColCount > 0\n            ? visibleRect.left + _getColsWidth(this, 0, frozenColCount - 1)\n            : visibleRect.left;\n        const initCol = _getTargetColAt(this, visibleLeft);\n        if (!initCol) {\n            return 0;\n        }\n        return Math.max(initCol.left >= visibleLeft ? initCol.col : initCol.col + 1, frozenColCount);\n    }\n    /**\n     * gets or sets the number of pixels that an element's content is scrolled vertically\n     */\n    get scrollTop() {\n        return this[_].scrollable.scrollTop;\n    }\n    set scrollTop(scrollTop) {\n        this[_].scrollable.scrollTop = scrollTop;\n    }\n    /**\n     * gets or sets the number of pixels that an element's content is scrolled from its left edge\n     */\n    get scrollLeft() {\n        return this[_].scrollable.scrollLeft;\n    }\n    set scrollLeft(scrollLeft) {\n        this[_].scrollable.scrollLeft = scrollLeft;\n    }\n    /**\n     * Get the value of cell with the copy action.\n     * <p>\n     * Please implement\n     * </p>\n     *\n     * @protected\n     * @param col Column index of cell.\n     * @param row Row index of cell.\n     * @param range Copy range.\n     * @return {string} the value of cell\n     */\n    getCopyCellValue(_col, _row, _range) {\n        //Please implement get cell value!!\n    }\n    /**\n     * Get the overflowed text in the cell rectangle, from the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @return {string | null} The text overflowing the cell rect.\n     */\n    getCellOverflowText(col, row) {\n        const key = `${col}:${row}`;\n        return this[_].cellTextOverflows[key] || null;\n    }\n    /**\n     * Set the overflowed text in the cell rectangle, to the given cell.\n     * @param  {number} col The column index.\n     * @param  {number} row The row index\n     * @param  {string} overflowText The overflowed text in the cell rectangle.\n     * @return {void}\n     */\n    setCellOverflowText(col, row, overflowText) {\n        const key = `${col}:${row}`;\n        if (overflowText) {\n            this[_].cellTextOverflows[key] =\n                typeof overflowText === \"string\" ? overflowText.trim() : overflowText;\n        }\n        else {\n            delete this[_].cellTextOverflows[key];\n        }\n    }\n    addDisposable(disposable) {\n        if (!disposable ||\n            !disposable.dispose ||\n            typeof disposable.dispose !== \"function\") {\n            throw new Error(\"not disposable!\");\n        }\n        const disposables = (this[_].disposables = this[_].disposables || []);\n        disposables.push(disposable);\n    }\n    /**\n     * Dispose the grid instance.\n     * @returns {void}\n     */\n    dispose() {\n        super.dispose();\n        const protectedSpace = this[_];\n        protectedSpace.handler.dispose();\n        protectedSpace.scrollable.dispose();\n        protectedSpace.focusControl.dispose();\n        protectedSpace.columnResizer.dispose();\n        protectedSpace.cellSelector.dispose();\n        if (protectedSpace.disposables) {\n            protectedSpace.disposables.forEach((disposable) => disposable.dispose());\n            protectedSpace.disposables = null;\n        }\n        const { parentElement } = protectedSpace.element;\n        if (parentElement) {\n            parentElement.removeChild(protectedSpace.element);\n        }\n    }\n    getAttachCellsArea(range) {\n        return {\n            element: this.getElement(),\n            rect: _toRelativeRect(this, this.getCellRangeRect(range)),\n        };\n    }\n    onKeyDownMove(evt) {\n        _onKeyDownMove.call(this, evt);\n    }\n    bindEventsInternal() {\n        //nop\n    }\n    getTargetRowAtInternal(_absoluteY) {\n        // \n    }\n    getRowsHeightInternal(_startRow, _endRow) {\n        // \n    }\n    getRowHeightInternal(_row) {\n        // \n    }\n    getScrollHeightInternal(_row) {\n        // \n    }\n    getMoveLeftColByKeyDownInternal({ col }) {\n        return col - 1;\n    }\n    getMoveRightColByKeyDownInternal({ col }) {\n        return col + 1;\n    }\n    getMoveUpRowByKeyDownInternal({ row }) {\n        return row - 1;\n    }\n    getMoveDownRowByKeyDownInternal({ row }) {\n        return row + 1;\n    }\n    getOffsetInvalidateCells() {\n        return 0;\n    }\n    getCopyRangeInternal(range) {\n        return range;\n    }\n    _getInitContext() {\n        const ctx = this[_].context;\n        //\n        ctx.fillStyle = \"white\";\n        ctx.strokeStyle = \"black\";\n        ctx.textAlign = \"left\";\n        ctx.textBaseline = \"top\";\n        ctx.lineWidth = 1;\n        ctx.font = this.font || \"16px sans-serif\";\n        return ctx;\n    }\n    fireListeners(type, ...event) {\n        return super.fireListeners(type, ...event);\n    }\n}\nexports.DrawGrid = DrawGrid;\n","\"use strict\";\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventTarget = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst symbolManager_1 = require(\"../internal/symbolManager\");\n//private symbol\n/** @private */\nconst _ = symbolManager_1.get();\n/** @private */\nlet nextId = 1;\n/**\n * event target.\n */\nclass EventTarget {\n    constructor() {\n        this[_a] = {\n            listeners: {},\n            listenerData: {},\n        };\n    }\n    /**\n     * Adds an event listener.\n     * @param  {string} type The event type id.\n     * @param  {function} listener Callback method.\n     * @return {number} unique id for the listener.\n     */\n    listen(type, listener) {\n        const list = this[_].listeners[type] || (this[_].listeners[type] = []);\n        list.push(listener);\n        const id = nextId++;\n        this[_].listenerData[id] = {\n            type,\n            listener,\n            remove: () => {\n                delete this[_].listenerData[id];\n                const index = list.indexOf(listener);\n                list.splice(index, 1);\n                if (!this[_].listeners[type].length) {\n                    delete this[_].listeners[type];\n                }\n            },\n        };\n        return id;\n    }\n    /**\n     * Removes an event listener which was added with listen() by the id returned by listen().\n     * @param  {number} id the id returned by listen().\n     * @return {void}\n     */\n    unlisten(id) {\n        if (!this[_]) {\n            return;\n        }\n        this[_].listenerData[id].remove();\n    }\n    addEventListener(type, listener) {\n        this.listen(type, listener);\n    }\n    removeEventListener(type, listener) {\n        if (!this[_]) {\n            return;\n        }\n        utils_1.each(this[_].listenerData, (obj, id) => {\n            if (obj.type === type && obj.listener === listener) {\n                this.unlisten(id);\n            }\n        });\n    }\n    hasListeners(type) {\n        if (!this[_]) {\n            return false;\n        }\n        return !!this[_].listeners[type];\n    }\n    /**\n     * Fires all registered listeners\n     * @param  {string}    type The type of the listeners to fire.\n     * @param  {...*} args fire arguments\n     * @return {*} the result of the last listener\n     */\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    fireListeners(type, ...args) {\n        if (!this[_]) {\n            return [];\n        }\n        const list = this[_].listeners[type];\n        if (!list) {\n            return [];\n        }\n        return list\n            .map((listener) => listener.call(this, ...args))\n            .filter((r) => r != null);\n    }\n    dispose() {\n        delete this[_];\n    }\n}\nexports.EventTarget = EventTarget;\n_a = _;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterDataSource = exports.CachedDataSource = exports.DataSource = void 0;\nconst DataSource_1 = require(\"./data/DataSource\");\nObject.defineProperty(exports, \"DataSource\", { enumerable: true, get: function () { return DataSource_1.DataSource; } });\nconst CachedDataSource_1 = require(\"./data/CachedDataSource\");\nObject.defineProperty(exports, \"CachedDataSource\", { enumerable: true, get: function () { return CachedDataSource_1.CachedDataSource; } });\nconst FilterDataSource_1 = require(\"./data/FilterDataSource\");\nObject.defineProperty(exports, \"FilterDataSource\", { enumerable: true, get: function () { return FilterDataSource_1.FilterDataSource; } });\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CachedDataSource = void 0;\nconst DataSource_1 = require(\"./DataSource\");\n/** @private */\nfunction _setFieldCache(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfCache, index, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    const recCache = fCache[index] || (fCache[index] = new Map());\n    recCache.set(field, value);\n}\n/**\n * grid data source for caching Promise data\n *\n * @classdesc cheetahGrid.data.CachedDataSource\n * @memberof cheetahGrid.data\n */\nclass CachedDataSource extends DataSource_1.DataSource {\n    constructor(opt) {\n        super(opt);\n        this._rCache = {};\n        this._fCache = {};\n    }\n    static get EVENT_TYPE() {\n        return DataSource_1.DataSource.EVENT_TYPE;\n    }\n    static ofArray(array) {\n        return new CachedDataSource({\n            get: (index) => array[index],\n            length: array.length,\n            source: array,\n        });\n    }\n    getOriginal(index) {\n        if (this._rCache && this._rCache[index]) {\n            return this._rCache[index];\n        }\n        return super.getOriginal(index);\n    }\n    getOriginalField(index, field) {\n        const rowCache = this._fCache && this._fCache[index];\n        if (rowCache) {\n            const cache = rowCache.get(field);\n            if (cache) {\n                return cache;\n            }\n        }\n        return super.getOriginalField(index, field);\n    }\n    setOriginalField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        const fCache = this._fCache;\n        if (fCache && fCache[index]) {\n            delete fCache[index]; // clear row cache\n        }\n        return super.setOriginalField(index, field, value);\n    }\n    clearCache() {\n        if (this._rCache) {\n            this._rCache = {};\n        }\n        if (this._fCache) {\n            this._fCache = {};\n        }\n    }\n    fieldPromiseCallBackInternal(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        _setFieldCache(this._fCache, index, field, value);\n    }\n    recordPromiseCallBackInternal(index, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    record) {\n        this._rCache[index] = record;\n    }\n    dispose() {\n        super.dispose();\n    }\n}\nexports.CachedDataSource = CachedDataSource;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DataSource = void 0;\nconst sort = __importStar(require(\"../internal/sort\"));\nconst utils_1 = require(\"../internal/utils\");\nconst EventTarget_1 = require(\"../core/EventTarget\");\n/** @private */\nfunction isFieldAssessor(field) {\n    if (utils_1.obj.isObject(field)) {\n        const a = field;\n        if (a.get && a.set) {\n            return true;\n        }\n    }\n    return false;\n}\n/** @private */\nconst EVENT_TYPE = {\n    UPDATE_LENGTH: \"update_length\",\n    UPDATED_LENGTH: \"updated_length\",\n    UPDATED_ORDER: \"updated_order\",\n};\n/** @private */\nfunction getValue(value, setPromiseBack) {\n    const maybePromiseValue = utils_1.getOrApply(value);\n    if (utils_1.isPromise(maybePromiseValue)) {\n        const promiseValue = maybePromiseValue.then((r) => {\n            setPromiseBack(r);\n            return r;\n        });\n        //\n        setPromiseBack(promiseValue);\n        return promiseValue;\n    }\n    else {\n        return maybePromiseValue;\n    }\n}\n/** @private */\nfunction getField(record, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nsetPromiseBack) {\n    if (record == null) {\n        return undefined;\n    }\n    if (utils_1.isPromise(record)) {\n        return record.then((r) => getField(r, field, setPromiseBack));\n    }\n    const fieldGet = isFieldAssessor(field) ? field.get : field;\n    if (fieldGet in record) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = record[fieldGet];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return getValue(fieldResult, setPromiseBack);\n    }\n    if (typeof fieldGet === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = fieldGet(record);\n        return getValue(fieldResult, setPromiseBack);\n    }\n    // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n    const ss = `${fieldGet}`.split(\".\");\n    if (ss.length <= 1) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const fieldResult = record[fieldGet];\n        return getValue(fieldResult, setPromiseBack);\n    }\n    const fieldResult = utils_1.applyChainSafe(record, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    (val, name) => getField(val, name, utils_1.emptyFn), ...ss);\n    return getValue(fieldResult, setPromiseBack);\n}\n/** @private */\nfunction setField(record, field, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nvalue) {\n    if (record == null) {\n        return false;\n    }\n    const fieldSet = isFieldAssessor(field) ? field.set : field;\n    if (fieldSet in record) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        record[fieldSet] = value;\n    }\n    else if (typeof fieldSet === \"function\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return fieldSet(record, value);\n    }\n    else if (typeof fieldSet === \"string\") {\n        const ss = `${fieldSet}`.split(\".\");\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let obj = record;\n        const { length } = ss;\n        for (let i = 0; i < length; i++) {\n            const f = ss[i];\n            if (i === length - 1) {\n                obj[f] = value;\n            }\n            else {\n                obj = obj[f] || (obj[f] = {});\n            }\n        }\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        record[fieldSet] = value;\n    }\n    return true;\n}\n/** @private */\nfunction _getIndex(sortedIndexMap, index) {\n    if (!sortedIndexMap) {\n        return index;\n    }\n    const mapIndex = sortedIndexMap[index];\n    return mapIndex != null ? mapIndex : index;\n}\n/**\n * grid data source\n *\n * @classdesc cheetahGrid.data.DataSource\n * @memberof cheetahGrid.data\n */\nclass DataSource extends EventTarget_1.EventTarget {\n    constructor(obj) {\n        var _a;\n        super();\n        this._sortedIndexMap = null;\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._get = (obj === null || obj === void 0 ? void 0 : obj.get.bind(obj)) || undefined;\n        this._length = (obj === null || obj === void 0 ? void 0 : obj.length) || 0;\n        this._source = (_a = obj === null || obj === void 0 ? void 0 : obj.source) !== null && _a !== void 0 ? _a : obj;\n    }\n    static get EVENT_TYPE() {\n        return EVENT_TYPE;\n    }\n    static ofArray(array) {\n        return new DataSource({\n            get: (index) => array[index],\n            length: array.length,\n            source: array,\n        });\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get source() {\n        return this._source;\n    }\n    get(index) {\n        return this.getOriginal(_getIndex(this._sortedIndexMap, index));\n    }\n    getField(index, field) {\n        return this.getOriginalField(_getIndex(this._sortedIndexMap, index), field);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    hasField(index, field) {\n        return this.hasOriginalField(_getIndex(this._sortedIndexMap, index), field);\n    }\n    setField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        return this.setOriginalField(_getIndex(this._sortedIndexMap, index), field, value);\n    }\n    sort(field, order) {\n        const sortedIndexMap = new Array(this._length);\n        const orderFn = order !== \"desc\"\n            ? (v1, v2) => (v1 === v2 ? 0 : v1 > v2 ? 1 : -1)\n            : (v1, v2) => (v1 === v2 ? 0 : v1 < v2 ? 1 : -1);\n        return sort\n            .sortPromise((index) => sortedIndexMap[index] != null\n            ? sortedIndexMap[index]\n            : (sortedIndexMap[index] = index), (index, rel) => {\n            sortedIndexMap[index] = rel;\n        }, this._length, orderFn, (index) => this.getOriginalField(index, field))\n            .then(() => {\n            this._sortedIndexMap = sortedIndexMap;\n            this.fireListeners(EVENT_TYPE.UPDATED_ORDER);\n        });\n    }\n    get length() {\n        return this._length;\n    }\n    set length(length) {\n        if (this._length === length) {\n            return;\n        }\n        const results = this.fireListeners(EVENT_TYPE.UPDATE_LENGTH, length);\n        if (utils_1.array.findIndex(results, (v) => !v) >= 0) {\n            return;\n        }\n        this._length = length;\n        this.fireListeners(EVENT_TYPE.UPDATED_LENGTH, this._length);\n    }\n    get dataSource() {\n        return this;\n    }\n    dispose() {\n        super.dispose();\n    }\n    getOriginal(index) {\n        return getValue(this._get(index), (val) => {\n            this.recordPromiseCallBackInternal(index, val);\n        });\n    }\n    getOriginalField(index, field) {\n        if (field == null) {\n            return undefined;\n        }\n        const record = this.getOriginal(index);\n        return getField(record, field, (val) => {\n            this.fieldPromiseCallBackInternal(index, field, val);\n        });\n    }\n    hasOriginalField(index, field) {\n        if (field == null) {\n            return false;\n        }\n        if (typeof field === \"function\") {\n            return true;\n        }\n        const record = this.getOriginal(index);\n        return Boolean(record && field in record);\n    }\n    setOriginalField(index, field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    value) {\n        if (field == null) {\n            return false;\n        }\n        const record = this.getOriginal(index);\n        if (utils_1.isPromise(record)) {\n            return record.then((r) => setField(r, field, value));\n        }\n        return setField(record, field, value);\n    }\n    fieldPromiseCallBackInternal(_index, _field, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    _value) {\n        //\n    }\n    recordPromiseCallBackInternal(_index, _record) {\n        //\n    }\n}\nexports.DataSource = DataSource;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nDataSource.EMPTY = new DataSource({\n    get() {\n        /*noop */\n    },\n    length: 0,\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FilterDataSource = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst DataSource_1 = require(\"./DataSource\");\nconst EventHandler_1 = require(\"../internal/EventHandler\");\n/** @private */\nclass DataSourceIterator {\n    constructor(dataSource) {\n        this._dataSource = dataSource;\n        this._curIndex = -1;\n        this._data = [];\n    }\n    hasNext() {\n        const next = this._curIndex + 1;\n        return this._dataSource.length > next;\n    }\n    next() {\n        const next = this._curIndex + 1;\n        const data = this._getIndexData(next);\n        this._curIndex = next;\n        return data;\n    }\n    movePrev() {\n        this._curIndex--;\n    }\n    _getIndexData(index, nest) {\n        const dataSource = this._dataSource;\n        const data = this._data;\n        if (index < data.length) {\n            return data[index];\n        }\n        if (dataSource.length <= index) {\n            return undefined;\n        }\n        const record = this._dataSource.get(index);\n        data[index] = record;\n        if (utils_1.isPromise(record)) {\n            record.then((val) => {\n                data[index] = val;\n            });\n            if (!nest) {\n                for (let i = 1; i <= 100; i++) {\n                    this._getIndexData(index + i, true);\n                }\n            }\n        }\n        return record;\n    }\n}\n/** @private */\nclass FilterData {\n    constructor(dc, original, filter) {\n        this._cancel = false;\n        this._owner = dc;\n        this._dataSourceItr = new DataSourceIterator(original);\n        this._filter = filter;\n        this._filterdList = [];\n        this._queues = [];\n    }\n    get(index) {\n        if (this._cancel) {\n            return undefined;\n        }\n        const filterdList = this._filterdList;\n        if (index < filterdList.length) {\n            return filterdList[index];\n        }\n        const queues = this._queues;\n        const indexQueue = queues[index];\n        if (indexQueue) {\n            return indexQueue;\n        }\n        return queues[index] || this._findIndex(index);\n    }\n    cancel() {\n        this._cancel = true;\n    }\n    _findIndex(index) {\n        if (window.Promise) {\n            const timeout = Date.now() + 100;\n            let count = 0;\n            return this._findIndexWithTimeout(index, () => {\n                count++;\n                if (count >= 100) {\n                    count = 0;\n                    return timeout < Date.now();\n                }\n                return false;\n            });\n        }\n        return this._findIndexWithTimeout(index, () => false);\n    }\n    _findIndexWithTimeout(index, testTimeout) {\n        const filterdList = this._filterdList;\n        const filter = this._filter;\n        const dataSourceItr = this._dataSourceItr;\n        const queues = this._queues;\n        while (dataSourceItr.hasNext()) {\n            if (this._cancel) {\n                return undefined;\n            }\n            const record = dataSourceItr.next();\n            if (utils_1.isPromise(record)) {\n                dataSourceItr.movePrev();\n                const queue = record.then((_value) => {\n                    queues[index] = null;\n                    return this.get(index);\n                });\n                queues[index] = queue;\n                return queue;\n            }\n            if (filter(record)) {\n                filterdList.push(record);\n                if (index < filterdList.length) {\n                    return filterdList[index];\n                }\n            }\n            if (testTimeout()) {\n                const promise = new Promise((resolve) => {\n                    setTimeout(() => {\n                        resolve();\n                    }, 300);\n                });\n                const queue = promise.then(() => {\n                    queues[index] = null;\n                    return this.get(index);\n                });\n                queues[index] = queue;\n                return queue;\n            }\n        }\n        const dc = this._owner;\n        dc.length = filterdList.length;\n        return undefined;\n    }\n}\n/**\n * grid data source for filter\n *\n * @classdesc cheetahGrid.data.FilterDataSource\n * @memberof cheetahGrid.data\n */\nclass FilterDataSource extends DataSource_1.DataSource {\n    constructor(dataSource, filter) {\n        super(dataSource);\n        this._filterData = null;\n        this._dataSource = dataSource;\n        this.filter = filter;\n        const handler = (this._handler = new EventHandler_1.EventHandler());\n        handler.on(dataSource, DataSource_1.DataSource.EVENT_TYPE.UPDATED_ORDER, () => {\n            // reset\n            // eslint-disable-next-line no-self-assign\n            this.filter = this.filter;\n        });\n        utils_1.each(DataSource_1.DataSource.EVENT_TYPE, (type) => {\n            handler.on(dataSource, type, (...args) => this.fireListeners(type, ...args));\n        });\n    }\n    static get EVENT_TYPE() {\n        return DataSource_1.DataSource.EVENT_TYPE;\n    }\n    get filter() {\n        var _a;\n        return ((_a = this._filterData) === null || _a === void 0 ? void 0 : _a._filter) || null;\n    }\n    set filter(filter) {\n        if (this._filterData) {\n            this._filterData.cancel();\n        }\n        this._filterData = filter\n            ? new FilterData(this, this._dataSource, filter)\n            : null;\n        this.length = this._dataSource.length;\n    }\n    getOriginal(index) {\n        if (!this._filterData) {\n            return super.getOriginal(index);\n        }\n        return this._filterData.get(index);\n    }\n    sort(field, order) {\n        return this._dataSource.sort(field, order);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    get source() {\n        return this._dataSource.source;\n    }\n    get dataSource() {\n        return this._dataSource;\n    }\n    dispose() {\n        this._handler.dispose();\n        super.dispose();\n    }\n}\nexports.FilterDataSource = FilterDataSource;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Inline = void 0;\nconst utils_1 = require(\"../internal/utils\");\nfunction getWidth(ctx, content) {\n    return ctx.measureText(content).width;\n}\nfunction breakWidth(ctx, content, itr, candidateIndex, width) {\n    const chars = [];\n    let ret = itr.next();\n    for (let i = 0; i < candidateIndex && ret !== null; i++, ret = itr.next()) {\n        chars.push(ret);\n    }\n    let beforeWidth = getWidth(ctx, chars.join(\"\"));\n    if (beforeWidth > width) {\n        while (chars.length) {\n            const c = chars.pop();\n            beforeWidth -= getWidth(ctx, c || \"\");\n            if (beforeWidth <= width) {\n                break;\n            }\n        }\n    }\n    else if (beforeWidth < width) {\n        while (ret !== null) {\n            const charWidth = getWidth(ctx, ret);\n            if (beforeWidth + charWidth > width) {\n                break;\n            }\n            chars.push(ret);\n            beforeWidth += charWidth;\n            ret = itr.next();\n        }\n    }\n    const beforeContent = chars.join(\"\").replace(/\\s+$/, \"\");\n    const afterContent = content.slice(beforeContent.length).replace(/^\\s+/, \"\");\n    return {\n        before: beforeContent ? new Inline(beforeContent) : null,\n        after: afterContent ? new Inline(afterContent) : null,\n    };\n}\nclass Inline {\n    constructor(content) {\n        this._content = content != null ? content : \"\";\n    }\n    width({ ctx }) {\n        return getWidth(ctx, this._content);\n    }\n    font() {\n        return null;\n    }\n    color() {\n        return null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        canvashelper.fillTextRect(ctx, this._content, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n                left: offsetLeft,\n                right: offsetRight,\n                top: offsetTop,\n                bottom: offsetBottom,\n            },\n        });\n    }\n    canBreak() {\n        return !!this._content;\n    }\n    splitIndex(index) {\n        const content = this._content;\n        const itr = utils_1.str.genChars(content);\n        const chars = [];\n        let ret = itr.next();\n        for (let i = 0; i < index && ret !== null; i++, ret = itr.next()) {\n            chars.push(ret);\n        }\n        const beforeContent = chars.join(\"\");\n        const afterContent = content.slice(beforeContent.length);\n        return {\n            before: beforeContent ? new Inline(beforeContent) : null,\n            after: afterContent ? new Inline(afterContent) : null,\n        };\n    }\n    breakWord(ctx, width) {\n        const content = this._content;\n        const allWidth = this.width({ ctx });\n        const candidate = Math.floor((this._content.length * width) / allWidth);\n        const itr = utils_1.str.genWords(content);\n        return breakWidth(ctx, content, itr, candidate, width);\n    }\n    breakAll(ctx, width) {\n        const content = this._content;\n        const allWidth = this.width({ ctx });\n        const candidate = Math.floor((this._content.length * width) / allWidth);\n        const itr = utils_1.str.genChars(content);\n        return breakWidth(ctx, content, itr, candidate, width);\n    }\n    toString() {\n        return this._content;\n    }\n}\nexports.Inline = Inline;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineDrawer = void 0;\nconst Inline_1 = require(\"./Inline\");\nclass InlineDrawer extends Inline_1.Inline {\n    constructor({ draw, width, \n    // height,\n    color, }) {\n        super();\n        this._draw = draw;\n        this._width = width;\n        // this._height = height;\n        this._color = color;\n    }\n    width(_arg) {\n        return this._width;\n    }\n    font() {\n        return null;\n    }\n    color() {\n        var _a;\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        this._draw({\n            ctx,\n            canvashelper,\n            rect,\n            offset,\n            offsetLeft,\n            offsetRight,\n            offsetTop,\n            offsetBottom,\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineDrawer = InlineDrawer;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineIcon = void 0;\nconst fonts = __importStar(require(\"../internal/fonts\"));\nconst Inline_1 = require(\"./Inline\");\nclass InlineIcon extends Inline_1.Inline {\n    constructor(icon) {\n        super();\n        this._icon = icon || {};\n    }\n    width({ ctx }) {\n        const icon = this._icon;\n        if (icon.width) {\n            return icon.width;\n        }\n        if (icon.font && fonts.check(icon.font, icon.content || \"\")) {\n            ctx.save();\n            ctx.canvas.style.letterSpacing = \"normal\";\n            try {\n                ctx.font = icon.font || ctx.font;\n                return ctx.measureText(icon.content || \"\").width;\n            }\n            finally {\n                ctx.canvas.style.letterSpacing = \"\";\n                ctx.restore();\n            }\n        }\n        return 0; //unknown\n    }\n    font() {\n        var _a;\n        return (_a = this._icon.font) !== null && _a !== void 0 ? _a : null;\n    }\n    color() {\n        var _a;\n        return (_a = this._icon.color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        const icon = this._icon;\n        return icon.font ? fonts.check(icon.font, icon.content || \"\") : true;\n    }\n    onReady(callback) {\n        const icon = this._icon;\n        if (icon.font && !fonts.check(icon.font, icon.content || \"\")) {\n            fonts.load(icon.font, icon.content || \"\", callback);\n        }\n    }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        const icon = this._icon;\n        if (icon.content) {\n            ctx.canvas.style.letterSpacing = \"normal\";\n            try {\n                // eslint-disable-next-line no-self-assign\n                ctx.font = ctx.font; // To apply letterSpacing, we need to reset it.\n                canvashelper.fillTextRect(ctx, icon.content, rect.left, rect.top, rect.width, rect.height, {\n                    offset: offset + 1,\n                    padding: {\n                        left: offsetLeft,\n                        right: offsetRight,\n                        top: offsetTop,\n                        bottom: offsetBottom,\n                    },\n                });\n            }\n            finally {\n                ctx.canvas.style.letterSpacing = \"\";\n            }\n        }\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineIcon = InlineIcon;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineImage = void 0;\nconst Inline_1 = require(\"./Inline\");\nconst imgs_1 = require(\"../internal/imgs\");\nconst utils_1 = require(\"../internal/utils\");\nclass InlineImage extends Inline_1.Inline {\n    constructor({ src, width, height, imageLeft, imageTop, imageWidth, imageHeight, }) {\n        super();\n        this._inlineImgPromise = null;\n        this._inlineImg = null;\n        this._src = src;\n        this._width = width;\n        this._height = height;\n        this._imageLeft = imageLeft;\n        this._imageTop = imageTop;\n        this._imageWidth = imageWidth;\n        this._imageHeight = imageHeight;\n        this._onloaded = [];\n        if (utils_1.isPromise(src)) {\n            src.then((s) => {\n                this._src = s;\n                this._loadImage(s);\n            });\n        }\n        else {\n            this._loadImage(src);\n        }\n    }\n    _loadImage(src) {\n        const img = (this._inlineImgPromise = imgs_1.getCacheOrLoad(\"InlineImage\", 50, src));\n        if (utils_1.isPromise(img)) {\n            img.then((i) => {\n                this._inlineImg = i;\n                this._onloaded.forEach((fn) => fn());\n            });\n        }\n        else {\n            this._inlineImg = img;\n        }\n    }\n    width(_arg) {\n        var _a, _b;\n        return this._width || ((_b = (_a = this._inlineImg) === null || _a === void 0 ? void 0 : _a.width) !== null && _b !== void 0 ? _b : 0);\n    }\n    font() {\n        return null;\n    }\n    color() {\n        return null;\n    }\n    canDraw() {\n        return !!this._inlineImg;\n    }\n    onReady(callback) {\n        if (utils_1.isPromise(this._src) || utils_1.isPromise(this._inlineImgPromise)) {\n            this._onloaded.push(() => callback());\n        }\n    }\n    draw({ ctx, canvashelper, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        const img = this._inlineImg;\n        canvashelper.drawInlineImageRect(ctx, img, this._imageLeft || 0, this._imageTop || 0, this._imageWidth || img.width, this._imageHeight || img.height, this._width || img.width, this._height || img.height, rect.left, rect.top, rect.width, rect.height, {\n            offset: offset + 1,\n            padding: {\n                left: offsetLeft,\n                right: offsetRight,\n                top: offsetTop,\n                bottom: offsetBottom,\n            },\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineImage = InlineImage;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlinePath2D = void 0;\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\nconst Inline_1 = require(\"./Inline\");\nconst canvases_1 = require(\"../internal/canvases\");\nclass InlinePath2D extends Inline_1.Inline {\n    constructor({ path, width, height, color }) {\n        super();\n        // IEPath2Dpolyfill\n        const Path2D = path2DManager.getPath2D();\n        this._path = new Path2D(path);\n        this._width = width;\n        this._height = height;\n        this._color = color;\n    }\n    width(_arg) {\n        return this._width;\n    }\n    font() {\n        return null;\n    }\n    color() {\n        var _a;\n        return (_a = this._color) !== null && _a !== void 0 ? _a : null;\n    }\n    canDraw() {\n        return true;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    onReady(_callback) { }\n    draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n        offset++;\n        const padding = {\n            left: offsetLeft,\n            right: offsetRight,\n            top: offsetTop,\n            bottom: offsetBottom,\n        };\n        ctx.save();\n        try {\n            ctx.beginPath();\n            ctx.rect(rect.left, rect.top, rect.width, rect.height);\n            //clip\n            ctx.clip();\n            //\n            const pos = canvases_1.calcStartPosition(ctx, rect, this._width, this._height, {\n                offset,\n                padding,\n            });\n            ctx.translate(pos.x, pos.y);\n            ctx.fill(this._path);\n        }\n        finally {\n            ctx.restore();\n        }\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlinePath2D = InlinePath2D;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineSvg = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst InlineImage_1 = require(\"./InlineImage\");\nfunction buildSvgDataUrl(svg) {\n    const data = typeof svg === \"string\" ? svg : new XMLSerializer().serializeToString(svg);\n    const url = `data:image/svg+xml;charset=utf-8,${encodeURIComponent(data)}`; //svgbase64\n    return url;\n}\nfunction getSvgElement(svg) {\n    if (typeof svg === \"string\") {\n        const parser = new DOMParser();\n        return parser.parseFromString(svg, \"image/svg+xml\")\n            .children[0];\n    }\n    else {\n        return svg;\n    }\n}\nclass InlineSvg extends InlineImage_1.InlineImage {\n    constructor({ svg, width, height }) {\n        var _a, _b;\n        const svgElem = utils_1.then(svg, getSvgElement);\n        const elmWidth = !utils_1.isPromise(svgElem)\n            ? (_a = svgElem.getAttribute(\"width\")) !== null && _a !== void 0 ? _a : undefined : undefined;\n        const elmHeight = !utils_1.isPromise(svgElem)\n            ? (_b = svgElem.getAttribute(\"height\")) !== null && _b !== void 0 ? _b : undefined : undefined;\n        const numElmWidth = elmWidth != null ? Number(elmWidth) : undefined;\n        const numElmHeight = elmHeight != null ? Number(elmHeight) : undefined;\n        super({\n            src: utils_1.then(svg, buildSvgDataUrl),\n            width: width || numElmWidth,\n            height: height || numElmHeight,\n            imageWidth: numElmWidth,\n            imageHeight: numElmHeight,\n        });\n    }\n    canBreak() {\n        return false;\n    }\n    toString() {\n        return \"\";\n    }\n}\nexports.InlineSvg = InlineSvg;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.string = exports.buildInlines = exports.of = exports.iconOf = void 0;\nconst icons = __importStar(require(\"../icons\"));\nconst path2DManager = __importStar(require(\"../internal/path2DManager\"));\nconst Inline_1 = require(\"./Inline\");\nconst InlineDrawer_1 = require(\"./InlineDrawer\");\nconst InlineIcon_1 = require(\"./InlineIcon\");\nconst InlineImage_1 = require(\"./InlineImage\");\nconst InlinePath2D_1 = require(\"./InlinePath2D\");\nconst InlineSvg_1 = require(\"./InlineSvg\");\nconst canvases_1 = require(\"../internal/canvases\");\nfunction drawRegisteredIcon(ctx, icon, drawWidth, drawHeight, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcStartPosition(ctx, rect, drawWidth, drawHeight, {\n            offset,\n            padding,\n        });\n        path2DManager.fill(icon, ctx, pos.x, pos.y, drawWidth, drawHeight);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nfunction isIconConstructorOption(icon) {\n    if (icon.font && icon.content) {\n        return true;\n    }\n    return false;\n}\nfunction isInlineImageConstructorOption(icon) {\n    if (icon.src) {\n        return true;\n    }\n    return false;\n}\nfunction isInlineSvgConstructorOption(icon) {\n    if (icon.path) {\n        return true;\n    }\n    return false;\n}\nfunction iconOf(icon) {\n    if (icon instanceof Inline_1.Inline) {\n        return icon;\n    }\n    if (!icon) {\n        return null;\n    }\n    if (isIconConstructorOption(icon)) {\n        return new InlineIcon_1.InlineIcon(icon);\n    }\n    if (isInlineImageConstructorOption(icon)) {\n        return new InlineImage_1.InlineImage({\n            src: icon.src,\n            width: icon.width,\n            height: icon.width,\n        });\n    }\n    if (icon.svg) {\n        return new InlineSvg_1.InlineSvg({\n            svg: icon.svg,\n            width: icon.width,\n            height: icon.width,\n        });\n    }\n    if (isInlineSvgConstructorOption(icon)) {\n        return new InlinePath2D_1.InlinePath2D({\n            path: icon.path,\n            width: icon.width,\n            height: icon.width,\n            color: icon.color,\n        });\n    }\n    const regedIcons = icons.get();\n    if (icon.name && regedIcons[icon.name]) {\n        const regedIcon = regedIcons[icon.name];\n        const width = icon.width || Math.max(regedIcon.width, regedIcon.height);\n        return new InlineDrawer_1.InlineDrawer({\n            draw({ ctx, rect, offset, offsetLeft, offsetRight, offsetTop, offsetBottom, }) {\n                drawRegisteredIcon(ctx, regedIcon, width, width, rect.left, rect.top, rect.width, rect.height, {\n                    offset: offset + 1,\n                    padding: {\n                        left: offsetLeft,\n                        right: offsetRight,\n                        top: offsetTop,\n                        bottom: offsetBottom,\n                    },\n                });\n            },\n            width,\n            height: width,\n            color: icon.color,\n        });\n    }\n    return new InlineIcon_1.InlineIcon(icon);\n}\nexports.iconOf = iconOf;\nfunction of(content) {\n    if (content == null) {\n        return null;\n    }\n    if (content instanceof Inline_1.Inline) {\n        return content;\n    }\n    return new Inline_1.Inline(content);\n}\nexports.of = of;\nfunction buildInlines(icons, inline) {\n    const result = [];\n    if (icons) {\n        result.push(...icons\n            .map((icon) => iconOf(icon))\n            .filter((i) => i != null));\n    }\n    if (Array.isArray(inline)\n    // && inline.filter(il => il instanceof Inline).length <- ?\n    ) {\n        result.push(...inline.map((il) => of(il)).filter((i) => i != null));\n    }\n    else {\n        const il = of(inline);\n        if (il) {\n            result.push(il);\n        }\n    }\n    return result;\n}\nexports.buildInlines = buildInlines;\nfunction string(inline) {\n    return buildInlines(undefined, inline).join(\"\");\n}\nexports.string = string;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getInternal = void 0;\nfunction getInternal() {\n    console.warn(\"use internal!!\");\n    return {\n        color: require(\"./internal/color\"),\n        sort: require(\"./internal/sort\"),\n        calc: require(\"./internal/calc\"),\n        symbolManager: require(\"./internal/symbolManager\"),\n        path2DManager: require(\"./internal/path2DManager\"),\n    };\n}\nexports.getInternal = getInternal;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ofCell = exports.of = exports.CheckHeaderAction = exports.SortHeaderAction = exports.BaseAction = exports.ACTIONS = void 0;\nconst BaseAction_1 = require(\"./action/BaseAction\");\nObject.defineProperty(exports, \"BaseAction\", { enumerable: true, get: function () { return BaseAction_1.BaseAction; } });\nconst CheckHeaderAction_1 = require(\"./action/CheckHeaderAction\");\nObject.defineProperty(exports, \"CheckHeaderAction\", { enumerable: true, get: function () { return CheckHeaderAction_1.CheckHeaderAction; } });\nconst SortHeaderAction_1 = require(\"./action/SortHeaderAction\");\nObject.defineProperty(exports, \"SortHeaderAction\", { enumerable: true, get: function () { return SortHeaderAction_1.SortHeaderAction; } });\nclass ImmutableSortHeaderAction extends SortHeaderAction_1.SortHeaderAction {\n    get disabled() {\n        return this._disabled;\n    }\n}\nclass ImmutableCheckHeaderAction extends CheckHeaderAction_1.CheckHeaderAction {\n    get disabled() {\n        return this._disabled;\n    }\n}\nexports.ACTIONS = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    SORT: new ImmutableSortHeaderAction(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new ImmutableCheckHeaderAction(),\n};\nfunction of(headerAction) {\n    if (!headerAction) {\n        return undefined;\n    }\n    else if (typeof headerAction === \"string\") {\n        const key = headerAction.toUpperCase();\n        return exports.ACTIONS[key] || of(null);\n    }\n    else {\n        return headerAction;\n    }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n    if (headerCell.sort) {\n        if (typeof headerCell.sort === \"function\") {\n            const sortMethod = headerCell.sort;\n            // 0.9.0 Backward compatibility\n            const sort = ({ order, col, grid }) => sortMethod.call(headerCell, order, col, grid);\n            return new ImmutableSortHeaderAction({ sort });\n        }\n        return exports.ACTIONS.SORT;\n    }\n    return of(headerCell.headerAction);\n}\nexports.ofCell = ofCell;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseAction = void 0;\nclass BaseAction {\n    constructor(option = {}) {\n        this._disabled = !!option.disabled || false;\n    }\n    get disabled() {\n        return this._disabled;\n    }\n    set disabled(disabled) {\n        this._disabled = disabled;\n        this.onChangeDisabledInternal();\n    }\n    clone() {\n        return new BaseAction(this);\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n    onChangeDisabledInternal() {\n        // impl\n    }\n}\nexports.BaseAction = BaseAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeaderAction = void 0;\nconst actionBind_1 = require(\"./actionBind\");\nconst BaseAction_1 = require(\"./BaseAction\");\nconst animate_1 = require(\"../../internal/animate\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId();\nfunction getState(grid) {\n    let state = grid[CHECK_HEADER_STATE_ID];\n    if (!state) {\n        state = { elapsed: {}, block: {} };\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n    }\n    return state;\n}\nclass CheckHeaderAction extends BaseAction_1.BaseAction {\n    clone() {\n        return new CheckHeaderAction(this);\n    }\n    bindGridEvent(grid, cellId) {\n        const state = getState(grid);\n        const action = ({ col, row }) => {\n            const range = grid.getCellRange(col, row);\n            const cellKey = `${range.start.col}:${range.start.row}`;\n            if (this.disabled || state.block[cellKey]) {\n                return;\n            }\n            const checked = grid.getHeaderValue(range.start.col, range.start.row);\n            grid.setHeaderValue(range.start.col, range.start.row, !checked);\n            const onChange = () => {\n                // checkbox animation\n                animate_1.animate(200, (point) => {\n                    if (point === 1) {\n                        delete state.elapsed[cellKey];\n                    }\n                    else {\n                        state.elapsed[cellKey] = point;\n                    }\n                    grid.invalidateCellRange(range);\n                });\n            };\n            onChange();\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (e) => {\n                    if (this.disabled) {\n                        return false;\n                    }\n                    state.mouseActiveCell = {\n                        col: e.col,\n                        row: e.row,\n                    };\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                    return true;\n                },\n                mouseOut: (e) => {\n                    delete state.mouseActiveCell;\n                    const range = grid.getCellRange(e.col, e.row);\n                    grid.invalidateCellRange(range);\n                },\n            }),\n            ...actionBind_1.bindCellKeyAction(grid, cellId, {\n                action,\n            }),\n        ];\n    }\n}\nexports.CheckHeaderAction = CheckHeaderAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeaderAction = void 0;\nconst BaseAction_1 = require(\"./BaseAction\");\nconst actionBind_1 = require(\"./actionBind\");\nclass SortHeaderAction extends BaseAction_1.BaseAction {\n    constructor(option = {}) {\n        var _a;\n        super(option);\n        this._sort = (_a = option.sort) !== null && _a !== void 0 ? _a : true;\n    }\n    get sort() {\n        return this._sort;\n    }\n    set sort(sort) {\n        this._sort = sort;\n        this.onChangeDisabledInternal();\n    }\n    clone() {\n        return new SortHeaderAction(this);\n    }\n    _executeSort(newState, grid) {\n        if (typeof this._sort === \"function\") {\n            this._sort({\n                order: newState.order || \"asc\",\n                col: newState.col,\n                row: newState.row,\n                grid,\n            });\n        }\n        else {\n            const fieldRow = Math.min(grid.recordRowCount - 1, newState.row) + grid.frozenRowCount;\n            const field = grid.getField(newState.col, fieldRow);\n            if (field == null) {\n                return;\n            }\n            grid.dataSource.sort(field, newState.order || \"asc\");\n        }\n    }\n    bindGridEvent(grid, cellId) {\n        function isTarget(col, row) {\n            return grid.getLayoutCellId(col, row) === cellId;\n        }\n        const action = (cell) => {\n            if (this.disabled) {\n                return;\n            }\n            const state = grid.sortState;\n            let newState;\n            const range = grid.getCellRange(cell.col, cell.row);\n            if (isTarget(state.col, cell.row)) {\n                newState = {\n                    col: range.start.col,\n                    row: range.start.row,\n                    order: state.order === \"asc\" ? \"desc\" : \"asc\",\n                };\n            }\n            else {\n                newState = {\n                    col: range.start.col,\n                    row: range.start.row,\n                    order: \"asc\",\n                };\n            }\n            grid.sortState = newState;\n            this._executeSort(newState, grid);\n            grid.invalidateGridRect(0, 0, grid.colCount - 1, grid.rowCount - 1);\n        };\n        return [\n            ...actionBind_1.bindCellClickAction(grid, cellId, {\n                action,\n                mouseOver: (_e) => {\n                    if (this.disabled) {\n                        return false;\n                    }\n                    return true;\n                },\n            }),\n        ];\n    }\n}\nexports.SortHeaderAction = SortHeaderAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindCellKeyAction = exports.bindCellClickAction = void 0;\nconst DG_EVENT_TYPE_1 = require(\"../../core/DG_EVENT_TYPE\");\nconst utils_1 = require(\"../../internal/utils\");\nconst KEY_ENTER = 13;\nfunction bindCellClickAction(grid, cellId, { action, mouseOver, mouseOut, }) {\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    let inMouse;\n    return [\n        // click\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.CLICK_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            action({\n                col: e.col,\n                row: e.row,\n            });\n        }),\n        // mouse move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOver) {\n                if (!mouseOver({\n                    col: e.col,\n                    row: e.row,\n                })) {\n                    return;\n                }\n            }\n            grid.getElement().style.cursor = \"pointer\";\n            inMouse = true;\n        }),\n        //MOUSEENTER'col-resize'move\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEMOVE_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (inMouse && !grid.getElement().style.cursor) {\n                grid.getElement().style.cursor = \"pointer\";\n            }\n        }),\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (!isTarget(e.col, e.row)) {\n                return;\n            }\n            if (mouseOut) {\n                mouseOut({\n                    col: e.col,\n                    row: e.row,\n                });\n            }\n            grid.getElement().style.cursor = \"\";\n            inMouse = false;\n        }),\n    ];\n}\nexports.bindCellClickAction = bindCellClickAction;\nfunction bindCellKeyAction(grid, cellId, { action, acceptKeys = [], }) {\n    acceptKeys = [...acceptKeys, KEY_ENTER];\n    function isTarget(col, row) {\n        return grid.getLayoutCellId(col, row) === cellId;\n    }\n    return [\n        // enter key down\n        grid.listen(DG_EVENT_TYPE_1.DG_EVENT_TYPE.KEYDOWN, (e) => {\n            var _a;\n            if (acceptKeys.indexOf(e.keyCode) === -1) {\n                return;\n            }\n            if (((_a = grid.keyboardOptions) === null || _a === void 0 ? void 0 : _a.moveCellOnEnter) && e.keyCode === KEY_ENTER) {\n                // When moving with the enter key, no action is taken with the enter key.\n                return;\n            }\n            const sel = grid.selection.select;\n            if (!isTarget(sel.col, sel.row)) {\n                return;\n            }\n            action({\n                col: sel.col,\n                row: sel.row,\n            });\n            utils_1.event.cancel(e.event);\n        }),\n    ];\n}\nexports.bindCellKeyAction = bindCellKeyAction;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.of = exports.MultilineTextHeaderStyle = exports.CheckHeaderStyle = exports.SortHeaderStyle = exports.Style = exports.BaseStyle = void 0;\nconst BaseStyle_1 = require(\"./style/BaseStyle\");\nObject.defineProperty(exports, \"BaseStyle\", { enumerable: true, get: function () { return BaseStyle_1.BaseStyle; } });\nconst CheckHeaderStyle_1 = require(\"./style/CheckHeaderStyle\");\nObject.defineProperty(exports, \"CheckHeaderStyle\", { enumerable: true, get: function () { return CheckHeaderStyle_1.CheckHeaderStyle; } });\nconst MultilineTextHeaderStyle_1 = require(\"./style/MultilineTextHeaderStyle\");\nObject.defineProperty(exports, \"MultilineTextHeaderStyle\", { enumerable: true, get: function () { return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle; } });\nconst SortHeaderStyle_1 = require(\"./style/SortHeaderStyle\");\nObject.defineProperty(exports, \"SortHeaderStyle\", { enumerable: true, get: function () { return SortHeaderStyle_1.SortHeaderStyle; } });\nconst Style_1 = require(\"./style/Style\");\nObject.defineProperty(exports, \"Style\", { enumerable: true, get: function () { return Style_1.Style; } });\nfunction of(headerStyle, StyleClass) {\n    if (headerStyle) {\n        if (headerStyle instanceof Style_1.Style) {\n            return headerStyle;\n        }\n        else if (typeof headerStyle === \"function\") {\n            return of(headerStyle(), StyleClass);\n        }\n        return new StyleClass(headerStyle);\n    }\n    else {\n        return StyleClass.DEFAULT;\n    }\n}\nexports.of = of;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseStyle = void 0;\nconst EventTarget_1 = require(\"../../core/EventTarget\");\nconst EVENT_TYPE = {\n    CHANGE_STYLE: \"change_style\",\n};\nlet defaultStyle;\nclass BaseStyle extends EventTarget_1.EventTarget {\n    constructor({ bgColor } = {}) {\n        super();\n        this._bgColor = bgColor;\n    }\n    static get EVENT_TYPE() {\n        return EVENT_TYPE;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new BaseStyle());\n    }\n    get bgColor() {\n        return this._bgColor;\n    }\n    set bgColor(bgColor) {\n        this._bgColor = bgColor;\n        this.doChangeStyle();\n    }\n    doChangeStyle() {\n        this.fireListeners(EVENT_TYPE.CHANGE_STYLE);\n    }\n    clone() {\n        return new BaseStyle(this);\n    }\n}\nexports.BaseStyle = BaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nconst utils_1 = require(\"../../internal/utils\");\nlet defaultStyle;\nclass CheckHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(utils_1.defaults(style, { textAlign: \"center\" }));\n        const { uncheckBgColor, checkBgColor, borderColor } = style;\n        this._uncheckBgColor = uncheckBgColor;\n        this._checkBgColor = checkBgColor;\n        this._borderColor = borderColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new CheckHeaderStyle());\n    }\n    get uncheckBgColor() {\n        return this._uncheckBgColor;\n    }\n    set uncheckBgColor(uncheckBgColor) {\n        this._uncheckBgColor = uncheckBgColor;\n        this.doChangeStyle();\n    }\n    get checkBgColor() {\n        return this._checkBgColor;\n    }\n    set checkBgColor(checkBgColor) {\n        this._checkBgColor = checkBgColor;\n        this.doChangeStyle();\n    }\n    get borderColor() {\n        return this._borderColor;\n    }\n    set borderColor(borderColor) {\n        this._borderColor = borderColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new CheckHeaderStyle(this);\n    }\n}\nexports.CheckHeaderStyle = CheckHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass MultilineTextHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._lineHeight = style.lineHeight || \"1em\";\n        this._autoWrapText = style.autoWrapText || false;\n        this._lineClamp = style.lineClamp;\n    }\n    static get DEFAULT() {\n        return defaultStyle\n            ? defaultStyle\n            : (defaultStyle = new MultilineTextHeaderStyle());\n    }\n    clone() {\n        return new MultilineTextHeaderStyle(this);\n    }\n    get lineHeight() {\n        return this._lineHeight;\n    }\n    set lineHeight(lineHeight) {\n        this._lineHeight = lineHeight;\n        this.doChangeStyle();\n    }\n    get lineClamp() {\n        return this._lineClamp;\n    }\n    set lineClamp(lineClamp) {\n        this._lineClamp = lineClamp;\n        this.doChangeStyle();\n    }\n    get autoWrapText() {\n        return this._autoWrapText;\n    }\n    set autoWrapText(autoWrapText) {\n        this._autoWrapText = autoWrapText;\n        this.doChangeStyle();\n    }\n}\nexports.MultilineTextHeaderStyle = MultilineTextHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeaderStyle = void 0;\nconst Style_1 = require(\"./Style\");\nlet defaultStyle;\nclass SortHeaderStyle extends Style_1.Style {\n    constructor(style = {}) {\n        super(style);\n        this._sortArrowColor = style.sortArrowColor;\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new SortHeaderStyle());\n    }\n    get sortArrowColor() {\n        return this._sortArrowColor;\n    }\n    set sortArrowColor(sortArrowColor) {\n        this._sortArrowColor = sortArrowColor;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new SortHeaderStyle(this);\n    }\n}\nexports.SortHeaderStyle = SortHeaderStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StdBaseStyle = void 0;\nconst BaseStyle_1 = require(\"./BaseStyle\");\nlet defaultStyle;\nclass StdBaseStyle extends BaseStyle_1.BaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._textAlign = style.textAlign || \"left\";\n        this._textBaseline = style.textBaseline || \"middle\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new StdBaseStyle());\n    }\n    get textAlign() {\n        return this._textAlign;\n    }\n    set textAlign(textAlign) {\n        this._textAlign = textAlign;\n        this.doChangeStyle();\n    }\n    get textBaseline() {\n        return this._textBaseline;\n    }\n    set textBaseline(textBaseline) {\n        this._textBaseline = textBaseline;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new StdBaseStyle(this);\n    }\n}\nexports.StdBaseStyle = StdBaseStyle;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Style = void 0;\nconst StdBaseStyle_1 = require(\"./StdBaseStyle\");\nlet defaultStyle;\nclass Style extends StdBaseStyle_1.StdBaseStyle {\n    constructor(style = {}) {\n        super(style);\n        this._color = style.color;\n        this._font = style.font;\n        this._textOverflow = style.textOverflow || \"ellipsis\";\n    }\n    static get DEFAULT() {\n        return defaultStyle ? defaultStyle : (defaultStyle = new Style());\n    }\n    get color() {\n        return this._color;\n    }\n    set color(color) {\n        this._color = color;\n        this.doChangeStyle();\n    }\n    get font() {\n        return this._font;\n    }\n    set font(font) {\n        this._font = font;\n        this.doChangeStyle();\n    }\n    get textOverflow() {\n        return this._textOverflow;\n    }\n    set textOverflow(textOverflow) {\n        this._textOverflow = textOverflow;\n        this.doChangeStyle();\n    }\n    clone() {\n        return new Style(this);\n    }\n}\nexports.Style = Style;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ofCell = exports.of = exports.MultilineTextHeader = exports.CheckHeader = exports.SortHeader = exports.Header = exports.BaseHeader = void 0;\nconst BaseHeader_1 = require(\"./type/BaseHeader\");\nObject.defineProperty(exports, \"BaseHeader\", { enumerable: true, get: function () { return BaseHeader_1.BaseHeader; } });\nconst CheckHeader_1 = require(\"./type/CheckHeader\");\nObject.defineProperty(exports, \"CheckHeader\", { enumerable: true, get: function () { return CheckHeader_1.CheckHeader; } });\nconst Header_1 = require(\"./type/Header\");\nObject.defineProperty(exports, \"Header\", { enumerable: true, get: function () { return Header_1.Header; } });\nconst MultilineTextHeader_1 = require(\"./type/MultilineTextHeader\");\nObject.defineProperty(exports, \"MultilineTextHeader\", { enumerable: true, get: function () { return MultilineTextHeader_1.MultilineTextHeader; } });\nconst SortHeader_1 = require(\"./type/SortHeader\");\nObject.defineProperty(exports, \"SortHeader\", { enumerable: true, get: function () { return SortHeader_1.SortHeader; } });\nconst TYPES = {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    DEFAULT: new Header_1.Header(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    SORT: new SortHeader_1.SortHeader(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    CHECK: new CheckHeader_1.CheckHeader(),\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    MULTILINETEXT: new MultilineTextHeader_1.MultilineTextHeader(),\n};\nfunction of(headerType) {\n    if (!headerType) {\n        return TYPES.DEFAULT;\n    }\n    else if (typeof headerType === \"string\") {\n        const key = headerType.toUpperCase();\n        return TYPES[key] || of(null);\n    }\n    else {\n        return headerType;\n    }\n}\nexports.of = of;\nfunction ofCell(headerCell) {\n    if (headerCell.sort) {\n        return TYPES.SORT;\n    }\n    return of(headerCell.headerType);\n}\nexports.ofCell = ofCell;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseHeader = void 0;\nconst styleContents = __importStar(require(\"../style\"));\nconst BaseStyle_1 = require(\"../style/BaseStyle\");\nclass BaseHeader {\n    constructor(_options = {}) {\n        this.onDrawCell = this.onDrawCell.bind(this); //\n    }\n    get StyleClass() {\n        return BaseStyle_1.BaseStyle;\n    }\n    onDrawCell(cellValue, info, context, grid) {\n        const { style, drawCellBase } = info;\n        const helper = grid.getGridCanvasHelper();\n        drawCellBase();\n        //\n        this.drawInternal(this.convertInternal(cellValue), context, styleContents.of(style, this.StyleClass), helper, grid, info);\n    }\n    convertInternal(value) {\n        if (typeof value === \"function\") {\n            value = value();\n        }\n        // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n        return value != null ? `${value}` : \"\";\n    }\n    bindGridEvent(_grid, _cellId) {\n        return [];\n    }\n}\nexports.BaseHeader = BaseHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CheckHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst CheckHeaderStyle_1 = require(\"../style/CheckHeaderStyle\");\nconst symbolManager_1 = require(\"../../internal/symbolManager\");\nconst utils_1 = require(\"../../internal/utils\");\nconst CHECK_HEADER_STATE_ID = symbolManager_1.getCheckHeaderStateId();\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getState(grid) {\n    let state = grid[CHECK_HEADER_STATE_ID];\n    if (!state) {\n        state = { elapsed: {}, block: {} };\n        utils_1.obj.setReadonly(grid, CHECK_HEADER_STATE_ID, state);\n    }\n    return state;\n}\nclass CheckHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return CheckHeaderStyle_1.CheckHeaderStyle;\n    }\n    clone() {\n        return new CheckHeader(this);\n    }\n    drawInternal(value, context, style, helper, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    grid, { drawCellBase }) {\n        const { textAlign, textBaseline, borderColor, checkBgColor, uncheckBgColor, bgColor, color, font, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        const cellKey = `${range.start.col}:${range.start.row}`;\n        const { elapsed: { [cellKey]: elapsed }, } = getState(grid);\n        const checked = grid.getHeaderValue(range.start.col, range.start.row);\n        const opt = {\n            textAlign,\n            textBaseline,\n            borderColor,\n            checkBgColor,\n            uncheckBgColor,\n        };\n        if (elapsed != null) {\n            opt.animElapsedTime = elapsed;\n        }\n        const inlineCheck = helper.buildCheckBoxInline(!!checked, context, opt);\n        helper.text([inlineCheck, value], context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n        });\n    }\n}\nexports.CheckHeader = CheckHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Header = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst Style_1 = require(\"../style/Style\");\nclass Header extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return Style_1.Style;\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        const { textAlign, textBaseline, color, font, bgColor, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        helper.text(value, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n        });\n    }\n}\nexports.Header = Header;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultilineTextHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst MultilineTextHeaderStyle_1 = require(\"../style/MultilineTextHeaderStyle\");\nclass MultilineTextHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return MultilineTextHeaderStyle_1.MultilineTextHeaderStyle;\n    }\n    clone() {\n        return new MultilineTextHeader(this);\n    }\n    drawInternal(value, context, style, helper, _grid, { drawCellBase }) {\n        const { textAlign, textBaseline, color, font, bgColor, lineHeight, autoWrapText, lineClamp, textOverflow, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const multilines = value\n            .replace(/\\r?\\n/g, \"\\n\")\n            .replace(/\\r/g, \"\\n\")\n            .split(\"\\n\");\n        helper.testFontLoad(font, value, context);\n        helper.multilineText(multilines, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            lineHeight,\n            autoWrapText,\n            lineClamp,\n            textOverflow,\n        });\n    }\n}\nexports.MultilineTextHeader = MultilineTextHeader;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SortHeader = void 0;\nconst BaseHeader_1 = require(\"./BaseHeader\");\nconst SortHeaderStyle_1 = require(\"../style/SortHeaderStyle\");\nconst utils_1 = require(\"../../internal/utils\");\nconst canvases_1 = require(\"../../internal/canvases\");\nclass SortHeader extends BaseHeader_1.BaseHeader {\n    get StyleClass() {\n        return SortHeaderStyle_1.SortHeaderStyle;\n    }\n    drawInternal(value, context, style, helper, grid, { drawCellBase }) {\n        const { textAlign, textBaseline = \"middle\", color, bgColor, font, textOverflow, sortArrowColor, } = style;\n        if (bgColor) {\n            drawCellBase({\n                bgColor,\n            });\n        }\n        const state = grid.sortState;\n        let order = undefined;\n        const { col, row } = context;\n        const range = grid.getCellRange(col, row);\n        if (utils_1.cellInRange(range, state.col, state.row)) {\n            ({ order } = state);\n        }\n        const ctx = context.getContext();\n        const arrowSize = canvases_1.getFontSize(ctx, font).width * 1.2;\n        helper.text(value, context, {\n            textAlign,\n            textBaseline,\n            color,\n            font,\n            textOverflow,\n            icons: [\n                {\n                    name: order != null\n                        ? order === \"asc\"\n                            ? \"arrow_downward\"\n                            : \"arrow_upward\"\n                        : undefined,\n                    width: arrowSize,\n                    color: helper.getColor(sortArrowColor || helper.theme.header.sortArrowColor, col, row, ctx) || \"rgba(0, 0, 0, 0.38)\",\n                },\n            ],\n        });\n    }\n}\nexports.SortHeader = SortHeader;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.style = exports.type = exports.action = void 0;\nconst action = __importStar(require(\"./header/action\"));\nexports.action = action;\nconst style = __importStar(require(\"./header/style\"));\nexports.style = style;\nconst type = __importStar(require(\"./header/type\"));\nexports.type = type;\n","\"use strict\";\n/*eslint-disable camelcase*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.get = void 0;\nconst utils_1 = require(\"./internal/utils\");\nconst icons_1 = require(\"./plugins/icons\");\nconst builtins = {\n    get arrow_upward() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_upward_48px.svg\");\n    },\n    get arrow_downward() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/navigation/svg/production/ic_arrow_downward_48px.svg\");\n    },\n    get edit() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/image/svg/production/ic_edit_48px.svg\");\n    },\n    get add() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/content/svg/production/ic_add_48px.svg\");\n    },\n    get star() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_24px.svg\");\n    },\n    get star_border() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_border_24px.svg\");\n    },\n    get star_half() {\n        return require(\"cheetah-grid-icon-svg-loader!material-design-icons/toggle/svg/production/ic_star_half_24px.svg\");\n    },\n};\nfunction get() {\n    return utils_1.extend(builtins, icons_1.icons);\n}\nexports.get = get;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EventHandler = void 0;\nconst utils_1 = require(\"./utils\");\n/** @private */\nlet nextId = 1;\nclass EventHandler {\n    constructor() {\n        this._listeners = {};\n    }\n    on(target, type, listener, \n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ...options) {\n        if (target.addEventListener) {\n            target.addEventListener(type, listener, ...options);\n        }\n        const obj = {\n            target,\n            type,\n            listener,\n            options,\n        };\n        const id = nextId++;\n        this._listeners[id] = obj;\n        return id;\n    }\n    once(target, type, listener, ...options) {\n        const id = this.on(target, type, (...args) => {\n            this.off(id);\n            listener(...args);\n        }, ...options);\n        return id;\n    }\n    tryWithOffEvents(target, type, call) {\n        const list = [];\n        try {\n            utils_1.each(this._listeners, (obj) => {\n                if (obj.target === target && obj.type === type) {\n                    if (obj.target.removeEventListener) {\n                        obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n                    }\n                    list.push(obj);\n                }\n            });\n            call();\n        }\n        finally {\n            list.forEach((obj) => {\n                if (obj.target.addEventListener) {\n                    obj.target.addEventListener(obj.type, obj.listener, ...obj.options);\n                }\n            });\n        }\n    }\n    off(id) {\n        if (id == null) {\n            return;\n        }\n        const obj = this._listeners[id];\n        if (!obj) {\n            return;\n        }\n        delete this._listeners[id];\n        if (obj.target.removeEventListener) {\n            obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n        }\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    fire(target, type, ...args) {\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target === target && obj.type === type) {\n                obj.listener.call(obj.target, ...args);\n            }\n        });\n    }\n    hasListener(target, type) {\n        let result = false;\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target === target && obj.type === type) {\n                result = true;\n            }\n        });\n        return result;\n    }\n    clear() {\n        utils_1.each(this._listeners, (obj) => {\n            if (obj.target.removeEventListener) {\n                obj.target.removeEventListener(obj.type, obj.listener, ...obj.options);\n            }\n        });\n        this._listeners = {};\n    }\n    dispose() {\n        this.clear();\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._listeners = null;\n    }\n}\nexports.EventHandler = EventHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = void 0;\nclass LRUCache {\n    constructor(cacheSize) {\n        this._list = [];\n        this._map = {};\n        this._cacheSize = cacheSize || 50;\n    }\n    get(key) {\n        const val = this._map[key];\n        if (val) {\n            const list = this._list;\n            const idx = list.indexOf(key);\n            list.splice(idx, 1);\n            list.push(key);\n        }\n        return val;\n    }\n    put(key, value) {\n        const list = this._list;\n        const map = this._map;\n        if (map[key]) {\n            const idx = list.indexOf(key);\n            list.splice(idx, 1);\n        }\n        map[key] = value;\n        list.push(key);\n        if (list.length > this._cacheSize) {\n            const remKey = list.shift() || \"\";\n            delete map[remKey];\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NumberMap = void 0;\nconst indexFirst = (arr, elm) => {\n    let low = 0;\n    let high = arr.length - 1;\n    while (low <= high) {\n        const i = Math.floor((low + high) / 2);\n        if (arr[i] === elm) {\n            return i;\n        }\n        else if (arr[i] > elm) {\n            high = i - 1;\n        }\n        else {\n            low = i + 1;\n        }\n    }\n    return high < 0 ? 0 : high;\n};\nclass NumberMap {\n    constructor() {\n        this._keys = [];\n        this._vals = {};\n        this._sorted = false;\n    }\n    put(key, value) {\n        if (!(key in this._vals)) {\n            this._keys.push(key);\n            this._sorted = false;\n        }\n        this._vals[key] = value;\n    }\n    get(key) {\n        return this._vals[key];\n    }\n    has(key) {\n        return this._vals[key] != null;\n    }\n    each(keyFrom, keyTo, fn) {\n        const { _keys: keys } = this;\n        const { length } = keys;\n        if (!this._sorted) {\n            keys.sort((a, b) => {\n                if (a < b) {\n                    return -1;\n                }\n                if (a > b) {\n                    return 1;\n                }\n                return 0;\n            });\n            this._sorted = true;\n        }\n        for (let i = indexFirst(keys, keyFrom); i < length; i++) {\n            const key = keys[i];\n            if (keyFrom <= key && key <= keyTo) {\n                fn(this.get(key), key);\n            }\n            else if (keyTo < key) {\n                return;\n            }\n        }\n    }\n}\nexports.NumberMap = NumberMap;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Rect = void 0;\nclass Rect {\n    constructor(left, top, width, height) {\n        this._left = left;\n        this._top = top;\n        this._width = width;\n        this._height = height;\n    }\n    static bounds(left, top, right, bottom) {\n        return new Rect(left, top, right - left, bottom - top);\n    }\n    static max(rect1, rect2) {\n        return Rect.bounds(Math.min(rect1.left, rect2.left), Math.min(rect1.top, rect2.top), Math.max(rect1.right, rect2.right), Math.max(rect1.bottom, rect2.bottom));\n    }\n    get left() {\n        return this._left;\n    }\n    set left(left) {\n        const { right } = this;\n        this._left = left;\n        this.right = right;\n    }\n    get top() {\n        return this._top;\n    }\n    set top(top) {\n        const { bottom } = this;\n        this._top = top;\n        this.bottom = bottom;\n    }\n    get width() {\n        return this._width;\n    }\n    set width(width) {\n        this._width = width;\n        this._right = undefined;\n    }\n    get height() {\n        return this._height;\n    }\n    set height(height) {\n        this._height = height;\n        this._bottom = undefined;\n    }\n    get right() {\n        return this._right !== undefined\n            ? this._right\n            : (this._right = this.left + this.width);\n    }\n    set right(right) {\n        this._right = right;\n        this.width = right - this.left;\n    }\n    get bottom() {\n        return this._bottom !== undefined\n            ? this._bottom\n            : (this._bottom = this.top + this.height);\n    }\n    set bottom(bottom) {\n        this._bottom = bottom;\n        this.height = bottom - this.top;\n    }\n    offsetLeft(offset) {\n        this._left += offset;\n        this._right = undefined;\n    }\n    offsetTop(offset) {\n        this._top += offset;\n        this._bottom = undefined;\n    }\n    copy() {\n        return new Rect(this.left, this.top, this.width, this.height);\n    }\n    intersection(rect) {\n        const x0 = Math.max(this.left, rect.left);\n        const x1 = Math.min(this.left + this.width, rect.left + rect.width);\n        if (x0 <= x1) {\n            const y0 = Math.max(this.top, rect.top);\n            const y1 = Math.min(this.top + this.height, rect.top + rect.height);\n            if (y0 <= y1) {\n                return Rect.bounds(x0, y0, x1, y1);\n            }\n        }\n        return null;\n    }\n    contains(another) {\n        return (this.left <= another.left &&\n            this.left + this.width >= another.left + another.width &&\n            this.top <= another.top &&\n            this.top + this.height >= another.top + another.height);\n    }\n    inPoint(x, y) {\n        return (this.left <= x &&\n            this.left + this.width >= x &&\n            this.top <= y &&\n            this.top + this.height >= y);\n    }\n}\nexports.Rect = Rect;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Scrollable = void 0;\nconst style = __importStar(require(\"./style\"));\nconst EventHandler_1 = require(\"./EventHandler\");\nconst utils_1 = require(\"./utils\");\nconst MAX_SCROLL = utils_1.browser.heightLimit - 1000;\nclass Scrollable {\n    constructor() {\n        this._p = 1;\n        this._handler = new EventHandler_1.EventHandler();\n        this._scrollable = document.createElement(\"div\");\n        this._scrollable.classList.add(\"grid-scrollable\");\n        this._height = 0;\n        this._width = 0;\n        this._endPointElement = document.createElement(\"div\");\n        this._endPointElement.classList.add(\"grid-scroll-end-point\");\n        this._update();\n        this._scrollable.appendChild(this._endPointElement);\n        // const mousewheelevt = (/Firefox/i.test(navigator.userAgent)) ? 'DOMMouseScroll' : 'mousewheel'; //FF doesn't recognize mousewheel as of FF3.x\n        // this._handler.on(this._scrollable, mousewheelevt, (evt) => {\n        // const delta = evt.detail ? evt.detail * (-120) : evt.wheelDelta;\n        // const point = Math.min(Math.abs(delta) / 12, this.scrollHeight / 5);\n        // this.scrollTop += delta < 0 ? point : -point;\n        // });\n    }\n    calcTop(top) {\n        const relativeTop = top - this.scrollTop;\n        return this._scrollable.scrollTop + relativeTop;\n    }\n    getElement() {\n        return this._scrollable;\n    }\n    setScrollSize(width, height) {\n        this._width = width;\n        this._height = height;\n        this._update();\n    }\n    get scrollWidth() {\n        return this._width;\n    }\n    set scrollWidth(width) {\n        this._width = width;\n        this._update();\n    }\n    get scrollHeight() {\n        return this._height;\n    }\n    set scrollHeight(height) {\n        this._height = height;\n        this._update();\n    }\n    get scrollLeft() {\n        return Math.max(Math.ceil(this._scrollable.scrollLeft), 0);\n    }\n    set scrollLeft(scrollLeft) {\n        this._scrollable.scrollLeft = scrollLeft;\n    }\n    get scrollTop() {\n        return Math.max(Math.ceil(this._scrollable.scrollTop / this._p), 0);\n    }\n    set scrollTop(scrollTop) {\n        this._scrollable.scrollTop = scrollTop * this._p;\n    }\n    onScroll(fn) {\n        this._handler.on(this._scrollable, \"scroll\", fn);\n    }\n    dispose() {\n        this._handler.dispose();\n    }\n    _update() {\n        let domHeight;\n        if (this._height > MAX_SCROLL) {\n            const sbSize = style.getScrollBarSize();\n            const { offsetHeight } = this._scrollable;\n            const vScrollRange = MAX_SCROLL - offsetHeight + sbSize;\n            const rScrollRange = this._height - offsetHeight + sbSize;\n            this._p = vScrollRange / rScrollRange;\n            domHeight = MAX_SCROLL;\n        }\n        else {\n            this._p = 1;\n            domHeight = this._height;\n        }\n        this._endPointElement.style.top = `${domHeight.toFixed()}px`;\n        this._endPointElement.style.left = `${this._width.toFixed()}px`;\n    }\n}\nexports.Scrollable = Scrollable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.animate = void 0;\nconst utils_1 = require(\"./utils\");\nfunction cubicBezier(x2, y2, x3, y3) {\n    let step;\n    const err = 0.0001;\n    x2 *= 3;\n    y2 *= 3;\n    x3 *= 3;\n    y3 *= 3;\n    return function (t) {\n        let p, a, b, c, d, x, s;\n        if (t < 0 || 1 < t) {\n            throw new Error(`${t}`);\n        }\n        p = step || t;\n        do {\n            a = 1 - p;\n            b = a * a;\n            c = p * p;\n            d = c * p;\n            x = x2 * b * p + x3 * a * c + d;\n            s = t - x;\n            p += s * 0.5;\n        } while (err < Math.abs(s));\n        step = p;\n        return y2 * b * p + y3 * a * c + d;\n    };\n}\nconst EASINGS = {\n    linear(p) {\n        return p;\n    },\n    easeIn: cubicBezier(0.42, 0.0, 1.0, 1.0),\n    easeOut: cubicBezier(0.0, 0.0, 0.58, 1.0),\n    easeInOut: cubicBezier(0.42, 0.0, 0.58, 1.0),\n};\nconst raf = (utils_1.isNode\n    ? () => { }\n    : window.requestAnimationFrame ||\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        ((fn) => setTimeout(fn, 1)));\nfunction now() {\n    return Date.now();\n}\n/**\n * <pre>\n * Animates.\n * </pre>\n * @function\n * @param {number} duration animation time.\n * @param {function} step step\n * @param {function|string} easing easing\n * @returns {object} Deferred object.\n */\nfunction animate(duration, step, easing) {\n    const startedAt = now();\n    const easingFn = easing == null\n        ? EASINGS.easeInOut\n        : typeof easing === \"string\"\n            ? EASINGS[easing]\n            : easing;\n    let canceledFlg = false;\n    const createAnim = (resolve, reject) => {\n        const anim = () => {\n            const point = now() - startedAt;\n            if (canceledFlg) {\n                //cancel\n                if (reject) {\n                    reject();\n                }\n            }\n            else if (point >= duration) {\n                //end\n                step(1);\n                if (resolve) {\n                    resolve();\n                }\n            }\n            else {\n                step(easingFn(point / duration));\n                raf(anim);\n            }\n        };\n        return anim;\n    };\n    const cancel = () => {\n        canceledFlg = true;\n    };\n    if (typeof Promise !== \"undefined\") {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const result = new Promise((resolve, reject) => {\n            const anim = createAnim(resolve, reject);\n            step(0);\n            anim();\n        });\n        result.cancel = cancel;\n        return result;\n    }\n    else {\n        const anim = createAnim(() => { }, () => { });\n        step(0);\n        anim();\n        return {\n            cancel,\n        };\n    }\n}\nexports.animate = animate;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.toPx = void 0;\nconst utils_1 = require(\"./utils\");\nconst TYPE_PAREN = 0;\nconst TYPE_UNIT = 1;\nconst TYPE_OPERATOR = 2;\nconst TYPE_NUMBER = 3;\nconst NODE_TYPE_UNIT = 10;\nconst NODE_TYPE_BINARY_EXPRESSION = 11;\nconst NODE_TYPE_NUMBER = 12;\nconst TABULATION = 0x09;\nconst CARRIAGE_RETURN = 0x0d;\nconst LINE_FEED = 0x0a;\nconst FORM_FEED = 0x0c;\nconst SPACE = 0x20;\nconst PERCENT = 0x25;\nconst FULL_STOP = 0x2e;\nconst DIGIT_0 = 0x30;\nconst DIGIT_9 = 0x39;\nconst LATIN_CAPITAL_A = 0x41;\nconst LATIN_CAPITAL_Z = 0x5a;\nconst LATIN_SMALL_A = 0x61;\nconst LATIN_SMALL_Z = 0x7a;\nfunction isUpperLetter(cp) {\n    return cp >= LATIN_CAPITAL_A && cp <= LATIN_CAPITAL_Z;\n}\nfunction isLowerLetter(cp) {\n    return cp >= LATIN_SMALL_A && cp <= LATIN_SMALL_Z;\n}\nfunction isLetter(cp) {\n    return isLowerLetter(cp) || isUpperLetter(cp);\n}\nfunction isWhitespace(cp) {\n    return (cp === TABULATION ||\n        cp === LINE_FEED ||\n        cp === FORM_FEED ||\n        cp === CARRIAGE_RETURN ||\n        cp === SPACE);\n}\nfunction isDigit(cp) {\n    return cp >= DIGIT_0 && cp <= DIGIT_9;\n}\nfunction isDot(cp) {\n    return cp === FULL_STOP;\n}\nfunction isUnit(cp) {\n    return isLetter(cp) || cp === PERCENT;\n}\nfunction createError(calc) {\n    return new Error(`calc parse error: ${calc}`);\n}\n/**\n * tokenize\n * @param {string} calc calc expression\n * @returns {Array} tokens\n * @private\n */\nfunction tokenize(calc) {\n    const exp = calc.replace(/calc\\(/g, \"(\").trim();\n    const tokens = [];\n    const len = exp.length;\n    for (let index = 0; index < len; index++) {\n        const c = exp[index];\n        const cp = c.charCodeAt(0);\n        if (c === \"(\" || c === \")\") {\n            tokens.push({ value: c, type: TYPE_PAREN });\n        }\n        else if (c === \"*\" || c === \"/\") {\n            tokens.push({ value: c, type: TYPE_OPERATOR });\n        }\n        else if (c === \"+\" || c === \"-\") {\n            index = parseSign(c, index + 1) - 1;\n        }\n        else if (isDigit(cp) || isDot(cp)) {\n            index = parseNum(c, index + 1) - 1;\n        }\n        else if (isWhitespace(cp)) {\n            // skip\n        }\n        else {\n            throw createError(calc);\n        }\n    }\n    function parseSign(sign, start) {\n        if (start < len) {\n            const c = exp[start];\n            const cp = c.charCodeAt(0);\n            if (isDigit(cp) || isDot(cp)) {\n                return parseNum(sign + c, start + 1);\n            }\n        }\n        tokens.push({ value: sign, type: TYPE_OPERATOR });\n        return start;\n    }\n    function parseNum(num, start) {\n        let index = start;\n        for (; index < len; index++) {\n            const c = exp[index];\n            const cp = c.charCodeAt(0);\n            if (isDigit(cp)) {\n                num += c;\n            }\n            else if (c === \".\") {\n                if (num.indexOf(\".\") >= 0) {\n                    throw createError(calc);\n                }\n                num += c;\n            }\n            else if (isUnit(cp)) {\n                return parseUnit(num, c, index + 1);\n            }\n            else {\n                break;\n            }\n        }\n        if (num === \".\") {\n            throw createError(calc);\n        }\n        tokens.push({ value: parseFloat(num), type: TYPE_NUMBER });\n        return index;\n    }\n    function parseUnit(num, unit, start) {\n        let index = start;\n        for (; index < len; index++) {\n            const c = exp[index];\n            const cp = c.charCodeAt(0);\n            if (isUnit(cp)) {\n                unit += c;\n            }\n            else {\n                break;\n            }\n        }\n        tokens.push({ value: parseFloat(num), unit, type: TYPE_UNIT });\n        return index;\n    }\n    return tokens;\n}\nconst PRECEDENCE = {\n    \"*\": 3,\n    \"/\": 3,\n    \"+\": 2,\n    \"-\": 2,\n};\nfunction lex(tokens, calc) {\n    function buildBinaryExpNode(stack) {\n        const right = stack.pop();\n        const op = stack.pop();\n        const left = stack.pop();\n        if (!left ||\n            !left.nodeType ||\n            !op ||\n            op.type !== TYPE_OPERATOR ||\n            !right ||\n            !right.nodeType) {\n            throw createError(calc);\n        }\n        return {\n            nodeType: NODE_TYPE_BINARY_EXPRESSION,\n            left,\n            op,\n            right,\n        };\n    }\n    const stack = [];\n    while (tokens.length) {\n        const token = tokens.shift();\n        if (token.type === TYPE_PAREN && token.value === \"(\") {\n            let deep = 0;\n            const closeIndex = utils_1.array.findIndex(tokens, (t) => {\n                if (t.type === TYPE_PAREN && t.value === \"(\") {\n                    deep++;\n                }\n                else if (t.type === TYPE_PAREN && t.value === \")\") {\n                    if (!deep) {\n                        return true;\n                    }\n                    deep--;\n                }\n                return false;\n            });\n            if (closeIndex === -1) {\n                throw createError(calc);\n            }\n            stack.push(lex(tokens.splice(0, closeIndex), calc));\n            tokens.shift();\n        }\n        else if (token.type === TYPE_OPERATOR) {\n            if (stack.length >= 3) {\n                const beforeOp = stack[stack.length - 2].value;\n                if (PRECEDENCE[token.value] <= PRECEDENCE[beforeOp]) {\n                    stack.push(buildBinaryExpNode(stack));\n                }\n            }\n            stack.push(token);\n        }\n        else if (token.type === TYPE_UNIT) {\n            const { value: num, unit } = token;\n            stack.push({\n                nodeType: NODE_TYPE_UNIT,\n                value: num,\n                unit,\n            });\n        }\n        else if (token.type === TYPE_NUMBER) {\n            stack.push({\n                nodeType: NODE_TYPE_NUMBER,\n                value: token.value,\n            });\n        }\n    }\n    while (stack.length > 1) {\n        stack.push(buildBinaryExpNode(stack));\n    }\n    return stack[0];\n}\nfunction parse(calcStr) {\n    const tokens = tokenize(calcStr);\n    return lex(tokens, calcStr);\n}\nfunction calcNode(node, context) {\n    if (node.nodeType === NODE_TYPE_BINARY_EXPRESSION) {\n        const left = calcNode(node.left, context);\n        const right = calcNode(node.right, context);\n        switch (node.op.value) {\n            case \"+\":\n                return left + right;\n            case \"-\":\n                return left - right;\n            case \"*\":\n                return left * right;\n            case \"/\":\n                return left / right;\n            default:\n                // eslint-disable-next-line @typescript-eslint/restrict-template-expressions\n                throw new Error(`calc error. unknown operator: ${node.op.value}`);\n        }\n    }\n    else if (node.nodeType === NODE_TYPE_UNIT) {\n        switch (node.unit) {\n            case \"%\":\n                return (node.value * context.full) / 100;\n            case \"em\":\n                return node.value * context.em;\n            case \"px\":\n                return node.value;\n            default:\n                throw new Error(`calc error. unknown unit: ${node.unit}`);\n        }\n    }\n    else if (node.nodeType === NODE_TYPE_NUMBER) {\n        return node.value;\n    }\n    throw new Error(\"calc error.\");\n}\nfunction toPxInternal(value, context) {\n    const ast = parse(value);\n    return calcNode(ast, context);\n}\nfunction toPx(value, context) {\n    if (typeof value === \"string\") {\n        return toPxInternal(value.trim(), context);\n    }\n    return value - 0;\n}\nexports.toPx = toPx;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calcStartPosition = exports.calcBasePosition = exports.getFontSize = void 0;\nconst fontSizeCache = {};\nfunction getFontSize(ctx, font) {\n    const fontName = font || ctx.font;\n    if (fontSizeCache[fontName]) {\n        return fontSizeCache[fontName];\n    }\n    const bk = ctx.font;\n    try {\n        ctx.font = fontName;\n        const em = ctx.measureText(\"\").width;\n        return (fontSizeCache[fontName] = {\n            width: em,\n            height: em,\n        });\n    }\n    finally {\n        ctx.font = bk;\n    }\n}\nexports.getFontSize = getFontSize;\nfunction calcBasePosition(ctx, rect, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\n    return calcStartPosition(ctx, rect, 0, 0, {\n        offset,\n        padding: {\n            left: paddingLeft,\n            right: paddingRight,\n            top: paddingTop,\n            bottom: paddingBottom,\n        },\n    });\n}\nexports.calcBasePosition = calcBasePosition;\nfunction calcStartPosition(ctx, rect, width, height, { offset = 0, padding: { left: paddingLeft = 0, right: paddingRight = 0, top: paddingTop = 0, bottom: paddingBottom = 0, } = {}, } = {}) {\n    const textAlign = ctx.textAlign || \"left\";\n    const textBaseline = ctx.textBaseline || \"middle\";\n    ctx.textAlign = textAlign;\n    ctx.textBaseline = textBaseline;\n    let x = rect.left + offset + paddingLeft;\n    if (textAlign === \"right\" || textAlign === \"end\") {\n        x = rect.right - width - offset - paddingRight;\n    }\n    else if (textAlign === \"center\") {\n        x = rect.left + (rect.width - width + paddingLeft - paddingRight) / 2;\n    }\n    let y = rect.top + offset + paddingTop;\n    if (textBaseline === \"bottom\" ||\n        textBaseline === \"alphabetic\" ||\n        textBaseline === \"ideographic\") {\n        y = rect.bottom - height - offset - paddingBottom;\n    }\n    else if (textBaseline === \"middle\") {\n        y = rect.top + (rect.height - height + paddingTop - paddingBottom) / 2;\n    }\n    return { x, y };\n}\nexports.calcStartPosition = calcStartPosition;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.colorToRGB = void 0;\nconst rgbMap = {};\nfunction styleColorToRGB(color) {\n    const dummy = document.createElement(\"div\");\n    const { style } = dummy;\n    style.color = color;\n    style.position = \"fixed\";\n    style.height = \"1px\";\n    style.width = \"1px\";\n    style.opacity = \"0\";\n    document.body.appendChild(dummy);\n    const { color: styleColor } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n    document.body.removeChild(dummy);\n    return colorToRGB0(styleColor || \"\");\n}\nfunction hexToNum(hex) {\n    return parseInt(hex, 16);\n}\nfunction createRGB(r, g, b, a = 1) {\n    return { r, g, b, a };\n}\nfunction tripleHexToRGB({ 1: r, 2: g, 3: b }) {\n    return createRGB(hexToNum(r + r), hexToNum(g + g), hexToNum(b + b));\n}\nfunction sextupleHexToRGB({ 1: r1, 2: r2, 3: g1, 4: g2, 5: b1, 6: b2, }) {\n    return createRGB(hexToNum(r1 + r2), hexToNum(g1 + g2), hexToNum(b1 + b2));\n}\nfunction testRGB({ r, g, b, a }) {\n    return (0 <= r &&\n        r <= 255 &&\n        0 <= g &&\n        g <= 255 &&\n        0 <= b &&\n        b <= 255 &&\n        0 <= a &&\n        a <= 1);\n}\nfunction rateToByte(r) {\n    return Math.ceil((r * 255) / 100);\n}\nfunction colorToRGB0(color) {\n    if (/^#[0-9a-f]{3}$/i.exec(color)) {\n        return tripleHexToRGB(color);\n    }\n    if (/^#[0-9a-f]{6}$/i.exec(color)) {\n        return sextupleHexToRGB(color);\n    }\n    let ret = /^rgb\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgba\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(Number(ret[1]), Number(ret[2]), Number(ret[3]), Number(ret[4]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgb\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    ret = /^rgba\\(\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d{1,3}(\\.\\d)?)%\\s*,\\s*(\\d(\\.\\d)?)\\s*\\)$/i.exec(color);\n    if (ret) {\n        const rgb = createRGB(rateToByte(Number(ret[1])), rateToByte(Number(ret[3])), rateToByte(Number(ret[5])), Number(ret[7]));\n        if (testRGB(rgb)) {\n            return rgb;\n        }\n    }\n    return null;\n}\nfunction colorToRGB(color) {\n    if (typeof color !== \"string\") {\n        return createRGB(0, 0, 0, 0);\n    }\n    color = color.toLowerCase().trim();\n    if (rgbMap[color]) {\n        return rgbMap[color];\n    }\n    return colorToRGB0(color) || (rgbMap[color] = styleColorToRGB(color));\n}\nexports.colorToRGB = colorToRGB;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findNextSiblingFocusable = exports.findPrevSiblingFocusable = exports.isFocusable = exports.enableFocus = exports.disableFocus = exports.appendHtml = exports.toNodeList = exports.empty = exports.createElement = void 0;\nfunction createElement(tagName, { classList, text, html, } = {}) {\n    const element = document.createElement(tagName);\n    if (classList) {\n        if (Array.isArray(classList)) {\n            element.classList.add(...classList);\n        }\n        else {\n            element.classList.add(classList);\n        }\n    }\n    if (text) {\n        element.textContent = text;\n    }\n    else if (html) {\n        element.innerHTML = html;\n    }\n    return element;\n}\nexports.createElement = createElement;\nfunction empty(dom) {\n    let c;\n    while ((c = dom.firstChild)) {\n        dom.removeChild(c);\n    }\n}\nexports.empty = empty;\nfunction isNode(arg) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return !!(arg.nodeType && arg.nodeName);\n}\nfunction toNode(arg) {\n    if (isNode(arg)) {\n        return arg;\n    }\n    const dom = createElement(\"div\", { html: arg });\n    return Array.prototype.slice.call(dom.childNodes);\n}\nfunction toNodeList(arg) {\n    if (Array.isArray(arg)) {\n        const result = [];\n        arg.forEach((e) => {\n            result.push(...toNodeList(e));\n        });\n        return result;\n    }\n    const node = toNode(arg);\n    return Array.isArray(node) ? node : [node];\n}\nexports.toNodeList = toNodeList;\nfunction appendHtml(dom, inner) {\n    toNodeList(inner).forEach((node) => {\n        dom.appendChild(node);\n    });\n}\nexports.appendHtml = appendHtml;\nfunction disableFocus(el) {\n    el.dataset.disableBeforeTabIndex = `${el.tabIndex}`;\n    el.tabIndex = -1;\n    Array.prototype.slice.call(el.children, 0).forEach(disableFocus);\n}\nexports.disableFocus = disableFocus;\nfunction enableFocus(el) {\n    if (\"disableBeforeTabIndex\" in el.dataset) {\n        el.tabIndex = Number(el.dataset.disableBeforeTabIndex);\n    }\n    Array.prototype.slice.call(el.children, 0).forEach(enableFocus);\n}\nexports.enableFocus = enableFocus;\nfunction isFocusable(el) {\n    return (el.tabIndex != null && el.tabIndex > -1);\n}\nexports.isFocusable = isFocusable;\nfunction findPrevSiblingFocusable(el) {\n    let n = el.previousSibling;\n    while (n && !isFocusable(n)) {\n        n = n.previousSibling;\n    }\n    return n;\n}\nexports.findPrevSiblingFocusable = findPrevSiblingFocusable;\nfunction findNextSiblingFocusable(el) {\n    let n = el.nextSibling;\n    while (n && !isFocusable(n)) {\n        n = n.nextSibling;\n    }\n    return n;\n}\nexports.findNextSiblingFocusable = findNextSiblingFocusable;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.load = exports.check = void 0;\nconst utils_1 = require(\"./utils\");\nconst loads = {};\nlet load;\nexports.load = load;\nlet check;\nexports.check = check;\nif (utils_1.isNode) {\n    exports.load = load = function (_font, _testStr, callback) {\n        callback();\n    };\n    exports.check = check = function () {\n        return false;\n    };\n}\nelse {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const fontFaceSet = document.fonts;\n    const legacy = !fontFaceSet;\n    exports.load = load = legacy\n        ? function (font, testStr, callback) {\n            //for legacy(IE)\n            if (loads[`${font} @ ${testStr}`]) {\n                callback();\n                return;\n            }\n            // eslint-disable-next-line @typescript-eslint/no-var-requires\n            require(\"./legacy/fontwatch/FontWatchRunner\").load(font, testStr, () => {\n                loads[`${font} @ ${testStr}`] = true;\n                callback();\n            }, () => {\n                loads[`${font} @ ${testStr}`] = true;\n                callback();\n            });\n        }\n        : function (font, _testStr, callback) {\n            if (loads.all || loads[font]) {\n                callback();\n                return;\n            }\n            fontFaceSet.ready.then(() => {\n                loads.all = true;\n            });\n            fontFaceSet.load(font).then(() => {\n                loads[font] = true;\n                callback();\n            });\n        };\n    exports.check = check = legacy\n        ? function (font, testStr) {\n            //for legacy(IE)\n            if (loads[`${font} @ ${testStr}`]) {\n                return true;\n            }\n            load(font, testStr, () => { });\n            return false;\n        }\n        : function (font, testStr) {\n            if (loads.all || loads[font]) {\n                return true;\n            }\n            if (!fontFaceSet.check(font)) {\n                load(font, testStr, () => { });\n                return false;\n            }\n            return true;\n        };\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.transform = void 0;\nconst EventHandler_1 = require(\"./EventHandler\");\nconst utils_1 = require(\"./utils\");\nconst handler = new EventHandler_1.EventHandler();\nlet ratio = 1;\nfunction setRatio() {\n    if (utils_1.isNode) {\n        ratio = 1;\n    }\n    else {\n        ratio = Math.ceil(window.devicePixelRatio || 1);\n        if (ratio > 1 && ratio % 2 !== 0) {\n            ratio += 1;\n        }\n    }\n}\nsetRatio();\nif (!utils_1.isNode) {\n    handler.on(window, \"resize\", setRatio);\n}\nfunction transform(canvas) {\n    const ctx = canvas.getContext(\"2d\");\n    const { getAttribute, setAttribute } = canvas;\n    canvas.getAttribute = function (name) {\n        let result = getAttribute.call(this, name);\n        if (name === \"width\" || name === \"height\") {\n            result = `${Number(result) / ratio}`;\n        }\n        return result;\n    };\n    canvas.setAttribute = function (name, val) {\n        const wh = name === \"width\" || name === \"height\";\n        if (wh) {\n            val = `${Number(val) * ratio}`;\n        }\n        const result = setAttribute.call(this, name, val);\n        if (wh) {\n            ctx.scale(ratio, ratio);\n        }\n        return result;\n    };\n    Object.defineProperty(canvas, \"width\", {\n        get() {\n            return Number(canvas.getAttribute(\"width\"));\n        },\n        set: (val) => {\n            canvas.setAttribute(\"width\", `${Math.floor(val)}`);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n    Object.defineProperty(canvas, \"height\", {\n        get() {\n            return Number(canvas.getAttribute(\"height\"));\n        },\n        set: (val) => {\n            canvas.setAttribute(\"height\", `${Math.floor(val)}`);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n    const { drawImage } = ctx;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    ctx.drawImage = function (img, ...args) {\n        if (img !== canvas || ratio === 1) {\n            return drawImage.call(this, img, ...args);\n        }\n        this.save();\n        try {\n            this.scale(1 / ratio, 1 / ratio);\n            if (args.length > 4) {\n                args[4] *= ratio;\n                args[5] *= ratio;\n            }\n            else {\n                args[0] *= ratio;\n                args[1] *= ratio;\n            }\n            return drawImage.call(this, img, ...args);\n        }\n        finally {\n            this.restore();\n        }\n    };\n    return canvas;\n}\nexports.transform = transform;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.iconPropKeys = exports.toNormarizeArray = exports.getIconProps = void 0;\nconst ICON_PROP_KEYS = [\n    \"content\",\n    \"font\",\n    \"color\",\n    \"className\",\n    \"tagName\",\n    \"isLiga\",\n    \"width\",\n    \"src\",\n    \"svg\",\n    \"name\",\n    \"path\",\n];\nfunction quote(name) {\n    const quoted = [];\n    const split = name.split(/,\\s*/);\n    for (let i = 0; i < split.length; i++) {\n        const part = split[i].replace(/['\"]/g, \"\");\n        if (part.indexOf(\" \") === -1 && !/^\\d/.test(part)) {\n            quoted.push(part);\n        }\n        else {\n            quoted.push(`'${part}'`);\n        }\n    }\n    return quoted.join(\",\");\n}\nconst doms = {};\nconst props = {};\nfunction getIconProps(tagName, className) {\n    const tagProps = props[tagName] || (props[tagName] = {});\n    if (tagProps[className]) {\n        return tagProps[className];\n    }\n    const dom = doms[tagName] || (doms[tagName] = document.createElement(tagName));\n    dom.className = className;\n    document.body.appendChild(dom);\n    try {\n        const beforeStyle = (document.defaultView || window).getComputedStyle(dom, \"::before\");\n        let content = beforeStyle.getPropertyValue(\"content\");\n        if (content.length >= 3 && (content[0] === '\"' || content[0] === \"'\")) {\n            if (content[0] === content[content.length - 1]) {\n                content = content.substr(1, content.length - 2);\n            }\n        }\n        let font = beforeStyle.getPropertyValue(\"font\");\n        if (!font) {\n            font = `${beforeStyle.getPropertyValue(\"font-style\")} ${beforeStyle.getPropertyValue(\"font-variant\")} ${beforeStyle.getPropertyValue(\"font-weight\")} ${beforeStyle.getPropertyValue(\"font-size\")}/${beforeStyle.getPropertyValue(\"line-height\")} ${quote(beforeStyle.getPropertyValue(\"font-family\"))}`;\n        }\n        const color = beforeStyle.getPropertyValue(\"color\");\n        const width = dom.clientWidth;\n        const isLiga = (beforeStyle.getPropertyValue(\"font-feature-settings\") || \"\").indexOf(\"liga\") > -1;\n        return (tagProps[className] = {\n            content,\n            font,\n            color,\n            width,\n            isLiga,\n        });\n    }\n    finally {\n        document.body.removeChild(dom);\n    }\n}\nexports.getIconProps = getIconProps;\nfunction toPropArray(prop, count) {\n    const result = [];\n    if (Array.isArray(prop)) {\n        result.push(...prop);\n        for (let i = prop.length; i < count; i++) {\n            result.push(null);\n        }\n    }\n    else {\n        for (let i = 0; i < count; i++) {\n            result.push(prop);\n        }\n    }\n    return result;\n}\nfunction toSimpleArray(iconProps) {\n    if (!iconProps) {\n        return iconProps;\n    }\n    else if (Array.isArray(iconProps)) {\n        return iconProps;\n    }\n    const workData = {};\n    let count = 0;\n    ICON_PROP_KEYS.forEach((k) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const prop = iconProps[k];\n        if (prop) {\n            if (Array.isArray(prop)) {\n                count = Math.max(count, prop.length);\n            }\n            else {\n                count = Math.max(count, 1);\n            }\n        }\n    });\n    ICON_PROP_KEYS.forEach((k) => {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const arr = toPropArray(iconProps[k], count);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        workData[k] = arr;\n    });\n    const result = [];\n    for (let i = 0; i < count; i++) {\n        const data = {};\n        ICON_PROP_KEYS.forEach((k) => {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            const val = workData[k][i];\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data[k] = val;\n        });\n        result.push(data);\n    }\n    return result;\n}\nfunction normarize(iconProps) {\n    const data = {};\n    for (const k in iconProps) {\n        if (k === \"className\") {\n            continue;\n        }\n        if (isIconKey(k)) {\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any\n            data[k] = iconProps[k];\n        }\n    }\n    if (iconProps.className) {\n        const prop = getIconProps(iconProps.tagName || \"i\", iconProps.className);\n        for (const k in prop) {\n            if (isIconKey(k)) {\n                if (iconProps[k] == null) {\n                    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                    data[k] = prop[k];\n                }\n            }\n        }\n    }\n    return data;\n}\nfunction toNormarizeArray(iconProps) {\n    const icons = toSimpleArray(iconProps);\n    if (!icons) {\n        return icons;\n    }\n    return icons.map((icon) => normarize(icon));\n}\nexports.toNormarizeArray = toNormarizeArray;\nexports.iconPropKeys = ICON_PROP_KEYS;\nfunction isIconKey(k) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    return ICON_PROP_KEYS.indexOf(k) >= 0;\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCacheOrLoad = exports.loadImage = void 0;\nconst LRUCache_1 = require(\"./LRUCache\");\nconst utils_1 = require(\"./utils\");\nconst allCache = {};\nfunction loadImage(src) {\n    if (typeof Promise === \"undefined\") {\n        console.error(\"Promise is not loaded. load Promise before this process.\");\n        return {\n            then() {\n                return this;\n            },\n        };\n    }\n    const img = new Image();\n    const result = new Promise((resolve) => {\n        img.onload = () => {\n            resolve(img);\n        };\n    });\n    img.onerror = () => {\n        const url = src.length > 200 ? `${src.substr(0, 200)}...` : src;\n        console.warn(`cannot load: ${url}`);\n        throw new Error(`IMAGE LOAD ERROR: ${url}`);\n    };\n    img.src = src;\n    return result;\n}\nexports.loadImage = loadImage;\nfunction getCacheOrLoad0(cache, src) {\n    return utils_1.then(src, (src) => {\n        const c = cache.get(src);\n        if (c) {\n            return c;\n        }\n        const result = loadImage(src).then((img) => {\n            cache.put(src, img);\n            return img;\n        });\n        cache.put(src, result);\n        return result;\n    });\n}\nfunction getCacheOrLoad(cacheName, cacheSize, src) {\n    const cache = allCache[cacheName] ||\n        (allCache[cacheName] = new LRUCache_1.LRUCache(cacheSize));\n    return getCacheOrLoad0(cache, src);\n}\nexports.getCacheOrLoad = getCacheOrLoad;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Path2DShim = void 0;\nconst PathCommandsParser_1 = require(\"./PathCommandsParser\");\nconst parser = new PathCommandsParser_1.PathCommandsParser();\nclass Path2DShim {\n    constructor(arg) {\n        this._ops = [];\n        if (arg === undefined) {\n            return;\n        }\n        if (typeof arg === \"string\") {\n            // try {\n            this._ops = parser.parse(arg);\n            // } catch (e) {\n            // \tthrow e;\n            // }\n        }\n        else if (arg.hasOwnProperty(\"_ops\")) {\n            this._ops = [...arg._ops];\n        }\n        else {\n            throw new Error(`Error: ${typeof arg} is not a valid argument to Path`);\n        }\n    }\n    arc(...args) {\n        this._ops.push({ op: \"arc\", args });\n    }\n    arcTo(...args) {\n        this._ops.push({ op: \"arcTo\", args });\n    }\n    bezierCurveTo(...args) {\n        this._ops.push({ op: \"bezierCurveTo\", args });\n    }\n    closePath(...args) {\n        this._ops.push({ op: \"closePath\", args });\n    }\n    ellipse(...args) {\n        this._ops.push({ op: \"ellipse\", args });\n    }\n    lineTo(...args) {\n        this._ops.push({ op: \"lineTo\", args });\n    }\n    moveTo(...args) {\n        this._ops.push({ op: \"moveTo\", args });\n    }\n    quadraticCurveTo(...args) {\n        this._ops.push({ op: \"quadraticCurveTo\", args });\n    }\n    rect(...args) {\n        this._ops.push({ op: \"rect\", args });\n    }\n}\nexports.Path2DShim = Path2DShim;\nconst { CanvasRenderingContext2D } = window;\nconst originalFill = CanvasRenderingContext2D.prototype.fill;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nCanvasRenderingContext2D.prototype.fill = function (...args) {\n    if (args[0] instanceof Path2DShim) {\n        const path = args[0];\n        this.beginPath();\n        path._ops.forEach((op) => {\n            const fn = this[op.op];\n            fn.apply(this, op.args);\n        });\n        originalFill.apply(this, Array.prototype.slice.call(args, 1));\n    }\n    else {\n        originalFill.apply(this, args);\n    }\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathCommands = void 0;\n/*eslint new-cap: \"off\"*/\nfunction mag(v) {\n    return Math.sqrt(Math.pow(v[0], 2) + Math.pow(v[1], 2));\n}\nfunction dot(u, v) {\n    return u[0] * v[0] + u[1] * v[1];\n}\nfunction ratio(u, v) {\n    return dot(u, v) / (mag(u) * mag(v));\n}\nfunction clamp(value, min, max) {\n    return Math.min(Math.max(value, min), max);\n}\nfunction angle(u, v) {\n    let sign = 1.0;\n    if (u[0] * v[1] - u[1] * v[0] < 0) {\n        sign = -1.0;\n    }\n    return sign * Math.acos(clamp(ratio(u, v), -1, 1));\n}\nfunction rotClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] + sint * v[1], -1 * sint * v[0] + cost * v[1]];\n}\nfunction rotCounterClockwise(v, angle) {\n    const cost = Math.cos(angle);\n    const sint = Math.sin(angle);\n    return [cost * v[0] - sint * v[1], sint * v[0] + cost * v[1]];\n}\nfunction midPoint(u, v) {\n    return [(u[0] - v[0]) / 2.0, (u[1] - v[1]) / 2.0];\n}\nfunction meanVec(u, v) {\n    return [(u[0] + v[0]) / 2.0, (u[1] + v[1]) / 2.0];\n}\nfunction pointMul(u, v) {\n    return [u[0] * v[0], u[1] * v[1]];\n}\nfunction scale(c, v) {\n    return [c * v[0], c * v[1]];\n}\nfunction sum(u, v) {\n    return [u[0] + v[0], u[1] + v[1]];\n}\n// Convert an SVG elliptical arc to a series of canvas commands.\n//\n// x1, y1, x2, y2: start and stop coordinates of the ellipse.\n// rx, ry: radii of the ellipse.\n// phi: rotation of the ellipse.\n// fA: large arc flag.\n// fS: sweep flag.\nfunction ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, phi, fA, fS, x2, y2) {\n    // Convert from endpoint to center parametrization, as detailed in:\n    //   http://www.w3.org/TR/SVG/implnote.html#ArcImplementationNotes\n    if (rx === 0 || ry === 0) {\n        ctx.lineTo(x2, x1);\n        return;\n    }\n    phi *= Math.PI / 180.0;\n    rx = Math.abs(rx);\n    ry = Math.abs(ry);\n    const xPrime = rotClockwise(midPoint([x1, y1], [x2, y2]), phi); // F.6.5.1\n    const xPrime2 = pointMul(xPrime, xPrime);\n    let rx2 = Math.pow(rx, 2);\n    let ry2 = Math.pow(ry, 2);\n    const lambda = Math.sqrt(xPrime2[0] / rx2 + xPrime2[1] / ry2);\n    if (lambda > 1) {\n        rx *= lambda;\n        ry *= lambda;\n        rx2 = Math.pow(rx, 2);\n        ry2 = Math.pow(ry, 2);\n    }\n    let factor = Math.sqrt(Math.abs(rx2 * ry2 - rx2 * xPrime2[1] - ry2 * xPrime2[0]) /\n        (rx2 * xPrime2[1] + ry2 * xPrime2[0]));\n    if (fA === fS) {\n        factor *= -1.0;\n    }\n    const cPrime = scale(factor, [(rx * xPrime[1]) / ry, (-ry * xPrime[0]) / rx]); // F.6.5.2\n    const c = sum(rotCounterClockwise(cPrime, phi), meanVec([x1, y1], [x2, y2])); // F.6.5.3\n    const x1UnitVector = [\n        (xPrime[0] - cPrime[0]) / rx,\n        (xPrime[1] - cPrime[1]) / ry,\n    ];\n    const x2UnitVector = [\n        (-1.0 * xPrime[0] - cPrime[0]) / rx,\n        (-1.0 * xPrime[1] - cPrime[1]) / ry,\n    ];\n    const theta = angle([1, 0], x1UnitVector); // F.6.5.5\n    const deltaTheta = angle(x1UnitVector, x2UnitVector); // F.6.5.6\n    const start = theta;\n    const end = theta + deltaTheta;\n    ctx.save();\n    ctx.translate(c[0], c[1]);\n    ctx.rotate(phi);\n    ctx.scale(rx, ry);\n    ctx.arc(0, 0, 1, start, end, !fS);\n    ctx.restore();\n}\nclass PathCommands {\n    constructor(ctx) {\n        let lMx;\n        let lMy;\n        let lx = 0;\n        let ly = 0;\n        let reflected;\n        let lastCommand = \"\";\n        function makeReflected() {\n            if (\"CcSsQqTt\".indexOf(lastCommand) < 0) {\n                return { x: lx, y: ly };\n            }\n            return reflected;\n        }\n        this.M = (px, py) => {\n            ctx.moveTo(px, py);\n            lMx = px;\n            lMy = py;\n            lx = px;\n            ly = py;\n            lastCommand = \"M\";\n            return this;\n        };\n        this.m = (px, py) => this.M(px + lx, py + ly);\n        this.L = (px, py) => {\n            ctx.lineTo(px, py);\n            lx = px;\n            ly = py;\n            lastCommand = \"L\";\n            return this;\n        };\n        this.l = (px, py) => this.L(px + lx, py + ly);\n        this.H = (px) => this.L(px, ly);\n        this.h = (px) => this.H(px + lx);\n        this.V = (py) => this.L(lx, py);\n        this.v = (py) => this.V(py + ly);\n        this.Z = () => {\n            ctx.closePath();\n            lx = lMx;\n            ly = lMy;\n            lastCommand = \"Z\";\n            return this;\n        };\n        this.z = () => this.Z();\n        //C x1 y1, x2 y2, x y (or c dx1 dy1, dx2 dy2, dx dy)\n        this.C = (cp1x, cp1y, cp2x, cp2y, px, py) => {\n            ctx.bezierCurveTo(cp1x, cp1y, cp2x, cp2y, px, py);\n            lx = px;\n            ly = py;\n            reflected = {\n                x: 2 * px - cp2x,\n                y: 2 * py - cp2y,\n            };\n            lastCommand = \"C\";\n            return this;\n        };\n        this.c = (cp1x, cp1y, cp2x, cp2y, px, py) => this.C(cp1x + lx, cp1y + ly, cp2x + lx, cp2y + ly, px + lx, py + ly);\n        //S x2 y2, x y (or s dx2 dy2, dx dy)\n        this.S = (cpx, cpy, px, py) => {\n            const { x: cp1x, y: cp1y } = makeReflected( /*lastCommand*/);\n            return this.C(cp1x, cp1y, cpx, cpy, px, py);\n        };\n        this.s = (cpx, cpy, px, py) => this.S(cpx + lx, cpy + ly, px + lx, py + ly);\n        //Q x1 y1, x y (or q dx1 dy1, dx dy)\n        this.Q = (cpx, cpy, px, py) => {\n            ctx.quadraticCurveTo(cpx, cpy, px, py);\n            lx = px;\n            ly = py;\n            reflected = {\n                x: 2 * px - cpx,\n                y: 2 * py - cpy,\n            };\n            lastCommand = \"Q\";\n            return this;\n        };\n        this.q = (cpx, cpy, px, py) => this.Q(cpx + lx, cpy + ly, px + lx, py + ly);\n        //T x y (or t dx dy)\n        this.T = (px, py) => {\n            const { x: cpx, y: cpy } = makeReflected();\n            return this.Q(cpx, cpy, px, py);\n        };\n        this.t = (px, py) => this.T(px + lx, py + ly);\n        //A rx ry x-axis-rotation large-arc-flag sweep-flag x y\n        this.A = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => {\n            const x1 = lx;\n            const y1 = ly;\n            ellipseFromEllipticalArc(ctx, x1, y1, rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py);\n            lx = px;\n            ly = py;\n            lastCommand = \"A\";\n            return this;\n        };\n        //a rx ry x-axis-rotation large-arc-flag sweep-flag dx dy\n        this.a = (rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px, py) => this.A(rx, ry, xAxisRotation, largeArcFlag, sweepFlag, px + lx, py + ly);\n    }\n}\nexports.PathCommands = PathCommands;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PathCommandsParser = void 0;\nconst PathCommands_1 = require(\"./PathCommands\");\nfunction pathTokens(d) {\n    let idx = 0;\n    return {\n        next() {\n            let s = \"\";\n            while (d.length > idx) {\n                const c = d[idx];\n                idx++;\n                if (\" ,\\n\\r\\t\".indexOf(c) > -1) {\n                    if (s) {\n                        return s;\n                    }\n                }\n                else {\n                    const type = \".+-1234567890\".indexOf(c) > -1 ? \"num\" : \"str\";\n                    if (type === \"str\") {\n                        if (s) {\n                            idx--;\n                            return s;\n                        }\n                        return c;\n                    }\n                    if (\"-+\".indexOf(c) > -1) {\n                        if (s) {\n                            idx--;\n                            return s;\n                        }\n                    }\n                    if (c === \".\") {\n                        if (s.indexOf(\".\") > -1) {\n                            idx--;\n                            return s;\n                        }\n                    }\n                    s += c;\n                }\n            }\n            return s || null;\n        },\n    };\n}\nfunction command(builder, cmd, argsProvider) {\n    if (cmd.toUpperCase() === \"M\" ||\n        cmd.toUpperCase() === \"L\" ||\n        cmd.toUpperCase() === \"T\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next());\n        return cmd === \"M\" ? \"L\" : cmd === \"m\" ? \"l\" : cmd;\n    }\n    else if (cmd.toUpperCase() === \"H\" || cmd.toUpperCase() === \"V\") {\n        builder.command(cmd, argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"Z\") {\n        builder.command(cmd);\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"C\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"S\" || cmd.toUpperCase() === \"Q\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else if (cmd.toUpperCase() === \"A\") {\n        builder.command(cmd, argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next(), argsProvider.next());\n        return cmd;\n    }\n    else {\n        // https://developer.mozilla.org/ja/docs/Web/SVG/Tutorial/Paths\n        console.warn(`unsupported:${cmd}`);\n    }\n    return null;\n}\nclass PathCommandsParser {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this._ops = [];\n        this._commands = new PathCommands_1.PathCommands(this);\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const buildPush = (op) => (...args) => {\n            this._ops.push({\n                op,\n                args,\n            });\n        };\n        this.moveTo = buildPush(\"moveTo\");\n        this.lineTo = buildPush(\"lineTo\");\n        this.closePath = buildPush(\"closePath\");\n        this.bezierCurveTo = buildPush(\"bezierCurveTo\");\n        this.quadraticCurveTo = buildPush(\"quadraticCurveTo\");\n        this.save = buildPush(\"save\");\n        this.translate = buildPush(\"translate\");\n        this.rotate = buildPush(\"rotate\");\n        this.scale = buildPush(\"scale\");\n        this.arc = buildPush(\"arc\");\n        this.restore = buildPush(\"restore\");\n        this.arcTo = buildPush(\"arcTo\");\n        this.ellipse = buildPush(\"ellipse\");\n        this.rect = buildPush(\"rect\");\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    command(name, ...args) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        const numArgs = args || [];\n        for (let i = 0; i < args.length; i++) {\n            numArgs[i] -= 0;\n        }\n        const command = this._commands[name];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        command.apply(this, numArgs);\n    }\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    parse(d) {\n        const ops = (this._ops = []);\n        const tokens = pathTokens(d);\n        try {\n            let cmd;\n            let subsequentCommand = \"Z\";\n            while ((cmd = tokens.next())) {\n                if (!isNaN(Number(cmd))) {\n                    let fst = true;\n                    const argsProvider = {\n                        next() {\n                            if (fst) {\n                                fst = false;\n                                return cmd;\n                            }\n                            return tokens.next();\n                        },\n                    };\n                    subsequentCommand =\n                        command(this, subsequentCommand, argsProvider) || \"Z\";\n                }\n                else {\n                    subsequentCommand =\n                        command(this, cmd, tokens) || \"Z\";\n                }\n            }\n        }\n        catch (e) {\n            console.log(`Error: ${d}`);\n            throw e;\n        }\n        return ops;\n    }\n}\nexports.PathCommandsParser = PathCommandsParser;\n","\"use strict\";\n//see https://github.com/typekit/webfontloader\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FontRuler = void 0;\nfunction computeStyle(font) {\n    return [\n        {\n            display: \"block\",\n            position: \"absolute\",\n            top: \"-9999px\",\n            left: \"-9999px\",\n            width: \"auto\",\n            height: \"auto\",\n            margin: \"0\",\n            padding: \"0\",\n            \"white-space\": \"nowrap\",\n            font,\n        },\n        {\n            \"font-variant\": \"normal\",\n            \"font-size\": \"300px\",\n            \"font-style\": \"normal\",\n            \"font-weight\": \"400\",\n            \"line-height\": \"normal\",\n        },\n    ];\n}\nclass FontRuler {\n    constructor(font, testStr) {\n        const e = document.createElement(\"span\");\n        e.setAttribute(\"aria-hidden\", \"true\");\n        e.textContent = testStr || \"BESbswy\";\n        computeStyle(font).forEach((style) => {\n            for (const k in style) {\n                const key = k;\n                // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                e.style[key] = style[key];\n            }\n        });\n        document.body.appendChild(e);\n        this.el_ = e;\n    }\n    getWidth() {\n        return this.el_.offsetWidth;\n    }\n    remove() {\n        document.body.removeChild(this.el_);\n    }\n}\nexports.FontRuler = FontRuler;\n","\"use strict\";\n//see https://github.com/typekit/webfontloader\n//http://defghi1977.html.xdomain.jp/tech/canvasMemo/canvasMemo.htm\nconst FontRuler_1 = require(\"./FontRuler\");\nconst LastResortFonts = {\n    SERIF: \"serif\",\n    SANS_SERIF: \"sans-serif\",\n};\nconst watchRunners = {};\nclass FontWatchRunner {\n    constructor(font, testStr) {\n        this.activeCallbacks = [];\n        this.inactiveCallbacks = [];\n        this.status = null;\n        this.lastResortWidths_ = {};\n        this.fontRulerA_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SERIF}`, testStr);\n        this.fontRulerB_ = new FontRuler_1.FontRuler(`${font},${LastResortFonts.SANS_SERIF}`, testStr);\n        const lastResortRulerA = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SERIF}`, testStr);\n        const lastResortRulerB = new FontRuler_1.FontRuler(`4px ${LastResortFonts.SANS_SERIF}`, testStr);\n        //start\n        this.lastResortWidths_[LastResortFonts.SERIF] = lastResortRulerA.getWidth();\n        this.lastResortWidths_[LastResortFonts.SANS_SERIF] = lastResortRulerB.getWidth();\n        lastResortRulerA.remove();\n        lastResortRulerB.remove();\n        this.started_ = Date.now();\n        this.check_();\n    }\n    static load(font, testStr, activeCallback, inactiveCallback) {\n        const c = watchRunners[font] || (watchRunners[font] = {});\n        testStr += \"\";\n        let runner;\n        if (c[testStr]) {\n            runner = c[testStr];\n        }\n        else {\n            runner = c[testStr] = new FontWatchRunner(font, testStr);\n        }\n        runner.then(activeCallback, inactiveCallback);\n    }\n    then(activeCallback, inactiveCallback) {\n        if (this.status) {\n            if (this.status !== \"ng\") {\n                activeCallback();\n            }\n            else {\n                inactiveCallback();\n            }\n        }\n        else {\n            this.activeCallbacks.push(activeCallback);\n            this.inactiveCallbacks.push(inactiveCallback);\n        }\n    }\n    check_() {\n        const widthA = this.fontRulerA_.getWidth();\n        const widthB = this.fontRulerB_.getWidth();\n        if (this.isFallbackFont_(widthA, widthB) ||\n            this.isLastResortFont_(widthA, widthB)) {\n            if (Date.now() - this.started_ >= 3000) {\n                // timeout\n                if (this.isLastResortFont_(widthA, widthB)) {\n                    this.finish_(this.activeCallbacks);\n                    this.status = \"ok\";\n                }\n                else {\n                    this.finish_(this.inactiveCallbacks);\n                    this.status = \"ng\";\n                }\n            }\n            else {\n                setTimeout(() => {\n                    this.check_();\n                }, 50);\n            }\n        }\n        else {\n            this.finish_(this.activeCallbacks);\n            this.status = \"ok\";\n        }\n    }\n    isFallbackFont_(a, b) {\n        return (this.widthMatches_(a, LastResortFonts.SERIF) &&\n            this.widthMatches_(b, LastResortFonts.SANS_SERIF));\n    }\n    widthsMatchLastResortWidths_(a, b) {\n        for (const font in LastResortFonts) {\n            if (LastResortFonts.hasOwnProperty(font)) {\n                if (this.widthMatches_(a, LastResortFonts[font]) &&\n                    this.widthMatches_(b, LastResortFonts[font])) {\n                    return true;\n                }\n            }\n        }\n        return false;\n    }\n    widthMatches_(width, lastResortFont) {\n        return width === this.lastResortWidths_[lastResortFont];\n    }\n    isLastResortFont_(a, b) {\n        return hasWebKitFallbackBug() && this.widthsMatchLastResortWidths_(a, b);\n    }\n    finish_(callbacks) {\n        setTimeout(() => {\n            this.fontRulerA_.remove();\n            this.fontRulerB_.remove();\n            callbacks.forEach((cb) => cb());\n        }, 0);\n    }\n}\nlet HAS_WEBKIT_FALLBACK_BUG = null;\nfunction hasWebKitFallbackBug() {\n    if (HAS_WEBKIT_FALLBACK_BUG === null) {\n        const match = /AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent);\n        HAS_WEBKIT_FALLBACK_BUG =\n            !!match &&\n                (parseInt(match[1], 10) < 536 ||\n                    (parseInt(match[1], 10) === 536 && parseInt(match[2], 10) <= 11));\n    }\n    return HAS_WEBKIT_FALLBACK_BUG;\n}\nmodule.exports = FontWatchRunner;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.normalizeToFn = exports.normalize = void 0;\n/** @private */\nfunction extend(a, b) {\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    const o = {};\n    for (const k in a) {\n        o[k] = a[k];\n    }\n    for (const k in b) {\n        o[k] = b[k];\n    }\n    return o;\n}\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\nfunction normalize(options) {\n    if (!options) {\n        return [];\n    }\n    if (Array.isArray(options)) {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return options.map(\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        (e) => extend(e, { label: e.caption || e.label }));\n    }\n    if (typeof options === \"string\") {\n        return normalize(JSON.parse(options));\n    }\n    const result = [];\n    for (const k in options) {\n        result.push({\n            value: k,\n            label: options[k],\n        });\n    }\n    return result;\n}\nexports.normalize = normalize;\n/**\n * Normalize the given menu options.\n * @param {*} options menu options to given\n * @returns {Array} Normalized options\n * @private\n */\nfunction normalizeToFn(options) {\n    if (typeof options === \"function\") {\n        return (record) => normalize(options(record));\n    }\n    return () => normalize(options);\n}\nexports.normalizeToFn = normalizeToFn;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parsePasteRangeBoxValues = void 0;\nfunction parsePasteRangeBoxValues(value) {\n    const normalizeValue = value.replace(/\\r?\\n$/, \"\");\n    const lines = normalizeValue.split(/(?:\\r?\\n)|[\\u2028\\u2029]/g);\n    const values = lines.map((line) => line.split(/\\t/g));\n    const colCount = values.reduce((n, cells) => Math.max(n, cells.length), 0);\n    return {\n        colCount,\n        rowCount: values.length,\n        getCellValue(offsetCol, offsetRow) {\n            var _a;\n            return ((_a = values[offsetRow]) === null || _a === void 0 ? void 0 : _a[offsetCol]) || \"\";\n        },\n    };\n}\nexports.parsePasteRangeBoxValues = parsePasteRangeBoxValues;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fill = exports.getPath2D = void 0;\nconst utils_1 = require(\"./utils\");\nfunction getPath2D() {\n    if (typeof Path2D !== \"undefined\" && !utils_1.browser.Edge) {\n        return Path2D;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-var-requires\n    return require(\"./legacy/canvas/Path2DShim\").Path2DShim;\n}\nexports.getPath2D = getPath2D;\nfunction fill(pathModule, ctx, x, y, w, h) {\n    ctx.save();\n    try {\n        const { width, height } = pathModule;\n        const { ud: upsideDown, x: offsetX = 0, y: offsetY = 0 } = pathModule;\n        w = w || width;\n        h = h || height;\n        const xrate = w / width;\n        const yrate = h / (upsideDown ? -height : height);\n        x = x || 0;\n        y = upsideDown ? (y || 0) + -height * yrate : y || 0;\n        ctx.translate(x, y);\n        ctx.scale(xrate, yrate);\n        if (offsetX !== 0 || offsetY !== 0) {\n            ctx.translate(offsetX, offsetY);\n        }\n        const Path2D = getPath2D();\n        const path2d = (pathModule.path2d =\n            pathModule.path2d || new Path2D(pathModule.d));\n        ctx.fill(path2d);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.fill = fill;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.sortPromise = exports.sort = exports.sortArray = void 0;\nconst utils_1 = require(\"./utils\");\nfunction createArray(get, length) {\n    const array = new Array(length);\n    for (let i = 0; i < length; i++) {\n        array[i] = get(i);\n    }\n    return array;\n}\nfunction createArrayPromise(get, getField, length\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\n) {\n    return new Promise((resolve) => {\n        const plist = [];\n        const array = new Array(length);\n        for (let i = 0; i < length; i++) {\n            const data = get(i);\n            const record = {\n                v: data,\n                f: data,\n            };\n            array[i] = record;\n            if (utils_1.isPromise(data)) {\n                plist.push(data.then((v) => {\n                    record.v = v;\n                    record.f = v;\n                }));\n            }\n        }\n        Promise.all(plist)\n            .then(() => getField == null\n            ? // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                array\n            : // eslint-disable-next-line @typescript-eslint/no-explicit-any\n                setArrayField(array, getField))\n            .then(resolve);\n    });\n}\nfunction setArrayField(array, getField) {\n    return new Promise((resolve) => {\n        const { length } = array;\n        const plist = [];\n        for (let i = 0; i < length; i++) {\n            const record = array[i];\n            const f = getField(record.v);\n            if (utils_1.isPromise(f)) {\n                plist.push(f.then((v) => {\n                    record.f = v;\n                }));\n            }\n            else {\n                record.f = f;\n            }\n        }\n        Promise.all(plist).then(() => resolve(array));\n    });\n}\nfunction sortArray(array, compare) {\n    Array.prototype.sort.call(array, compare);\n}\nexports.sortArray = sortArray;\nfunction sort(get, set, length, compare, getField) {\n    const old = createArray(get, length);\n    if (getField != null) {\n        old.sort((r1, r2) => compare(getField(r1), getField(r2)));\n    }\n    else {\n        old.sort(compare);\n    }\n    for (let i = 0; i < length; i++) {\n        set(i, old[i]);\n    }\n}\nexports.sort = sort;\nfunction sortPromise(get, set, length, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ncompare, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngetField) {\n    if (typeof Promise !== \"undefined\") {\n        return createArrayPromise(get, getField, length).then((array) => {\n            array.sort((r1, r2) => compare(r1.f, r2.f));\n            for (let i = 0; i < length; i++) {\n                set(i, array[i].v);\n            }\n        });\n    }\n    else {\n        sort(get, set, length, compare, getField);\n        const dummyPromise = {\n            then(fn) {\n                fn();\n                return dummyPromise;\n            },\n            catch() {\n                return dummyPromise;\n            },\n        };\n        return dummyPromise;\n    }\n}\nexports.sortPromise = sortPromise;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getScrollBarSize = exports.initDocument = void 0;\nfunction getScrollBarWidth() {\n    const dummy = document.createElement(\"div\");\n    const { style } = dummy;\n    style.position = \"absolute\";\n    style.height = \"9999px\";\n    style.width = \"calc(100vw - 100%)\";\n    style.opacity = \"0\";\n    dummy.textContent = \"x\";\n    document.body.appendChild(dummy);\n    const { width } = (document.defaultView || window).getComputedStyle(dummy, \"\");\n    document.body.removeChild(dummy);\n    return parseInt(width, 10);\n}\nlet SCROLLBAR_SIZE;\nfunction initDocumentInternal() {\n    require(\"@/internal/style.css\");\n    SCROLLBAR_SIZE = getScrollBarWidth() || 10;\n    const style = document.createElement(\"style\");\n    style.setAttribute(\"type\", \"text/css\");\n    style.setAttribute(\"data-name\", \"cheetah-grid\");\n    style.innerHTML = `\n.cheetah-grid .grid-scroll-end-point {\n\twidth: ${SCROLLBAR_SIZE}px;\n\theight: ${SCROLLBAR_SIZE}px;\n}\n.cheetah-grid > canvas {\n\twidth: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\twidth: calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: -webkit-calc(100% - ${SCROLLBAR_SIZE}px);\n\theight: calc(100% - ${SCROLLBAR_SIZE}px);\n}\n\t\t`;\n    document.head.appendChild(style);\n}\nlet initDocumentVar = initDocumentInternal;\nfunction initDocument() {\n    initDocumentVar();\n    initDocumentVar = Function.prototype;\n}\nexports.initDocument = initDocument;\nfunction getScrollBarSize() {\n    return SCROLLBAR_SIZE;\n}\nexports.getScrollBarSize = getScrollBarSize;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getCheckHeaderStateId = exports.getInlineMenuEditorStateId = exports.getInlineInputEditorStateId = exports.getSmallDialogInputEditorStateId = exports.getBranchGraphColumnStateId = exports.getColumnFadeinStateId = exports.getButtonColumnStateId = exports.getRadioColumnStateId = exports.getCheckColumnStateId = exports.getProtectedSymbol = exports.get = void 0;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nconst utils_1 = require(\"./utils\");\nconst Symbol = utils_1.isNode\n    ? global.Symbol\n    : window.Symbol\n        ? window.Symbol\n        : (() => {\n            function random() {\n                const c = \"abcdefghijklmnopqrstuvwxyz0123456789\";\n                const cl = c.length;\n                let r = \"\";\n                for (let i = 0; i < 10; i++) {\n                    r += c[Math.floor(Math.random() * cl)];\n                }\n                return r;\n            }\n            return (name) => {\n                if (name) {\n                    return `#${name}_${random()}`;\n                }\n                else {\n                    return `#_${random()}`;\n                }\n            };\n        })();\nconst mem = {};\nfunction get(name) {\n    if (name) {\n        return (mem[name] ? mem[name] : (mem[name] = Symbol(name)));\n    }\n    else {\n        return Symbol();\n    }\n}\nexports.get = get;\nfunction getProtectedSymbol() {\n    return get(\"protected\");\n}\nexports.getProtectedSymbol = getProtectedSymbol;\nfunction getCheckColumnStateId() {\n    return get(\"chkcol.stateID\");\n}\nexports.getCheckColumnStateId = getCheckColumnStateId;\nfunction getRadioColumnStateId() {\n    return get(\"rdcol.stateID\");\n}\nexports.getRadioColumnStateId = getRadioColumnStateId;\nfunction getButtonColumnStateId() {\n    return get(\"btncol.stateID\");\n}\nexports.getButtonColumnStateId = getButtonColumnStateId;\nfunction getColumnFadeinStateId() {\n    return get(\"col.fadein_stateID\");\n}\nexports.getColumnFadeinStateId = getColumnFadeinStateId;\nfunction getBranchGraphColumnStateId() {\n    return get(\"branch_graph_col.stateID\");\n}\nexports.getBranchGraphColumnStateId = getBranchGraphColumnStateId;\nfunction getSmallDialogInputEditorStateId() {\n    return get(\"small_dialog_input_editor.stateID\");\n}\nexports.getSmallDialogInputEditorStateId = getSmallDialogInputEditorStateId;\nfunction getInlineInputEditorStateId() {\n    return get(\"inline_input_editor.stateID\");\n}\nexports.getInlineInputEditorStateId = getInlineInputEditorStateId;\nfunction getInlineMenuEditorStateId() {\n    return get(\"inline_menu_editor.stateID\");\n}\nexports.getInlineMenuEditorStateId = getInlineMenuEditorStateId;\nfunction getCheckHeaderStateId() {\n    return get(\"check_header.stateID\");\n}\nexports.getCheckHeaderStateId = getCheckHeaderStateId;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.emptyFn = exports.style = exports.event = exports.str = exports.obj = exports.browser = exports.cellInRange = exports.cellEquals = exports.array = exports.then = exports.getIgnoreCase = exports.getOrApply = exports.applyChainSafe = exports.getChainSafe = exports.isDescendantElement = exports.isNode = exports.isPromise = exports.extend = exports.defaults = exports.omit = exports.each = void 0;\nconst isNode = typeof window === \"undefined\" || typeof window.window === \"undefined\";\nexports.isNode = isNode;\nlet arrayFind;\nlet arrayFindIndex;\nconst array = {\n    get find() {\n        if (arrayFind) {\n            return arrayFind;\n        }\n        if (Array.prototype.find) {\n            arrayFind = (arr, predicate) => Array.prototype.find.call(arr, predicate);\n        }\n        else {\n            arrayFind = (arr, predicate) => {\n                const index = array.findIndex(arr, predicate);\n                return index >= 0 ? arr[index] : undefined;\n            };\n        }\n        return arrayFind;\n    },\n    get findIndex() {\n        if (arrayFindIndex) {\n            return arrayFindIndex;\n        }\n        if (Array.prototype.findIndex) {\n            arrayFindIndex = (arr, predicate) => Array.prototype.findIndex.call(arr, predicate);\n        }\n        else {\n            arrayFindIndex = (arr, predicate) => {\n                const { length } = arr;\n                for (let i = 0; i < length; i++) {\n                    const value = arr[i];\n                    if (predicate(value, i, arr)) {\n                        return i;\n                    }\n                }\n                return -1;\n            };\n        }\n        return arrayFindIndex;\n    },\n};\nexports.array = array;\nfunction analyzeUserAgent() {\n    if (isNode) {\n        return {\n            IE: false,\n            Edge: false,\n            Chrome: false,\n            Firefox: false,\n            Safari: false,\n        };\n    }\n    else {\n        const ua = window.navigator.userAgent.toLowerCase();\n        return {\n            IE: !!/(msie|trident)/.exec(ua),\n            Edge: ua.indexOf(\"edge\") > -1,\n            Chrome: ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"edge\") === -1,\n            Firefox: ua.indexOf(\"firefox\") > -1,\n            Safari: ua.indexOf(\"safari\") > -1 && ua.indexOf(\"edge\") === -1,\n        };\n    }\n}\nconst { IE, Chrome, Firefox, Edge, Safari } = analyzeUserAgent();\nfunction setReadonly(obj, name, value) {\n    Object.defineProperty(obj, name, {\n        enumerable: false,\n        configurable: true,\n        value,\n    });\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction each(obj, fn) {\n    for (const key in obj) {\n        fn(obj[key], key, obj);\n    }\n}\nexports.each = each;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction isObject(obj) {\n    return obj === Object(obj);\n}\nfunction omit(source, omits) {\n    const result = {};\n    for (const key in source) {\n        if (omits.indexOf(key) >= 0) {\n            continue;\n        }\n        Object.defineProperty(result, key, {\n            get() {\n                return source[key];\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    return result;\n}\nexports.omit = omit;\nfunction defaults(source, defs) {\n    const keys = [];\n    const result = {};\n    for (const key in source) {\n        keys.push(key);\n        Object.defineProperty(result, key, {\n            get() {\n                const val = source[key];\n                return val === undefined ? defs[key] : val;\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    for (const key in defs) {\n        if (keys.indexOf(key) >= 0) {\n            continue;\n        }\n        Object.defineProperty(result, key, {\n            get() {\n                const val = source[key];\n                return val === undefined ? defs[key] : val;\n            },\n            set(val) {\n                source[key] = val;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n    return result;\n}\nexports.defaults = defaults;\nfunction extend(...args) {\n    const result = {};\n    args.forEach((source) => {\n        for (const key in source) {\n            Object.defineProperty(result, key, {\n                get() {\n                    return source[key];\n                },\n                set(val) {\n                    source[key] = val;\n                },\n                configurable: true,\n                enumerable: true,\n            });\n        }\n    });\n    return result;\n}\nexports.extend = extend;\nfunction isDescendantElement(root, target) {\n    while (target.parentElement) {\n        const p = target.parentElement;\n        if (root === p) {\n            return true;\n        }\n        target = p;\n    }\n    return false;\n}\nexports.isDescendantElement = isDescendantElement;\n/* eslint-disable @typescript-eslint/no-explicit-any */\nfunction applyChainSafe(obj, fn, ...names) {\n    let value = obj;\n    for (let i = 0; i < names.length && value != null; i++) {\n        value = fn(value, names[i]);\n    }\n    return value;\n}\nexports.applyChainSafe = applyChainSafe;\nfunction getChainSafe(obj, ...names) {\n    return applyChainSafe(obj, (val, name) => val[name], ...names);\n}\nexports.getChainSafe = getChainSafe;\nfunction getOrApply(value, ...args) {\n    if (typeof value === \"function\") {\n        return value(...args);\n    }\n    else {\n        return value;\n    }\n}\nexports.getOrApply = getOrApply;\n/* eslint-enable @typescript-eslint/no-explicit-any */\nfunction endsWith(str, searchString, position) {\n    const subjectString = str.toString();\n    if (typeof position !== \"number\" ||\n        !isFinite(position) ||\n        Math.floor(position) !== position ||\n        position > subjectString.length) {\n        position = subjectString.length;\n    }\n    position -= searchString.length;\n    const lastIndex = subjectString.lastIndexOf(searchString, position);\n    return lastIndex !== -1 && lastIndex === position;\n}\nfunction genChars(s) {\n    // Surrogate Code Point\n    // [\\uD800-\\uDBFF]\n    // Variation Selectors\n    // FVS [\\u180B-\\u180D]\n    // VS1VS16 [\\uFE00-\\uFE0F]\n    // VS17VS256 \\uDB40[\\uDD00-\\uDDEF]\n    const re = /([\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|\\r\\n|[^\\uD800-\\uDFFF])([\\u180B-\\u180D]|[\\uFE00-\\uFE0F]|\\uDB40[\\uDD00-\\uDDEF])?/g;\n    return {\n        next() {\n            const res = re.exec(s);\n            return res !== null ? res[0] : null;\n        },\n    };\n}\nfunction genWords(s) {\n    const re = /[!-~]+|[^!-~\\s]+|\\s+/g;\n    return {\n        next() {\n            const res = re.exec(s);\n            return res !== null ? res[0] : null;\n        },\n    };\n}\nfunction isPromise(data) {\n    return Boolean(data && typeof data.then === \"function\");\n}\nexports.isPromise = isPromise;\nfunction then(result, callback) {\n    return isPromise(result) ? result.then((r) => callback(r)) : callback(result);\n}\nexports.then = then;\nfunction getMouseButtons(e) {\n    if (e.buttons != null) {\n        return e.buttons;\n    }\n    /*for legacy*/\n    if (e.which != null) {\n        if (e.which === 3) {\n            //right?\n            return 4;\n        }\n        if (e.which === 2) {\n            //middle?\n            return 4;\n        }\n        return e.which; //left or no\n    }\n    if (e.button === 0 || e.button === 1) {\n        return 1; //candidate left\n    }\n    if (e.button === 2) {\n        return 2; // right\n    }\n    return 0; //no or middle?\n}\nfunction getKeyCode(e) {\n    return e.keyCode || e.which;\n}\nfunction isTouchEvent(e) {\n    return !!e.changedTouches;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction getIgnoreCase(obj, name) {\n    if (obj[name]) {\n        return obj[name];\n    }\n    const l = name.toLowerCase();\n    if (obj[l]) {\n        return obj[l];\n    }\n    const u = name.toLowerCase();\n    if (obj[u]) {\n        return obj[u];\n    }\n    for (const k in obj) {\n        if (k.toLowerCase() === l) {\n            return obj[k];\n        }\n    }\n    return undefined;\n}\nexports.getIgnoreCase = getIgnoreCase;\nfunction cancel(e) {\n    e.preventDefault();\n    e.stopPropagation();\n}\nfunction toBoxArray(obj) {\n    if (!Array.isArray(obj)) {\n        return [obj /*top*/, obj /*right*/, obj /*bottom*/, obj /*left*/];\n    }\n    if (obj.length === 3) {\n        return [\n            obj[0] /*top*/,\n            obj[1] /*right*/,\n            obj[2] /*bottom*/,\n            obj[1] /*left*/,\n        ];\n    }\n    if (obj.length === 2) {\n        return [\n            obj[0] /*top*/,\n            obj[1] /*right*/,\n            obj[0] /*bottom*/,\n            obj[1] /*left*/,\n        ];\n    }\n    if (obj.length === 1) {\n        return [\n            obj[0] /*top*/,\n            obj[0] /*right*/,\n            obj[0] /*bottom*/,\n            obj[0] /*left*/,\n        ];\n    }\n    return obj;\n}\nfunction cellEquals(a, b) {\n    return a.col === b.col && a.row === b.row;\n}\nexports.cellEquals = cellEquals;\nfunction cellInRange(range, col, row) {\n    return (range.start.col <= col &&\n        col <= range.end.col &&\n        range.start.row <= row &&\n        row <= range.end.row);\n}\nexports.cellInRange = cellInRange;\nexports.browser = {\n    IE,\n    Edge,\n    Chrome,\n    Firefox,\n    Safari,\n    // Chrome 33554431\n    // FireFox 17895588\n    // IE 10737433\n    heightLimit: Chrome ? 33554431 : Firefox ? 17895588 : 10737433,\n};\nexports.obj = {\n    setReadonly,\n    isObject,\n};\nexports.str = {\n    endsWith,\n    genChars,\n    genWords,\n};\nexports.event = {\n    getMouseButtons,\n    getKeyCode,\n    isTouchEvent,\n    cancel,\n};\nexports.style = {\n    toBoxArray,\n};\nexports.emptyFn = Function.prototype;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LG_EVENT_TYPE = void 0;\nconst DG_EVENT_TYPE_1 = require(\"../core/DG_EVENT_TYPE\");\nconst utils_1 = require(\"../internal/utils\");\nexports.LG_EVENT_TYPE = utils_1.extend(DG_EVENT_TYPE_1.DG_EVENT_TYPE, {\n    CHANGED_VALUE: \"changed_value\",\n    CHANGED_HEADER_VALUE: \"changed_header_value\",\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar simple_header_layout_1 = require(\"./internal/simple-header-layout\");\nObject.defineProperty(exports, \"SimpleHeaderLayoutMap\", { enumerable: true, get: function () { return simple_header_layout_1.SimpleHeaderLayoutMap; } });\nvar multi_layout_1 = require(\"./internal/multi-layout\");\nObject.defineProperty(exports, \"MultiLayoutMap\", { enumerable: true, get: function () { return multi_layout_1.MultiLayoutMap; } });\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MultiLayoutMap = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerAction = __importStar(require(\"../../../header/action\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nconst utils_1 = require(\"./utils\");\nfunction normalizeLayout(layout) {\n    if (Array.isArray(layout)) {\n        return {\n            header: layout,\n            body: layout,\n        };\n    }\n    return layout;\n}\nlet seqId = 0;\nclass LayoutObjectGrid {\n    constructor(layout, transform) {\n        this.objects = [];\n        this.objectGrid = [];\n        this.objectMap = {};\n        this.columnCount = 0;\n        this.columnWidths = [];\n        layout.forEach((rowLayout, row) => {\n            let col = 0;\n            rowLayout.forEach((cell) => {\n                var _a, _b;\n                const id = seqId++;\n                const obj = transform(cell, id);\n                this.objects.push(obj);\n                this.objectMap[id] = obj;\n                col = this._findStartCell(col, row);\n                const rowSpan = Number((_a = cell.rowSpan) !== null && _a !== void 0 ? _a : 1);\n                const colSpan = Number((_b = cell.colSpan) !== null && _b !== void 0 ? _b : 1);\n                const endRow = row + rowSpan;\n                const endCol = col + colSpan;\n                for (let rowIndex = row; rowIndex < endRow; rowIndex++) {\n                    const objectGridRow = this._getObjectGridRow(rowIndex);\n                    for (let colIndex = col; colIndex < endCol; colIndex++) {\n                        objectGridRow[colIndex] = obj;\n                    }\n                }\n                if (colSpan === 1) {\n                    this._setWidthDataIfAbsent(col, cell);\n                }\n                this._useColumnIndex(endCol - 1);\n                col = endCol;\n            });\n        });\n    }\n    get rowCount() {\n        return this.objectGrid.length;\n    }\n    _findStartCell(col, row) {\n        const objectGridRow = this._getObjectGridRow(row);\n        for (let index = col; index < objectGridRow.length; index++) {\n            if (!objectGridRow[index]) {\n                return index;\n            }\n        }\n        return objectGridRow.length;\n    }\n    _getObjectGridRow(row) {\n        return this.objectGrid[row] || (this.objectGrid[row] = []);\n    }\n    _useColumnIndex(col) {\n        if (this.columnCount > col) {\n            return;\n        }\n        this.columnCount = col + 1;\n    }\n    _setWidthDataIfAbsent(col, cell) {\n        if (!this.columnWidths[col]) {\n            if (cell.width != null ||\n                cell.maxWidth != null ||\n                cell.minWidth != null) {\n                this.columnWidths[col] = {\n                    width: cell.width,\n                    maxWidth: cell.maxWidth,\n                    minWidth: cell.minWidth,\n                };\n            }\n        }\n    }\n}\nclass MultiLayoutMap {\n    constructor(layout) {\n        this._columnWidths = [];\n        this._emptyDataCache = new utils_1.EmptyDataCache();\n        const hbLayouut = normalizeLayout(layout);\n        const header = (this._header = new LayoutObjectGrid(hbLayouut.header, (hd, id) => {\n            return {\n                id,\n                caption: hd.caption,\n                field: hd.headerField || hd.field,\n                style: hd.headerStyle,\n                headerType: headerType.ofCell(hd),\n                action: headerAction.ofCell(hd),\n                define: hd,\n            };\n        }));\n        const body = (this._body = new LayoutObjectGrid(hbLayouut.body, (colDef, id) => {\n            return {\n                id,\n                field: colDef.field,\n                width: colDef.width,\n                minWidth: colDef.minWidth,\n                maxWidth: colDef.maxWidth,\n                icon: colDef.icon,\n                message: colDef.message,\n                columnType: columns.type.of(colDef.columnType),\n                action: columns.action.of(colDef.action),\n                style: colDef.style,\n                define: colDef,\n            };\n        }));\n        const columnCount = (this._columnCount = Math.max(header.columnCount, body.columnCount));\n        for (let col = 0; col < columnCount; col++) {\n            const widthDef = header.columnWidths[col] || body.columnWidths[col] || {};\n            this._columnWidths[col] = widthDef;\n        }\n    }\n    get columnWidths() {\n        return this._columnWidths;\n    }\n    get headerRowCount() {\n        return this._header.rowCount;\n    }\n    get bodyRowCount() {\n        return this._body.rowCount;\n    }\n    get colCount() {\n        return this._columnCount;\n    }\n    get headerObjects() {\n        return this._header.objects;\n    }\n    get columnObjects() {\n        return this._body.objects;\n    }\n    getCellId(col, row) {\n        var _a, _b, _c, _d;\n        if (this.headerRowCount <= row) {\n            const bodyRow = row - this.headerRowCount;\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\n            return (_b = (_a = this._body.objectGrid[bodyLayoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n        }\n        //in header\n        return (_d = (_c = this._header.objectGrid[row]) === null || _c === void 0 ? void 0 : _c[col]) === null || _d === void 0 ? void 0 : _d.id;\n    }\n    getHeader(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._header.objectMap[id] ||\n            this._emptyDataCache.getHeader(col, row));\n    }\n    getBody(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._body.objectMap[id] ||\n            this._emptyDataCache.getBody(col, row));\n    }\n    getBodyLayoutRangeById(id) {\n        var _a;\n        for (let row = 0; row < this.bodyRowCount; row++) {\n            const objectGridRow = this._body.objectGrid[row];\n            if (!objectGridRow) {\n                continue;\n            }\n            for (let col = 0; col < this.colCount; col++) {\n                if (id === ((_a = objectGridRow[col]) === null || _a === void 0 ? void 0 : _a.id)) {\n                    return this._getCellRange(this._body, col, row, 0);\n                }\n            }\n        }\n        throw new Error(`can not found body layout @id=${id}`);\n    }\n    getCellRange(col, row) {\n        if (this.headerRowCount <= row) {\n            const recordIndex = this.getRecordIndexByRow(row);\n            const startRow = this.getRecordStartRowByRecordIndex(recordIndex);\n            const bodyRow = row - this.headerRowCount;\n            const bodyLayoutRow = bodyRow % this.bodyRowCount;\n            return this._getCellRange(this._body, col, bodyLayoutRow, startRow);\n        }\n        //in header\n        return this._getCellRange(this._header, col, row, 0);\n    }\n    getRecordIndexByRow(row) {\n        if (row < this.headerRowCount) {\n            return -1;\n        }\n        else {\n            const bodyRow = row - this.headerRowCount;\n            return Math.floor(bodyRow / this.bodyRowCount);\n        }\n    }\n    getRecordStartRowByRecordIndex(index) {\n        return this.headerRowCount + index * this.bodyRowCount;\n    }\n    _getCellRange(\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    layout, col, layoutRow, offsetRow) {\n        var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k;\n        const result = {\n            start: { col, row: layoutRow + offsetRow },\n            end: { col, row: layoutRow + offsetRow },\n        };\n        const { objectGrid } = layout;\n        const id = (_b = (_a = objectGrid[layoutRow]) === null || _a === void 0 ? void 0 : _a[col]) === null || _b === void 0 ? void 0 : _b.id;\n        if (id == null) {\n            return result;\n        }\n        for (let c = col - 1; c >= 0; c--) {\n            if (id !== ((_d = (_c = objectGrid[layoutRow]) === null || _c === void 0 ? void 0 : _c[c]) === null || _d === void 0 ? void 0 : _d.id)) {\n                break;\n            }\n            result.start.col = c;\n        }\n        for (let c = col + 1; c < layout.columnCount; c++) {\n            if (id !== ((_f = (_e = objectGrid[layoutRow]) === null || _e === void 0 ? void 0 : _e[c]) === null || _f === void 0 ? void 0 : _f.id)) {\n                break;\n            }\n            result.end.col = c;\n        }\n        for (let r = layoutRow - 1; r >= 0; r--) {\n            if (id !== ((_h = (_g = objectGrid[r]) === null || _g === void 0 ? void 0 : _g[col]) === null || _h === void 0 ? void 0 : _h.id)) {\n                break;\n            }\n            result.start.row = r + offsetRow;\n        }\n        for (let r = layoutRow + 1; r < layout.rowCount; r++) {\n            if (id !== ((_k = (_j = objectGrid[r]) === null || _j === void 0 ? void 0 : _j[col]) === null || _k === void 0 ? void 0 : _k.id)) {\n                break;\n            }\n            result.end.row = r + offsetRow;\n        }\n        return result;\n    }\n}\nexports.MultiLayoutMap = MultiLayoutMap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SimpleHeaderLayoutMap = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerAction = __importStar(require(\"../../../header/action\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nconst utils_1 = require(\"./utils\");\nlet seqId = 0;\nclass SimpleHeaderLayoutMap {\n    constructor(header) {\n        this.bodyRowCount = 1;\n        this._emptyDataCache = new utils_1.EmptyDataCache();\n        this._columns = [];\n        this._headerCellIds = [];\n        this._headerObjects = this._addHeaders(0, header, []);\n        this._headerObjectMap = this._headerObjects.reduce((o, e) => {\n            o[e.id] = e;\n            return o;\n        }, {});\n    }\n    get columnWidths() {\n        return this._columns;\n    }\n    get headerRowCount() {\n        return this._headerCellIds.length;\n    }\n    get colCount() {\n        return this._columns.length;\n    }\n    get headerObjects() {\n        return this._headerObjects;\n    }\n    get columnObjects() {\n        return this._columns;\n    }\n    getCellId(col, row) {\n        if (this.headerRowCount <= row) {\n            return this._columns[col].id;\n        }\n        //in header\n        return this._headerCellIds[row][col];\n    }\n    getHeader(col, row) {\n        const id = this.getCellId(col, row);\n        return (this._headerObjectMap[id] ||\n            this._emptyDataCache.getHeader(col, row));\n    }\n    getBody(col, _row) {\n        return this._columns[col] || this._emptyDataCache.getBody(col, 0);\n    }\n    getBodyLayoutRangeById(id) {\n        for (let col = 0; col < this.colCount; col++) {\n            if (id === this._columns[col].id) {\n                return {\n                    start: { col, row: 0 },\n                    end: { col, row: 0 },\n                };\n            }\n        }\n        throw new Error(`can not found body layout @id=${id}`);\n    }\n    getCellRange(col, row) {\n        const result = { start: { col, row }, end: { col, row } };\n        if (this.headerRowCount <= row) {\n            return result;\n        }\n        //in header\n        const id = this.getCellId(col, row);\n        for (let c = col - 1; c >= 0; c--) {\n            if (id !== this.getCellId(c, row)) {\n                break;\n            }\n            result.start.col = c;\n        }\n        for (let c = col + 1; c < this.colCount; c++) {\n            if (id !== this.getCellId(c, row)) {\n                break;\n            }\n            result.end.col = c;\n        }\n        for (let r = row - 1; r >= 0; r--) {\n            if (id !== this.getCellId(col, r)) {\n                break;\n            }\n            result.start.row = r;\n        }\n        for (let r = row + 1; r < this.headerRowCount; r++) {\n            if (id !== this.getCellId(col, r)) {\n                break;\n            }\n            result.end.row = r;\n        }\n        return result;\n    }\n    getRecordIndexByRow(row) {\n        if (row < this.headerRowCount) {\n            return -1;\n        }\n        else {\n            return row - this.headerRowCount;\n        }\n    }\n    getRecordStartRowByRecordIndex(index) {\n        return this.headerRowCount + index;\n    }\n    _addHeaders(row, header, roots) {\n        const results = [];\n        const rowCells = this._headerCellIds[row] || this._newRow(row);\n        header.forEach((hd) => {\n            const col = this._columns.length;\n            const id = seqId++;\n            const cell = {\n                id,\n                caption: hd.caption,\n                field: hd.headerField || hd.field,\n                style: hd.headerStyle,\n                headerType: headerType.ofCell(hd),\n                action: headerAction.ofCell(hd),\n                define: hd,\n            };\n            results[id] = cell;\n            rowCells[col] = id;\n            for (let r = row - 1; r >= 0; r--) {\n                this._headerCellIds[r][col] = roots[r];\n            }\n            if (hd.columns) {\n                this._addHeaders(row + 1, hd.columns, [\n                    ...roots,\n                    id,\n                ]).forEach((c) => results.push(c));\n            }\n            else {\n                const colDef = hd;\n                this._columns.push({\n                    id: seqId++,\n                    field: colDef.field,\n                    width: colDef.width,\n                    minWidth: colDef.minWidth,\n                    maxWidth: colDef.maxWidth,\n                    icon: colDef.icon,\n                    message: colDef.message,\n                    columnType: columns.type.of(colDef.columnType),\n                    action: columns.action.of(colDef.action),\n                    style: colDef.style,\n                    define: colDef,\n                });\n                for (let r = row + 1; r < this._headerCellIds.length; r++) {\n                    this._headerCellIds[r][col] = id;\n                }\n            }\n        });\n        return results;\n    }\n    _newRow(row) {\n        const newRow = (this._headerCellIds[row] = []);\n        if (!this._columns.length) {\n            return newRow;\n        }\n        const prev = this._headerCellIds[row - 1];\n        for (let col = 0; col < prev.length; col++) {\n            newRow[col] = prev[col];\n        }\n        return newRow;\n    }\n}\nexports.SimpleHeaderLayoutMap = SimpleHeaderLayoutMap;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EmptyDataCache = exports.newEmptyColumnData = exports.newEmptyHeaderData = void 0;\nconst columns = __importStar(require(\"../../../columns\"));\nconst headerType = __importStar(require(\"../../../header/type\"));\nlet seqId = -1;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyHeaderData() {\n    return {\n        id: seqId--,\n        define: {},\n        headerType: headerType.of(null),\n    };\n}\nexports.newEmptyHeaderData = newEmptyHeaderData;\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction newEmptyColumnData() {\n    return {\n        id: seqId--,\n        define: {},\n        columnType: columns.type.of(null),\n        style: null,\n    };\n}\nexports.newEmptyColumnData = newEmptyColumnData;\nclass EmptyDataCache {\n    constructor() {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.headers = [];\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        this.columns = [];\n    }\n    getHeader(col, row) {\n        const rows = this.headers[row] || (this.headers[row] = []);\n        return rows[col] || (rows[col] = newEmptyHeaderData());\n    }\n    getBody(col, row) {\n        const rows = this.columns[row] || (this.columns[row] = []);\n        return rows[col] || (rows[col] = newEmptyColumnData());\n    }\n}\nexports.EmptyDataCache = EmptyDataCache;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.register = exports.getIcons = exports.GridCanvasHelper = exports.data = exports.themes = exports.headers = exports.columns = exports.ListGrid = exports.tools = exports.core = void 0;\nconst columns = __importStar(require(\"./columns\"));\nexports.columns = columns;\nconst core = __importStar(require(\"./core\"));\nexports.core = core;\nconst data = __importStar(require(\"./data\"));\nexports.data = data;\nconst headers = __importStar(require(\"./headers\"));\nexports.headers = headers;\nconst icons = __importStar(require(\"./icons\"));\nconst register = __importStar(require(\"./register\"));\nexports.register = register;\nconst themes = __importStar(require(\"./themes\"));\nexports.themes = themes;\nconst tools = __importStar(require(\"./tools\"));\nexports.tools = tools;\nconst ListGrid_1 = require(\"./ListGrid\");\nObject.defineProperty(exports, \"ListGrid\", { enumerable: true, get: function () { return ListGrid_1.ListGrid; } });\nconst GridCanvasHelper_1 = require(\"./GridCanvasHelper\");\nObject.defineProperty(exports, \"GridCanvasHelper\", { enumerable: true, get: function () { return GridCanvasHelper_1.GridCanvasHelper; } });\nvar get_internal_1 = require(\"./get-internal\");\nObject.defineProperty(exports, \"_getInternal\", { enumerable: true, get: function () { return get_internal_1.getInternal; } });\n/** @private */\nfunction getIcons() {\n    return icons.get();\n}\nexports.getIcons = getIcons;\n// backward compatibility\nexports.default = {\n    core,\n    tools,\n    // impl Grids\n    ListGrid: ListGrid_1.ListGrid,\n    // objects\n    columns,\n    headers,\n    themes,\n    data,\n    // helper\n    GridCanvasHelper: GridCanvasHelper_1.GridCanvasHelper,\n    //plugin registers\n    register,\n    get icons() {\n        return getIcons();\n    },\n};\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"default\", {\n    enumerable: false,\n    configurable: true,\n    get() {\n        return themes.getDefault();\n    },\n    set(defaultTheme) {\n        themes.setDefault(defaultTheme);\n    },\n});\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nObject.defineProperty(themes, \"choices\", {\n    enumerable: false,\n    configurable: true,\n    get() {\n        return themes.getChoices();\n    },\n});\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.icons = void 0;\nexports.icons = {};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.themes = void 0;\nexports.themes = {};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.icons = exports.icon = exports.theme = void 0;\nconst icons_1 = require(\"./plugins/icons\");\nconst themes_1 = require(\"./plugins/themes\");\nfunction register(obj, name, value) {\n    const old = obj[name];\n    obj[name] = value;\n    return old;\n}\nfunction registers(obj, values) {\n    for (const k in values) {\n        obj[k] = values[k];\n    }\n}\nfunction theme(name, theme) {\n    if (theme != null) {\n        return register(themes_1.themes, name, theme);\n    }\n    else {\n        return themes_1.themes[name];\n    }\n}\nexports.theme = theme;\nfunction icon(name, icon) {\n    if (icon != null) {\n        return register(icons_1.icons, name, icon);\n    }\n    else {\n        return icons_1.icons[name];\n    }\n}\nexports.icon = icon;\nfunction icons(icons) {\n    return registers(icons_1.icons, icons);\n}\nexports.icons = icons;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getChoices = exports.setDefault = exports.getDefault = exports.of = exports.theme = exports.MATERIAL_DESIGN = exports.BASIC = void 0;\nconst utils_1 = require(\"./internal/utils\");\nconst theme_1 = require(\"./themes/theme\");\nconst BASIC_1 = __importDefault(require(\"./themes/BASIC\"));\nconst MATERIAL_DESIGN_1 = __importDefault(require(\"./themes/MATERIAL_DESIGN\"));\nconst themes_1 = require(\"./plugins/themes\");\nexports.BASIC = new theme_1.Theme(BASIC_1.default);\nexports.MATERIAL_DESIGN = new theme_1.Theme(MATERIAL_DESIGN_1.default);\nconst builtin = {\n    BASIC: exports.BASIC,\n    MATERIAL_DESIGN: exports.MATERIAL_DESIGN,\n};\nlet defTheme = exports.MATERIAL_DESIGN;\nexports.theme = { Theme: theme_1.Theme };\nfunction of(value) {\n    if (!value) {\n        return null;\n    }\n    if (typeof value === \"string\") {\n        const t = utils_1.getIgnoreCase(getChoices(), value);\n        if (t) {\n            return t;\n        }\n        return null;\n    }\n    if (value instanceof theme_1.Theme) {\n        return value;\n    }\n    return new theme_1.Theme(value);\n}\nexports.of = of;\nfunction getDefault() {\n    return defTheme;\n}\nexports.getDefault = getDefault;\nfunction setDefault(defaultTheme) {\n    defTheme = of(defaultTheme) || defTheme;\n}\nexports.setDefault = setDefault;\nfunction getChoices() {\n    return utils_1.extend(builtin, themes_1.themes);\n}\nexports.getChoices = getChoices;\n","\"use strict\";\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction DEFAULT_BG_COLOR(args) {\n    const { row, grid } = args;\n    if (row < grid.frozenRowCount) {\n        return \"#FFF\";\n    }\n    const index = grid.getRecordIndexByRow(row);\n    if (!(index & 1)) {\n        return \"#FFF\";\n    }\n    else {\n        return \"#F6F6F6\";\n    }\n}\nconst cacheLinearGradient = {};\nfunction getLinearGradient(context, left, top, right, bottom, colorStops) {\n    let stop;\n    const stopsKey = [];\n    for (stop in colorStops) {\n        stopsKey.push(`${stop}@${colorStops[stop]}`);\n    }\n    const key = `${left}/${top}/${right}/${bottom}/${stopsKey.join(\",\")}`;\n    const ret = cacheLinearGradient[key];\n    if (ret) {\n        return ret;\n    }\n    const grad = context.createLinearGradient(left, top, left, bottom);\n    for (stop in colorStops) {\n        grad.addColorStop(Number(stop), colorStops[stop]);\n    }\n    return (cacheLinearGradient[key] = grad);\n}\nfunction FROZEN_ROWS_BG_COLOR(args) {\n    const { col, grid, grid: { frozenRowCount }, context, } = args;\n    const { left, top } = grid.getCellRelativeRect(col, 0);\n    const { bottom } = grid.getCellRelativeRect(col, frozenRowCount - 1);\n    return getLinearGradient(context, left, top, left, bottom, {\n        0: \"#FFF\",\n        1: \"#D3D3D3\",\n    });\n}\n/**\n * basic theme\n * @name BASIC\n * @memberof cheetahGrid.themes.choices\n */\nexports.default = {\n    color: \"#000\",\n    // frozenRowsColor: '#000',\n    defaultBgColor: DEFAULT_BG_COLOR,\n    frozenRowsBgColor: FROZEN_ROWS_BG_COLOR,\n    selectionBgColor: \"#CCE0FF\",\n    borderColor: \"#000\",\n    // frozenRowsBorderColor: '#000',\n    highlightBorderColor: \"#5E9ED6\",\n    checkbox: {\n        uncheckBgColor: \"#FFF\",\n        checkBgColor: \"rgb(76, 73, 72)\",\n        borderColor: \"#000\",\n    },\n    radioButton: {\n        checkColor: \"rgb(76, 73, 72)\",\n        checkBorderColor: \"#000\",\n        uncheckBorderColor: \"#000\",\n        uncheckBgColor: \"#FFF\",\n        checkBgColor: \"#FFF\",\n    },\n    button: {\n        color: \"#FFF\",\n        bgColor: \"#2196F3\",\n    },\n    header: {\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\n    },\n    underlayBackgroundColor: \"#F6F6F6\",\n};\n","\"use strict\";\n/*eslint no-bitwise:0*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction FROZEN_ROWS_BORDER_COLOR(args) {\n    const { row, grid: { frozenRowCount }, } = args;\n    if (frozenRowCount - 1 === row) {\n        return [\"#f2f2f2\", \"#f2f2f2\", \"#ccc7c7\", \"#f2f2f2\"];\n    }\n    else {\n        return [\"#f2f2f2\"];\n    }\n}\nfunction BORDER_COLOR(args) {\n    const { col, row, grid } = args;\n    const { colCount, frozenColCount, recordRowCount } = grid;\n    let top = \"#ccc7c7\";\n    let bottom = \"#ccc7c7\";\n    if (recordRowCount > 1) {\n        const startRow = grid.getRecordStartRowByRecordIndex(grid.getRecordIndexByRow(row));\n        const endRow = startRow + recordRowCount - 1;\n        if (startRow !== row) {\n            top = null;\n        }\n        if (endRow !== row) {\n            bottom = null;\n        }\n    }\n    if (frozenColCount - 1 === col) {\n        return [top, \"#f2f2f2\", bottom, null];\n    }\n    if (colCount - 1 === col) {\n        return [top, \"#f2f2f2\", bottom, null];\n    }\n    return [top, null, bottom, null];\n}\n/**\n * material design theme\n * @name MATERIAL_DESIGN\n * @memberof cheetahGrid.themes.choices\n */\nexports.default = {\n    color: \"rgba(0, 0, 0, 0.87)\",\n    frozenRowsColor: \"rgba(0, 0, 0, 0.54)\",\n    defaultBgColor: \"#FFF\",\n    // frozenRowsBgColor: '#FFF',\n    selectionBgColor: \"#CCE0FF\",\n    borderColor: BORDER_COLOR,\n    frozenRowsBorderColor: FROZEN_ROWS_BORDER_COLOR,\n    highlightBorderColor: \"#5E9ED6\",\n    checkbox: {\n        // uncheckBgColor: '#FFF',\n        checkBgColor: \"rgb(76, 73, 72)\",\n        borderColor: \"rgba(0, 0, 0, 0.26)\",\n    },\n    radioButton: {\n        checkColor: \"rgb(76, 73, 72)\",\n        checkBorderColor: \"rgb(76, 73, 72)\",\n        uncheckBorderColor: \"rgb(189, 189, 189)\",\n    },\n    button: {\n        color: \"#FFF\",\n        bgColor: \"#2196F3\",\n    },\n    header: {\n        sortArrowColor: \"rgba(0, 0, 0, 0.38)\",\n    },\n    underlayBackgroundColor: \"#FFF\",\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Theme = void 0;\nconst utils_1 = require(\"../internal/utils\");\nconst symbolManager_1 = require(\"../internal/symbolManager\");\n//private symbol\nconst _ = symbolManager_1.get();\nfunction getProp(obj, superObj, names, defNames) {\n    return (utils_1.getChainSafe(obj, ...names) ||\n        utils_1.getChainSafe(superObj, ...names) ||\n        (defNames && utils_1.getChainSafe(obj, ...defNames)) ||\n        (defNames && utils_1.getChainSafe(superObj, ...defNames)));\n}\nclass Theme {\n    constructor(obj, superTheme) {\n        this._checkbox = null;\n        this._radioButton = null;\n        this._button = null;\n        this._header = null;\n        this[_] = {\n            obj,\n            superTheme: superTheme,\n        };\n    }\n    get font() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"font\"]);\n    }\n    get underlayBackgroundColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"underlayBackgroundColor\"]);\n    }\n    // color\n    get color() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"color\"]);\n    }\n    get frozenRowsColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsColor\"], [\"color\"]);\n    }\n    // background\n    get defaultBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"defaultBgColor\"]);\n    }\n    get frozenRowsBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsBgColor\"], [\"defaultBgColor\"]);\n    }\n    get selectionBgColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"selectionBgColor\"], [\"defaultBgColor\"]);\n    }\n    get highlightBgColor() {\n        if (this.hasProperty([\"highlightBgColor\"])) {\n            const { obj, superTheme } = this[_];\n            return getProp(obj, superTheme, [\"highlightBgColor\"]);\n        }\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        return (args) => {\n            const color = args.row < args.grid.frozenRowCount\n                ? this.frozenRowsBgColor\n                : this.defaultBgColor;\n            if (typeof color === \"function\") {\n                return color(args);\n            }\n            return color;\n        };\n    }\n    // border\n    get borderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"borderColor\"]);\n    }\n    get frozenRowsBorderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"frozenRowsBorderColor\"], [\"borderColor\"]);\n    }\n    get highlightBorderColor() {\n        const { obj, superTheme } = this[_];\n        return getProp(obj, superTheme, [\"highlightBorderColor\"], [\"borderColor\"]);\n    }\n    get checkbox() {\n        const { obj, superTheme } = this[_];\n        return (this._checkbox ||\n            (this._checkbox = {\n                get uncheckBgColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n                },\n                get checkBgColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"checkBgColor\"], [\"borderColor\"]);\n                },\n                get borderColor() {\n                    return getProp(obj, superTheme, [\"checkbox\", \"borderColor\"], [\"borderColor\"]);\n                },\n            }));\n    }\n    get radioButton() {\n        const { obj, superTheme } = this[_];\n        return (this._radioButton ||\n            (this._radioButton = {\n                get checkColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkColor\"], [\"color\"]);\n                },\n                get uncheckBorderColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"uncheckBorderColor\"], [\"borderColor\"]);\n                },\n                get checkBorderColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkBorderColor\"], [\"borderColor\"]);\n                },\n                get uncheckBgColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"uncheckBgColor\"], [\"defaultBgColor\"]);\n                },\n                get checkBgColor() {\n                    return getProp(obj, superTheme, [\"radioButton\", \"checkBgColor\"], [\"defaultBgColor\"]);\n                },\n            }));\n    }\n    get button() {\n        const { obj, superTheme } = this[_];\n        return (this._button ||\n            (this._button = {\n                get color() {\n                    return getProp(obj, superTheme, [\"button\", \"color\"], [\"color\"]);\n                },\n                get bgColor() {\n                    return getProp(obj, superTheme, [\"button\", \"bgColor\"], [\"defaultBgColor\"]);\n                },\n            }));\n    }\n    get header() {\n        const { obj, superTheme } = this[_];\n        return (this._header ||\n            (this._header = {\n                get sortArrowColor() {\n                    return getProp(obj, superTheme, [\"header\", \"sortArrowColor\"], [\"color\"]);\n                },\n            }));\n    }\n    hasProperty(names) {\n        const { obj, superTheme } = this[_];\n        return hasThemeProperty(obj, names) || hasThemeProperty(superTheme, names);\n    }\n    extends(obj) {\n        return new Theme(obj, this);\n    }\n}\nexports.Theme = Theme;\nfunction hasThemeProperty(obj, names) {\n    if (obj instanceof Theme) {\n        return obj.hasProperty(names);\n    }\n    else {\n        // eslint-disable-next-line @typescript-eslint/no-explicit-any\n        let o = obj;\n        if (!o) {\n            return false;\n        }\n        for (let index = 0; index < names.length; index++) {\n            const name = names[index];\n            o = o[name];\n            if (!o) {\n                return false;\n            }\n        }\n        return !!o;\n    }\n}\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.canvashelper = void 0;\nconst canvashelper = __importStar(require(\"./tools/canvashelper\"));\nexports.canvashelper = canvashelper;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.drawButton = exports.drawRadioButton = exports.drawCheckbox = exports.measureRadioButton = exports.measureCheckbox = exports.drawInlineImageRect = exports.fillTextRect = exports.strokeCircle = exports.fillCircle = exports.strokeRoundRect = exports.fillRoundRect = exports.roundRect = exports.strokeColorsRect = void 0;\nconst canvases_1 = require(\"../internal/canvases\");\nconst { ceil, PI } = Math;\nfunction strokeColorsRect(ctx, borderColors, left, top, width, height) {\n    function strokeRectLines(positions) {\n        for (let i = 0; i < borderColors.length; i++) {\n            const color = borderColors[i];\n            const preColor = borderColors[i - 1];\n            if (color) {\n                if (preColor !== color) {\n                    if (preColor) {\n                        ctx.strokeStyle = preColor;\n                        ctx.stroke();\n                    }\n                    const pos1 = positions[i];\n                    ctx.beginPath();\n                    ctx.moveTo(pos1.x, pos1.y);\n                }\n                const pos2 = positions[i + 1];\n                ctx.lineTo(pos2.x, pos2.y);\n            }\n            else {\n                if (preColor) {\n                    ctx.strokeStyle = preColor;\n                    ctx.stroke();\n                }\n            }\n        }\n        const preColor = borderColors[borderColors.length - 1];\n        if (preColor) {\n            ctx.strokeStyle = preColor;\n            ctx.stroke();\n        }\n    }\n    if (borderColors[0] === borderColors[1] &&\n        borderColors[0] === borderColors[2] &&\n        borderColors[0] === borderColors[3]) {\n        if (borderColors[0]) {\n            ctx.strokeStyle = borderColors[0];\n            ctx.strokeRect(left, top, width, height);\n        }\n    }\n    else {\n        strokeRectLines([\n            { x: left, y: top },\n            { x: left + width, y: top },\n            { x: left + width, y: top + height },\n            { x: left, y: top + height },\n            { x: left, y: top },\n        ]);\n    }\n}\nexports.strokeColorsRect = strokeColorsRect;\nfunction roundRect(ctx, left, top, width, height, radius) {\n    ctx.beginPath();\n    ctx.arc(left + radius, top + radius, radius, -PI, -0.5 * PI, false);\n    ctx.arc(left + width - radius, top + radius, radius, -0.5 * PI, 0, false);\n    ctx.arc(left + width - radius, top + height - radius, radius, 0, 0.5 * PI, false);\n    ctx.arc(left + radius, top + height - radius, radius, 0.5 * PI, PI, false);\n    ctx.closePath();\n}\nexports.roundRect = roundRect;\nfunction fillRoundRect(ctx, left, top, width, height, radius) {\n    roundRect(ctx, left, top, width, height, radius);\n    ctx.fill();\n}\nexports.fillRoundRect = fillRoundRect;\nfunction strokeRoundRect(ctx, left, top, width, height, radius) {\n    roundRect(ctx, left, top, width, height, radius);\n    ctx.stroke();\n}\nexports.strokeRoundRect = strokeRoundRect;\nfunction fillCircle(ctx, left, top, width, height) {\n    const min = Math.min(width, height) / 2;\n    ctx.beginPath();\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.fill();\n}\nexports.fillCircle = fillCircle;\nfunction strokeCircle(ctx, left, top, width, height) {\n    const min = Math.min(width, height) / 2;\n    ctx.beginPath();\n    ctx.arc(left + min, top + min, min, 0, 2 * Math.PI);\n    ctx.closePath();\n    ctx.stroke();\n}\nexports.strokeCircle = strokeCircle;\nfunction fillTextRect(ctx, text, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcBasePosition(ctx, rect, {\n            offset,\n            padding,\n        });\n        ctx.fillText(text, pos.x, pos.y);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.fillTextRect = fillTextRect;\nfunction drawInlineImageRect(ctx, image, srcLeft, srcTop, srcWidth, srcHeight, destWidth, destHeight, left, top, width, height, { offset = 2, padding } = {}) {\n    const rect = {\n        left,\n        top,\n        width,\n        height,\n        right: left + width,\n        bottom: top + height,\n    };\n    ctx.save();\n    try {\n        ctx.beginPath();\n        ctx.rect(rect.left, rect.top, rect.width, rect.height);\n        //clip\n        ctx.clip();\n        //\n        const pos = canvases_1.calcStartPosition(ctx, rect, destWidth, destHeight, {\n            offset,\n            padding,\n        });\n        ctx.drawImage(image, srcLeft, srcTop, srcWidth, srcHeight, pos.x, pos.y, destWidth, destHeight);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawInlineImageRect = drawInlineImageRect;\n/**\n * Returns an object containing the width of the checkbox.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the checkbox\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction measureCheckbox(ctx) {\n    return {\n        width: canvases_1.getFontSize(ctx, null).width,\n    };\n}\nexports.measureCheckbox = measureCheckbox;\n/**\n * Returns an object containing the width of the radio button.\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @return {Object} Object containing the width of the radio button\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction measureRadioButton(ctx) {\n    return {\n        width: canvases_1.getFontSize(ctx, null).width,\n    };\n}\nexports.measureRadioButton = measureRadioButton;\n/**\n * draw Checkbox\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the checkbox (relative to the canvas)\n * @param  {boolean|number} check checkbox check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction drawCheckbox(ctx, x, y, check, { uncheckBgColor = \"#FFF\", checkBgColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", boxSize = measureCheckbox(ctx).width, } = {}) {\n    const checkPoint = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\n    ctx.save();\n    try {\n        ctx.fillStyle = check ? checkBgColor : uncheckBgColor;\n        const leftX = ceil(x);\n        const topY = ceil(y);\n        const size = ceil(boxSize);\n        fillRoundRect(ctx, leftX - 1, topY - 1, size + 1, size + 1, boxSize / 5);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = borderColor;\n        strokeRoundRect(ctx, leftX - 0.5, topY - 0.5, size, size, boxSize / 5);\n        if (check) {\n            ctx.lineWidth = ceil(boxSize / 10);\n            ctx.strokeStyle = uncheckBgColor;\n            let leftWidth = boxSize / 4;\n            let rightWidth = (boxSize / 2) * 0.9;\n            const leftLeftPos = x + boxSize * 0.2;\n            const leftTopPos = y + boxSize / 2;\n            if (checkPoint < 0.5) {\n                leftWidth *= checkPoint * 2;\n            }\n            ctx.beginPath();\n            ctx.moveTo(leftLeftPos, leftTopPos);\n            ctx.lineTo(leftLeftPos + leftWidth, leftTopPos + leftWidth);\n            if (checkPoint > 0.5) {\n                if (checkPoint < 1) {\n                    rightWidth *= (checkPoint - 0.5) * 2;\n                }\n                ctx.lineTo(leftLeftPos + leftWidth + rightWidth, leftTopPos + leftWidth - rightWidth);\n            }\n            ctx.stroke();\n        }\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawCheckbox = drawCheckbox;\n/**\n * draw Radio button\n * @param  {CanvasRenderingContext2D} ctx canvas context\n * @param  {number} x The x coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {number} y The y coordinate where to start drawing the radio button (relative to the canvas)\n * @param  {boolean|number} check radio button check status\n * @param  {object} option option\n * @return {void}\n * @memberof cheetahGrid.tools.canvashelper\n */\nfunction drawRadioButton(ctx, x, y, check, { checkColor = \"rgb(76, 73, 72)\", borderColor = \"#000\", bgColor = \"#FFF\", boxSize = measureRadioButton(ctx).width, } = {}) {\n    const ratio = typeof check === \"number\" ? (check > 1 ? 1 : check) : 1;\n    ctx.save();\n    try {\n        ctx.fillStyle = bgColor;\n        const leftX = ceil(x);\n        const topY = ceil(y);\n        const size = ceil(boxSize);\n        fillCircle(ctx, leftX - 1, topY - 1, size + 1, size + 1);\n        ctx.lineWidth = 1;\n        ctx.strokeStyle = borderColor;\n        strokeCircle(ctx, leftX - 0.5, topY - 0.5, size, size);\n        if (check) {\n            const checkSize = (size * ratio) / 2;\n            const padding = (size - checkSize) / 2;\n            ctx.fillStyle = checkColor;\n            fillCircle(ctx, ceil((leftX - 0.5 + padding) * 100) / 100, ceil((topY - 0.5 + padding) * 100) / 100, ceil(checkSize * 100) / 100, ceil(checkSize * 100) / 100);\n        }\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawRadioButton = drawRadioButton;\n/**\n * draw Button\n */\nfunction drawButton(ctx, left, top, width, height, option = {}) {\n    const { backgroundColor = \"#FFF\", bgColor = backgroundColor, radius = 4, shadow = {}, } = option;\n    ctx.save();\n    try {\n        ctx.fillStyle = bgColor;\n        if (shadow) {\n            const { color = \"rgba(0, 0, 0, 0.24)\", blur = 1, offsetX = 0, offsetY = 2, offset: { x: ox = offsetX, y: oy = offsetY } = {}, } = shadow;\n            ctx.shadowColor = color;\n            ctx.shadowBlur = blur; //\n            ctx.shadowOffsetX = ox;\n            ctx.shadowOffsetY = oy;\n        }\n        fillRoundRect(ctx, ceil(left), ceil(top), ceil(width), ceil(height), radius);\n    }\n    finally {\n        ctx.restore();\n    }\n}\nexports.drawButton = drawButton;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseTooltip = void 0;\nclass BaseTooltip {\n    constructor(grid) {\n        this._grid = grid;\n    }\n    dispose() {\n        this.detachTooltipElement();\n        if (this._tooltipElement) {\n            this._tooltipElement.dispose();\n        }\n        this._tooltipElement = undefined;\n    }\n    _getTooltipElement() {\n        if (this._tooltipElement) {\n            return this._tooltipElement;\n        }\n        return (this._tooltipElement = this.createTooltipElementInternal());\n    }\n    attachTooltipElement(col, row, content) {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement.attach(this._grid, col, row, content);\n    }\n    moveTooltipElement(col, row) {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement.move(this._grid, col, row);\n    }\n    detachTooltipElement() {\n        const tooltipElement = this._getTooltipElement();\n        tooltipElement._detach();\n    }\n}\nexports.BaseTooltip = BaseTooltip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Tooltip = void 0;\nconst BaseTooltip_1 = require(\"./BaseTooltip\");\nconst TooltipElement_1 = require(\"./internal/TooltipElement\");\nclass Tooltip extends BaseTooltip_1.BaseTooltip {\n    createTooltipElementInternal() {\n        return new TooltipElement_1.TooltipElement();\n    }\n}\nexports.Tooltip = Tooltip;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TooltipHandler = void 0;\nconst LG_EVENT_TYPE_1 = require(\"../list-grid/LG_EVENT_TYPE\");\nconst Tooltip_1 = require(\"./Tooltip\");\nconst utils_1 = require(\"../internal/utils\");\nconst TOOLTIP_INSTANCE_FACTORY = {\n    \"overflow-text\"(grid) {\n        return new Tooltip_1.Tooltip(grid);\n    },\n};\nfunction getTooltipInstanceInfo(\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\ngrid, col, row) {\n    //\n    // overflow text tooltip\n    const overflowText = grid.getCellOverflowText(col, row);\n    if (overflowText) {\n        return {\n            type: \"overflow-text\",\n            content: overflowText,\n        };\n    }\n    return null;\n}\nclass TooltipHandler {\n    constructor(grid) {\n        this._grid = grid;\n        this._tooltipInstances = {};\n        this._bindGridEvent(grid);\n    }\n    dispose() {\n        const tooltipInstances = this._tooltipInstances;\n        for (const k in tooltipInstances) {\n            tooltipInstances[k].dispose();\n        }\n        delete this._tooltipInstances;\n        this._attachInfo = null;\n    }\n    _attach(col, row) {\n        const info = this._attachInfo;\n        const instanceInfo = this._getTooltipInstanceInfo(col, row);\n        if (info && (!instanceInfo || info.instance !== instanceInfo.instance)) {\n            info.instance.detachTooltipElement();\n            this._attachInfo = null;\n        }\n        if (!instanceInfo) {\n            return;\n        }\n        const { instance } = instanceInfo;\n        instance.attachTooltipElement(col, row, instanceInfo.content);\n        const range = this._grid.getCellRange(col, row);\n        this._attachInfo = { range, instance };\n    }\n    _move(col, row) {\n        const info = this._attachInfo;\n        if (!info || !utils_1.cellInRange(info.range, col, row)) {\n            return;\n        }\n        const { instance } = info;\n        instance.moveTooltipElement(col, row);\n    }\n    _detach() {\n        const info = this._attachInfo;\n        if (!info) {\n            return;\n        }\n        const { instance } = info;\n        instance.detachTooltipElement();\n        this._attachInfo = null;\n    }\n    _isAttachCell(col, row) {\n        const info = this._attachInfo;\n        if (!info) {\n            return false;\n        }\n        return utils_1.cellInRange(info.range, col, row);\n    }\n    _bindGridEvent(grid) {\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOVER_CELL, (e) => {\n            if (e.related) {\n                if (this._isAttachCell(e.col, e.row)) {\n                    return;\n                }\n            }\n            this._attach(e.col, e.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.MOUSEOUT_CELL, (e) => {\n            if (e.related) {\n                if (this._isAttachCell(e.related.col, e.related.row)) {\n                    return;\n                }\n            }\n            this._detach();\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SELECTED_CELL, (e) => {\n            if (this._isAttachCell(e.col, e.row)) {\n                this._detach();\n            }\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.SCROLL, () => {\n            const info = this._attachInfo;\n            if (!info) {\n                return;\n            }\n            this._move(info.range.start.col, info.range.start.row);\n        });\n        grid.listen(LG_EVENT_TYPE_1.LG_EVENT_TYPE.CHANGED_VALUE, (e) => {\n            if (this._isAttachCell(e.col, e.row)) {\n                this._detach();\n                this._attach(e.col, e.row);\n            }\n        });\n    }\n    _getTooltipInstanceInfo(col, row) {\n        const grid = this._grid;\n        const tooltipInstances = this._tooltipInstances;\n        const info = getTooltipInstanceInfo(grid, col, row);\n        if (!info) {\n            return null;\n        }\n        const { type } = info;\n        const instance = tooltipInstances[type] ||\n            (tooltipInstances[type] = TOOLTIP_INSTANCE_FACTORY[type](grid));\n        return {\n            instance,\n            type,\n            content: info.content,\n        };\n    }\n}\nexports.TooltipHandler = TooltipHandler;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TooltipElement = void 0;\nconst EventHandler_1 = require(\"../../internal/EventHandler\");\nconst dom_1 = require(\"../../internal/dom\");\nconst CLASSNAME = \"cheetah-grid__tooltip-element\";\nconst CONTENT_CLASSNAME = `${CLASSNAME}__content`;\nconst HIDDEN_CLASSNAME = `${CLASSNAME}--hidden`;\nconst SHOWN_CLASSNAME = `${CLASSNAME}--shown`;\nfunction createTooltipDomElement() {\n    require(\"@/tooltip/internal/TooltipElement.css\");\n    const rootElement = dom_1.createElement(\"div\", {\n        classList: [CLASSNAME, HIDDEN_CLASSNAME],\n    });\n    const messageElement = dom_1.createElement(\"pre\", {\n        classList: [CONTENT_CLASSNAME],\n    });\n    rootElement.appendChild(messageElement);\n    return rootElement;\n}\nclass TooltipElement {\n    constructor() {\n        this._handler = new EventHandler_1.EventHandler();\n        const rootElement = (this._rootElement = createTooltipDomElement());\n        this._messageElement = rootElement.querySelector(`.${CONTENT_CLASSNAME}`);\n    }\n    dispose() {\n        this.detach();\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            rootElement.parentElement.removeChild(rootElement);\n        }\n        this._handler.dispose();\n        delete this._rootElement;\n        delete this._messageElement;\n    }\n    attach(grid, col, row, content) {\n        const rootElement = this._rootElement;\n        const messageElement = this._messageElement;\n        rootElement.classList.remove(SHOWN_CLASSNAME);\n        rootElement.classList.add(HIDDEN_CLASSNAME);\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n            messageElement.textContent = content;\n        }\n        else {\n            this._detach();\n        }\n    }\n    move(grid, col, row) {\n        const rootElement = this._rootElement;\n        if (this._attachCell(grid, col, row)) {\n            rootElement.classList.add(SHOWN_CLASSNAME);\n            rootElement.classList.remove(HIDDEN_CLASSNAME);\n        }\n        else {\n            this._detach();\n        }\n    }\n    detach() {\n        this._detach();\n    }\n    _detach() {\n        const rootElement = this._rootElement;\n        if (rootElement.parentElement) {\n            // rootElement.parentElement.removeChild(rootElement);\n            rootElement.classList.remove(SHOWN_CLASSNAME);\n            rootElement.classList.add(HIDDEN_CLASSNAME);\n        }\n    }\n    _attachCell(grid, col, row) {\n        const rootElement = this._rootElement;\n        const { element, rect } = grid.getAttachCellsArea(grid.getCellRange(col, row));\n        const { bottom: top, left, width } = rect;\n        const { frozenRowCount, frozenColCount } = grid;\n        if (row >= frozenRowCount && frozenRowCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(col, frozenRowCount - 1));\n            if (top < frozenRect.bottom) {\n                return false; //\n            }\n        }\n        else {\n            if (top < 0) {\n                return false; //\n            }\n        }\n        if (col >= frozenColCount && frozenColCount > 0) {\n            const { rect: frozenRect } = grid.getAttachCellsArea(grid.getCellRange(frozenColCount - 1, row));\n            if (left < frozenRect.right) {\n                return false; //\n            }\n        }\n        else {\n            if (left < 0) {\n                return false; //\n            }\n        }\n        const { offsetHeight, offsetWidth } = element;\n        if (offsetHeight < top) {\n            return false; //\n        }\n        if (offsetWidth < left) {\n            return false; //\n        }\n        rootElement.style.top = `${top.toFixed()}px`;\n        rootElement.style.left = `${(left + width / 2).toFixed()}px`;\n        rootElement.style.minWidth = `${width.toFixed()}px`;\n        if (rootElement.parentElement !== element) {\n            element.appendChild(rootElement);\n        }\n        return true;\n    }\n}\nexports.TooltipElement = TooltipElement;\n"],"sourceRoot":""}