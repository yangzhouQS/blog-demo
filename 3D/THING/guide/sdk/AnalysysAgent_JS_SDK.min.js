!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof{}&&{}.amd?{}(t):(e=e||self).AnalysysAgent=t()}(this,function(){"use strict";var fieldTemplate={base:{outer:["appid","xwho","xwhat","xwhen","xcontext"],xcontext:["$lib","$lib_version","$platform","$debug","$is_login"]},$startup:{xcontext:["$screen_width","$screen_height","$web_crawler","$time_zone","$language","$session_id","$is_first_time","$is_first_day","$utm_campaign_id","$utm_source","$utm_medium","$utm_term","$utm_content","$utm_campaign","$is_time_calibrated"]},$track:{xcontext:["$screen_width","$screen_height","$web_crawler","$time_zone","$language","$is_first_day","$session_id","$utm_campaign_id","$utm_source","$utm_medium","$utm_term","$utm_content","$utm_campaign","$is_time_calibrated"]},$pageview:{xcontext:["$screen_width","$screen_height","$web_crawler","$time_zone","$language","$session_id","$is_first_day","$referrer","$referrer_domain","$title","$url","$startup_time","$utm_campaign_id","$utm_source","$utm_medium","$utm_term","$utm_content","$utm_campaign","$is_time_calibrated"]},$alias:{xcontext:["$original_id"]},$getPresetProperties:{xcontext:["$screen_width","$screen_height","$time_zone","$session_id","$language"]}},baseConfig={base:{appid:"",$debug:0,uploadURL:"",auto:!0,autoProfile:!0,hash:!0,autoWebstay:!0,singlePage:!0,pageProperty:{},$lib_version:"4.4.3",cross_subdomain:!0,cross_subdomain_super:!0,allowTimeCheck:!0,isMessageSDK:!1,isHybrid:!1},status:{code:200,FnName:"",key:"",value:"",errorCode:"",successCode:""},keywords:fieldTemplate.base.xcontext,baseJson:fieldTemplate.base.outer,sendNum:1800},_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function _utf8Encode(e){e=e.replace(/\r\n/g,"\n");for(var t="",i=0;i<e.length;i++){var n=e.charCodeAt(i);n<128?t+=String.fromCharCode(n):(127<n&&n<2048?t+=String.fromCharCode(n>>6|192):(t+=String.fromCharCode(n>>12|224),t+=String.fromCharCode(n>>6&63|128)),t+=String.fromCharCode(63&n|128))}return t}function _utf8Decode(e){for(var t="",i=0,n=0,r=0,a=0;i<e.length;)(n=e.charCodeAt(i))<128?(t+=String.fromCharCode(n),i++):191<n&&n<224?(r=e.charCodeAt(i+1),t+=String.fromCharCode((31&n)<<6|63&r),i+=2):(r=e.charCodeAt(i+1),a=e.charCodeAt(i+2),t+=String.fromCharCode((15&n)<<12|(63&r)<<6|63&a),i+=3);return t}function Util(){}function CheckChinese(e){return!!new RegExp("[\\u4E00-\\u9FFF]+","g").test(e)}Util.prototype.paramType=function(e){return Object.prototype.toString.call(e).replace("[object ","").replace("]","")},Util.prototype.objHasKay=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},Util.prototype.ArrayToObj=function(e){for(var t={},i=0;i<e.length;i++)t[e[i]]="";return t},Util.prototype.keyValueToObje=function(e,t){var i={};return i[e]=t,i},Util.prototype.toDeepObj=function(e,t){var i={};if("String"===this.paramType(e))return i=this.keyValueToObje(e,t);if("Array"===this.paramType(e))return i=this.ArrayToObj(e);if("Object"===this.paramType(e))for(var n in e)i[n]=this.toDeepObj(e[n]);return i},Util.prototype.toObj=function(e,t){var i={};return"String"===this.paramType(e)?i=this.keyValueToObje(e,t):"Array"===this.paramType(e)?i=this.ArrayToObj(e):"Object"===this.paramType(e)?e:i},Util.prototype.objMerge=function(e,t){if("Object"!==this.paramType(e)||"Object"!==this.paramType(t))return e;var i={};for(var n in e)i[n]=e[n];for(var r in t){var a=t[r],o=i[r],s=this.paramType(a),l=this.paramType(o);i[r]=o&&"Object"===l&&"Object"===s?this.objMerge(o,a):"Array"===l&&"Array"===s?this.arrayMergeUnique(o,a):"Function"===s&&"Function"===l?this.compose(o,a):a}return i},Util.prototype.compose=function(){var i=arguments,n=i.length-1;return function(){for(var e=n,t=i[n].apply(this,arguments);e--;)t=i[e].call(this,t);return t}},Util.prototype.fnMerge=function(e,t){return this.objMerge(e,t)},Util.prototype.arrayUnique=function(e){for(var t=[],i={},n=0;n<e.length;n++)i[e[n]]||(i[e[n]]=!0,t.push(e[n]));return t},Util.prototype.arrayMerge=function(e,t){return e.push.apply(e,t),e},Util.prototype.arrayMergeUnique=function(e,t){return e.push.apply(e,t),this.arrayUnique(e)},Util.prototype.encode=function(e){var t,i,n,r,a,o,s,l="",c=0;for(e=_utf8Encode(e);c<e.length;)r=(t=e.charCodeAt(c++))>>2,a=(3&t)<<4|(i=e.charCodeAt(c++))>>4,o=(15&i)<<2|(n=e.charCodeAt(c++))>>6,s=63&n,isNaN(i)?o=s=64:isNaN(n)&&(s=64),l=l+_keyStr.charAt(r)+_keyStr.charAt(a)+_keyStr.charAt(o)+_keyStr.charAt(s);return l},Util.prototype.decode=function(e){var t,i,n,r,a,o,s="",l=0;for(e=e.replace(/[^A-Za-z0-9+/=]/g,"");l<e.length;)t=_keyStr.indexOf(e.charAt(l++))<<2|(r=_keyStr.indexOf(e.charAt(l++)))>>4,i=(15&r)<<4|(a=_keyStr.indexOf(e.charAt(l++)))>>2,n=(3&a)<<6|(o=_keyStr.indexOf(e.charAt(l++))),s+=String.fromCharCode(t),64!==a&&(s+=String.fromCharCode(i)),64!==o&&(s+=String.fromCharCode(n));return s=_utf8Decode(s)},Util.prototype.isEmptyObject=function(e){for(var t in e)return!1;return!0},Util.prototype.format=function(e,t){var i=e.getTimezoneOffset(),n={"M+":(e=new Date(e.getTime()+60*i*1e3+288e5)).getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),"S+":e.getMilliseconds()};for(var r in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+r+")").test(t)&&(t=t.replace(RegExp.$1,3===RegExp.$1.length?(""+n[r]).length<3?("00"+n[r]).substr(("00"+n[r]).length-3,("00"+n[r]).length):n[r]:("00"+n[r]).substr((""+n[r]).length)));return t},Util.prototype.MD5=function(e,t){function l(e,t){return e<<t|e>>>32-t}function c(e,t){var i=2147483648&e,n=2147483648&t,r=1073741824&e,a=1073741824&t,o=(1073741823&e)+(1073741823&t);return r&a?2147483648^o^i^n:r|a?1073741824&o?3221225472^o^i^n:1073741824^o^i^n:o^i^n}function i(e,t,i,n,r,a,o){var s;return e=c(e,c(c((s=t)&i|~s&n,r),o)),c(l(e,a),t)}function n(e,t,i,n,r,a,o){var s;return e=c(e,c(c(t&(s=n)|i&~s,r),o)),c(l(e,a),t)}function r(e,t,i,n,r,a,o){return e=c(e,c(c(t^i^n,r),o)),c(l(e,a),t)}function a(e,t,i,n,r,a,o){return e=c(e,c(c(i^(t|~n),r),o)),c(l(e,a),t)}function o(e){for(var t="",i="",n=0;n<=3;n++)t+=(i="0"+(e>>>8*n&255).toString(16)).substr(i.length-2,2);return t}for(var s,u,p,g,d=function(e){for(var t,i=e.length,n=i+8,r=16*(1+(n-n%64)/64),a=Array(r-1),o=0,s=0;s<i;)o=s%4*8,a[t=(s-s%4)/4]=a[t]|e.charCodeAt(s)<<o,s++;return o=s%4*8,a[t=(s-s%4)/4]=a[t]|128<<o,a[r-2]=i<<3,a[r-1]=i>>>29,a}(e),f=1732584193,m=4023233417,y=2562383102,h=271733878,$=0;$<d.length;$+=16)f=i(s=f,u=m,p=y,g=h,d[$+0],7,3614090360),h=i(h,f,m,y,d[$+1],12,3905402710),y=i(y,h,f,m,d[$+2],17,606105819),m=i(m,y,h,f,d[$+3],22,3250441966),f=i(f,m,y,h,d[$+4],7,4118548399),h=i(h,f,m,y,d[$+5],12,1200080426),y=i(y,h,f,m,d[$+6],17,2821735955),m=i(m,y,h,f,d[$+7],22,4249261313),f=i(f,m,y,h,d[$+8],7,1770035416),h=i(h,f,m,y,d[$+9],12,2336552879),y=i(y,h,f,m,d[$+10],17,4294925233),m=i(m,y,h,f,d[$+11],22,2304563134),f=i(f,m,y,h,d[$+12],7,1804603682),h=i(h,f,m,y,d[$+13],12,4254626195),y=i(y,h,f,m,d[$+14],17,2792965006),f=n(f,m=i(m,y,h,f,d[$+15],22,1236535329),y,h,d[$+1],5,4129170786),h=n(h,f,m,y,d[$+6],9,3225465664),y=n(y,h,f,m,d[$+11],14,643717713),m=n(m,y,h,f,d[$+0],20,3921069994),f=n(f,m,y,h,d[$+5],5,3593408605),h=n(h,f,m,y,d[$+10],9,38016083),y=n(y,h,f,m,d[$+15],14,3634488961),m=n(m,y,h,f,d[$+4],20,3889429448),f=n(f,m,y,h,d[$+9],5,568446438),h=n(h,f,m,y,d[$+14],9,3275163606),y=n(y,h,f,m,d[$+3],14,4107603335),m=n(m,y,h,f,d[$+8],20,1163531501),f=n(f,m,y,h,d[$+13],5,2850285829),h=n(h,f,m,y,d[$+2],9,4243563512),y=n(y,h,f,m,d[$+7],14,1735328473),f=r(f,m=n(m,y,h,f,d[$+12],20,2368359562),y,h,d[$+5],4,4294588738),h=r(h,f,m,y,d[$+8],11,2272392833),y=r(y,h,f,m,d[$+11],16,1839030562),m=r(m,y,h,f,d[$+14],23,4259657740),f=r(f,m,y,h,d[$+1],4,2763975236),h=r(h,f,m,y,d[$+4],11,1272893353),y=r(y,h,f,m,d[$+7],16,4139469664),m=r(m,y,h,f,d[$+10],23,3200236656),f=r(f,m,y,h,d[$+13],4,681279174),h=r(h,f,m,y,d[$+0],11,3936430074),y=r(y,h,f,m,d[$+3],16,3572445317),m=r(m,y,h,f,d[$+6],23,76029189),f=r(f,m,y,h,d[$+9],4,3654602809),h=r(h,f,m,y,d[$+12],11,3873151461),y=r(y,h,f,m,d[$+15],16,530742520),f=a(f,m=r(m,y,h,f,d[$+2],23,3299628645),y,h,d[$+0],6,4096336452),h=a(h,f,m,y,d[$+7],10,1126891415),y=a(y,h,f,m,d[$+14],15,2878612391),m=a(m,y,h,f,d[$+5],21,4237533241),f=a(f,m,y,h,d[$+12],6,1700485571),h=a(h,f,m,y,d[$+3],10,2399980690),y=a(y,h,f,m,d[$+10],15,4293915773),m=a(m,y,h,f,d[$+1],21,2240044497),f=a(f,m,y,h,d[$+8],6,1873313359),h=a(h,f,m,y,d[$+15],10,4264355552),y=a(y,h,f,m,d[$+6],15,2734768916),m=a(m,y,h,f,d[$+13],21,1309151649),f=a(f,m,y,h,d[$+4],6,4149444226),h=a(h,f,m,y,d[$+11],10,3174756917),y=a(y,h,f,m,d[$+2],15,718787259),m=a(m,y,h,f,d[$+9],21,3951481745),f=c(f,s),m=c(m,u),y=c(y,p),h=c(h,g);return 32===t?o(f)+o(m)+o(y)+o(h):o(m)+o(y)},Util.prototype.clientTimeZone=function(){var e=(new Date).getTimezoneOffset(),t=parseInt(e/60),i=e%60,n="-";return(t<=0||i<0)&&(n="+",t=-t,i<0&&(i=-i)),1===(t+="").length&&(t="0"+t),1===(i+="").length&&(i="0"+i),n+t+":"+i},Util.prototype.delEmpty=function(e){var t={};for(var i in e){var n=!0,r=this.paramType(e[i]);"Object"!==r?(e[i]||"Number"===r&&!isNaN(e[i])||"Boolean"===r||(n=!1),!0===n&&(t[i]=e[i])):t[i]=this.delEmpty(e[i])}for(var a in t){var o=[];for(var s in t[a])o.push(t[a][s]);0===o.length&&t[a].constructor===Object&&delete t[a]}return t},Util.prototype.addEvent=function(e,t,i,n){if(document.addEventListener)if("Array"!==this.paramType(e)&&"HTMLCollection"!==this.paramType(e)||!e.length||e===window)e.addEventListener(t,i,n);else for(var r=0;r<e.length;r++)this.addEvent(e[r],t,i,n);else if(e.length&&e!==window)for(var a=0;a<e.length;a++)this.addEvent(e[a],t,i);else e.attachEvent("on"+t,function(){return i.call(e,window.event)})},Util.prototype.removeEvent=function(e,t,i,n){if(document.removeEventListener)if(e.length)for(var r=0;r<e.length;r++)this.removeEvent(e[r],t,i,n);else e.removeEventListener(t,i,n);else if(e.length)for(var a=0;a<e.length;a++)this.removeEvent(e[a],t,i);else e.detachEvent("on"+t,function(){return i.call(e,window.event)})},Util.prototype.addWindowEvent=function(n){var r=window.history[n];return function(){var e,t,i=r.apply(this,arguments);return document.createEvent?((e=document.createEvent("HTMLEvents")).initEvent(n,!0,!0),e.arguments=arguments,window.dispatchEvent(e)):((t=document.createEventObject()).arguments=arguments,document.fireEvent("on"+n,t)),i}},Util.prototype.extend=function(e,t){var i=function i(){};i.prototype=t.prototype,e.prototype=new i,(e.prototype.constructor=e).superclass=t.prototype,t.prototype.constructor===Object.prototype.constructor&&(t.prototype.constructor=t)},Util.prototype.addEleLable=function(e,t,i,n){var r=document,a=r.createElement(e),o=n||r.body||r.getElementsByTagName("body")[0];return i&&(a.id=i),t&&(a.className=t),o.appendChild(a),a},Util.prototype.addScript=function(e,t,i){var n=document,r=n.createElement("script"),a=n.getElementsByTagName("script");r.type="text/javascript",r.async=!0,r.id=e;var o="";if(t){if("Array"===this.paramType(t))return void(0,t[0])([t[1]],i);o="/"===t.charAt(t.length-1)?t:t+"/"}else if(n.getElementById("ARK_SDK"))o=n.getElementById("ARK_SDK").src;else for(var s=0;s<a.length;s++)if(a[s].src&&-1<a[s].src.indexOf("AnalysysAgent_JS_SDK")){o=a[s].src;break}var l=o.substring(0,o.lastIndexOf("/")+1);r.src=l+e+".min.js?v="+this.format(new Date,"yyyyMMddhhmm"),r.onload=setTimeout(i,500),a[0].parentNode.insertBefore(r,a[0])},Util.prototype.GetUrlParam=function(e){var t=document.location.toString().split("?");if(1<t.length){for(var i,n=[],r=1;r<t.length;r++)n.push.apply(n,t[r].split("&"));for(var a=0;a<n.length;a++)if(null!=(i=n[a].split("="))&&i[0]===e){var o=i[1];if(-1<i[1].indexOf("#")&&(o=o.split("#")[0]),-1<o.indexOf("%")){try{var s=decodeURI(o);if(CheckChinese(s))return s}catch(l){}if("Object"===this.paramType(window.AnalysysModule)&&"Function"===this.paramType(window.AnalysysModule.decodeGBK))try{return window.AnalysysModule.decodeGBK(o,"gbk")}catch(l){}}return o}return""}return""},Util.prototype.stringSlice=function(e,t){return e.slice(0,t)},Util.prototype.trim=function(e){return"String"===this.paramType(e)?e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):e},Util.prototype.changeHash=function(e){var t=window.history.pushState,i=window.history.replaceState;window.history.pushState=function(){t.apply(window.history,arguments),e.apply(e)},window.history.replaceState=function(){i.apply(window.history,arguments),e.apply(e)};var n;"on"+(n=window.ActiveXObject||"ActiveXObject"in window?"hashchange":"popstate")in window&&this.addEvent(window,n,function(){setTimeout(e,0)})},Util.prototype.deviceType=function(){var e=navigator.userAgent;return-1<e.indexOf("Tablet")&&e.indexOf("PC")<0||-1<e.indexOf("Pad")||-1<e.indexOf("Nexus 7")?"tablet":-1<e.indexOf("Mobi")||-1<e.indexOf("iPh")||-1<e.indexOf("480")?"phone":"desktop"},Util.prototype.checkTypeList=function(e,t){var i=this.paramType(e);if("String"===i){var n=window.location.href,r=window.location.protocol+"//"+window.location.host,a=r+window.location.pathname;if(-1<[n,r,a+"index.html",a,a+window.location.hash].indexOf(e))return!0}else{if("Function"===i)return e.call(e,t);if("Array"===i)for(var o=0;o<e.length;o++)if(!0===this.checkTypeList(e[o],t))return!0}return!1},Util.prototype.selectorAllEleList=function(e){var t=[],i=e.split(".")[0];if("Function"===this.paramType(document.querySelectorAll)&&e.indexOf("|")<0)try{return document.querySelectorAll(e)}catch(d){}var n="";if(-1<e.indexOf("#")){n=e.split(".")[0].split("#")[1];var r=document.getElementById(n);r&&t.push(r)}else{if(e.indexOf(".")<0)return document.getElementsByTagName(i);if(-1<e.indexOf("[")&&-1<e.indexOf("]"))for(var a=document.getElementsByTagName("*"),o=e.replace("[","").replace("]",""),s=0;s<a.length;s++){var l=a[s].getAttribute(o);"String"===this.paramType(l)&&t.push(r)}else for(var c=document.getElementsByTagName(i),u=0;u<c.length;u++){var p=c[u],g="String"===this.paramType(p.className)?p.className.split(" "):[];0<g.length&&-1<(i+"."+g.join(".")).indexOf(e)&&t.push(p)}}return t},Util.prototype.getDomainFromUrl=function(e,t){var i=(t=t||window.location.hostname).split("/");2<i.length&&(t=i[2]);if(!0===/^(\d+)\.(\d+)\.(\d+)\.(\d+)$/.test(t)||"localhost"===t)return"";var n=t.split("."),r=!0===e?2:n.length;("Number"!==this.paramType(r)||r<2)&&(r=2);var a=[];if(!(1<n.length))return"";n.length<r&&(r=n.length);for(var o=n.length-1;0<=o&&a.length!==r;o--)a.push(n[o]);return"."+a.reverse().join(".")},Util.prototype.delNotHybrid=function(e){return delete e.$is_first_day,delete e.$session_id,delete e.$is_time_calibrated,delete e.$startup_time,e},Util.prototype.getUrlPath=function(){var e=window.location.hash;return-1<e.indexOf("?")&&(e=e.split("?")[0]),window.location.host+window.location.pathname+e};var Util$1=new Util,Local="",Session="";try{Local="object"==typeof window.localStorage?window.localStorage:"",Session="object"==typeof window.sessionStorage?window.sessionStorage:""}catch(e){}function Storage(){this.localName="FZ_STROAGE",this.sessionName="FZ_SESSION",this.cookieName="FZ_STROAGE"+Util$1.getDomainFromUrl(baseConfig.base.cross_subdomain),this.checkSubdomain(),this.localObj=this.getLocal(),this.sessionObj=this.getSession()}Storage.prototype.checkSubdomain=function(){var e,t,i,n,r=window.AnalysysAgent||[];if("Array"===Util$1.paramType(r))for(var a=0;a<r.length;a++)"cross_subdomain"===r[a][0]&&"Boolean"===Util$1.paramType(r[a][1])&&(baseConfig.base.cross_subdomain=r[a][1]);r&&Util$1.objHasKay(r.config||{},"cross_subdomain")&&(baseConfig.base.cross_subdomain=r.config.cross_subdomain),!0===baseConfig.base.cross_subdomain&&(n=this.getCookie(this.cookieName)||Util$1.encode("{}"),n=JSON.parse(Util$1.decode(decodeURIComponent(n))),"Object"!==Util$1.paramType(n)||Util$1.isEmptyObject(n)||(e=n.ARK_ID,t={},!0===Util$1.objHasKay(n,"ARKSUPER")&&(t=n.ARKSUPER,delete n.ARKSUPER),i=Util$1.objMerge(this.localObj||{},n),!0!==baseConfig.base.cross_subdomain_super||Util$1.isEmptyObject(t)||(i=Util$1.objMerge({ARKSUPER:t},i)),this.setLocal(this.localName,i),this.setCookie("ARK_ID",e)))},Storage.prototype.setLocal=function(t,i){this.localObj=this.getLocal(),t===this.localName?this.localObj=i:this.localObj[t]=i;try{Local?(Local.setItem(this.localName,Util$1.encode(JSON.stringify(this.localObj))),Session.setItem(this.localName,Util$1.encode(JSON.stringify(this.localObj)))):"POSTDATA"!==t&&this.setCookie(this.cookieName,encodeURIComponent(Util$1.encode(JSON.stringify(this.localObj)))),"POSTDATA"!==t&&!0===baseConfig.base.cross_subdomain&&this.setCookie(this.cookieName,encodeURIComponent(Util$1.encode(JSON.stringify(this.localObj))))}catch(e){}},Storage.prototype.getLocal=function(t){try{var i=Util$1.encode("{}");return Local?(i=Local.getItem(this.localName))||(Session.getItem(this.localName)?(i=Session.getItem(this.localName),Local.setItem(this.localName,i)):i=Util$1.encode("{}")):i=(i=this.getCookie(this.cookieName))&&decodeURIComponent(i),this.localObj=JSON.parse(Util$1.decode(i)),t?this.localObj[t]:this.localObj}catch(e){return t?"":{}}},Storage.prototype.removeLocal=function(t){if(this.localObj=this.getLocal(),Util$1.objHasKay(this.localObj,t)&&delete this.localObj[t],Util$1.isEmptyObject(this.localObj))try{Local&&(Local.removeItem(this.localName),Session.removeItem(this.localName)),this.removeCookie(this.cookieName)}catch(e){}else Local&&(Local.setItem(this.localName,Util$1.encode(JSON.stringify(this.localObj))),Session.setItem(this.localName,Util$1.encode(JSON.stringify(this.localObj)))),"POSTDATA"!==t&&"ARK_ID"!==t&&!0===baseConfig.base.cross_subdomain&&this.setCookie(this.cookieName,Util$1.encode(JSON.stringify(this.localObj)))},Storage.prototype.setSession=function(t,i){this.sessionObj=this.getSession(),this.sessionObj[t]=i;try{Session?(Session.setItem(this.sessionName,Util$1.encode(JSON.stringify(this.sessionObj))),this.removeCookie(this.sessionName)):"POSTDATA"!==t&&this.setCookie(this.sessionName,Util$1.encode(JSON.stringify(this.sessionObj)),"session")}catch(e){}},Storage.prototype.getSession=function(t){try{var i={};return Session?(i=Session.getItem(this.sessionName)||Util$1.encode("{}"),this.removeCookie(this.sessionName)):i=this.getCookie(this.sessionName)||Util$1.encode("{}"),this.sessionObj=JSON.parse(Util$1.decode(i)),t?this.sessionObj[t]:this.sessionObj}catch(e){return{}}},Storage.prototype.removeSession=function(t){if(this.sessionObj=this.getSession(),Util$1.objHasKay(this.sessionObj,t)&&delete this.sessionObj[t],Util$1.isEmptyObject(this.sessionObj))try{Session&&Session.removeItem(this.sessionName),this.removeCookie(this.sessionName)}catch(e){}else Session&&Session.setItem(this.sessionName,Util$1.encode(JSON.stringify(this.sessionObj)))},Storage.prototype.setCookie=function(e,t,i){var n,r=Util$1.getDomainFromUrl(baseConfig.base.cross_subdomain),a=r?"; domain="+r:"",o="";"session"!==i&&((n=new Date).setTime(n.getTime()+31536e6),o="; expires="+n.toGMTString()),document.cookie=e+"="+t+o+"; path=/"+a},Storage.prototype.getCookie=function(e){e=e||this.localName;var t=document.cookie;if("string"!=typeof t)return"";for(var i,n=e+"=",r=t.split(/[;&]/),a=0;a<r.length;a++){for(i=r[a];" "===i.charAt(0);)i=i.substring(1,i.length);if(0===i.indexOf(n))return i.substring(n.length,i.length)||""}},Storage.prototype.removeCookie=function(e,t,i){t="Boolean"===Util$1.paramType(t)?t:baseConfig.base.cross_subdomain;var n,r,a=Util$1.getDomainFromUrl(t),o=a?"; domain="+a:"";"session"!==i&&((n=new Date).setTime(n.getTime()-94608e6),r="; expires="+n.toGMTString()),document.cookie=e+"="+r+"; path=/"+o};var Storage$1=new Storage,UTM={utm_campaign_id:Util$1.GetUrlParam("campaign_id"),utm_source:Util$1.GetUrlParam("utm_source")||Util$1.GetUrlParam("hmsr"),utm_medium:Util$1.GetUrlParam("utm_medium")||Util$1.GetUrlParam("hmpl"),utm_term:Util$1.GetUrlParam("utm_term")||Util$1.GetUrlParam("hmkw"),utm_content:Util$1.GetUrlParam("utm_content")||Util$1.GetUrlParam("hmci"),utm_campaign:Util$1.GetUrlParam("utm_campaign")||Util$1.GetUrlParam("hmcu")};function clearUTM(){UTM={utm_campaign_id:"",utm_source:"",utm_medium:"",utm_term:"",utm_content:"",utm_campaign:""}}function SessionId(){this.sessionId=Storage$1.getLocal("SEESIONID")||this.setId(),this.sessionDate=Storage$1.getLocal("SEESIONDATE")||0}SessionId.prototype.setId=function(){var e=+new Date;return this.sessionId=Util$1.MD5("JS"+e.toString()+1e7*Math.random()),this.sessionDate=e,Storage$1.setLocal("SEESIONID",this.sessionId),Storage$1.setLocal("SEESIONDATE",this.sessionDate),this.sessionId},SessionId.prototype.getId=function(){var e=new Date,t=e.getTime(),i=e.getTimezoneOffset(),n=new Date(t+60*i*1e3+288e5).getDate();this.sessionDate=Storage$1.getLocal("SEESIONDATE")||0;var r=0===this.sessionDate?0:new Date(this.sessionDate+60*i*1e3+288e5).getDate();return this.sessionId&&this.sessionDate&&!(18e5<Number(t)-Number(this.sessionDate))&&n===r||(clearUTM(),this.setId()),this.sessionDate=t,Storage$1.setLocal("SEESIONDATE",t),this.sessionId=Storage$1.getLocal("SEESIONID")||this.setId(),this.sessionId};var sessionId=new SessionId,UA=navigator.userAgent.toLowerCase();function checkSpider(){return!!UA.match(/(bot|crawler|spider|scrapy|dnspod|ia_archiver|jiankongbao|slurp|transcoder|networkbench|oneapm|PhantomJS|BingPreview)/i)}function getId(){var e=Storage$1.getLocal("ARK_LOGINID")||Storage$1.getLocal("ARK_TRACKID")||Storage$1.getLocal("ARK_ID");return e&&"[object Object]"!==e||(e=setUUId(),Storage$1.setLocal("ARK_ID",e)),Storage$1.setCookie("ARK_ID",getIdentifyId()||getUUId()),e}function setUUId(){var e=(new Date).getTime().toString()+(1e4*Math.random()).toString(),t="JS"+Util$1.MD5(e.toString(),32)+Util$1.MD5(e.toString(),32).slice(0,4);return Storage$1.setCookie("ARK_ID",t),t}function getUUId(){var e=Storage$1.getLocal("ARK_ID");return e||(e=setUUId(),Storage$1.setLocal("ARK_ID",e)),e}function removeUUId(){Storage$1.removeLocal("ARK_ID")}function getAliasId(){return Storage$1.getLocal("ARK_LOGINID")}function removeAliasId(){Storage$1.removeLocal("ARK_LOGINID")}function getIdentifyId(){return Storage$1.getLocal("ARK_TRACKID")}function removeIdentifyId(){Storage$1.removeLocal("ARK_TRACK_LOGIN"),Storage$1.removeLocal("ARK_TRACKID")}var base=baseConfig.base;function appkey(e){base.appid=e}function getAppId(){return base.appid}function debugMode(e){base.$debug=e}function getDebugMode(){return base.$debug}function uploadURL(e){"/"!==e.charAt(e.length-1)&&(e+="/"),base.uploadURL=e}function getUploadURL(){return"/"!==base.uploadURL.charAt(base.uploadURL.length-1)&&(base.uploadURL+="/"),base.uploadURL}function nowDate(){return+new Date+(Storage$1.getLocal("ANSSERVERTIME")?Number(Storage$1.getLocal("ANSSERVERTIME")):0)}function timeCalibration(){return!!Storage$1.getLocal("ANSSERVERTIME")}function getXwhat(){return baseConfig.status.FnName}function isLogin(){var e=!1;return(getAliasId()||Storage$1.getLocal("ARK_TRACK_LOGIN"))&&(e=!0),e}var timeZone="GMT"+Util$1.clientTimeZone(),language=(navigator.language||navigator.browserLanguage).toLowerCase();function getSessionId(){return sessionId.getId()}function isFirstTime(){var e=Storage$1.getLocal("FRISTIME");return Storage$1.setLocal("FRISTIME",!1),e}function isFirstDay(){var e=new Date,t=e.getFullYear(),i=(i=e.getMonth()+1)<10?"0"+i:i,n=e.getDate(),r=t+""+i+(n=n<10?"0"+n:n),a=Storage$1.getLocal("FRISTDAY");return!a||r===a}function originalId(){return getIdentifyId()||getUUId()}function getReferrer(){var e=decodeURIComponent(document.referrer);return!0===baseConfig.base.isHybrid&&(e=encodeURIComponent(e)),e}function getReferrerDomain(){return Util$1.getDomainFromUrl(!1,document.referrer)}function getTitle(){return document.title}function startupTime(){return Storage$1.getSession("STARTUPTIME")||""}function getUrl(){var e=decodeURIComponent(window.location.href);return!0===baseConfig.base.isHybrid&&(e=encodeURIComponent(e)),e}function getLibVersion(){return base.$lib_version}function getScreenWidth(){return"Number"===Util$1.paramType(Number(window.screen.width))?Number(window.screen.width):0}function getScreenHeight(){return"Number"===Util$1.paramType(Number(window.screen.height))?Number(window.screen.height):0}var oldUTM=Storage$1.getSession("ARK_UTM")||"";function utmCampaignId(){return UTM.utm_campaign_id}function utmSource(){return UTM.utm_source}function utmMedium(){return UTM.utm_medium}function utmTerm(){return UTM.utm_term}function utmContent(){return UTM.utm_content}function utmCampaign(){return UTM.utm_campaign}UTM.utm_campaign||UTM.utm_source||UTM.utm_medium||UTM.campaign_id||UTM.utm_term||UTM.utm_content?(oldUTM!==JSON.stringify(UTM)&&sessionId.setId(),Storage$1.setSession("ARK_UTM",JSON.stringify(UTM))):(clearUTM(),Storage$1.removeSession("ARK_UTM"));var getField={__proto__:null,getAppId:getAppId,getId:getId,getUploadURL:getUploadURL,appkey:appkey,debugMode:debugMode,uploadURL:uploadURL,getDebugMode:getDebugMode,nowDate:nowDate,getXwhat:getXwhat,isLogin:isLogin,timeZone:timeZone,language:language,getSessionId:getSessionId,isFirstTime:isFirstTime,isFirstDay:isFirstDay,originalId:originalId,getReferrer:getReferrer,getReferrerDomain:getReferrerDomain,getTitle:getTitle,getUrl:getUrl,getScreenWidth:getScreenWidth,getScreenHeight:getScreenHeight,startupTime:startupTime,checkSpider:checkSpider,getLibVersion:getLibVersion,utmCampaignId:utmCampaignId,utmSource:utmSource,utmMedium:utmMedium,utmTerm:utmTerm,utmContent:utmContent,utmCampaign:utmCampaign,timeCalibration:timeCalibration},fieldRules={resetKeywords:["appid","$debug","uploadUrl"],uploadURL:{valueType:0,value:getUploadURL,check:{value:["isString","nimLength","isUrl"],errorCode:"60007",successCode:"20008"}},appid:{valueType:0,value:getAppId,check:{value:["isString","nimLength"],errorCode:"60006",successCode:"20006"}},hash:{check:{value:["isBoolean"],errorCode:"60003"}},auto:{check:{value:["isBoolean"],errorCode:"60003"}},autoProfile:{check:{value:["isBoolean"],errorCode:"60003"}},pageProperty:{check:{value:["isObject"],errorCode:"600016"}},xwho:{valueType:0,value:getId,check:{value:["isString","nimLength"]}},xwhen:{valueType:0,value:nowDate},xwhat:{valueType:0,value:getXwhat,check:{value:["isString","nimLength"]}},xcontext:{$lib:{valueType:1,value:"JS"},$lib_version:{valueType:0,value:getLibVersion,check:{value:["isString"],successCode:"20007"}},$platform:{valueType:1,value:"JS"},$debug:{valueType:0,value:getDebugMode,check:{value:["isNumber","isDebug"]}},$is_login:{valueType:0,value:isLogin,check:{value:["isBoolean"]}},$screen_width:{valueType:0,value:getScreenWidth,check:{value:["isNumber"]}},$screen_height:{valueType:0,value:getScreenHeight,check:{value:["isNumber"]}},$time_zone:{valueType:1,value:timeZone},$language:{valueType:1,value:language},$session_id:{valueType:0,value:getSessionId},$is_first_time:{valueType:0,value:isFirstTime},$is_first_day:{valueType:0,value:isFirstDay},$referrer:{valueType:0,value:getReferrer},$referrer_domain:{valueType:0,value:getReferrerDomain},$title:{valueType:0,value:getTitle},$url:{valueType:0,value:getUrl},$startup_time:{valueType:0,value:startupTime},$web_crawler:{valueType:0,value:checkSpider},$original_id:{valueType:0,value:originalId},$utm_campaign_id:{valueType:0,value:utmCampaignId},$utm_source:{valueType:0,value:utmSource},$utm_medium:{valueType:0,value:utmMedium},$utm_term:{valueType:0,value:utmTerm},$utm_content:{valueType:0,value:utmContent},$utm_campaign:{valueType:0,value:utmCampaign},$is_time_calibrated:{valueType:0,value:timeCalibration}},xcontextCommonRule:{check:{key:["isString","length99","notSpecialCharacters","keywords"],value:["notObject","isArrayString","length255"]}},$track:{check:{key:["isString","notSpecialCharacters","length99"]}},$alias:{check:{key:["isString","keyLength255"]}},$profile_increment:{check:{key:["isString","length99","notSpecialCharacters"],value:["isNumber"]}},$profile_unset:{check:{key:["isString","length99","notSpecialCharacters"]}},$pageview:{check:{key:["isString","keyLength255"]}}},lifecycle={},fieldRules$1={"visitorConfigURL ":{check:{value:["isUrl"]}}},fieldTemplate$1={};function getElementContent(e){var t="";return"input"!==e.tagName.toLowerCase()||"button"!==e.type&&"submit"!==e.type?"img"===e.tagName.toLowerCase()?t=Util$1.trim(e.getAttribute("alt"))||Util$1.trim(e.getAttribute("title"))||"":"a"===e.tagName.toLowerCase()&&(t=Util$1.trim(e.getAttribute("title"))||""):t=Util$1.trim(e.value)||"",t||(e.textContent?t=Util$1.trim(e.textContent):e.innerText&&(t=Util$1.trim(e.innerText))),t=t&&"String"===Util$1.paramType(t)?t.replace(/[\r\n]/g," ").replace(/[ ]+/g," ").substring(0,255):"","input"===e.tagName.toLowerCase()?"":t}function domParentList(e){for(var t=[],i=e;null!=i;){if(1===i.nodeType){var n=i.tagName.toLowerCase(),r=i.id?"#"+i.id:"",a="String"!==Util$1.paramType(i.className)?[]:i.className.split(" ");if(0<a.length){for(var o="",s=0;s<a.length;s++)a[s]&&a[s].indexOf("ARK")<0&&(o+="."+a[s]);t.push(n+r+o)}else t.push(n+r);i=i.parentNode}else i=i.parentNode}return t.join("<")}function cssContrast(e,t){for(var i=0;i<e.length;i++)if(e[i]&&t[i]&&i<3)for(var n=e[i].split(".").slice(1),r=t[i].split(".").slice(1),a=0;a<r.length;a++)if(n.indexOf(r[a])<0)return;return 1}function parentContrast(e,t){for(var i=0;i<e.length;i++)if(e[i].split(".")[0]!==t[i].split(".")[0])return;return 1}function pathContrast(e,t){var i=e.path,n=t.path,r=e.index||0,a=t.index||0,o=e.ele||null;if(i===n&&r===a)return!0;var s=i.split("<"),l=n.split("<");if(s.length<l.length)return!1;if(s.length>l.length){for(var c=s.length-l.length,s=s.splice(c),u=o;0<c&&u;)u=u.parentNode,c--;if(!u)return!1;r=setIndex(u,s.join("<"))}return!(!parentContrast(s,l)||!cssContrast(s,l)||r!==a)}function parseEvent(e){var t=parserDom(e);if(0!==t.length){var i=t[0];-1<i.elePath.indexOf("#")&&(i.elePath="#"+i.elePath.split("#")[1]);for(var n=Util$1.selectorAllEleList(i.elePath),r=[],a=0;a<n.length;a++)!0===pathContrast({path:domParentList(n[a])},{path:e})&&r.push(n[a]);return r}}function parserDom(e){var t=[];if(e.indexOf("<")<0)return[{elePath:e}];for(var i=e.split("<"),n=0;n<i.length;n++){var r=i[n];t.push({elePath:r})}return t}function setIndex(e,t){var i=parserDom(t);if(0===i.length)return 0;var n=i[0];-1<n.elePath.indexOf("#")&&(n.elePath="#"+n.elePath.split("#")[1]);for(var r=Util$1.selectorAllEleList(n.elePath)||[],a=0,o=0;o<r.length;o++)if(!0===pathContrast({path:domParentList(r[o])},{path:t})){if(r[o]===e)return a;a++}return 0}function getJSON(t){if("String"!==Util$1.paramType(t))return"Object"===Util$1.paramType(t)?t:{code:200};-1<t.indexOf("\n")&&(t=t.replace(/[\r\n]/g,""));try{return JSON.parse(t)}catch(e){}try{return window.AnalysysModule.zipInflate(t)}catch(e){}return"H4sIAAAAAAAAAKtWSs5PSVWyMjIwqAUAVAOW6gwAAAA="===t?{code:200}:"H4sIAAAAAAAAAKtWSs5PSVWyMjUwqAUA7TtBdwwAAAA="===t?{code:500}:"H4sIAAAAAAAAAKtWSs5PSVWyMjEy0FHKLU5XslJySSxJVHBJTS6qLChRcC0qyi/S01OqBQBdATGSKQAAAA=="===t?{code:420}:{code:200}}function GetHttpObj(){var t=null;if(window.XDomainRequest)return new window.XDomainRequest;if(window.XMLHttpRequest)t=new window.XMLHttpRequest;else try{t=new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){try{t=new window.ActiveXObject("Msxml2.XMLHTTP")}catch(i){t=new window.XMLHttpRequest}}return t}function xmlhttp(n){var r=!1,a=new GetHttpObj;a.onload=function(){r||(r=!0,n.success(getJSON(a.responseText),a))},a.onerror=function(){r||(r=!0,n.error(getJSON(a.responseText),a))},a.onreadystatechange=function(){if(4===a.readyState){try{var t,i;(-1<a.getAllResponseHeaders().indexOf("Date")||-1<a.getAllResponseHeaders().indexOf("date"))&&(t=+new Date,(i=a.getResponseHeader("Date")||a.getResponseHeader("date"))&&!0===baseConfig.base.allowTimeCheck?Storage$1.setLocal("ANSSERVERTIME",new Date(i)-t):Storage$1.setLocal("ANSSERVERTIME",0))}catch(e){}if(200<=a.status&&a.status<300||304===a.status){if(r)return;r=!0,n.success(getJSON(a.responseText),a)}else{if(r)return;r=!0,n.error()}a.onreadystatechange=null,a.onload=null}};try{a.open(n.type,n.url,!0),a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),"GET"===n.type?a.send(null):a.send(n.data)}catch(e){}}function ajax(){this.url="",this.data="",this.type="GET",this.success=function(){},this.error=function(){}}function sendMsg(e){console.log("发送可视化SDK初始化完毕消息===>",JSON.stringify(e,null,2)),"Object"===Util$1.paramType(e)&&(e=JSON.stringify(e)),window.parent.postMessage(e,"*")}function getMsg(n){Util$1.addEvent(window,"message",function(t){var i=t.data;try{"String"===Util$1.paramType(i)&&(i=JSON.parse(i))}catch(e){}console.log("获取可视化消息===>",JSON.stringify(i,null,2)),n(i)})}ajax.prototype.get=function(e){var t=[];for(var i in e.data)t.push(i+"="+encodeURIComponent(e.data[i]));var n=-1<e.url.indexOf("?")?e.url+"&"+t.join("&"):e.url+"?"+t.join("&");this.url=n,this.data=e.data,this.type="GET",this.success=e.success||function(){},this.error=e.error||function(){},xmlhttp(this)},ajax.prototype.post=function(e){this.url=e.url,this.data=e.data,this.type="POST",this.success=e.success||function(){},this.error=e.error||function(){},xmlhttp(this)};var visitorConfig={},clickEleObj={};function loadVisitorSDK(){var n=[],r=function r(e){var t=e.type,i=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.hash;switch(t){case"INIT":if(e.appid!==visitorConfig.appid)return void sendMsg({code:400,type:"INIT",msg:"appkey不相同"});sendMsg({code:200,type:"INIT"}),sendMsg({type:"checkUrl",code:200,url:i,skip:!0})}window.AnalysysModule&&window.AnalysysModule.visual?window.AnalysysModule.visual.msg(e):n.push(e)},t=function t(){if(Util$1.removeEvent(window,"message",r),window.AnalysysModule&&window.AnalysysModule.visual)for(var e=0;e<n.length;e++)window.AnalysysModule.visual.msg(n[e])};Util$1.addScript("AnalysysAgent_JS_SDK_VISUAL",visitorConfig.SDKFileDirectory,t),window.ARK_VISUAL={config:visitorConfig},Storage$1.setSession("visitor",!0),getMsg(r)}function IsReverse(e){return e.split("").reverse().join("")}function checkPointBase(e,t){var i=IsReverse(e),n=IsReverse(t);return-1<i.indexOf(n)}function addElesListener(e){(e=e||window.event).touches&&0<e.touches.length&&(e=e.touches[0]);for(var t=e.target||e.srcElement,i=/\d{13}/g,n=0;n<visitorEventList.length;n++){var r,a,o=visitorEventList[n].link,s=visitorEventList[n].elePath,l=visitorEventList[n].index,c=visitorEventList[n].eleClass,u=visitorEventList[n].appEventId;!0===i.test(o)&&(o=o.replace(/\d{13}/,"")),!0===checkPointBase(clickEleObj.elePath,s)&&(r=!1,(c!==clickEleObj.eleClass||l!==clickEleObj.index)&&parseEvent(o)[l]!==t&&!0!==pathContrast(clickEleObj,{path:o,index:l})||(r=!0),!0===r&&((a=visitorEventList[n].isText)&&a!==getElementContent(t)||window.AnalysysAgent.track(u)))}}var visitorEventList=[];function getVisitorEvent(){var e=window.location.hash;-1<e.indexOf("?")&&(e=e.split("?")[0]),getPoint(window.location.protocol+"//"+window.location.host+window.location.pathname+e)}function parsePath(e){for(var t=e.split("<"),i=t[0].split(".")[1]||"",n=[],r=0;r<t.length;r++)n.push(t[r].split(".")[0]);return{"class":i,clickPath:n.join("<")}}function getPoint(e){var t=function(e){if(0===e.code){for(var t=[],i=0;i<e.data.length;i++){var n=e.data[i],r=parsePath(n.link),a=n.index,o=r.clickClass,s=r.clickPath,l=n.isText;t.push({index:a,eleClass:o,elePath:s,isText:l,link:n.link,appEventId:n.appEventId})}visitorEventList=t}},i={url:visitorConfig.visitorConfigURL,data:{appkey:visitorConfig.appid,lib:"Js",url:e},success:t,error:function(){}};(new ajax).get(i)}var url=window.location.href;function visitorPageViewInit(e){e.visitorConfigURL&&!1===e.isHybrid&&("/"!==e.visitorConfigURL.charAt(e.visitorConfigURL.length-1)&&(e.visitorConfigURL+="/"),e.visitorConfigURL=e.visitorConfigURL+"configure",getVisitorEvent(),addEventListener())}function pcMouseOver(e){var t=!1;e.touches&&0<e.touches.length&&(e=e.touches[0],t=!0);var i=(e=e||window.event).target||e.srcElement,n=domParentList(i),r=parsePath(n),a=r.clickClass,o=r.clickPath;!0===/\d{13}/g.test(n)&&(n=n.replace(/\d{13}/,""));var s=setIndex(i,n);clickEleObj={path:n,eleIndex:s,ele:i,elePath:o,eleClass:a},!0===t?addElesListener():Util$1.addEvent(i,"mousedown",addElesListener)}function pcMouseOut(e){var t=(e=e||window.event).target||e.srcElement;Util$1.removeEvent(t,"mousedown",addElesListener)}function addEventListener(){"desktop"===Util$1.deviceType()?(Util$1.addEvent(document,"mouseover",pcMouseOver,!0),Util$1.addEvent(document,"mouseout",pcMouseOut,!0)):Util$1.addEvent(document,"touchstart",pcMouseOver),Util$1.changeHash(function(){url!==window.location.href&&(url=window.location.href,getVisitorEvent())})}function visitorInit(e){return visitorConfig=e,"Undefined"!==Util$1.paramType(window.top)&&window.top!==window.self&&(-1<window.location.href.indexOf("visual=true")||!0===Storage$1.getSession("visitor"))?loadVisitorSDK():visitorPageViewInit(e),e}var lifecycle$1={AnalysysAgent:{init:visitorInit}},visitor={__proto__:null,fieldRules:fieldRules$1,fieldTemplate:fieldTemplate$1,lifecycle:lifecycle$1},startDate=+new Date;function getViewPortWidth(){return document.documentElement.clientWidth||document.body.clientWidth}function getViewPortHeight(){return document.documentElement.clientHeight||document.body.clientHeight}function getScrollTop(){return document.documentElement.scrollTop||document.body.scrollTop}function getDuration(){var e=+new Date,t=e-startDate;if(startDate=e,"Number"===Util$1.paramType(baseConfig.base.webstayDuration)&&0<baseConfig.base.webstayDuration){if(t>baseConfig.base.webstayDuration)return baseConfig.base.webstayDuration}else if(18e6<t)return 18e6;return t}function getDeviceType(){return Util$1.deviceType()}var fieldRules$2={autoWebstay:{check:{value:["isBoolean"]}},xcontext:{$viewport_width:{valueType:0,value:getViewPortWidth},$viewport_position:{valueType:0,value:getScrollTop},$viewport_height:{valueType:0,value:getViewPortHeight},$event_duration:{valueType:0,value:getDuration},$device_type:{valueType:0,value:getDeviceType}}},fieldTemplate$2={$webstay:{xcontext:["$referrer","$referrer_domain","$title","$url","$viewport_width","$viewport_position","$viewport_height","$event_duration","$device_type","$session_id","$is_time_calibrated","$is_first_day"]}},interval=null,topValue=0;function initWebStay(){var e=window.onscroll;function t(){var e=document.documentElement.scrollTop||document.body.scrollTop;topValue===e&&(clearTimeout(interval),interval=null,window.AnalysysAgent&&window.AnalysysAgent.freeApi?window.AnalysysAgent.freeApi("$webstay"):setTimeout(function(){t()},100))}window.onscroll=function(){e&&"Function"===Util$1.paramType(e)&&e(),clearTimeout(interval),interval=setTimeout(t,1e3),topValue=document.documentElement.scrollTop||document.body.scrollTop}}function autoWebstayInit(e){return!0===e.autoHeatmap&&!0===e.autoWebstay&&!1===e.isHybrid&&initWebStay(),e}var lifecycle$2={AnalysysAgent:{init:autoWebstayInit}},webstay={__proto__:null,fieldRules:fieldRules$2,fieldTemplate:fieldTemplate$2,lifecycle:lifecycle$2},elePostion={ele:"",click_x:0,click_y:0,clickEle:""};function domParentList$1(e){for(var t=[],i=e;null!=i;){var n=0;if(i.parentNode){var r=i.parentNode.children;if(r)for(var a=0;a<r.length;a++)r[a]===i&&(n=a)}var o=i.tagName;if(o){o=o.toLowerCase();var s=i.id?"#"+i.id:"",l=i.className&&"String"===Util$1.paramType(i.className)?i.className.split(" "):[];if(0<l.length){for(var c="",u=0;u<l.length;u++)l[u]&&l[u].indexOf("ARK")<0&&(c+="."+l[u]);t.push(o+s+c+"|"+n)}else t.push(o+s+"|"+n);i=i.parentNode}else i=i.parentNode}return t.join("<")}function getPageWidth(){return document.documentElement.scrollWidth}function getPageHeight(){return document.documentElement.scrollHeight}function getClickX(){return elePostion.click_x}function getClickY(){return elePostion.click_y}function getElementPath(){return domParentList$1(elePostion.ele)}function getUrlPath(){var e=window.location.protocol+"//"+window.location.host+window.location.pathname+window.location.hash,e=decodeURIComponent(e);return!0===baseConfig.base.isHybrid&&(e=encodeURIComponent(e)),e}function getElementX(){return elePostion.elementX}function getElementY(){return elePostion.elementY}function getElementType(){return elePostion.ele.tagName.toLowerCase()}function getElementClick(){return"Function"===Util$1.paramType(elePostion.ele.onclick)}function getParentClickableElement(){for(var e=elePostion.ele;null!=elePostion.ele;)if(1===elePostion.ele.nodeType){if(getElementClick()||1===getElementClickable()){e=elePostion.ele;break}elePostion.ele=elePostion.ele.parentNode}else elePostion.ele=elePostion.ele.parentNode;elePostion.ele=e}function getElementClickable(){var e=getElementType();if(-1<["a","button","input","select","textarea","svg"].indexOf(e)){if("svg"===e&&elePostion.ele.children&&0<elePostion.ele.children.length){for(var t=0,i=elePostion.ele.children,n=0;n<i.length;n++)"use"===i[n].tagName.toLowerCase()&&i[n].getAttribute("xlink:href")&&(t=1);return t}return 1}return 0}function getEleContent(){return getElementContent(elePostion.ele)}function getDeviceType$1(){return Util$1.deviceType()}function getElementId(){return elePostion.ele.id||elePostion.ele.getAttribute("id")||""}function getElementName(){return elePostion.ele.getAttribute("name")||""}function getElementClassName(){var e=elePostion.ele.getAttribute("class")||"";if(e){for(var t=e.split(" "),i=[],n=0;n<t.length;n++)""!==t[n]&&i.push(t[n]);return e="."+i.join(".")}return""}function getElementTargetUrl(){var e=elePostion.ele.getAttribute("href");return e&&e.indexOf("javascript:")<0?(e=decodeURIComponent(e),!0===baseConfig.base.isHybrid&&(e=encodeURIComponent(e)),e):""}var fieldRules$3={autoHeatmap:{check:{value:["isBoolean"]}},xcontext:{$page_width:{valueType:0,value:getPageWidth},$page_height:{valueType:0,value:getPageHeight},$click_x:{valueType:0,value:getClickX},$click_y:{valueType:0,value:getClickY},$element_path:{valueType:0,value:getElementPath},$url_path:{valueType:0,value:getUrlPath},$element_x:{valueType:0,value:getElementX},$element_y:{valueType:0,value:getElementY},$element_type:{valueType:0,value:getElementType},$element_clickable:{valueType:0,value:getElementClickable},$element_content:{valueType:0,value:getEleContent},$device_type:{valueType:0,value:getDeviceType$1},$element_id:{valueType:0,value:getElementId},$element_name:{valueType:0,value:getElementName},$element_target_url:{valueType:0,value:getElementTargetUrl},$element_class_name:{valueType:0,value:getElementClassName}}},fieldTemplate$3={$web_click:{xcontext:["$page_width","$page_height","$click_x","$click_y","$element_path","$url_path","$url","$title","$session_id","$device_type","$session_id","$is_time_calibrated","$element_x","$element_y","$element_type","$element_clickable","$element_content","$is_first_day","$element_id","$element_name","$element_target_url","$element_class_name"]}},heatmapConfig={};function loadHeatmapSDK(){document.body&&document.getElementsByTagName("body")[0]?(Util$1.addScript("AnalysysAgent_JS_SDK_HEATMAP",heatmapConfig.SDKFileDirectory),window.ARK_HEATMAP={config:heatmapConfig}):setTimeout(loadHeatmapSDK,50)}function offset(e,t){for(var i="offset"+t.split("")[0].toUpperCase()+t.substring(1),n=e[i],r=e.offsetParent;null!=r;)n+=r[i],r=r.offsetParent;return n}function addClickEvent(e){var t=e||window.event;t.touches&&0<t.touches.length&&(t=t.touches[0]);var i,n,r,a,o=t.target||t.srcElement;Util$1.checkTypeList(heatmapConfig.heatMapBlackList,o)||heatmapConfig.heatMapWhiteList&&!Util$1.checkTypeList(heatmapConfig.heatMapWhiteList,o)||(i=document.documentElement.scrollLeft||document.body.scrollLeft,n=document.documentElement.scrollTop||document.body.scrollTop,r=t.pageX||t.clientX+i,a=t.pageY||t.clientY+n,elePostion.click_x=r,elePostion.click_y=a,elePostion.clickEle=elePostion.ele=o,getParentClickableElement(),elePostion.elementX=r-offset(elePostion.ele,"left"),elePostion.elementY=a-offset(elePostion.ele,"top"),!r||!a||r<=0||a<=0||(window.AnalysysAgent&&window.AnalysysAgent.freeApi?window.AnalysysAgent.freeApi("$web_click"):setTimeout(function(){addClickEvent(e)},100)))}function initHeatmap(){"desktop"==Util$1.deviceType()?Util$1.addEvent(document,"click",addClickEvent):Util$1.addEvent(document,"touchstart",addClickEvent)}function heatmapInit(e){return heatmapConfig=e,-1<window.location.href.indexOf("arkheatmap=true")?loadHeatmapSDK():!0===e.autoHeatmap&&!1===e.isHybrid&&initHeatmap(),e}for(var lifecycle$3={AnalysysAgent:{init:heatmapInit}},heatmap={__proto__:null,fieldRules:fieldRules$3,fieldTemplate:fieldTemplate$3,lifecycle:lifecycle$3},fieldRules$4={xcontext:{$user_agent:{valueType:1,value:encodeURIComponent(window.navigator.userAgent)}}},temp={},event=["$startup","$track","$pageview","$webstay","$web_click","$errorLog","$user_click"],common={xcontext:["$user_agent"]},i=0;i<event.length;i++)temp[event[i]]=common;var ua={__proto__:null,fieldRules:fieldRules$4,fieldTemplate:temp},fieldRules$5={xcontext:{$page_width:{valueType:0,value:getPageWidth},$page_height:{valueType:0,value:getPageHeight},$element_path:{valueType:0,value:getElementPath},$url_path:{valueType:0,value:getUrlPath},$element_type:{valueType:0,value:getElementType},$element_clickable:{valueType:0,value:getElementClickable},$element_content:{valueType:0,value:getEleContent},$device_type:{valueType:0,value:getDeviceType$1},$element_id:{valueType:0,value:getElementId},$element_name:{valueType:0,value:getElementName},$element_target_url:{valueType:0,value:getElementTargetUrl},$element_class_name:{valueType:0,value:getElementClassName}}},fieldTemplate$4={$user_click:{xcontext:["$page_width","$page_height","$url_path","$url","$title","$is_first_day","$session_id","$is_time_calibrated","$device_type","$element_type","$element_path","$element_content","$element_id","$element_name","$element_target_url","$element_class_name"]}},userClickConfig={};function addClickEvent$1(e){var t=e||window.event;t.touches&&0<t.touches.length&&(t=t.touches[0]);var i=t.target||t.srcElement;Util$1.checkTypeList(userClickConfig.autoClickBlackList,i)||userClickConfig.autoClickWhiteList&&!Util$1.checkTypeList(userClickConfig.autoClickWhiteList,i)||(elePostion.ele=i,getParentClickableElement(),1===getElementClickable()&&window.AnalysysAgent.freeApi("$user_click"))}function addListenerUserClick(){"desktop"===Util$1.deviceType()?Util$1.addEvent(document,"mousedown",addClickEvent$1):Util$1.addEvent(document,"touchstart",addClickEvent$1)}function userClickInit(e){return!0===(userClickConfig=e).autoTrack&&addListenerUserClick(),e}for(var lifecycle$4={AnalysysAgent:{init:userClickInit}},userClick={__proto__:null,fieldRules:fieldRules$5,fieldTemplate:fieldTemplate$4,lifecycle:lifecycle$4},plugList=[visitor,webstay,heatmap,ua,userClick],fieldRules$6=fieldRules||{},fieldTemplate$5=fieldTemplate||{},lifecycle$5=lifecycle||{},i$1=0;i$1<plugList.length;i$1++)plugList[i$1].fieldRules&&(fieldRules$6=Util$1.objMerge(fieldRules$6,plugList[i$1].fieldRules)),plugList[i$1].fieldTemplate&&(fieldTemplate$5=Util$1.objMerge(fieldTemplate$5,plugList[i$1].fieldTemplate)),plugList[i$1].lifecycle&&(lifecycle$5=Util$1.fnMerge(lifecycle$5,plugList[i$1].lifecycle));for(var eventTemp={},commonTemp={},baseTemp=fieldTemplate$5.base,outerTemp=baseTemp.outer,i$2=0,keyTemp;i$2<outerTemp.length;i$2++)baseTemp[outerTemp[i$2]]?commonTemp[outerTemp[i$2]]=Util$1.toObj(baseTemp[outerTemp[i$2]]):commonTemp[outerTemp[i$2]]="";for(var key in fieldTemplate$5){"base"!==key&&(keyTemp=Util$1.toDeepObj(fieldTemplate$5[key]),eventTemp[key+"base"]=keyTemp,eventTemp[key]=Util$1.objMerge(commonTemp,keyTemp))}function temp$1(e){return eventTemp[e]||eventTemp.commonTemp}eventTemp.commonTemp=commonTemp;var errorMessage={common:"{FN}:Property key invalid, nonsupport value: $lib/$lib_version/$platform/$first_visit_time/$debug/$is_login \ncurrent KEY:{KEY}",60001:"{FN}:Property key invalid, support type: String \ncurrent key:{KEY}\n",60002:"{FN}:Property value invalid of key[{KEY}], support type: Number \ncurrent value:{VALUE}\ncurrent type: {VALUETYPE}",60003:"{FN}:Property value invalid of key[{KEY}], support type: Boolean \ncurrent value:{VALUE}\ncurrent type: {VALUETYPE}",60004:"{FN}:Property value invalid of key[{KEY}], support type: Array \ncurrent value:{VALUE}\ncurrent type: {VALUETYPE}",60005:"{FN}:The length of the property[{KEY}] value (string[{VALUE}]) needs to be 1-255 !",60006:"Please set appkey first.",60007:"Please set uploadURL first.",60008:"Send message failed.",60009:"{FN}:The length of the property key (string[{KEY}]) needs to be 1-125 !",600010:"{FN}:The length of the property key (string[{KEY}]) needs to be 1-99 !",600011:"{FN}:[{KEY}] does not conform to naming rules!",600012:"{FN}:Property key invalid, nonsupport value: $lib/$lib_version/$platform/$first_visit_time/$debug/$is_login \ncurrent KEY:{KEY}",600013:"{FN}:Property value invalid of key[{KEY}], support type: Array with String as its internal element \ncurrent value:{VALUE}\ncurrent type: {VALUETYPE}",600016:"{FN}:Property value invalid of key[{KEY}], support type: Object \ncurrent value:{VALUE}\ncurrent type: {VALUETYPE}",600017:"{FN}:The length of the property key (string[{KEY}]) needs to be 1-255 !",600018:"{FN}:Property value invalid of key[{KEY}] invalid, support type: String \ncurrent value:{VALUE}\ncurrent type: {VALUETYPE}",600019:"{FN}:The length of the property[{KEY}] value (string[{VALUE}]) needs to be 1-255 !",600020:"{FN}:Property value invalid of key[{KEY}], support type: Boolean/Array/String/Number \ncurrent value:{VALUE}\ncurrent type: {VALUETYPE}"},successMessage={common:"",20001:"Send message success",20002:"{FN}: set success ({VALUE})",20003:"{FN}:({VALUE}) delete success",20004:"{FN}:clear success",20005:"{FN}:reset success",20006:"set appkey success. current appkey : {VALUE}",20007:"Init Analysys JS sdk success, version : {VALUE}",20008:"set uploadURL success. current uploadURL : {VALUE}",20009:"{FN}:[{KEY}] : get failed",20010:"{FN}:[{KEY}] : get success. ({VALUE})",20011:"{FN}:({VALUE}) delete failed"};function successLog(e){var t,i,n,r,a,o,s;1!==baseConfig.base.$debug&&2!==baseConfig.base.$debug||(i=(t=baseConfig.status).successCode,n=t.FnName,r=t.key,a=t.value,o=successMessage[i]||successMessage.common,"String"===Util$1.paramType(r)&&30<r.length&&(r=Util$1.stringSlice(r,30)+"..."),"String"===Util$1.paramType(n)&&30<n.length&&(n=Util$1.stringSlice(n,30)+"..."),s=o.replace("{FN}",n).replace("{KEY}",r).replace("{VALUE}",a),e&&(s=e),s&&console.log(s))}function errorLog(){var e,t,i,n,r,a,o,s;1!==baseConfig.base.$debug&&2!==baseConfig.base.$debug||(t=(e=baseConfig.status).errorCode,i=e.FnName,n=e.key,r=e.value,"Object"===Util$1.paramType(r)&&(r=JSON.stringify(r)),a=Util$1.paramType(r),"600018"!==t||n||(t="600011"),"60005"!==t||n||(t="600017"),("600017"===t||"600019"===t||"60009"===t||"600010"===t||"60005"===t)&&"String"===Util$1.paramType(r)&&r.length&&30<r.length&&(r=Util$1.stringSlice(r,30)+"..."),"String"===Util$1.paramType(n)&&30<n.length&&(n=Util$1.stringSlice(n,30)+"..."),"String"===Util$1.paramType(i)&&30<i.length&&(i=Util$1.stringSlice(i,30)+"..."),o=(errorMessage[t]||errorMessage.common).replace("{FN}",i).replace("{KEY}",n).replace("{VALUE}",r).replace("{VALUETYPE}",a),console.warn(o),lifecycle$5.errorLog&&lifecycle$5.errorLog.init&&"60008"!==t&&(s=baseConfig.status.FnName,lifecycle$5.errorLog.init(o),baseConfig.status.FnName=s))}var CheckField=function CheckField(){};CheckField.prototype=Util$1,CheckField.prototype.isString=function(e){return baseConfig.status.errorCode="60001","String"===Util$1.paramType(e)},CheckField.prototype.isNumber=function(e){return baseConfig.status.errorCode="60002","Number"===Util$1.paramType(e)},CheckField.prototype.isBoolean=function(e){return baseConfig.status.errorCode="60003","Boolean"===Util$1.paramType(e)},CheckField.prototype.isObject=function(e){return"Object"===this.paramType(e)},CheckField.prototype.lengthRule=function(e,t,i){this.isNumber(i)||(i=Infinity);var n=!0;return this.isNumber(t)&&e.length&&e.length>t&&e.length<i+1||(n=!(baseConfig.status.errorCode="60005")),n},CheckField.prototype.nimLength=function(e){return this.lengthRule(e,0)},CheckField.prototype.length99=function(e){var t=this.lengthRule(e,0,99);return t||(baseConfig.status.errorCode="600010"),t},CheckField.prototype.length125=function(e){var t=this.lengthRule(e,0,125);return t||(baseConfig.status.errorCode="60009"),t},CheckField.prototype.length255=function(e){if(!(e||this.isString(e)||this.isNumber(e)||this.isBoolean(e)))return!(baseConfig.status.errorCode="60005");"String"!==this.paramType(e)&&(e=e.toString());var t=this.lengthRule(e,0,255);return t||(baseConfig.status.errorCode="600019"),t},CheckField.prototype.keyLength255=function(e){var t=this.length255(e);return t||(baseConfig.status.errorCode="600017"),t},CheckField.prototype.isUrl=function(e){var t=e;return!0===new RegExp(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w- ./?%&=]*)?/).test(t)||!(baseConfig.status.errorCode="60006")},CheckField.prototype.isDebug=function(e){return!(!this.isNumber(e)||0!==e&&1!==e&&2!==e)},CheckField.prototype.notObject=function(e){var t=!this.isObject(e);return t||(baseConfig.status.errorCode="600020"),t},CheckField.prototype.notSpecialCharacters=function(e){return!(new RegExp("[\\u4E00-\\u9FA5]|[\\uFE30-\\uFFA0]","gi").test(e)||!/^[$a-zA-Z][a-zA-Z0-9_$]{0,}$/.test(e))||!(baseConfig.status.errorCode="600011")},CheckField.prototype.isArrayString=function(e){if("Array"===this.paramType(e))for(var t=0;t<e.length;t++){if("String"!==this.paramType(e[t]))return!(baseConfig.status.errorCode="600013");if(!this.length255(e[t]))return e[t]&&500<e[t].length&&(e[t]=Util$1.stringSlice(e[t],499)+"$"),baseConfig.status.value=e[t],!1}return!0},CheckField.prototype.keywords=function(e){return!(-1<baseConfig.keywords.indexOf(e))||!(baseConfig.status.errorCode="600012")};var checkRule=new CheckField;function check(e,t){for(var i=0;i<t.length;i++){if(!checkRule[t[i]](e))return!1}return!0}function checkFields(e,t,i){var n=i.check,r=!0;if(!n)return r;var a=n.key,o=n.value||fieldRules$6.xcontextCommonRule.value;return a&&(baseConfig.status.code=200,r=check(e,a),baseConfig.status.key=e,r||(baseConfig.status.code=400,errorLog())),o&&(baseConfig.status.code=200,r=check(t,o),"Array"!==Util$1.paramType(t)&&(baseConfig.status.value=t),r||(baseConfig.status.code=400,errorLog())),r}function resetCode(){baseConfig.status={code:200,FnName:baseConfig.status.FnName,key:"",value:"",errorCode:"",successCode:""}}function fillField(e,t){var i=t||fieldRules$6,n={};for(var r in e){var a,o,s=e[r],l=i[r];l&&(a="","Object"===Util$1.paramType(s)?(o=fillField(s,l),n[r]=o):Util$1.objHasKay(l,"valueType")&&(0===l.valueType&&(a=l.value(),"String"===Util$1.paramType(a)&&500<a.length?n[r]=Util$1.stringSlice(a,499)+"$":n[r]=a),1===l.valueType&&(a=l.value,"String"===Util$1.paramType(a)&&500<a.length?n[r]=Util$1.stringSlice(a,499)+"$":n[r]=a)))}return n}function clearCache(e){if(!(e=e||!1)){var t=baseConfig.base;for(var i in t){"Object"!==Util$1.paramType(t[i])&&("$debug"!==i&&"appid"!==i&&"uploadURL"!==i||(Storage$1.getLocal("ANS"+i.toUpperCase())!==t[i]&&(e=!0),e&&Storage$1.setLocal("ANS"+i.toUpperCase(),t[i])))}}return e&&(removeAliasId(),removeIdentifyId(),Storage$1.removeLocal("ARKSUPER"),Storage$1.removeSession("STARTUP"),Storage$1.setLocal("FRISTDAY",Util$1.format(new Date,"yyyyMMdd")),Storage$1.setLocal("FRISTIME",!0),Storage$1.removeLocal("POSTDATA"),Storage$1.removeLocal("ANSSERVERTIME"),Storage$1.removeLocal("ARKFRISTPROFILE")),e}function isStartUp(){var e,t,i,n,r=Storage$1.getSession("STARTUP")||!1,a=Storage$1.getCookie("ARK_STARTUP");return""!==document.referrer&&a&&!0===baseConfig.base.cross_subdomain&&(t=(e=JSON.parse(Util$1.decode(decodeURIComponent(a)))).STARTUP,i=e.STARTUPTIME,Storage$1.setSession("STARTUP",t),Storage$1.setSession("STARTUPTIME",i),r=Storage$1.getSession("STARTUP")||!1),!1===r&&(n=Util$1.format(new Date,"yyyy-MM-dd hh:mm:ss.SSS"),Storage$1.setSession("STARTUP",!0),Storage$1.setSession("STARTUPTIME",n),sessionId.setId(),!0===baseConfig.base.cross_subdomain&&Storage$1.setCookie("ARK_STARTUP",encodeURIComponent(Util$1.encode(JSON.stringify({STARTUP:!0,STARTUPTIME:n}))),"session")),r}function checkBase(){for(var e in baseConfig.base){resetCode(),baseConfig.status.key=e;var t=fieldRules$6[e];if("$debug"===e&&(t=fieldRules$6.xcontext[e]),"$lib_version"===e&&(t=fieldRules$6.xcontext[e]),t&&!checkFields(e,baseConfig.base[e],t))return void(baseConfig.base[e]="");successLog()}return 1}function checkPrivate(e,t,i){resetCode();var n=fieldRules$6[t]||fieldRules$6.xcontextCommonRule;if("Object"!==Util$1.paramType(e)||!0===i){var r=n.check.key,a=check(Util$1.trim(e),r);if(baseConfig.status.key=e,!a)return errorLog(),!1}else for(var o in e){checkFields(o,e[o],n)||"600019"===baseConfig.status.errorCode&&"String"===Util$1.paramType(e[o])&&500<e[o].length&&(e[o]=Util$1.stringSlice(e[o],499)+"$")}return!0}var postStatus=!0,sendType="img",rxDangerous=/[\u0000-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g;function delRx(e){if("Array"===Util$1.paramType(e))for(var t=0;t<e.length;t++)e[t]=delRx(e[t]);if("Object"===Util$1.paramType(e))for(var i in e){var n=e[i];e[i]=delRx(n)}if("String"!==Util$1.paramType(e))return e;var r=e.replace(rxDangerous,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)});return"Sting"!==Util$1.paramType(r)?e:r}function sendPost(e,t){var i,n,o,r,a,s;Util$1.GetUrlParam("visual")&&-1<Util$1.GetUrlParam("visual").indexOf("true")||("img"!==sendType&&(postStatus=!1),i=e,"Array"===Util$1.paramType(e)&&(e=delRx(e),i=JSON.stringify(e)),n=function n(){postStatus=!0,baseConfig.status.errorCode="60008",errorLog(),"Function"===Util$1.paramType(t)&&t.call(t)},o=function o(e){postStatus=!0;var t=Storage$1.getLocal("POSTDATA")||[];if(Util$1.isEmptyObject(t)&&(t=[],Storage$1.removeLocal("POSTDATA")),0!==t.length){for(var i=[],n=0;n<t.length;n++){for(var r=!1,a=0;a<e.length;a++)e[a].xwhen!==t[n].xwhen&&e[a].xwhen&&t[n].xwhen||(r=!0);!1!==r||"Object"!==Util$1.paramType(t[n])||Util$1.isEmptyObject(t[n])||i.push(t[n])}0<i.length&&"img"!==sendType?(Storage$1.setLocal("POSTDATA",i),sendPost(i)):Storage$1.removeLocal("POSTDATA")}else Storage$1.removeLocal("POSTDATA")},a=e,r=function(e){200===e.code||400===e.code||4200===e.code?(baseConfig.status.successCode="20001",successLog(),o(a),"Function"===Util$1.paramType(t)&&t.call(t)):n()},s={url:baseConfig.base.uploadURL+"up?appid="+baseConfig.base.appid,data:i,success:r,error:n},successLog("Send message to server: "+baseConfig.base.uploadURL+"up?appid="+baseConfig.base.appid+"\ndata:"+i),lifecycle$5.upload&&lifecycle$5.upload.init?s=lifecycle$5.upload.init(s):window.AnalysysModule&&"Object"===Util$1.paramType(window.AnalysysModule)&&"Function"===Util$1.paramType(window.AnalysysModule.uploadData)&&(window.AnalysysModule.encryptInit(baseConfig.base),s=window.AnalysysModule.uploadData(s)),"img"!==sendType?"post"===sendType||"send"!==sendType?(new ajax).post(s):snedGet(s,"send"):snedGet(s,"img"))}function setValidKey(e){var t={data:e.data,send_type:""},i=[];for(var n in t)i.push(n+"="+encodeURIComponent(t[n]));var r=(r=-1<e.url.indexOf("?")?e.url+"&"+i.join("&"):e.url+"?"+i.join("&")).replace(baseConfig.base.uploadURL,"/"),a=Util$1.MD5(r,32).split(""),o=a[2]+""+a[0]+a[4];return t.send_type=o,t}function snedGet(e,t){if("send"===t&&navigator.sendBeacon)navigator.sendBeacon(e.url,e.data)&&e.success({code:200});else if("send"!==t||navigator.sendBeacon||(t="img"),e.data=Util$1.encode(e.data),e.data=setValidKey(e),"img"===t){var i=[];for(var n in e.data)i.push(n+"="+encodeURIComponent(e.data[n]));var r=-1<e.url.indexOf("?")?e.url+"&"+i.join("&"):e.url+"?"+i.join("&"),a=document.createElement("img");a.src=r,a.width=1,a.height=1,a.onload=function(){this.src="",this.onload=null,this.onerror=null,this.onabort=null},a.onerror=function(){this.src="",this.onload=null,this.onerror=null,this.onabort=null},a.onabort=function(){this.src="",this.onload=null,this.onerror=null,this.onabort=null},setTimeout(function(){e.success({code:200})},300)}}function checkLogBaseJson(e){if("Object"===Util$1.paramType(e)&&!Util$1.isEmptyObject(e)){for(var t=!0,i=0;i<baseConfig.baseJson.length;i++){var n=baseConfig.baseJson[i];"xwhat"!==n&&(!e[n]||"Object"===Util$1.paramType(e[n])&&Util$1.isEmptyObject(e[n]))&&(t=!1)}return t}}function checkSavaData(e){var t=[];if("Array"===Util$1.paramType(e)&&0<e.length)for(var i=0;i<e.length;i++){var n=checkSavaData(e[i]);0<n.length&&t.push.apply(t,n)}return"Object"===Util$1.paramType(e)&&!Util$1.isEmptyObject(e)&&checkLogBaseJson(e)&&t.push(e),t}function upLog(e,t){baseConfig.base.sendType&&(sendType=baseConfig.base.sendType);var i,n=[];if("img"===sendType?n=checkSavaData(e):(0===(i=checkSavaData(i=Storage$1.getLocal("POSTDATA")||[])).length&&Storage$1.removeLocal("POSTDATA"),(n=i).length<500?n.push.apply(n,checkSavaData(e)):n=checkSavaData(e),Storage$1.setLocal("POSTDATA",n)),!1!==postStatus||"img"===sendType){if(0<n.length)if("img"===sendType)for(var r=0;r<n.length;r++)0===r?sendPost([n[r]],t):sendPost([n[r]]);else sendPost(n,t)}else"Function"===Util$1.paramType(t)&&t.call(t)}function loadIframeUrl(e,t){var i;document.body?((i=document.createElement("iframe")).setAttribute("src",e),i.setAttribute("id","AnalysysAgentIframe"),i.setAttribute("style","display:none;"),document.body.appendChild(i),i.parentNode.removeChild(i),"Function"===Util$1.paramType(t)&&t.call(t)):setTimeout(function(){loadIframeUrl(e,t)},200)}function transporter(e,t,i,n){var r={functionName:e,functionParams:t};"String"===Util$1.paramType(i)?r.callbackFunName=i:"Function"===Util$1.paramType(i)&&(n=i);var a=JSON.stringify(r);successLog("Send message to app: \ndata:"+a),loadIframeUrl("analysysagent:"+a,n)}function backParamsArray(){for(var e=arguments,t=[],i=null,n=0;n<e.length;n++)if(e[n]!==undefined){if("Object"===Util$1.paramType(e[n]))for(var r in e[n])"Function"===Util$1.paramType(e[n][r])&&(e[n][r]=e[n][r].call(e[n][r]));"Function"===Util$1.paramType(e[n])?i=e[n]:t.push(e[n])}return{argArray:t,callback:i}}function pageView(e,t,i){upLog(pageViewLog(e,t,i),i)}var pageCloseStatus=!1;function pageViewLog(e,t,i){var n=e,r=t,a=i;if(window.AnalysysModule&&window.AnalysysModule.pageClose&&(!0===pageCloseStatus?window.AnalysysModule.pageClose.pageEndTrack():pageCloseStatus=!0,"String"===Util$1.paramType(n)?window.AnalysysModule.pageClose.createTime(+new Date,n):window.AnalysysModule.pageClose.createTime(+new Date)),!(Util$1.checkTypeList(baseConfig.base.pageViewBlackList)||baseConfig.base.pageViewWhiteList&&!Util$1.checkTypeList(baseConfig.base.pageViewWhiteList))){baseConfig.status.FnName="$pageview",resetCode();var o={};"String"===Util$1.paramType(n)?checkPrivate(o={$title:n}):"Object"===Util$1.paramType(n)?("Function"===Util$1.paramType(r)&&(a=r),r=n,n=""):"Function"===Util$1.paramType(n)&&(a=n,n=r=""),"Function"===Util$1.paramType(r)&&(a=r,r="");var s={};if("Object"===Util$1.paramType(r)){for(var l in r)"Function"===Util$1.paramType(r[l])&&(r[l]=r[l].call(r[l]));!1===baseConfig.base.isHybrid&&checkPrivate(r),s={xcontext:r||{}}}var c=Storage$1.getLocal("ARKSUPER")||{};!0===baseConfig.base.isHybrid&&(c={});var u=Util$1.objMerge({xcontext:c},s),u=Util$1.objMerge(u,{xcontext:o}),p=temp$1("$pageview"),g=Util$1.delEmpty(fillField(p));if(!0!==baseConfig.base.isHybrid)return Util$1.objMerge(g,u);p=temp$1("$pageviewbase"),g=Util$1.delEmpty(fillField(p));var d=Util$1.objMerge(g,u),f=backParamsArray(n||"",d=Util$1.delNotHybrid(Util$1.delEmpty(d.xcontext)),a);transporter("pageView",f.argArray,f.callback)}}var pageUrl=window.location.href;function hashPageView(){Util$1.changeHash(function(){pageUrl!==window.location.href&&(pageUrl=window.location.href,pageView())})}function track(e,t,i){baseConfig.status.FnName=e||"$track",resetCode(),checkPrivate(e,"$track",!0),baseConfig.status.FnName=e;var n,r,a,o,s={};if("Function"===Util$1.paramType(t)&&(i=t,t={}),"Object"===Util$1.paramType(t)){for(var l in t)"Function"===Util$1.paramType(t[l])&&(t[l]=t[l].call(t[l]));checkPrivate(t),s={xcontext:t}}!0!==baseConfig.base.isHybrid?(n=Storage$1.getLocal("ARKSUPER")||{},r=Util$1.objMerge({xcontext:n},s),(a=fillField(temp$1("$track"))).xcontext=Util$1.delEmpty(a.xcontext),upLog(Util$1.objMerge(a,r),i)):transporter("track",(o=backParamsArray(e,s.xcontext,i)).argArray,o.callback)}function freeApi(e){baseConfig.status.FnName=e,resetCode();var t,i,n,r=temp$1(e);r&&(!0!==baseConfig.base.isHybrid?(i=fillField(r),t=Storage$1.getLocal("ARKSUPER")||{},i=Util$1.objMerge({xcontext:t},i),upLog(Util$1.delEmpty(i))):(n=fillField(temp$1(e+"base")),transporter("track",backParamsArray(e,Util$1.delNotHybrid(Util$1.delEmpty(n.xcontext))).argArray)))}function getPresetProperties(e,t){if(baseConfig.status.FnName="$getPresetProperties",resetCode(),!0!==baseConfig.base.isHybrid){var i=fillField(temp$1("$getPresetProperties"));i.xcontext.$first_visit_time=Storage$1.getLocal("ARKFRISTPROFILE")||"",delete i.xcontext.$is_login;var n=Util$1.delEmpty(i.xcontext);return"Function"===Util$1.paramType(e)&&e.call(e,n),n}transporter("getPresetProperties",[],e.name,t)}function alias(e,t){var i,n,r,a,o,s;baseConfig.status.FnName="$alias",resetCode(),!0!==baseConfig.base.isHybrid?checkPrivate(e,"$alias",!0)&&(Storage$1.setLocal("ARK_LOGINID",e),i=fillField(temp$1("$alias")),upLog(Util$1.delEmpty(i),t),!0===baseConfig.base.autoProfile&&(n=fillField(temp$1(baseConfig.status.FnName="$profile_set_once")),a={$first_visit_time:r=Storage$1.getLocal("ARKFRISTPROFILE")||Util$1.format(new Date,"yyyy-MM-dd hh:mm:ss.SSS"),$first_visit_language:(navigator.language||navigator.browserLanguage).toLowerCase()},o=Util$1.objMerge(n,{xcontext:a}),upLog(Util$1.delEmpty(o)),Storage$1.setLocal("ARKFRISTPROFILE",r))):transporter("alias",(s=backParamsArray(e,"",t)).argArray,s.callback)}function identify(e,t,i){var n;baseConfig.status.FnName="$identify",resetCode(),!0!==baseConfig.base.isHybrid?checkPrivate(e,"$alias",!0)&&("Boolean"===Util$1.paramType(t)&&!0===t?Storage$1.setLocal("ARK_TRACK_LOGIN",!0):"Function"===Util$1.paramType(t)&&(i=t),Storage$1.setLocal("ARK_TRACKID",e),Storage$1.setCookie("ARK_ID",e),baseConfig.status.successCode="20002",baseConfig.status.value=e,successLog(),"Function"===Util$1.paramType(i)&&i.call(i)):transporter("identify",(n=backParamsArray(e,i)).argArray,n.callback)}function profileSet(e,t,i){baseConfig.status.FnName="$profile_set",resetCode(),"Object"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)?(i=t,t=""):"String"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)&&(t=t.call(t));var n,r,a,o=Util$1.toObj(e,t);for(var s in o)"Function"===Util$1.paramType(o[s])&&(o[s]=o[s].call(o[s]));!0!==baseConfig.base.isHybrid?(checkPrivate(o,"$profile_set"),n=temp$1("$profile_set"),r=Util$1.delEmpty(fillField(n)),upLog(Util$1.objMerge(r,{xcontext:o}),i)):transporter("profileSet",(a=backParamsArray(e,t,i)).argArray,a.callback)}function profileSetOnce(e,t,i){baseConfig.status.FnName="$profile_set_once",resetCode(),"Object"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)?(i=t,t=""):"String"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)&&(t=t.call(t));var n,r,a,o=Util$1.toObj(e,t);for(var s in o)"Function"===Util$1.paramType(o[s])&&(o[s]=o[s].call(o[s]));!0!==baseConfig.base.isHybrid?(checkPrivate(o,"$profile_set_once"),n=temp$1("$profile_set_once"),r=Util$1.delEmpty(fillField(n)),upLog(Util$1.objMerge(r,{xcontext:o}),i)):transporter("profileSetOnce",(a=backParamsArray(o,i)).argArray,a.callback)}function profileIncrement(e,t,i){baseConfig.status.FnName="$profile_increment",resetCode(),"Object"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)?(i=t,t=""):"String"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)&&(t=t.call(t));var n,r,a,o=Util$1.toObj(e,t);for(var s in o)"Function"===Util$1.paramType(o[s])&&(o[s]=o[s].call(o[s]));!0!==baseConfig.base.isHybrid?(checkPrivate(o,"$profile_increment"),n=temp$1("$profile_increment"),r=Util$1.delEmpty(fillField(n)),upLog(Util$1.objMerge(r,{xcontext:o}),i)):transporter("profileIncrement",(a=backParamsArray(e,t,i)).argArray,a.callback)}function profileAppend(e,t,i){baseConfig.status.FnName="$profile_append",resetCode(),"Object"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)?(i=t,t=""):"String"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)&&(t=t.call(t));var n,r,a,o=Util$1.toObj(e,t);for(var s in o)"Function"===Util$1.paramType(o[s])&&(o[s]=o[s].call(o[s]));!0!==baseConfig.base.isHybrid?(checkPrivate(o,"$profile_append"),n=temp$1("$profile_append"),r=Util$1.delEmpty(fillField(n)),upLog(Util$1.objMerge(r,{xcontext:o}),i)):transporter("profileAppend",(a=backParamsArray(e,t,i)).argArray,a.callback)}function profileUnset(e,t){baseConfig.status.FnName="$profile_unset",resetCode(),"Function"===Util$1.paramType(e)&&(e=e.call(e)),checkPrivate(e,"$profile_unset",e);var i,n,r=Util$1.toObj(e,"");!0!==baseConfig.base.isHybrid?(checkPrivate(r,"$profile_unset"),i=fillField(temp$1("$profile_unset")),upLog(Util$1.objMerge(i,{xcontext:r}),t)):transporter("profileUnset",(n=backParamsArray(e,t)).argArray,n.callback)}function profileDelete(e){baseConfig.status.FnName="$profile_delete",resetCode(),!0!==baseConfig.base.isHybrid?upLog(fillField(temp$1("$profile_delete")),e):transporter("profileDelete",[],e)}function registerSuperProperty(e,t,i){baseConfig.status.FnName="$registerSuperProperty",resetCode(),"Object"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)?(i=t,t=""):"String"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)&&(t=t.call(t));var n,r,a,o=Util$1.toObj(e,t);for(var s in o)"Function"===Util$1.paramType(o[s])&&(o[s]=o[s].call(o[s]));!0!==baseConfig.base.isHybrid?(checkPrivate(o,"$registerSuperProperty"),n=Storage$1.getLocal("ARKSUPER")||{},r=Util$1.objMerge(n,o),Storage$1.setLocal("ARKSUPER",r),baseConfig.status.successCode="20002",baseConfig.status.value=JSON.stringify(o),successLog(),"Function"===Util$1.paramType(i)&&i.call(i)):transporter("registerSuperProperty",(a=backParamsArray(e,t,i)).argArray,a.callback)}function registerSuperProperties(e,t,i){baseConfig.status.FnName="$registerSuperProperties",resetCode(),"Object"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)?(i=t,t=""):"String"===Util$1.paramType(e)&&"Function"===Util$1.paramType(t)&&(t=t.call(t));var n,r,a,o=Util$1.toObj(e,t);for(var s in o)"Function"===Util$1.paramType(o[s])&&(o[s]=o[s].call(o[s]));!0!==baseConfig.base.isHybrid?(checkPrivate(o,"$registerSuperProperties"),n=Storage$1.getLocal("ARKSUPER")||{},r=Util$1.objMerge(n,o),Storage$1.setLocal("ARKSUPER",r),baseConfig.status.successCode="20002",baseConfig.status.value=JSON.stringify(o),successLog(),"Function"===Util$1.paramType(i)&&i.call(i)):transporter("registerSuperProperties",(a=backParamsArray(e,t,i)).argArray,a.callback)}function getSuperProperty(e,t,i){if(baseConfig.status.FnName="$getSuperProperty",resetCode(),!0!==baseConfig.base.isHybrid){checkPrivate(e,"$getSuperProperty",!0);var n=Storage$1.getLocal("ARKSUPER")||{},r=n[e];return!{}.hasOwnProperty.call(n,e)?(baseConfig.status.successCode="20009",r=""):(baseConfig.status.successCode="20010",baseConfig.status.value=r),baseConfig.status.key=e,successLog(),"Function"===Util$1.paramType(t)&&t.call(t,r),r}transporter("getSuperProperty",backParamsArray(e).argArray,t.name,i)}function getSuperProperties(e,t){if(baseConfig.status.FnName="$getSuperProperties",resetCode(),!0!==baseConfig.base.isHybrid){var i=Storage$1.getLocal("ARKSUPER")||{};return baseConfig.status.successCode="20010",baseConfig.status.value=JSON.stringify(i),successLog(),"Function"===Util$1.paramType(e)&&e.call(e,i),i}transporter("getSuperProperties",[],e.name,t)}function unRegisterSuperProperty(e,t){var i,n;baseConfig.status.FnName="$unregisterSuperProperty",resetCode(),!0!==baseConfig.base.isHybrid?(checkPrivate(e,"$unregisterSuperProperty",!0),i=Storage$1.getLocal("ARKSUPER")||{},Object.prototype.hasOwnProperty.call(i,e)?(delete i[e],Storage$1.setLocal("ARKSUPER",i),baseConfig.status.successCode="20003"):baseConfig.status.successCode="20011",baseConfig.status.value=e,successLog(),"Function"===Util$1.paramType(t)&&t.call(t)):transporter("unRegisterSuperProperty",(n=backParamsArray.apply(e,arguments)).argArray,n.callback)}function clearSuperProperties(e){var t;baseConfig.status.FnName="$clearSuperProperties",resetCode(),!0!==baseConfig.base.isHybrid?(Storage$1.setLocal("ARKSUPER",{}),baseConfig.status.successCode="20004",successLog(),"Function"===Util$1.paramType(e)&&e.call(e)):transporter("clearSuperProperties",(t=backParamsArray(e)).argArray,t.callback)}function reset(e){!0!==baseConfig.base.isHybrid?(resetCode(),removeUUId(),clearSuperProperties(),clearCache(!0),sessionId.setId(),!0===baseConfig.base.autoProfile?profileSetOnce({$reset_time:Util$1.format(new Date,"yyyy-MM-dd hh:mm:ss.SSS")},e):"Function"===Util$1.paramType(e)&&e.call(e),baseConfig.status.FnName="$reset",baseConfig.status.successCode="20005",successLog()):transporter("reset",[],e)}function getDistinctId(e,t){if(!0!==baseConfig.base.isHybrid){var i=getIdentifyId()||getUUId();return"Function"===Util$1.paramType(e)&&e.call(e,i),i}transporter("getDistinctId",[],e.name,t)}var ans={__proto__:null,pageView:pageView,profileSet:profileSet,profileSetOnce:profileSetOnce,profileIncrement:profileIncrement,profileAppend:profileAppend,profileUnset:profileUnset,profileDelete:profileDelete,alias:alias,identify:identify,track:track,registerSuperProperty:registerSuperProperty,registerSuperProperties:registerSuperProperties,getSuperProperty:getSuperProperty,getSuperProperties:getSuperProperties,unRegisterSuperProperty:unRegisterSuperProperty,clearSuperProperties:clearSuperProperties,reset:reset,freeApi:freeApi,getDistinctId:getDistinctId,getPresetProperties:getPresetProperties};function startUp(){var e,t,i,n,r,a,o,s,l,c=[];!1!==baseConfig.base.isHybrid||checkBase()?(e=Storage$1.getLocal("ARKSUPER")||{},!1===baseConfig.base.isHybrid&&!1===isStartUp()&&(t=!0,(Util$1.checkTypeList(baseConfig.base.startUpBlackList)||baseConfig.base.startUpWhiteList&&!Util$1.checkTypeList(baseConfig.base.startUpWhiteList))&&(t=!1),!0===t&&(i=fillField(temp$1(baseConfig.status.FnName="$startup")),i=Util$1.objMerge(i,{xcontext:e}),c.push(Util$1.delEmpty(i)))),n=Storage$1.getLocal("ARKFRISTPROFILE")||!1,!1!==baseConfig.base.isHybrid||!0!==baseConfig.base.autoProfile||n||(r=fillField(temp$1(baseConfig.status.FnName="$profile_set_once")),o={$first_visit_time:a=Storage$1.getLocal("ARKFRISTPROFILE")||Util$1.format(new Date,"yyyy-MM-dd hh:mm:ss.SSS"),$first_visit_language:(navigator.language||navigator.browserLanguage).toLowerCase()},s=Util$1.objMerge(r,{xcontext:o}),c.push(Util$1.delEmpty(s)),Storage$1.setLocal("ARKFRISTPROFILE",a)),!0===baseConfig.base.auto&&(l=pageViewLog(baseConfig.base.pageProperty),c.push(l),!0!==baseConfig.base.hash&&!0!==baseConfig.base.singlePage||hashPageView()),0<c.length&&upLog(c)):errorLog()}function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var JSON2=createCommonjsModule(function(module,exports){!function(JSON){var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var i,n,r,a,o,s=gap,l=t[e];switch(l&&"object"==typeof l&&"function"==typeof l.toJSON&&(l=l.toJSON(e)),"function"==typeof rep&&(l=rep.call(t,e,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,o=[],"[object Array]"===Object.prototype.toString.apply(l)){for(a=l.length,i=0;i<a;i+=1)o[i]=str(i,l)||"null";return r=0===o.length?"[]":gap?"[\n"+gap+o.join(",\n"+gap)+"\n"+s+"]":"["+o.join(",")+"]",gap=s,r}if(rep&&"object"==typeof rep)for(a=rep.length,i=0;i<a;i+=1)"string"==typeof rep[i]&&(r=str(n=rep[i],l))&&o.push(quote(n)+(gap?": ":":")+r);else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(r=str(n,l))&&o.push(quote(n)+(gap?": ":":")+r);return r=0===o.length?"{}":gap?"{\n"+gap+o.join(",\n"+gap)+"\n"+s+"}":"{"+o.join(",")+"}",gap=s,r}}"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,i){var n;if(indent=gap="","number"==typeof i)for(n=0;n<i;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if((rep=t)&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return str("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(text,reviver){var j;function walk(e,t){var i,n,r=e[t];if(r&&"object"==typeof r)for(i in r)Object.prototype.hasOwnProperty.call(r,i)&&((n=walk(r,i))!==undefined?r[i]=n:delete r[i]);return reviver.call(e,t,r)}if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")})}(exports)});function ieCreat(){Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t=this.length>>>0,i=Number(arguments[1])||0;for((i=i<0?Math.ceil(i):Math.floor(i))<0&&(i+=t);i<t;i++)if(i in this&&this[i]===e)return i;return-1})}window.AnalysysAgent=window.AnalysysAgent||{};var AnalysysAgent=window.AnalysysAgent||{},config=AnalysysAgent.config||{},param=AnalysysAgent.param||[];function isHybrid(){-1<window.navigator.userAgent.indexOf("AnalysysAgent/Hybrid")&&(baseConfig.base.isHybrid=!0)}function _createAnsSDK(){for(var e in AnalysysAgent.isInit=!0,ans)AnalysysAgent[e]=ans[e];for(var t in config)"Function"===Util$1.paramType(getField[t])?getField[t](config[t]):baseConfig.base[t]=config[t];AnalysysAgent.config=Util$1.objMerge(baseConfig.base,config),AnalysysAgent.config.setDebugModel=debugMode,clearCache();for(var i=0;i<param.length;i++){var n=param[i];Util$1.objHasKay(ans,n[0])&&("identify"===n[0]||"alias"===n[0]||-1<n[0].indexOf("Super"))&&ans[n[0]].apply(ans[n[0]],n[1])}lifecycle$5.AnalysysAgent&&lifecycle$5.AnalysysAgent.init&&lifecycle$5.AnalysysAgent.init(baseConfig.base),startUp();for(var r=0;r<param.length;r++){var a=param[r];Util$1.objHasKay(ans,a[0])&&"identify"!==a[0]&&"alias"!==a[0]&&a[0].indexOf("Super")<0&&ans[a[0]].apply(ans[a[0]],a[1])}}if(isHybrid(),ieCreat(),AnalysysAgent.init=function(e){"Object"!==Util$1.paramType(config)||AnalysysAgent.isInit||(config=e,_createAnsSDK())},!AnalysysAgent.isInit){if("Array"===Util$1.paramType(AnalysysAgent))for(var i$3=0,fnName;i$3<AnalysysAgent.length;i$3++){"Function"===Util$1.paramType(ans[AnalysysAgent[i$3][0]])?(fnName=AnalysysAgent[i$3][0],AnalysysAgent[i$3].splice(0,1),param.push([fnName,AnalysysAgent[i$3]])):config[AnalysysAgent[i$3][0]]=AnalysysAgent[i$3][1]}!1===Util$1.isEmptyObject(config)&&_createAnsSDK()}return!0===baseConfig.base.isHybrid&&_createAnsSDK(),AnalysysAgent});
