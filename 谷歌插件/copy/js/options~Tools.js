(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{1217:function(e,t,r){},1218:function(e,t,r){},1219:function(e,t,r){},1227:function(e,t,r){"use strict";r(1217)},1228:function(e,t,r){"use strict";r(1218)},1229:function(e,t,r){"use strict";r(1219)},1238:function(e,t,r){"use strict";r.r(t);r(97),r(73),r(77),r(57),r(67),r(98),r(37),r(78),r(147),r(61);var n=[{title:"启用",width:"90px",key:"enable",dataIndex:"enable",scopedSlots:{customRender:"enableStatus"}},{title:"名称",key:"name",dataIndex:"name"},{key:"triggerWord",title:"触发词",dataIndex:"triggerWord"},{title:"操作",key:"action",width:"160px",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],o=r(618);function i(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,c=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){c=!0,i=e},f:function(){try{s||null==r.return||r.return()}finally{if(c)throw i}}}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function s(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?s(Object(r),!0).forEach((function(t){l(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):s(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var u={data:()=>({show:!1,presuppositionColumn:n,presupposition:[],currentEditIndex:null,editTrigger:""}),created(){this.presupposition=this.getPresuppositionData()},methods:{handleOk(){!this.editTrigger||this.editTrigger.length<=2?alert("触发词需大于2个字符"):(this.$set(this.presupposition,this.currentEditIndex,c(c({},this.presupposition[this.currentEditIndex]),{},{triggerWord:this.editTrigger})),this.show=!1,this.savePresupposition())},getPresuppositionData(){var e,t=this.$bgSettings.get("presupposition"),r=[],n=i(o.a.parseLines(t));try{for(n.s();!(e=n.n()).done;){var a=e.value.replace(/\s+/g,"").split(":"),s=-1===a[0].indexOf("#");if(a.length>=2){var c=a[0].replace("#",""),l=a[1];r.push({enable:s,keyword:c,name:{json:"JSON格式化",calc:"计算器",date:"日期转换",qrcode:"二维码生成",doc:"文档查询"}[c],triggerWord:l})}}}catch(e){n.e(e)}finally{n.f()}return r},editPresupposition(e,t){var r=this,n=JSON.parse(JSON.stringify(e));this.currentEditIndex=t,this.show=!0,this.$nextTick((function(){r.editTrigger=n.triggerWord}))},savePresupposition(){var e="";this.presupposition.forEach((function(t){e+="".concat(t.enable?"":"#"," ").concat(t.keyword,": ").concat(t.triggerWord,"  \n")})),this.$bgSettings.set("presupposition",e)}}},p=(r(1227),r(22)),d={data:()=>({}),components:{Presupposition:Object(p.a)(u,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("a-table",{attrs:{pagination:!1,columns:e.presuppositionColumn,"data-source":e.presupposition,rowKey:"triggerWord"},scopedSlots:e._u([{key:"enableStatus",fn:function(t,n,o){return r("a",{},[r("a-switch",{attrs:{size:"small"},on:{change:function(t){return e.savePresupposition()}},model:{value:e.presupposition[o].enable,callback:function(t){e.$set(e.presupposition[o],"enable",t)},expression:"presupposition[index].enable"}})],1)}},{key:"action",fn:function(t,n,o){return r("span",{},[r("span",{staticClass:"a-link",staticStyle:{width:"90px","margin-right":"10px"},on:{click:function(t){return e.editPresupposition(n,o)}}},[e._v("编辑")])])}}])}),e._v(" "),r("a-modal",{attrs:{title:"编辑触发词",okText:"确认",cancelText:"取消"},on:{ok:e.handleOk},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[r("a-textarea",{staticStyle:{width:"100%"},attrs:{autoSize:{minRows:3,maxRows:6},"allow-clear":""},model:{value:e.editTrigger,callback:function(t){e.editTrigger=t},expression:"editTrigger"}}),e._v(" "),r("p",{staticClass:"tips-line"},[e._v("多个触发词使用英文逗号(,)连接")])],1)],1)}),[],!1,null,null,null).exports}},f=(r(1228),Object(p.a)(d,(function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tools-page"},[t("p",{staticClass:"title"},[this._v("预设工具配置")]),this._v(" "),t("Presupposition")],1)}),[],!1,null,null,null));t.default=f.exports},1245:function(e,t,r){"use strict";r.r(t);r(105),r(37),r(147);var n={name:"hotkey",data:()=>({searchModalHotKey:"O"}),mounted(){this.searchModalHotKey=this.$bgSettings.get("searchModalHotKey")||"O"},methods:{handleSubmit(e){if(e.preventDefault(),""!==this.searchModalHotKey){var t=this.searchModalHotKey.split("+");t.length>1&&!/[A-Z|a-z]/.exec(t[t.length-1])?this.$message.error("请输入正确的组合键"):1!==t.length||1===this.searchModalHotKey.length&&/[A-Z|a-z]/.exec(this.searchModalHotKey)?(this.$bgSettings.set("searchModalHotKey",this.searchModalHotKey),chrome.runtime.sendMessage({handler:"handleSearchModalHotKeyChange"}),this.$message.success("保存成功")):this.$message.error("请输入正确的按键")}else this.$message.error("请输入组合键")},keyDownHandler(e){e.preventDefault();var t=e.key,r="",n={metaKey:"command",ctrlKey:"control",altKey:"alt"};Object.keys(n).map((function(t){e[t]&&(r+=n[t]+"+")})),/[A-Z|a-z]/.exec(t)&&1===t.length&&(this.searchModalHotKey=r?r+t:t)},handleHotKeyFocus(){window.addEventListener("keydown",this.keyDownHandler)},handleHotKeyBlur(){window.removeEventListener("keydown",this.keyDownHandler)}}},o=(r(1229),r(22)),i=Object(o.a)(n,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"hotkey"},[r("a-form-model",{attrs:{"label-col":{span:3},layout:"horizontal","wrapper-col":{span:21,offset:0}}},[r("a-form-model-item",{attrs:{name:"searchModalHotKey",label:"调出搜索框设置"}},[r("a-input",{staticStyle:{"ime-mode":"disable"},attrs:{placeholder:"默认o or c",readonly:"“readonly”"},on:{blur:e.handleHotKeyBlur,focus:e.handleHotKeyFocus},model:{value:e.searchModalHotKey,callback:function(t){e.searchModalHotKey=t},expression:"searchModalHotKey"}})],1),e._v(" "),r("a-form-model-item",{attrs:{label:" ",colon:!1}},[r("a-button",{staticClass:"f-r submit-btn",attrs:{type:"primary"},on:{click:e.handleSubmit}},[e._v("保存")])],1)],1)],1)}),[],!1,null,"8b090ae6",null);t.default=i.exports},618:function(e,t,r){"use strict";r(97),r(73),r(77),r(57),r(105),r(256),r(148),r(98),r(44),r(188),r(37),r(139),r(78),r(147),r(257),r(187),r(61);function n(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function o(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var a=function(e){for(var t=[],r=["0","1","2","3","4","5","6","7","8","9"],n=0;n<e;n++){var o=Math.floor(10*Math.random());t[n]=r[o]}return t.join("")};t.a={parseLines:function(e){return e.replace(/\\\n/g,"").split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0}))},parseToTxt:function(e){return""},hasFullUrlPrefix:function(e){return new RegExp("^[a-z][-+.a-z0-9]{2,}://.").test(e)},hasJavascriptPrefix:function(e){return e.startsWith("javascript:")},urlParamsToObj:function(e){var t={};return e.replace(/([^?&=]+)=([^?&=]+)/g,(function(){t[arguments[1]]=arguments[2]})),t},objToUrlParams:function(e){var t="";return $.each(e,(function(r){t+="&"+r+"="+e[r]})),t.substr(1)},parseKeyValue:e=>"Array"!==Object.prototype.toString.call(e).slice(8,-1)?[]:e.reduce((function(e,t){var r=t.replace(/\s+/g,"").split(":"),n=r[0],i=r[1].split(",").reduce((function(e,t){return e?o(o({},e),{},{[t]:n}):{[t]:n}}),"");return e?o(o({},e),i):i}),""),getPluginId:e=>"CSDNPlugin-".concat(e?e+"_":"").concat(a(8),"-").concat(+new Date,"-").concat(a(8))}}}]);