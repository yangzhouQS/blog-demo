(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{1216:function(e,t,n){},1226:function(e,t,n){"use strict";n(1216)},1236:function(e,t,n){"use strict";n.r(t);n(67),n(257),n(73),n(57),n(780),n(148),n(266),n(791),n(44),n(37),n(139),n(147),n(61);var r=[{title:"启用",width:"90px",key:"enable",dataIndex:"enable",scopedSlots:{customRender:"enableStatus"}},{title:"名称",key:"name",dataIndex:"name"},{width:"90px",key:"triggerWord",title:"触发词",dataIndex:"triggerWord"},{title:"URL",key:"url",dataIndex:"url"},{title:"操作",key:"action",width:"160px",dataIndex:"action",scopedSlots:{customRender:"action"},align:"center"}],s=n(618),a={data:()=>({show:!1,enginessForm:{enable:!0,name:"",triggerWord:"",url:"",isOpenInNewWindow:!1}}),props:{value:{type:Boolean,default:!1}},watch:{value:{handler(e){this.show=e},immediate:!0},show:{handler(e){e||this.$emit("input",e)},immediate:!0}},methods:{setData(e){this.enginessForm=e},reset(){this.enginessForm={enable:!0,name:"",triggerWord:"",url:"",isOpenInNewWindow:!1}},handleOk(){this.show=!1,this.$emit("ok",this.enginessForm)}}},i=n(22);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,s=!1,a=void 0;try{for(var i,o=e[Symbol.iterator]();!(r=(i=o.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){s=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(s)throw a}}return n}(e,t)||l(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){if(e){if("string"==typeof e)return c(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(e,t):void 0}}function c(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var u={data:()=>({enginessColumn:r,visibleEdit:!1,currentEditIndex:null,searchEngines:[]}),created(){this.searchEngines=this.getData()},components:{EditEngine:Object(i.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a-modal",{attrs:{title:"编辑",okText:"确认",cancelText:"取消"},on:{ok:e.handleOk},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[n("a-form-model",{attrs:{layout:"horizontal",form:e.enginessForm,"label-col":{span:6},"wrapper-col":{span:6,offset:7}}},[n("a-form-model-item",{attrs:{label:"启用"}},[n("a-switch",{attrs:{size:"small"},model:{value:e.enginessForm.enable,callback:function(t){e.$set(e.enginessForm,"enable",t)},expression:"enginessForm.enable"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:"名称"}},[n("a-input",{staticStyle:{width:"190px"},model:{value:e.enginessForm.name,callback:function(t){e.$set(e.enginessForm,"name",t)},expression:"enginessForm.name"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:"触发词"}},[n("a-input",{staticStyle:{width:"190px"},model:{value:e.enginessForm.triggerWord,callback:function(t){e.$set(e.enginessForm,"triggerWord",t)},expression:"enginessForm.triggerWord"}})],1),e._v(" "),n("a-form-model-item",{attrs:{label:"URL"}},[n("a-textarea",{staticStyle:{width:"350px"},attrs:{autoSize:{minRows:3,maxRows:6},"allow-clear":""},model:{value:e.enginessForm.url,callback:function(t){e.$set(e.enginessForm,"url",t)},expression:"enginessForm.url"}})],1)],1)],1)}),[],!1,null,null,null).exports},methods:{getData(){var e,t=[],n=this.$bgSettings.get("searchEngines"),r=function(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=l(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,s=function(){};return{s:s,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:s}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,o=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(o)throw a}}}}(s.a.parseLines(n));try{for(r.s();!(e=r.n()).done;){var a=e.value.split(/\s+/),i="#"!==a[0];if(a.length>=2&&i||a.length>=3&&!i){var o=(a=i?a:a.slice(1))[0].split(":")[0],c=a[1],u=a[2]||"search (".concat(o,")"),f=a.slice(3).join(" ");(s.a.hasFullUrlPrefix(c)||s.a.hasJavascriptPrefix(c))&&t.push({enable:i,name:u,triggerWord:o,url:c,isOpenInNewWindow:f.indexOf("-o")>-1})}}}catch(e){r.e(e)}finally{r.f()}return t},handleOk(e){null!==this.currentEditIndex?this.$set(this.searchEngines,this.currentEditIndex,e):this.searchEngines.unshift(e),this.saveEnginess()},addSearchEngine(){var e=this;this.currentEditIndex=null,this.visibleEdit=!0,this.$nextTick((function(){e.$refs.editEngineModal.reset()}))},editEnginess(e,t){var n=this,r=JSON.parse(JSON.stringify(e));this.currentEditIndex=t,this.visibleEdit=!0,this.$nextTick((function(){n.$refs.editEngineModal.setData(r)}))},deleteEnginess(e){var t=this;t.$confirm({title:"确定删除？",okText:"确认",maskClosable:!0,cancelText:"取消",onOk(){var n=JSON.parse(JSON.stringify(t.searchEngines));n.splice(e,1),t.searchEngines=n,t.saveEnginess()}})},saveEnginess(){var e="";this.searchEngines.forEach((function(t){for(var n="",r=0,s=Object.entries({isOpenInNewWindow:"-o"});r<s.length;r++){var a=o(s[r],2),i=a[0],l=a[1];t[i]&&(n+="".concat(l," "))}e+="".concat(t.enable?"":"#"," ").concat(t.triggerWord," ").concat(t.url," ").concat(t.name," ").concat(n," \n")})),this.$bgSettings.set("searchEngines",e)}}},f={name:"SearchBoxConf",data:()=>({settingsForm:{searchUrl:"",searchBookmark:!1,searchHistory:!1}}),created(){this.getCurrentValueFromBg()},components:{CustomEngine:Object(i.a)(u,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("span",{staticClass:"a-link",on:{click:function(t){return e.addSearchEngine()}}},[e._v("添加搜索引擎")]),e._v(" "),n("a-table",{attrs:{pagination:!1,columns:e.enginessColumn,"data-source":e.searchEngines,rowKey:"triggerWord"},scopedSlots:e._u([{key:"enableStatus",fn:function(t,r,s){return n("a",{},[n("a-switch",{attrs:{size:"small"},on:{change:function(t){return e.saveEnginess()}},model:{value:e.searchEngines[s].enable,callback:function(t){e.$set(e.searchEngines[s],"enable",t)},expression:"searchEngines[index].enable"}})],1)}},{key:"isOpenInNewWindow",fn:function(t){return n("span",{},[e._v(" "+e._s(t?"是":"否"))])}},{key:"action",fn:function(t,r,s){return n("span",{},[n("span",{staticClass:"a-link",staticStyle:{width:"90px","margin-right":"10px"},on:{click:function(t){return e.editEnginess(r,s)}}},[e._v("编辑")]),e._v(" "),n("span",{staticClass:"a-link",staticStyle:{width:"90px",color:"#ff7875"},on:{click:function(t){return e.deleteEnginess(s)}}},[e._v("删除")])])}}])}),e._v(" "),n("EditEngine",{ref:"editEngineModal",on:{ok:e.handleOk},model:{value:e.visibleEdit,callback:function(t){e.visibleEdit=t},expression:"visibleEdit"}})],1)}),[],!1,null,null,null).exports},methods:{searchStatusChange(e){this.$bgSettings.set(e,this.settingsForm[e]),chrome.extension.getBackgroundPage&&chrome.extension.getBackgroundPage().initCompleters()},save(){var e=this.settingsForm.searchUrl;e&&-1!==e.indexOf("%s")?(e.startsWith("http")||(e="http://".concat(e)),s.a.isExtensionEnv&&e.indexOf("so.csdn.net")>-1&&-1===e.indexOf("from=chrome_plugin")&&(-1===e.indexOf("?")?e+="?from=chrome_plugin":e+="&from=chrome_plugin"),this.$bgSettings.set("searchUrl",e),this.$message.success("保存成功")):this.$message.warning("URL不合法")},getCurrentValueFromBg(){var e=this.$bgSettings.get("searchUrl");if(console.log(e),e.indexOf("so.csdn.net")>-1){var t=s.a.urlParamsToObj(e);delete t.from,e="https://so.csdn.net/so/search/s.do?"+s.a.objToUrlParams(t)}this.settingsForm={searchUrl:e,searchBookmark:this.$bgSettings.get("searchBookmark"),searchHistory:this.$bgSettings.get("searchHistory")}}}},h=(n(1226),Object(i.a)(f,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"options-page"},[n("a-form-model",{attrs:{form:e.settingsForm,"label-col":{span:3},"wrapper-col":{span:21}}},[n("a-form-model-item",{attrs:{label:"默认搜索地址"}},[n("a-textarea",{attrs:{autoSize:{minRows:3,maxRows:6},"allow-clear":""},model:{value:e.settingsForm.searchUrl,callback:function(t){e.$set(e.settingsForm,"searchUrl",t)},expression:"settingsForm.searchUrl"}}),e._v(" "),n("div",[n("a-button",{attrs:{type:"info"},on:{click:function(t){e.settingsForm.searchUrl="https://so.csdn.net/so/search/s.do?q=%s",e.save()}}},[e._v("重置为CSDN搜索")]),e._v(" "),n("a-button",{staticStyle:{"margin-left":"10px",width:"90px"},attrs:{type:"primary"},on:{click:function(t){return e.save()}}},[e._v("保存")])],1),e._v(" "),n("p",{staticClass:"description"},[e._v("说明：将更改按o唤起搜索栏的默认搜索地址（“%s”将代替输入内容）例如: https://so.csdn.net/so/search/s.do?q=%s&t=all")])],1),e._v(" "),n("a-form-model-item",{attrs:{label:"搜索引擎"}},[n("CustomEngine"),e._v(" "),n("p",{staticClass:"description"},[e._v("例如：触发词为bd，url为https://www.baidu.com/s?wd=%s。在输入栏内输入“bd java”，按下回车后将跳转至https://www.baidu.com/s?wd=java")])],1)],1)],1)}),[],!1,null,null,null));t.default=h.exports},266:function(e,t,n){"use strict";var r=n(7),s=n(94),a=n(33),i=n(13),o=n(25),l=n(106),c=n(93),u=n(68),f=n(20),h=u("splice"),d=f("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,m=Math.min;r({target:"Array",proto:!0,forced:!h||!d},{splice:function(e,t){var n,r,u,f,h,d,p=o(this),v=i(p.length),b=s(e,v),y=arguments.length;if(0===y?n=r=0:1===y?(n=0,r=v-b):(n=y-2,r=m(g(a(t),0),v-b)),v+n-r>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(u=l(p,r),f=0;f<r;f++)(h=b+f)in p&&c(u,f,p[h]);if(u.length=r,n<r){for(f=b;f<v-r;f++)d=f+n,(h=f+r)in p?p[d]=p[h]:delete p[d];for(f=v;f>v-r+n;f--)delete p[f-1]}else if(n>r)for(f=v-r;f>b;f--)d=f+n-1,(h=f+r-1)in p?p[d]=p[h]:delete p[d];for(f=0;f<n;f++)p[f+b]=arguments[f+2];return p.length=v-r+n,u}})},267:function(e,t,n){"use strict";var r=n(47),s=n(25),a=n(292),i=n(130),o=n(13),l=n(93),c=n(89);e.exports=function(e){var t,n,u,f,h,d,g=s(e),m="function"==typeof this?this:Array,p=arguments.length,v=p>1?arguments[1]:void 0,b=void 0!==v,y=c(g),w=0;if(b&&(v=r(v,p>2?arguments[2]:void 0,2)),null==y||m==Array&&i(y))for(n=new m(t=o(g.length));t>w;w++)d=b?v(g[w],w):g[w],l(n,w,d);else for(h=(f=y.call(g)).next,n=new m;!(u=h.call(f)).done;w++)d=b?a(f,v,[u.value,w],!0):u.value,l(n,w,d);return n.length=w,n}},292:function(e,t,n){var r=n(8),s=n(140);e.exports=function(e,t,n,a){try{return a?t(r(n)[0],n[1]):t(n)}catch(t){throw s(e),t}}},457:function(e,t,n){var r=n(12),s=n(113),a=n(23),i=n(99).f,o=function(e){return function(t){for(var n,o=a(t),l=s(o),c=l.length,u=0,f=[];c>u;)n=l[u++],r&&!i.call(o,n)||f.push(e?[n,o[n]]:o[n]);return f}};e.exports={entries:o(!0),values:o(!1)}},618:function(e,t,n){"use strict";n(97),n(73),n(77),n(57),n(105),n(256),n(148),n(98),n(44),n(188),n(37),n(139),n(78),n(147),n(257),n(187),n(61);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=function(e){for(var t=[],n=["0","1","2","3","4","5","6","7","8","9"],r=0;r<e;r++){var s=Math.floor(10*Math.random());t[r]=n[s]}return t.join("")};t.a={parseLines:function(e){return e.replace(/\\\n/g,"").split("\n").map((function(e){return e.trim()})).filter((function(e){return e.length>0}))},parseToTxt:function(e){return""},hasFullUrlPrefix:function(e){return new RegExp("^[a-z][-+.a-z0-9]{2,}://.").test(e)},hasJavascriptPrefix:function(e){return e.startsWith("javascript:")},urlParamsToObj:function(e){var t={};return e.replace(/([^?&=]+)=([^?&=]+)/g,(function(){t[arguments[1]]=arguments[2]})),t},objToUrlParams:function(e){var t="";return $.each(e,(function(n){t+="&"+n+"="+e[n]})),t.substr(1)},parseKeyValue:e=>"Array"!==Object.prototype.toString.call(e).slice(8,-1)?[]:e.reduce((function(e,t){var n=t.replace(/\s+/g,"").split(":"),r=n[0],a=n[1].split(",").reduce((function(e,t){return e?s(s({},e),{},{[t]:r}):{[t]:r}}),"");return e?s(s({},e),a):a}),""),getPluginId:e=>"CSDNPlugin-".concat(e?e+"_":"").concat(i(8),"-").concat(+new Date,"-").concat(i(8))}},780:function(e,t,n){var r=n(7),s=n(267);r({target:"Array",stat:!0,forced:!n(145)((function(e){Array.from(e)}))},{from:s})},791:function(e,t,n){var r=n(7),s=n(457).entries;r({target:"Object",stat:!0},{entries:function(e){return s(e)}})}}]);